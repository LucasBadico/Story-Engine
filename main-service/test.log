Checking if PostgreSQL is running locally...
PostgreSQL is ready!
Creating database if it doesn't exist...
Database 'storyengine' already exists
Running integration tests with database cloning...
go test -v -tags=integration ./... 2>&1 | tee /tmp/gotest-integration.log
?   	github.com/story-engine/main-service/cmd/api-grpc	[no test files]
?   	github.com/story-engine/main-service/cmd/api-http	[no test files]
?   	github.com/story-engine/main-service/cmd/api-offline	[no test files]
=== RUN   TestMembershipRepository_Create
=== RUN   TestMembershipRepository_Create/successful_creation
=== RUN   TestMembershipRepository_Create/duplicate_tenant-user_constraint
--- PASS: TestMembershipRepository_Create (0.58s)
    --- PASS: TestMembershipRepository_Create/successful_creation (0.00s)
    --- PASS: TestMembershipRepository_Create/duplicate_tenant-user_constraint (0.00s)
=== RUN   TestMembershipRepository_GetByID
=== RUN   TestMembershipRepository_GetByID/existing_membership
=== RUN   TestMembershipRepository_GetByID/non-existing_membership
--- PASS: TestMembershipRepository_GetByID (0.35s)
    --- PASS: TestMembershipRepository_GetByID/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByID/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_GetByTenantAndUser
=== RUN   TestMembershipRepository_GetByTenantAndUser/existing_membership
=== RUN   TestMembershipRepository_GetByTenantAndUser/non-existing_membership
--- PASS: TestMembershipRepository_GetByTenantAndUser (0.40s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_ListByTenant
--- PASS: TestMembershipRepository_ListByTenant (0.25s)
=== RUN   TestMembershipRepository_ListByUser
--- PASS: TestMembershipRepository_ListByUser (0.25s)
=== RUN   TestMembershipRepository_Update
--- PASS: TestMembershipRepository_Update (0.22s)
=== RUN   TestMembershipRepository_Delete
--- PASS: TestMembershipRepository_Delete (0.22s)
=== RUN   TestMembershipRepository_CountOwnersByTenant
--- PASS: TestMembershipRepository_CountOwnersByTenant (0.20s)
=== RUN   TestUserRepository_Create
=== RUN   TestUserRepository_Create/successful_creation
=== RUN   TestUserRepository_Create/duplicate_email_constraint
--- PASS: TestUserRepository_Create (0.21s)
    --- PASS: TestUserRepository_Create/successful_creation (0.00s)
    --- PASS: TestUserRepository_Create/duplicate_email_constraint (0.00s)
=== RUN   TestUserRepository_GetByID
=== RUN   TestUserRepository_GetByID/existing_user
=== RUN   TestUserRepository_GetByID/non-existing_user
--- PASS: TestUserRepository_GetByID (0.20s)
    --- PASS: TestUserRepository_GetByID/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByID/non-existing_user (0.00s)
=== RUN   TestUserRepository_GetByEmail
=== RUN   TestUserRepository_GetByEmail/existing_user
=== RUN   TestUserRepository_GetByEmail/non-existing_email
--- PASS: TestUserRepository_GetByEmail (0.19s)
    --- PASS: TestUserRepository_GetByEmail/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByEmail/non-existing_email (0.00s)
=== RUN   TestUserRepository_Update
--- PASS: TestUserRepository_Update (0.20s)
=== RUN   TestUserRepository_Delete
--- PASS: TestUserRepository_Delete (0.20s)
=== RUN   TestUserRepository_List
=== RUN   TestUserRepository_List/list_with_limit
=== RUN   TestUserRepository_List/list_with_offset
=== RUN   TestUserRepository_List/list_all
--- PASS: TestUserRepository_List (0.26s)
    --- PASS: TestUserRepository_List/list_with_limit (0.00s)
    --- PASS: TestUserRepository_List/list_with_offset (0.00s)
    --- PASS: TestUserRepository_List/list_all (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/postgres	(cached)
=== RUN   TestArchetypeRepository_Create
=== RUN   TestArchetypeRepository_Create/successful_creation
=== RUN   TestArchetypeRepository_Create/creation_with_description
--- PASS: TestArchetypeRepository_Create (0.02s)
    --- PASS: TestArchetypeRepository_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeRepository_Create/creation_with_description (0.00s)
=== RUN   TestArchetypeRepository_GetByID
=== RUN   TestArchetypeRepository_GetByID/existing_archetype
=== RUN   TestArchetypeRepository_GetByID/non-existent_archetype
--- PASS: TestArchetypeRepository_GetByID (0.01s)
    --- PASS: TestArchetypeRepository_GetByID/existing_archetype (0.00s)
    --- PASS: TestArchetypeRepository_GetByID/non-existent_archetype (0.00s)
=== RUN   TestArchetypeRepository_ListByTenant
=== RUN   TestArchetypeRepository_ListByTenant/empty_list
=== RUN   TestArchetypeRepository_ListByTenant/list_with_archetypes
=== RUN   TestArchetypeRepository_ListByTenant/pagination
=== RUN   TestArchetypeRepository_ListByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_ListByTenant (0.01s)
    --- PASS: TestArchetypeRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/list_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeRepository_Update
=== RUN   TestArchetypeRepository_Update/successful_update
--- PASS: TestArchetypeRepository_Update (0.01s)
    --- PASS: TestArchetypeRepository_Update/successful_update (0.00s)
=== RUN   TestArchetypeRepository_Delete
=== RUN   TestArchetypeRepository_Delete/successful_delete
--- PASS: TestArchetypeRepository_Delete (0.01s)
    --- PASS: TestArchetypeRepository_Delete/successful_delete (0.00s)
=== RUN   TestArchetypeRepository_CountByTenant
=== RUN   TestArchetypeRepository_CountByTenant/empty_count
=== RUN   TestArchetypeRepository_CountByTenant/count_with_archetypes
=== RUN   TestArchetypeRepository_CountByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_CountByTenant (0.01s)
    --- PASS: TestArchetypeRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/count_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeTraitRepository_Create
=== RUN   TestArchetypeTraitRepository_Create/successful_creation
--- PASS: TestArchetypeTraitRepository_Create (0.01s)
    --- PASS: TestArchetypeTraitRepository_Create/successful_creation (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByArchetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/empty_list
--- PASS: TestArchetypeTraitRepository_GetByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype (0.00s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/empty_list (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByTrait
=== RUN   TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait
--- PASS: TestArchetypeTraitRepository_GetByTrait (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait (0.00s)
=== RUN   TestArchetypeTraitRepository_Delete
=== RUN   TestArchetypeTraitRepository_Delete/delete_specific_relationship
--- PASS: TestArchetypeTraitRepository_Delete (0.01s)
    --- PASS: TestArchetypeTraitRepository_Delete/delete_specific_relationship (0.00s)
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype
--- PASS: TestArchetypeTraitRepository_DeleteByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype (0.00s)
=== RUN   TestArtifactRepository_Create
=== RUN   TestArtifactRepository_Create/successful_creation
=== RUN   TestArtifactRepository_Create/successful_creation_with_description
=== RUN   TestArtifactRepository_Create/successful_creation_with_rarity
--- PASS: TestArtifactRepository_Create (0.01s)
    --- PASS: TestArtifactRepository_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_rarity (0.00s)
=== RUN   TestArtifactRepository_GetByID
=== RUN   TestArtifactRepository_GetByID/existing_artifact
=== RUN   TestArtifactRepository_GetByID/non-existent_artifact
--- PASS: TestArtifactRepository_GetByID (0.01s)
    --- PASS: TestArtifactRepository_GetByID/existing_artifact (0.00s)
    --- PASS: TestArtifactRepository_GetByID/non-existent_artifact (0.00s)
=== RUN   TestArtifactRepository_ListByWorld
=== RUN   TestArtifactRepository_ListByWorld/empty_list
=== RUN   TestArtifactRepository_ListByWorld/list_with_artifacts
=== RUN   TestArtifactRepository_ListByWorld/pagination
--- PASS: TestArtifactRepository_ListByWorld (0.10s)
    --- PASS: TestArtifactRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestArtifactRepository_ListByWorld/list_with_artifacts (0.03s)
    --- PASS: TestArtifactRepository_ListByWorld/pagination (0.06s)
=== RUN   TestArtifactRepository_Update
=== RUN   TestArtifactRepository_Update/successful_update
--- PASS: TestArtifactRepository_Update (0.01s)
    --- PASS: TestArtifactRepository_Update/successful_update (0.00s)
=== RUN   TestArtifactRepository_Delete
=== RUN   TestArtifactRepository_Delete/successful_delete
--- PASS: TestArtifactRepository_Delete (0.01s)
    --- PASS: TestArtifactRepository_Delete/successful_delete (0.00s)
=== RUN   TestArtifactRepository_CountByWorld
=== RUN   TestArtifactRepository_CountByWorld/empty_count
=== RUN   TestArtifactRepository_CountByWorld/count_with_artifacts
--- PASS: TestArtifactRepository_CountByWorld (0.01s)
    --- PASS: TestArtifactRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestArtifactRepository_CountByWorld/count_with_artifacts (0.00s)
=== RUN   TestBeatRepository_Create
=== RUN   TestBeatRepository_Create/successful_creation
=== RUN   TestBeatRepository_Create/creation_with_intent_and_outcome
--- PASS: TestBeatRepository_Create (0.01s)
    --- PASS: TestBeatRepository_Create/successful_creation (0.00s)
    --- PASS: TestBeatRepository_Create/creation_with_intent_and_outcome (0.00s)
=== RUN   TestBeatRepository_GetByID
=== RUN   TestBeatRepository_GetByID/existing_beat
=== RUN   TestBeatRepository_GetByID/non-existent_beat
--- PASS: TestBeatRepository_GetByID (0.01s)
    --- PASS: TestBeatRepository_GetByID/existing_beat (0.00s)
    --- PASS: TestBeatRepository_GetByID/non-existent_beat (0.00s)
=== RUN   TestBeatRepository_ListByScene
=== RUN   TestBeatRepository_ListByScene/list_with_beats
=== RUN   TestBeatRepository_ListByScene/empty_list
--- PASS: TestBeatRepository_ListByScene (0.01s)
    --- PASS: TestBeatRepository_ListByScene/list_with_beats (0.00s)
    --- PASS: TestBeatRepository_ListByScene/empty_list (0.00s)
=== RUN   TestBeatRepository_ListBySceneOrdered
=== RUN   TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num
--- PASS: TestBeatRepository_ListBySceneOrdered (0.01s)
    --- PASS: TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestBeatRepository_ListByStory
=== RUN   TestBeatRepository_ListByStory/list_by_story
--- PASS: TestBeatRepository_ListByStory (0.01s)
    --- PASS: TestBeatRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestBeatRepository_Update
=== RUN   TestBeatRepository_Update/successful_update
--- PASS: TestBeatRepository_Update (0.01s)
    --- PASS: TestBeatRepository_Update/successful_update (0.00s)
=== RUN   TestBeatRepository_Delete
=== RUN   TestBeatRepository_Delete/successful_delete
--- PASS: TestBeatRepository_Delete (0.01s)
    --- PASS: TestBeatRepository_Delete/successful_delete (0.00s)
=== RUN   TestBeatRepository_DeleteByScene
=== RUN   TestBeatRepository_DeleteByScene/delete_all_beats_for_scene
--- PASS: TestBeatRepository_DeleteByScene (0.01s)
    --- PASS: TestBeatRepository_DeleteByScene/delete_all_beats_for_scene (0.00s)
=== RUN   TestChapterRepository_Create
=== RUN   TestChapterRepository_Create/successful_creation
=== RUN   TestChapterRepository_Create/creation_without_title
--- PASS: TestChapterRepository_Create (0.01s)
    --- PASS: TestChapterRepository_Create/successful_creation (0.00s)
    --- PASS: TestChapterRepository_Create/creation_without_title (0.00s)
=== RUN   TestChapterRepository_GetByID
=== RUN   TestChapterRepository_GetByID/existing_chapter
=== RUN   TestChapterRepository_GetByID/non-existent_chapter
--- PASS: TestChapterRepository_GetByID (0.01s)
    --- PASS: TestChapterRepository_GetByID/existing_chapter (0.00s)
    --- PASS: TestChapterRepository_GetByID/non-existent_chapter (0.00s)
=== RUN   TestChapterRepository_ListByStory
=== RUN   TestChapterRepository_ListByStory/empty_list
=== RUN   TestChapterRepository_ListByStory/list_with_chapters
--- PASS: TestChapterRepository_ListByStory (0.01s)
    --- PASS: TestChapterRepository_ListByStory/empty_list (0.00s)
    --- PASS: TestChapterRepository_ListByStory/list_with_chapters (0.00s)
=== RUN   TestChapterRepository_ListByStoryOrdered
=== RUN   TestChapterRepository_ListByStoryOrdered/list_ordered_by_number
--- PASS: TestChapterRepository_ListByStoryOrdered (0.01s)
    --- PASS: TestChapterRepository_ListByStoryOrdered/list_ordered_by_number (0.00s)
=== RUN   TestChapterRepository_Update
=== RUN   TestChapterRepository_Update/successful_update
--- PASS: TestChapterRepository_Update (0.01s)
    --- PASS: TestChapterRepository_Update/successful_update (0.00s)
=== RUN   TestChapterRepository_Delete
=== RUN   TestChapterRepository_Delete/successful_delete
--- PASS: TestChapterRepository_Delete (0.01s)
    --- PASS: TestChapterRepository_Delete/successful_delete (0.00s)
=== RUN   TestChapterRepository_DeleteByStory
=== RUN   TestChapterRepository_DeleteByStory/delete_all_chapters_for_story
--- PASS: TestChapterRepository_DeleteByStory (0.01s)
    --- PASS: TestChapterRepository_DeleteByStory/delete_all_chapters_for_story (0.00s)
=== RUN   TestCharacterRepository_Create
=== RUN   TestCharacterRepository_Create/successful_creation
=== RUN   TestCharacterRepository_Create/successful_creation_with_archetype
=== RUN   TestCharacterRepository_Create/successful_creation_with_class
=== RUN   TestCharacterRepository_Create/successful_creation_with_description
--- PASS: TestCharacterRepository_Create (0.01s)
    --- PASS: TestCharacterRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_archetype (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_class (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_description (0.00s)
=== RUN   TestCharacterRepository_GetByID
=== RUN   TestCharacterRepository_GetByID/existing_character
=== RUN   TestCharacterRepository_GetByID/non-existent_character
--- PASS: TestCharacterRepository_GetByID (0.01s)
    --- PASS: TestCharacterRepository_GetByID/existing_character (0.00s)
    --- PASS: TestCharacterRepository_GetByID/non-existent_character (0.00s)
=== RUN   TestCharacterRepository_ListByWorld
=== RUN   TestCharacterRepository_ListByWorld/empty_list
=== RUN   TestCharacterRepository_ListByWorld/list_with_characters
=== RUN   TestCharacterRepository_ListByWorld/pagination
--- PASS: TestCharacterRepository_ListByWorld (0.10s)
    --- PASS: TestCharacterRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestCharacterRepository_ListByWorld/list_with_characters (0.03s)
    --- PASS: TestCharacterRepository_ListByWorld/pagination (0.06s)
=== RUN   TestCharacterRepository_Update
=== RUN   TestCharacterRepository_Update/successful_update
=== RUN   TestCharacterRepository_Update/update_archetype
=== RUN   TestCharacterRepository_Update/update_class
--- PASS: TestCharacterRepository_Update (0.01s)
    --- PASS: TestCharacterRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterRepository_Update/update_archetype (0.00s)
    --- PASS: TestCharacterRepository_Update/update_class (0.00s)
=== RUN   TestCharacterRepository_Delete
=== RUN   TestCharacterRepository_Delete/successful_delete
--- PASS: TestCharacterRepository_Delete (0.01s)
    --- PASS: TestCharacterRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterRepository_CountByWorld
=== RUN   TestCharacterRepository_CountByWorld/empty_count
=== RUN   TestCharacterRepository_CountByWorld/count_with_characters
--- PASS: TestCharacterRepository_CountByWorld (0.01s)
    --- PASS: TestCharacterRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestCharacterRepository_CountByWorld/count_with_characters (0.00s)
=== RUN   TestCharacterTraitRepository_Create
=== RUN   TestCharacterTraitRepository_Create/successful_creation
=== RUN   TestCharacterTraitRepository_Create/successful_creation_with_notes
=== RUN   TestCharacterTraitRepository_Create/trait_snapshot_copied
--- PASS: TestCharacterTraitRepository_Create (0.01s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation_with_notes (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/trait_snapshot_copied (0.00s)
=== RUN   TestCharacterTraitRepository_GetByID
=== RUN   TestCharacterTraitRepository_GetByID/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByID/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByID (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByID/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByID/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_GetByCharacter
=== RUN   TestCharacterTraitRepository_GetByCharacter/empty_list
=== RUN   TestCharacterTraitRepository_GetByCharacter/list_with_character-traits
--- PASS: TestCharacterTraitRepository_GetByCharacter (0.03s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/empty_list (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/list_with_character-traits (0.02s)
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_Update
=== RUN   TestCharacterTraitRepository_Update/successful_update
=== RUN   TestCharacterTraitRepository_Update/update_trait_snapshot
--- PASS: TestCharacterTraitRepository_Update (0.01s)
    --- PASS: TestCharacterTraitRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterTraitRepository_Update/update_trait_snapshot (0.00s)
=== RUN   TestCharacterTraitRepository_Delete
=== RUN   TestCharacterTraitRepository_Delete/successful_delete
--- PASS: TestCharacterTraitRepository_Delete (0.01s)
    --- PASS: TestCharacterTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterTraitRepository_DeleteByCharacter
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits
--- PASS: TestCharacterTraitRepository_DeleteByCharacter (0.01s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character (0.00s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits (0.00s)
=== RUN   TestContentBlockReferenceRepository_Create
=== RUN   TestContentBlockReferenceRepository_Create/create_with_character
=== RUN   TestContentBlockReferenceRepository_Create/create_with_location
=== RUN   TestContentBlockReferenceRepository_Create/create_with_artifact
--- PASS: TestContentBlockReferenceRepository_Create (0.01s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_location (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_artifact (0.00s)
=== RUN   TestContentBlockReferenceRepository_GetByID
=== RUN   TestContentBlockReferenceRepository_GetByID/existing_content_block_reference
=== RUN   TestContentBlockReferenceRepository_GetByID/non-existent_content_block_reference
--- PASS: TestContentBlockReferenceRepository_GetByID (0.01s)
    --- PASS: TestContentBlockReferenceRepository_GetByID/existing_content_block_reference (0.00s)
    --- PASS: TestContentBlockReferenceRepository_GetByID/non-existent_content_block_reference (0.00s)
=== RUN   TestContentBlockReferenceRepository_ListByContentBlock
=== RUN   TestContentBlockReferenceRepository_ListByContentBlock/list_by_content_block
--- PASS: TestContentBlockReferenceRepository_ListByContentBlock (0.01s)
    --- PASS: TestContentBlockReferenceRepository_ListByContentBlock/list_by_content_block (0.00s)
=== RUN   TestContentBlockReferenceRepository_ListByEntity
=== RUN   TestContentBlockReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestContentBlockReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestContentBlockReferenceRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestContentBlockReferenceRepository_Delete
=== RUN   TestContentBlockReferenceRepository_Delete/delete_by_id
=== RUN   TestContentBlockReferenceRepository_Delete/delete_by_content_block
--- PASS: TestContentBlockReferenceRepository_Delete (0.01s)
    --- PASS: TestContentBlockReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Delete/delete_by_content_block (0.00s)
=== RUN   TestContentBlockRepository_Create
=== RUN   TestContentBlockRepository_Create/successful_creation
=== RUN   TestContentBlockRepository_Create/creation_without_chapter
--- PASS: TestContentBlockRepository_Create (0.01s)
    --- PASS: TestContentBlockRepository_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockRepository_Create/creation_without_chapter (0.00s)
=== RUN   TestContentBlockRepository_GetByID
=== RUN   TestContentBlockRepository_GetByID/existing_content_block
=== RUN   TestContentBlockRepository_GetByID/non-existent_content_block
--- PASS: TestContentBlockRepository_GetByID (0.01s)
    --- PASS: TestContentBlockRepository_GetByID/existing_content_block (0.00s)
    --- PASS: TestContentBlockRepository_GetByID/non-existent_content_block (0.00s)
=== RUN   TestContentBlockRepository_ListByChapter
=== RUN   TestContentBlockRepository_ListByChapter/list_with_content_blocks
=== RUN   TestContentBlockRepository_ListByChapter/empty_list
--- PASS: TestContentBlockRepository_ListByChapter (0.01s)
    --- PASS: TestContentBlockRepository_ListByChapter/list_with_content_blocks (0.00s)
    --- PASS: TestContentBlockRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestContentBlockRepository_GetByChapterAndKind
=== RUN   TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind
--- PASS: TestContentBlockRepository_GetByChapterAndKind (0.01s)
    --- PASS: TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind (0.00s)
=== RUN   TestContentBlockRepository_Update
=== RUN   TestContentBlockRepository_Update/successful_update
--- PASS: TestContentBlockRepository_Update (0.01s)
    --- PASS: TestContentBlockRepository_Update/successful_update (0.00s)
=== RUN   TestContentBlockRepository_Delete
=== RUN   TestContentBlockRepository_Delete/successful_delete
--- PASS: TestContentBlockRepository_Delete (0.01s)
    --- PASS: TestContentBlockRepository_Delete/successful_delete (0.00s)
=== RUN   TestContentBlockRepository_DeleteByChapter
=== RUN   TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter
--- PASS: TestContentBlockRepository_DeleteByChapter (0.01s)
    --- PASS: TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter (0.00s)
=== RUN   TestEntityRelationRepository_Create
=== RUN   TestEntityRelationRepository_Create/successful_creation
=== RUN   TestEntityRelationRepository_Create/create_with_attributes
--- PASS: TestEntityRelationRepository_Create (0.01s)
    --- PASS: TestEntityRelationRepository_Create/successful_creation (0.00s)
    --- PASS: TestEntityRelationRepository_Create/create_with_attributes (0.00s)
=== RUN   TestEntityRelationRepository_GetByID
=== RUN   TestEntityRelationRepository_GetByID/existing_relation
=== RUN   TestEntityRelationRepository_GetByID/non-existing_relation
--- PASS: TestEntityRelationRepository_GetByID (0.01s)
    --- PASS: TestEntityRelationRepository_GetByID/existing_relation (0.00s)
    --- PASS: TestEntityRelationRepository_GetByID/non-existing_relation (0.00s)
=== RUN   TestEntityRelationRepository_ListBySource
=== RUN   TestEntityRelationRepository_ListBySource/list_by_source
=== RUN   TestEntityRelationRepository_ListBySource/list_by_source_with_filter
--- PASS: TestEntityRelationRepository_ListBySource (0.01s)
    --- PASS: TestEntityRelationRepository_ListBySource/list_by_source (0.00s)
    --- PASS: TestEntityRelationRepository_ListBySource/list_by_source_with_filter (0.00s)
=== RUN   TestEntityRelationRepository_ListByTarget
=== RUN   TestEntityRelationRepository_ListByTarget/list_by_target
--- PASS: TestEntityRelationRepository_ListByTarget (0.01s)
    --- PASS: TestEntityRelationRepository_ListByTarget/list_by_target (0.00s)
=== RUN   TestEntityRelationRepository_Update
=== RUN   TestEntityRelationRepository_Update/update_relation_type
--- PASS: TestEntityRelationRepository_Update (0.01s)
    --- PASS: TestEntityRelationRepository_Update/update_relation_type (0.00s)
=== RUN   TestEntityRelationRepository_Delete
=== RUN   TestEntityRelationRepository_Delete/delete_existing_relation
=== RUN   TestEntityRelationRepository_Delete/delete_non-existing_relation
--- PASS: TestEntityRelationRepository_Delete (0.01s)
    --- PASS: TestEntityRelationRepository_Delete/delete_existing_relation (0.00s)
    --- PASS: TestEntityRelationRepository_Delete/delete_non-existing_relation (0.00s)
=== RUN   TestEntityRelationRepository_CreateWithMirror
=== RUN   TestEntityRelationRepository_CreateWithMirror/create_with_mirror
--- PASS: TestEntityRelationRepository_CreateWithMirror (0.01s)
    --- PASS: TestEntityRelationRepository_CreateWithMirror/create_with_mirror (0.00s)
=== RUN   TestEventRepository_Create
=== RUN   TestEventRepository_Create/successful_creation
=== RUN   TestEventRepository_Create/successful_creation_with_type
=== RUN   TestEventRepository_Create/successful_creation_with_description
=== RUN   TestEventRepository_Create/successful_creation_with_timeline
=== RUN   TestEventRepository_Create/successful_creation_with_importance
--- PASS: TestEventRepository_Create (0.01s)
    --- PASS: TestEventRepository_Create/successful_creation (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_type (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_timeline (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_importance (0.00s)
=== RUN   TestEventRepository_GetByID
=== RUN   TestEventRepository_GetByID/existing_event
=== RUN   TestEventRepository_GetByID/non-existent_event
--- PASS: TestEventRepository_GetByID (0.01s)
    --- PASS: TestEventRepository_GetByID/existing_event (0.00s)
    --- PASS: TestEventRepository_GetByID/non-existent_event (0.00s)
=== RUN   TestEventRepository_ListByWorld
=== RUN   TestEventRepository_ListByWorld/empty_list
=== RUN   TestEventRepository_ListByWorld/list_with_events
--- PASS: TestEventRepository_ListByWorld (0.04s)
    --- PASS: TestEventRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestEventRepository_ListByWorld/list_with_events (0.03s)
=== RUN   TestEventRepository_Update
=== RUN   TestEventRepository_Update/successful_update
=== RUN   TestEventRepository_Update/update_nullable_fields_to_nil
--- PASS: TestEventRepository_Update (0.01s)
    --- PASS: TestEventRepository_Update/successful_update (0.00s)
    --- PASS: TestEventRepository_Update/update_nullable_fields_to_nil (0.00s)
=== RUN   TestEventRepository_Delete
=== RUN   TestEventRepository_Delete/successful_delete
--- PASS: TestEventRepository_Delete (0.01s)
    --- PASS: TestEventRepository_Delete/successful_delete (0.00s)
=== RUN   TestFactionRepository_Create
=== RUN   TestFactionRepository_Create/successful_creation_root_faction
=== RUN   TestFactionRepository_Create/successful_creation_with_parent
=== RUN   TestFactionRepository_Create/creation_with_type_and_fields
--- PASS: TestFactionRepository_Create (0.01s)
    --- PASS: TestFactionRepository_Create/successful_creation_root_faction (0.00s)
    --- PASS: TestFactionRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestFactionRepository_Create/creation_with_type_and_fields (0.00s)
=== RUN   TestFactionRepository_GetByID
=== RUN   TestFactionRepository_GetByID/existing_faction
=== RUN   TestFactionRepository_GetByID/non-existent_faction
--- PASS: TestFactionRepository_GetByID (0.01s)
    --- PASS: TestFactionRepository_GetByID/existing_faction (0.00s)
    --- PASS: TestFactionRepository_GetByID/non-existent_faction (0.00s)
=== RUN   TestFactionRepository_ListByWorld
=== RUN   TestFactionRepository_ListByWorld/empty_list
=== RUN   TestFactionRepository_ListByWorld/list_with_factions
--- PASS: TestFactionRepository_ListByWorld (0.04s)
    --- PASS: TestFactionRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestFactionRepository_ListByWorld/list_with_factions (0.03s)
=== RUN   TestFactionRepository_GetChildren
=== RUN   TestFactionRepository_GetChildren/get_direct_children
=== RUN   TestFactionRepository_GetChildren/no_children
--- PASS: TestFactionRepository_GetChildren (0.01s)
    --- PASS: TestFactionRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestFactionRepository_GetChildren/no_children (0.00s)
=== RUN   TestFactionRepository_Update
=== RUN   TestFactionRepository_Update/successful_update
=== RUN   TestFactionRepository_Update/update_parent
--- PASS: TestFactionRepository_Update (0.01s)
    --- PASS: TestFactionRepository_Update/successful_update (0.00s)
    --- PASS: TestFactionRepository_Update/update_parent (0.00s)
=== RUN   TestFactionRepository_Delete
=== RUN   TestFactionRepository_Delete/successful_delete
--- PASS: TestFactionRepository_Delete (0.01s)
    --- PASS: TestFactionRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_Create
=== RUN   TestLocationRepository_Create/successful_creation_root_location
=== RUN   TestLocationRepository_Create/successful_creation_with_parent
=== RUN   TestLocationRepository_Create/creation_with_type_and_description
--- PASS: TestLocationRepository_Create (0.01s)
    --- PASS: TestLocationRepository_Create/successful_creation_root_location (0.00s)
    --- PASS: TestLocationRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLocationRepository_Create/creation_with_type_and_description (0.00s)
=== RUN   TestLocationRepository_GetByID
=== RUN   TestLocationRepository_GetByID/existing_location
=== RUN   TestLocationRepository_GetByID/non-existent_location
--- PASS: TestLocationRepository_GetByID (0.01s)
    --- PASS: TestLocationRepository_GetByID/existing_location (0.00s)
    --- PASS: TestLocationRepository_GetByID/non-existent_location (0.00s)
=== RUN   TestLocationRepository_ListByWorld
=== RUN   TestLocationRepository_ListByWorld/empty_list
=== RUN   TestLocationRepository_ListByWorld/list_with_locations
=== RUN   TestLocationRepository_ListByWorld/pagination
--- PASS: TestLocationRepository_ListByWorld (0.10s)
    --- PASS: TestLocationRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLocationRepository_ListByWorld/list_with_locations (0.03s)
    --- PASS: TestLocationRepository_ListByWorld/pagination (0.05s)
=== RUN   TestLocationRepository_ListByWorldTree
=== RUN   TestLocationRepository_ListByWorldTree/tree_structure
--- PASS: TestLocationRepository_ListByWorldTree (0.01s)
    --- PASS: TestLocationRepository_ListByWorldTree/tree_structure (0.00s)
=== RUN   TestLocationRepository_GetChildren
=== RUN   TestLocationRepository_GetChildren/get_direct_children
=== RUN   TestLocationRepository_GetChildren/no_children
--- PASS: TestLocationRepository_GetChildren (0.01s)
    --- PASS: TestLocationRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLocationRepository_GetChildren/no_children (0.00s)
=== RUN   TestLocationRepository_GetAncestors
=== RUN   TestLocationRepository_GetAncestors/get_ancestors
=== RUN   TestLocationRepository_GetAncestors/root_has_no_ancestors
--- PASS: TestLocationRepository_GetAncestors (0.01s)
    --- PASS: TestLocationRepository_GetAncestors/get_ancestors (0.00s)
    --- PASS: TestLocationRepository_GetAncestors/root_has_no_ancestors (0.00s)
=== RUN   TestLocationRepository_GetDescendants
=== RUN   TestLocationRepository_GetDescendants/get_descendants
=== RUN   TestLocationRepository_GetDescendants/no_descendants
--- PASS: TestLocationRepository_GetDescendants (0.01s)
    --- PASS: TestLocationRepository_GetDescendants/get_descendants (0.00s)
    --- PASS: TestLocationRepository_GetDescendants/no_descendants (0.00s)
=== RUN   TestLocationRepository_Update
=== RUN   TestLocationRepository_Update/successful_update
=== RUN   TestLocationRepository_Update/update_parent
--- PASS: TestLocationRepository_Update (0.01s)
    --- PASS: TestLocationRepository_Update/successful_update (0.00s)
    --- PASS: TestLocationRepository_Update/update_parent (0.00s)
=== RUN   TestLocationRepository_Delete
=== RUN   TestLocationRepository_Delete/successful_delete
--- PASS: TestLocationRepository_Delete (0.01s)
    --- PASS: TestLocationRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_CountByWorld
=== RUN   TestLocationRepository_CountByWorld/empty_count
=== RUN   TestLocationRepository_CountByWorld/count_with_locations
--- PASS: TestLocationRepository_CountByWorld (0.01s)
    --- PASS: TestLocationRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestLocationRepository_CountByWorld/count_with_locations (0.00s)
=== RUN   TestLoreRepository_Create
=== RUN   TestLoreRepository_Create/successful_creation_root_lore
=== RUN   TestLoreRepository_Create/successful_creation_with_parent
=== RUN   TestLoreRepository_Create/creation_with_category_and_fields
--- PASS: TestLoreRepository_Create (0.01s)
    --- PASS: TestLoreRepository_Create/successful_creation_root_lore (0.00s)
    --- PASS: TestLoreRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLoreRepository_Create/creation_with_category_and_fields (0.00s)
=== RUN   TestLoreRepository_GetByID
=== RUN   TestLoreRepository_GetByID/existing_lore
=== RUN   TestLoreRepository_GetByID/non-existent_lore
--- PASS: TestLoreRepository_GetByID (0.01s)
    --- PASS: TestLoreRepository_GetByID/existing_lore (0.00s)
    --- PASS: TestLoreRepository_GetByID/non-existent_lore (0.00s)
=== RUN   TestLoreRepository_ListByWorld
=== RUN   TestLoreRepository_ListByWorld/empty_list
=== RUN   TestLoreRepository_ListByWorld/list_with_lores
--- PASS: TestLoreRepository_ListByWorld (0.05s)
    --- PASS: TestLoreRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLoreRepository_ListByWorld/list_with_lores (0.03s)
=== RUN   TestLoreRepository_GetChildren
=== RUN   TestLoreRepository_GetChildren/get_direct_children
=== RUN   TestLoreRepository_GetChildren/no_children
--- PASS: TestLoreRepository_GetChildren (0.01s)
    --- PASS: TestLoreRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLoreRepository_GetChildren/no_children (0.00s)
=== RUN   TestLoreRepository_Update
=== RUN   TestLoreRepository_Update/successful_update
=== RUN   TestLoreRepository_Update/update_parent
--- PASS: TestLoreRepository_Update (0.01s)
    --- PASS: TestLoreRepository_Update/successful_update (0.00s)
    --- PASS: TestLoreRepository_Update/update_parent (0.00s)
=== RUN   TestLoreRepository_Delete
=== RUN   TestLoreRepository_Delete/successful_delete
--- PASS: TestLoreRepository_Delete (0.01s)
    --- PASS: TestLoreRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneRepository_Create
=== RUN   TestSceneRepository_Create/successful_creation
=== RUN   TestSceneRepository_Create/creation_with_chapter
--- PASS: TestSceneRepository_Create (0.01s)
    --- PASS: TestSceneRepository_Create/successful_creation (0.00s)
    --- PASS: TestSceneRepository_Create/creation_with_chapter (0.00s)
=== RUN   TestSceneRepository_GetByID
=== RUN   TestSceneRepository_GetByID/existing_scene
=== RUN   TestSceneRepository_GetByID/non-existent_scene
--- PASS: TestSceneRepository_GetByID (0.01s)
    --- PASS: TestSceneRepository_GetByID/existing_scene (0.00s)
    --- PASS: TestSceneRepository_GetByID/non-existent_scene (0.00s)
=== RUN   TestSceneRepository_ListByChapter
=== RUN   TestSceneRepository_ListByChapter/list_with_scenes
=== RUN   TestSceneRepository_ListByChapter/empty_list
--- PASS: TestSceneRepository_ListByChapter (0.01s)
    --- PASS: TestSceneRepository_ListByChapter/list_with_scenes (0.00s)
    --- PASS: TestSceneRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestSceneRepository_ListByChapterOrdered
=== RUN   TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num
--- PASS: TestSceneRepository_ListByChapterOrdered (0.01s)
    --- PASS: TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestSceneRepository_ListByStory
=== RUN   TestSceneRepository_ListByStory/list_by_story
--- PASS: TestSceneRepository_ListByStory (0.01s)
    --- PASS: TestSceneRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestSceneRepository_Update
=== RUN   TestSceneRepository_Update/successful_update
--- PASS: TestSceneRepository_Update (0.01s)
    --- PASS: TestSceneRepository_Update/successful_update (0.00s)
=== RUN   TestSceneRepository_Delete
=== RUN   TestSceneRepository_Delete/successful_delete
--- PASS: TestSceneRepository_Delete (0.01s)
    --- PASS: TestSceneRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneRepository_DeleteByChapter
=== RUN   TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter
--- PASS: TestSceneRepository_DeleteByChapter (0.01s)
    --- PASS: TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter (0.00s)
=== RUN   TestSceneRepository_DeleteByStory
=== RUN   TestSceneRepository_DeleteByStory/delete_all_scenes_for_story
--- PASS: TestSceneRepository_DeleteByStory (0.01s)
    --- PASS: TestSceneRepository_DeleteByStory/delete_all_scenes_for_story (0.00s)
=== RUN   TestStoryRepository_Create
=== RUN   TestStoryRepository_Create/successful_creation_root_story
=== RUN   TestStoryRepository_Create/creation_with_world_and_user
--- PASS: TestStoryRepository_Create (0.01s)
    --- PASS: TestStoryRepository_Create/successful_creation_root_story (0.00s)
    --- PASS: TestStoryRepository_Create/creation_with_world_and_user (0.00s)
=== RUN   TestStoryRepository_GetByID
=== RUN   TestStoryRepository_GetByID/existing_story
=== RUN   TestStoryRepository_GetByID/non-existent_story
--- PASS: TestStoryRepository_GetByID (0.01s)
    --- PASS: TestStoryRepository_GetByID/existing_story (0.00s)
    --- PASS: TestStoryRepository_GetByID/non-existent_story (0.00s)
=== RUN   TestStoryRepository_ListByTenant
=== RUN   TestStoryRepository_ListByTenant/empty_list
=== RUN   TestStoryRepository_ListByTenant/list_with_stories
=== RUN   TestStoryRepository_ListByTenant/pagination
--- PASS: TestStoryRepository_ListByTenant (0.01s)
    --- PASS: TestStoryRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/list_with_stories (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/pagination (0.00s)
=== RUN   TestStoryRepository_ListVersionsByRoot
=== RUN   TestStoryRepository_ListVersionsByRoot/list_versions
=== RUN   TestStoryRepository_ListVersionsByRoot/single_version
--- PASS: TestStoryRepository_ListVersionsByRoot (0.01s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/list_versions (0.00s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/single_version (0.00s)
=== RUN   TestStoryRepository_GetVersionGraph
=== RUN   TestStoryRepository_GetVersionGraph/get_version_graph
--- PASS: TestStoryRepository_GetVersionGraph (0.01s)
    --- PASS: TestStoryRepository_GetVersionGraph/get_version_graph (0.00s)
=== RUN   TestStoryRepository_Update
=== RUN   TestStoryRepository_Update/successful_update
--- PASS: TestStoryRepository_Update (0.01s)
    --- PASS: TestStoryRepository_Update/successful_update (0.00s)
=== RUN   TestStoryRepository_Delete
=== RUN   TestStoryRepository_Delete/successful_delete
--- PASS: TestStoryRepository_Delete (0.01s)
    --- PASS: TestStoryRepository_Delete/successful_delete (0.00s)
=== RUN   TestStoryRepository_CountByTenant
=== RUN   TestStoryRepository_CountByTenant/empty_count
=== RUN   TestStoryRepository_CountByTenant/count_with_stories
--- PASS: TestStoryRepository_CountByTenant (0.01s)
    --- PASS: TestStoryRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestStoryRepository_CountByTenant/count_with_stories (0.00s)
=== RUN   TestTenantRepository_Create
=== RUN   TestTenantRepository_Create/successful_creation
=== RUN   TestTenantRepository_Create/duplicate_name_constraint
--- PASS: TestTenantRepository_Create (0.01s)
    --- PASS: TestTenantRepository_Create/successful_creation (0.00s)
    --- PASS: TestTenantRepository_Create/duplicate_name_constraint (0.00s)
=== RUN   TestTenantRepository_GetByID
=== RUN   TestTenantRepository_GetByID/existing_tenant
=== RUN   TestTenantRepository_GetByID/non-existent_tenant
--- PASS: TestTenantRepository_GetByID (0.01s)
    --- PASS: TestTenantRepository_GetByID/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByID/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_GetByName
=== RUN   TestTenantRepository_GetByName/existing_tenant
=== RUN   TestTenantRepository_GetByName/non-existent_tenant
--- PASS: TestTenantRepository_GetByName (0.01s)
    --- PASS: TestTenantRepository_GetByName/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByName/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_Update
=== RUN   TestTenantRepository_Update/successful_update
--- PASS: TestTenantRepository_Update (0.01s)
    --- PASS: TestTenantRepository_Update/successful_update (0.00s)
=== RUN   TestTenantRepository_Delete
=== RUN   TestTenantRepository_Delete/successful_delete
--- PASS: TestTenantRepository_Delete (0.01s)
    --- PASS: TestTenantRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_Create
=== RUN   TestTraitRepository_Create/successful_creation
=== RUN   TestTraitRepository_Create/creation_with_category_and_description
--- PASS: TestTraitRepository_Create (0.01s)
    --- PASS: TestTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestTraitRepository_Create/creation_with_category_and_description (0.00s)
=== RUN   TestTraitRepository_GetByID
=== RUN   TestTraitRepository_GetByID/existing_trait
=== RUN   TestTraitRepository_GetByID/non-existent_trait
--- PASS: TestTraitRepository_GetByID (0.01s)
    --- PASS: TestTraitRepository_GetByID/existing_trait (0.00s)
    --- PASS: TestTraitRepository_GetByID/non-existent_trait (0.00s)
=== RUN   TestTraitRepository_ListByTenant
=== RUN   TestTraitRepository_ListByTenant/empty_list
=== RUN   TestTraitRepository_ListByTenant/list_with_traits
=== RUN   TestTraitRepository_ListByTenant/pagination
=== RUN   TestTraitRepository_ListByTenant/tenant_isolation
--- PASS: TestTraitRepository_ListByTenant (0.01s)
    --- PASS: TestTraitRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/list_with_traits (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestTraitRepository_Update
=== RUN   TestTraitRepository_Update/successful_update
--- PASS: TestTraitRepository_Update (0.01s)
    --- PASS: TestTraitRepository_Update/successful_update (0.00s)
=== RUN   TestTraitRepository_Delete
=== RUN   TestTraitRepository_Delete/successful_delete
--- PASS: TestTraitRepository_Delete (0.01s)
    --- PASS: TestTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_CountByTenant
=== RUN   TestTraitRepository_CountByTenant/empty_count
=== RUN   TestTraitRepository_CountByTenant/count_with_traits
=== RUN   TestTraitRepository_CountByTenant/tenant_isolation
--- PASS: TestTraitRepository_CountByTenant (0.01s)
    --- PASS: TestTraitRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/count_with_traits (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Create
=== RUN   TestWorldRepository_Create/successful_creation
=== RUN   TestWorldRepository_Create/successful_creation_with_RPG_system
=== RUN   TestWorldRepository_Create/successful_creation_with_implicit_flag
--- PASS: TestWorldRepository_Create (0.01s)
    --- PASS: TestWorldRepository_Create/successful_creation (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_RPG_system (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_implicit_flag (0.00s)
=== RUN   TestWorldRepository_GetByID
=== RUN   TestWorldRepository_GetByID/existing_world
=== RUN   TestWorldRepository_GetByID/non-existent_world
=== RUN   TestWorldRepository_GetByID/wrong_tenant
--- PASS: TestWorldRepository_GetByID (0.01s)
    --- PASS: TestWorldRepository_GetByID/existing_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/non-existent_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/wrong_tenant (0.00s)
=== RUN   TestWorldRepository_ListByTenant
=== RUN   TestWorldRepository_ListByTenant/empty_list
=== RUN   TestWorldRepository_ListByTenant/list_with_worlds
=== RUN   TestWorldRepository_ListByTenant/pagination
=== RUN   TestWorldRepository_ListByTenant/tenant_isolation
--- PASS: TestWorldRepository_ListByTenant (0.10s)
    --- PASS: TestWorldRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestWorldRepository_ListByTenant/list_with_worlds (0.03s)
    --- PASS: TestWorldRepository_ListByTenant/pagination (0.06s)
    --- PASS: TestWorldRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Update
=== RUN   TestWorldRepository_Update/successful_update
=== RUN   TestWorldRepository_Update/update_RPG_system
--- PASS: TestWorldRepository_Update (0.01s)
    --- PASS: TestWorldRepository_Update/successful_update (0.00s)
    --- PASS: TestWorldRepository_Update/update_RPG_system (0.00s)
=== RUN   TestWorldRepository_Delete
=== RUN   TestWorldRepository_Delete/successful_delete
=== RUN   TestWorldRepository_Delete/delete_non-existent_world
--- PASS: TestWorldRepository_Delete (0.01s)
    --- PASS: TestWorldRepository_Delete/successful_delete (0.00s)
    --- PASS: TestWorldRepository_Delete/delete_non-existent_world (0.00s)
=== RUN   TestWorldRepository_CountByTenant
=== RUN   TestWorldRepository_CountByTenant/empty_count
=== RUN   TestWorldRepository_CountByTenant/count_with_worlds
=== RUN   TestWorldRepository_CountByTenant/tenant_isolation
--- PASS: TestWorldRepository_CountByTenant (0.01s)
    --- PASS: TestWorldRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/count_with_worlds (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/tenant_isolation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/sqlite	(cached)
?   	github.com/story-engine/main-service/internal/adapters/redis	[no test files]
?   	github.com/story-engine/main-service/internal/application/relation	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/artifact_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_inventory	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_skill	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_item	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_slot	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_class	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_system	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/skill	[no test files]
=== RUN   TestCloneStoryUseCase_Execute
time=2026-01-09T15:55:05.493-03:00 level=INFO msg="tenant created" tenant_id=40fb5771-8e79-491c-a879-26a803777a38 name="Test Tenant"
time=2026-01-09T15:55:05.494-03:00 level=INFO msg="world created" world_id=220dcfe2-030d-4258-85df-85918d602831 name="World of Test Story" tenant_id=40fb5771-8e79-491c-a879-26a803777a38
time=2026-01-09T15:55:05.494-03:00 level=INFO msg="created implicit world for story" world_id=220dcfe2-030d-4258-85df-85918d602831 story_title="Test Story"
time=2026-01-09T15:55:05.496-03:00 level=INFO msg="story created" story_id=3dd6a3d6-78bf-469a-ba00-9281c59a7303 title="Test Story" tenant_id=40fb5771-8e79-491c-a879-26a803777a38
=== RUN   TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters)
time=2026-01-09T15:55:05.499-03:00 level=INFO msg="story cloned" source_story_id=3dd6a3d6-78bf-469a-ba00-9281c59a7303 new_story_id=68ff2940-9dbf-4804-9127-fd15b966059b version_number=2
=== RUN   TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy
time=2026-01-09T15:55:05.510-03:00 level=INFO msg="story cloned" source_story_id=63f8406d-53f6-4b22-a17a-3d19cf3f3afe new_story_id=fdebc3ee-52bf-4620-a37b-e44fbe569d4a version_number=2
--- PASS: TestCloneStoryUseCase_Execute (0.40s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters) (0.00s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy (0.01s)
=== RUN   TestCreateStoryUseCase_Execute
time=2026-01-09T15:55:05.883-03:00 level=INFO msg="tenant created" tenant_id=111d0604-9d93-4d15-90ce-80f72f612bf6 name="Test Tenant"
=== RUN   TestCreateStoryUseCase_Execute/successful_creation
time=2026-01-09T15:55:05.885-03:00 level=INFO msg="world created" world_id=32aee26f-051a-4b05-81c3-cd70845d5d1d name="World of Test Story" tenant_id=111d0604-9d93-4d15-90ce-80f72f612bf6
time=2026-01-09T15:55:05.885-03:00 level=INFO msg="created implicit world for story" world_id=32aee26f-051a-4b05-81c3-cd70845d5d1d story_title="Test Story"
time=2026-01-09T15:55:05.887-03:00 level=INFO msg="story created" story_id=d748f25f-8099-49eb-8adf-4e38293ebc3d title="Test Story" tenant_id=111d0604-9d93-4d15-90ce-80f72f612bf6
=== RUN   TestCreateStoryUseCase_Execute/multi-tenant_isolation
time=2026-01-09T15:55:05.889-03:00 level=INFO msg="tenant created" tenant_id=ef992b60-cc60-4c0f-9a3a-e1c3e4d5bf2c name="Test Tenant 2"
time=2026-01-09T15:55:05.892-03:00 level=INFO msg="world created" world_id=da8b8a1f-b12b-43fb-a47c-54393a9e707a name="World of Test Story 2" tenant_id=ef992b60-cc60-4c0f-9a3a-e1c3e4d5bf2c
time=2026-01-09T15:55:05.892-03:00 level=INFO msg="created implicit world for story" world_id=da8b8a1f-b12b-43fb-a47c-54393a9e707a story_title="Test Story 2"
time=2026-01-09T15:55:05.892-03:00 level=INFO msg="story created" story_id=b9ac8db6-491a-4c95-9a84-0f4a1d1d73c5 title="Test Story 2" tenant_id=ef992b60-cc60-4c0f-9a3a-e1c3e4d5bf2c
=== RUN   TestCreateStoryUseCase_Execute/invalid_tenant
=== RUN   TestCreateStoryUseCase_Execute/empty_title_validation
--- PASS: TestCreateStoryUseCase_Execute (0.40s)
    --- PASS: TestCreateStoryUseCase_Execute/successful_creation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/multi-tenant_isolation (0.01s)
    --- PASS: TestCreateStoryUseCase_Execute/invalid_tenant (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/empty_title_validation (0.00s)
=== RUN   TestCreateStoryUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateStoryUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateStoryUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateStoryUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story	(cached)
=== RUN   TestCreateBeatUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateBeatUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateBeatUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateBeatUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/beat	(cached)
=== RUN   TestCreateChapterUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateChapterUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateChapterUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateChapterUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/chapter	(cached)
=== RUN   TestCreateContentBlockUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateContentBlockUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateContentBlockUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateContentBlockUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/content_block	(cached)
=== RUN   TestCreateSceneUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateSceneUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateSceneUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateSceneUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/scene	(cached)
=== RUN   TestCreateTenantUseCase_Execute
=== RUN   TestCreateTenantUseCase_Execute/successful_creation
time=2026-01-09T15:55:06.256-03:00 level=INFO msg="tenant created" tenant_id=4c8dd5d0-4c2c-4964-9a17-f53d8ad30fb3 name="Test Tenant"
=== RUN   TestCreateTenantUseCase_Execute/duplicate_name_validation
=== RUN   TestCreateTenantUseCase_Execute/empty_name_validation
--- PASS: TestCreateTenantUseCase_Execute (0.41s)
    --- PASS: TestCreateTenantUseCase_Execute/successful_creation (0.01s)
    --- PASS: TestCreateTenantUseCase_Execute/duplicate_name_validation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/empty_name_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/tenant	(cached)
?   	github.com/story-engine/main-service/internal/application/world	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/archetype	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/artifact	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/faction	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/location	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/lore	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/trait	[no test files]
?   	github.com/story-engine/main-service/internal/core/audit	[no test files]
?   	github.com/story-engine/main-service/internal/core/auth	[no test files]
?   	github.com/story-engine/main-service/internal/core/relation	[no test files]
?   	github.com/story-engine/main-service/internal/core/rpg	[no test files]
?   	github.com/story-engine/main-service/internal/core/story	[no test files]
?   	github.com/story-engine/main-service/internal/core/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/core/versioning	[no test files]
?   	github.com/story-engine/main-service/internal/core/world	[no test files]
?   	github.com/story-engine/main-service/internal/platform/config	[no test files]
?   	github.com/story-engine/main-service/internal/platform/database	[no test files]
?   	github.com/story-engine/main-service/internal/platform/errors	[no test files]
?   	github.com/story-engine/main-service/internal/platform/logger	[no test files]
?   	github.com/story-engine/main-service/internal/platform/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/ports/queue	[no test files]
?   	github.com/story-engine/main-service/internal/ports/repositories	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/grpcctx	[no test files]
=== RUN   TestArchetypeHandler_CreateArchetype
time=2026-01-09T16:07:21.090-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:21.090-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T16:07:21.090-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_CreateArchetype/successful_creation
time=2026-01-09T16:07:21.092-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:21.097-03:00 level=INFO msg="tenant created" tenant_id=61bcb2e8-c4ac-4ea8-9717-d2afd0677d8f name="Test Tenant for Archetype"
time=2026-01-09T16:07:21.097-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-09T16:07:21.097-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:21.098-03:00 level=INFO msg="archetype created" archetype_id=d895e302-35f5-44ce-86fd-bcaaffaa6b29 name=Warrior
time=2026-01-09T16:07:21.098-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
=== RUN   TestArchetypeHandler_CreateArchetype/empty_name
time=2026-01-09T16:07:21.099-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:21.099-03:00 level=INFO msg="tenant created" tenant_id=03e37188-f5eb-46a7-8ea3-bfa36eb18c8a name="Test Tenant 2"
time=2026-01-09T16:07:21.099-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:21.099-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:21.099-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T16:07:21.100-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_CreateArchetype (0.29s)
    --- PASS: TestArchetypeHandler_CreateArchetype/successful_creation (0.01s)
    --- PASS: TestArchetypeHandler_CreateArchetype/empty_name (0.00s)
=== RUN   TestArchetypeHandler_GetArchetype
time=2026-01-09T16:07:21.277-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:21.278-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T16:07:21.278-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetype/existing_archetype
time=2026-01-09T16:07:21.280-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:21.282-03:00 level=INFO msg="tenant created" tenant_id=78a54120-f537-49f9-97e3-b1e9d1ec83bb name="Get Test Tenant"
time=2026-01-09T16:07:21.282-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:21.283-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:21.284-03:00 level=INFO msg="archetype created" archetype_id=938a6093-5c1e-44e0-b4e5-4b0d1900df0a name="Get Test Archetype"
time=2026-01-09T16:07:21.284-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T16:07:21.284-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-09T16:07:21.284-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetype/non-existing_archetype
time=2026-01-09T16:07:21.284-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:21.285-03:00 level=INFO msg="tenant created" tenant_id=9cf1a307-fecb-4321-8043-cb588e805805 name="Non-existing Test Tenant"
time=2026-01-09T16:07:21.285-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:21.285-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-09T16:07:21.285-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: de510127-b980-4eb3-975d-12974416dd18" archetype_id=de510127-b980-4eb3-975d-12974416dd18
time=2026-01-09T16:07:21.286-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: de510127-b980-4eb3-975d-12974416dd18"
time=2026-01-09T16:07:21.286-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetype (0.18s)
    --- PASS: TestArchetypeHandler_GetArchetype/existing_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetype/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_ListArchetypes
time=2026-01-09T16:07:21.429-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:21.430-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T16:07:21.430-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_ListArchetypes/list_archetypes
time=2026-01-09T16:07:21.430-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:21.432-03:00 level=INFO msg="tenant created" tenant_id=b7d3f6bb-a095-41a6-a4f8-102ad88a9fde name="List Test Tenant"
time=2026-01-09T16:07:21.432-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:21.433-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:21.434-03:00 level=INFO msg="archetype created" archetype_id=4277e4ec-1aa2-4474-b03e-03a4c9cc4cb3 name="Archetype 1"
time=2026-01-09T16:07:21.434-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T16:07:21.434-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:21.435-03:00 level=INFO msg="archetype created" archetype_id=98b8fa83-2f24-4ff6-97ce-0228aff45912 name="Archetype 2"
time=2026-01-09T16:07:21.435-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-09T16:07:21.435-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/ListArchetypes
time=2026-01-09T16:07:21.436-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/ListArchetypes duration_ms=1
time=2026-01-09T16:07:21.436-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_ListArchetypes (0.15s)
    --- PASS: TestArchetypeHandler_ListArchetypes/list_archetypes (0.01s)
=== RUN   TestArchetypeHandler_UpdateArchetype
time=2026-01-09T16:07:21.582-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:21.582-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T16:07:21.582-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_UpdateArchetype/update_archetype
time=2026-01-09T16:07:21.585-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:21.587-03:00 level=INFO msg="tenant created" tenant_id=31735734-9cff-46c7-97b1-34f7f5373713 name="Update Test Tenant"
time=2026-01-09T16:07:21.587-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:21.587-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:21.588-03:00 level=INFO msg="archetype created" archetype_id=9c2de90b-3b21-45be-87b0-2f2c9b9f8bdd name="Original Archetype"
time=2026-01-09T16:07:21.588-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T16:07:21.589-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/UpdateArchetype
time=2026-01-09T16:07:21.590-03:00 level=INFO msg="archetype updated" archetype_id=9c2de90b-3b21-45be-87b0-2f2c9b9f8bdd name="Updated Archetype"
time=2026-01-09T16:07:21.590-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/UpdateArchetype duration_ms=0
time=2026-01-09T16:07:21.590-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_UpdateArchetype (0.15s)
    --- PASS: TestArchetypeHandler_UpdateArchetype/update_archetype (0.01s)
=== RUN   TestArchetypeHandler_DeleteArchetype
time=2026-01-09T16:07:21.736-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:21.736-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T16:07:21.736-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_DeleteArchetype/delete_archetype
time=2026-01-09T16:07:21.738-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:21.740-03:00 level=INFO msg="tenant created" tenant_id=885ffca5-3fc3-4a1a-a86b-510586912dd7 name="Delete Test Tenant"
time=2026-01-09T16:07:21.740-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:21.740-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:21.742-03:00 level=INFO msg="archetype created" archetype_id=86d43727-c348-4b5e-ba96-69d3b220952c name="Archetype to Delete"
time=2026-01-09T16:07:21.742-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T16:07:21.742-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/DeleteArchetype
time=2026-01-09T16:07:21.743-03:00 level=INFO msg="archetype deleted" archetype_id=86d43727-c348-4b5e-ba96-69d3b220952c name="Archetype to Delete"
time=2026-01-09T16:07:21.743-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/DeleteArchetype duration_ms=1
time=2026-01-09T16:07:21.744-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-09T16:07:21.744-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 86d43727-c348-4b5e-ba96-69d3b220952c" archetype_id=86d43727-c348-4b5e-ba96-69d3b220952c
time=2026-01-09T16:07:21.744-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: 86d43727-c348-4b5e-ba96-69d3b220952c"
time=2026-01-09T16:07:21.744-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_DeleteArchetype (0.15s)
    --- PASS: TestArchetypeHandler_DeleteArchetype/delete_archetype (0.01s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-09T16:07:21.890-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:21.890-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T16:07:21.891-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-09T16:07:21.891-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:21.894-03:00 level=INFO msg="tenant created" tenant_id=af6ecdee-c19e-450c-be20-22421c18afba name="Add Trait Test Tenant"
time=2026-01-09T16:07:21.894-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:21.894-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:21.896-03:00 level=INFO msg="archetype created" archetype_id=7de45c9d-6ed3-4379-9523-89dab177d7bd name=Warrior
time=2026-01-09T16:07:21.896-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T16:07:21.896-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:21.898-03:00 level=INFO msg="trait created" trait_id=ae7f2555-9fef-4de3-a99a-ead8e71ab470 name=Brave
time=2026-01-09T16:07:21.898-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T16:07:21.898-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-09T16:07:21.900-03:00 level=INFO msg="trait added to archetype" archetype_id=7de45c9d-6ed3-4379-9523-89dab177d7bd trait_id=ae7f2555-9fef-4de3-a99a-ead8e71ab470
time=2026-01-09T16:07:21.900-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-09T16:07:21.900-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_AddTrait (0.16s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.01s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-09T16:07:22.033-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:22.033-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T16:07:22.033-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-09T16:07:22.034-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.036-03:00 level=INFO msg="tenant created" tenant_id=bf714ca3-bada-4b48-8814-6155245ae83b name="Remove Trait Test Tenant"
time=2026-01-09T16:07:22.036-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:22.036-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:22.037-03:00 level=INFO msg="archetype created" archetype_id=69b846f0-738f-43f5-bd10-e362f307cac8 name=Warrior
time=2026-01-09T16:07:22.037-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T16:07:22.037-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:22.039-03:00 level=INFO msg="trait created" trait_id=0b947ce1-b5aa-402a-a7cb-2ef3799d81ed name=Brave
time=2026-01-09T16:07:22.039-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T16:07:22.039-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-09T16:07:22.041-03:00 level=INFO msg="trait added to archetype" archetype_id=69b846f0-738f-43f5-bd10-e362f307cac8 trait_id=0b947ce1-b5aa-402a-a7cb-2ef3799d81ed
time=2026-01-09T16:07:22.041-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-09T16:07:22.041-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/RemoveTraitFromArchetype
time=2026-01-09T16:07:22.041-03:00 level=INFO msg="trait removed from archetype" archetype_id=69b846f0-738f-43f5-bd10-e362f307cac8 trait_id=0b947ce1-b5aa-402a-a7cb-2ef3799d81ed
time=2026-01-09T16:07:22.041-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/RemoveTraitFromArchetype duration_ms=0
time=2026-01-09T16:07:22.041-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_RemoveTrait (0.14s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.01s)
=== RUN   TestArchetypeHandler_GetArchetypeTraits
time=2026-01-09T16:07:22.192-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:22.192-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T16:07:22.192-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype
time=2026-01-09T16:07:22.193-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.195-03:00 level=INFO msg="tenant created" tenant_id=f637dd04-665a-4dee-9cd7-7820a6af84fd name="Get Traits Test Tenant"
time=2026-01-09T16:07:22.195-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:22.196-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:22.197-03:00 level=INFO msg="archetype created" archetype_id=cb7916ef-71b5-4935-8679-a51a8aff81e4 name=Warrior
time=2026-01-09T16:07:22.197-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T16:07:22.197-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:22.199-03:00 level=INFO msg="trait created" trait_id=d1ab7658-f194-4d36-88c8-bca873d6767a name=Brave
time=2026-01-09T16:07:22.199-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T16:07:22.199-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:22.200-03:00 level=INFO msg="trait created" trait_id=96162692-465c-4635-bd3b-5f05173b2d62 name=Strong
time=2026-01-09T16:07:22.200-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-09T16:07:22.200-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-09T16:07:22.202-03:00 level=INFO msg="trait added to archetype" archetype_id=cb7916ef-71b5-4935-8679-a51a8aff81e4 trait_id=d1ab7658-f194-4d36-88c8-bca873d6767a
time=2026-01-09T16:07:22.202-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-09T16:07:22.202-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-09T16:07:22.202-03:00 level=INFO msg="trait added to archetype" archetype_id=cb7916ef-71b5-4935-8679-a51a8aff81e4 trait_id=96162692-465c-4635-bd3b-5f05173b2d62
time=2026-01-09T16:07:22.202-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=0
time=2026-01-09T16:07:22.202-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-09T16:07:22.203-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits
time=2026-01-09T16:07:22.204-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.204-03:00 level=INFO msg="tenant created" tenant_id=bba8f94f-29e0-4497-8904-e0e4d232d6af name="Empty Traits Test Tenant"
time=2026-01-09T16:07:22.204-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:22.204-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T16:07:22.205-03:00 level=INFO msg="archetype created" archetype_id=ed0029f3-572c-4734-aa3c-63c3c729aae3 name=Mage
time=2026-01-09T16:07:22.205-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-09T16:07:22.205-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-09T16:07:22.205-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id
time=2026-01-09T16:07:22.205-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.206-03:00 level=INFO msg="tenant created" tenant_id=6ec3f779-7361-4a96-8944-070f2df40286 name="Invalid ID Test Tenant"
time=2026-01-09T16:07:22.206-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:22.206-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-09T16:07:22.206-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid archetype_id: invalid UUID length: 12"
time=2026-01-09T16:07:22.206-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetypeTraits (0.16s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits (0.00s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id (0.00s)
=== RUN   TestArtifactHandler_CreateArtifact
time=2026-01-09T16:07:22.342-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:22.342-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:22.342-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_CreateArtifact/successful_creation
time=2026-01-09T16:07:22.342-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.344-03:00 level=INFO msg="tenant created" tenant_id=8949d037-8b7b-4761-aac4-7af242a0f1a6 name="Test Tenant for Artifact"
time=2026-01-09T16:07:22.344-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T16:07:22.344-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:22.345-03:00 level=INFO msg="world created" world_id=7bf8fb4d-41fa-4118-ac82-84924b944376 name="Test World" tenant_id=8949d037-8b7b-4761-aac4-7af242a0f1a6
time=2026-01-09T16:07:22.345-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:22.346-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:22.347-03:00 level=INFO msg="artifact created" artifact_id=6e2fd787-db25-4597-bc6d-d28e0e05a664 name="Test Artifact"
time=2026-01-09T16:07:22.347-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
=== RUN   TestArtifactHandler_CreateArtifact/empty_name
time=2026-01-09T16:07:22.347-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.348-03:00 level=INFO msg="tenant created" tenant_id=2ddd4ce3-c124-4465-8f3d-81644a048f97 name="Test Tenant 2"
time=2026-01-09T16:07:22.348-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:22.348-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:22.349-03:00 level=INFO msg="world created" world_id=5a992101-c187-4e6e-bf26-dc183478c2e4 name="Test World 2" tenant_id=2ddd4ce3-c124-4465-8f3d-81644a048f97
time=2026-01-09T16:07:22.349-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:22.349-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:22.349-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T16:07:22.349-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_CreateArtifact (0.14s)
    --- PASS: TestArtifactHandler_CreateArtifact/successful_creation (0.01s)
    --- PASS: TestArtifactHandler_CreateArtifact/empty_name (0.00s)
=== RUN   TestArtifactHandler_GetArtifact
time=2026-01-09T16:07:22.488-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:22.488-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:22.488-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_GetArtifact/existing_artifact
time=2026-01-09T16:07:22.489-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.492-03:00 level=INFO msg="tenant created" tenant_id=a7581a08-647f-4e3e-8cd4-7cf9c89a70a0 name="Get Test Tenant"
time=2026-01-09T16:07:22.492-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:22.492-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:22.493-03:00 level=INFO msg="world created" world_id=71acfde7-2573-437a-a635-e47ea0bc55dd name="Get Test World" tenant_id=a7581a08-647f-4e3e-8cd4-7cf9c89a70a0
time=2026-01-09T16:07:22.493-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:22.493-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:22.495-03:00 level=INFO msg="artifact created" artifact_id=6d816359-a018-45f4-9bb2-4f85122aad06 name="Get Test Artifact"
time=2026-01-09T16:07:22.495-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T16:07:22.495-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-09T16:07:22.495-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/GetArtifact duration_ms=0
=== RUN   TestArtifactHandler_GetArtifact/non-existing_artifact
time=2026-01-09T16:07:22.496-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.496-03:00 level=INFO msg="tenant created" tenant_id=a9bd5809-fd97-4128-a239-6f0ae212026f name="Non-existing Test Tenant"
time=2026-01-09T16:07:22.496-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:22.497-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-09T16:07:22.497-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 49839ffd-e482-478f-a190-4271f20e8e98" artifact_id=49839ffd-e482-478f-a190-4271f20e8e98
time=2026-01-09T16:07:22.497-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 49839ffd-e482-478f-a190-4271f20e8e98"
time=2026-01-09T16:07:22.497-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_GetArtifact (0.15s)
    --- PASS: TestArtifactHandler_GetArtifact/existing_artifact (0.01s)
    --- PASS: TestArtifactHandler_GetArtifact/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_ListArtifacts
time=2026-01-09T16:07:22.635-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:22.635-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:22.635-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_ListArtifacts/list_artifacts
time=2026-01-09T16:07:22.638-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.640-03:00 level=INFO msg="tenant created" tenant_id=7ae461b5-3cf7-4371-90d4-7b6cb7324d3c name="List Test Tenant"
time=2026-01-09T16:07:22.640-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:22.640-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:22.641-03:00 level=INFO msg="world created" world_id=a75c9440-22d0-4f0d-8011-35d3d3988d37 name="List Test World" tenant_id=7ae461b5-3cf7-4371-90d4-7b6cb7324d3c
time=2026-01-09T16:07:22.641-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:22.641-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:22.642-03:00 level=INFO msg="artifact created" artifact_id=9b6b57d7-28d2-4509-b4ba-f811ea3d805b name="Artifact 1"
time=2026-01-09T16:07:22.642-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T16:07:22.642-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:22.643-03:00 level=INFO msg="artifact created" artifact_id=0b1491c5-c51f-4913-aeb5-86bb407ac064 name="Artifact 2"
time=2026-01-09T16:07:22.643-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-09T16:07:22.643-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/ListArtifacts
time=2026-01-09T16:07:22.644-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/ListArtifacts duration_ms=0
time=2026-01-09T16:07:22.644-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_ListArtifacts (0.14s)
    --- PASS: TestArtifactHandler_ListArtifacts/list_artifacts (0.01s)
=== RUN   TestArtifactHandler_UpdateArtifact
time=2026-01-09T16:07:22.783-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:22.783-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:22.783-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_UpdateArtifact/update_artifact
time=2026-01-09T16:07:22.784-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.786-03:00 level=INFO msg="tenant created" tenant_id=b8669bf6-f9f2-4ab4-92fb-b859e09e8e61 name="Update Test Tenant"
time=2026-01-09T16:07:22.786-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:22.786-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:22.787-03:00 level=INFO msg="world created" world_id=a09ebe36-9aae-4691-84da-77ae82c1a777 name="Update Test World" tenant_id=b8669bf6-f9f2-4ab4-92fb-b859e09e8e61
time=2026-01-09T16:07:22.787-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:22.787-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:22.788-03:00 level=INFO msg="artifact created" artifact_id=d2aa3442-7f85-4242-86d0-fbed7817b5d1 name="Original Artifact"
time=2026-01-09T16:07:22.788-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T16:07:22.788-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/UpdateArtifact
time=2026-01-09T16:07:22.789-03:00 level=INFO msg="artifact updated" artifact_id=d2aa3442-7f85-4242-86d0-fbed7817b5d1 name="Updated Artifact"
time=2026-01-09T16:07:22.789-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/UpdateArtifact duration_ms=0
time=2026-01-09T16:07:22.789-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_UpdateArtifact (0.15s)
    --- PASS: TestArtifactHandler_UpdateArtifact/update_artifact (0.01s)
=== RUN   TestArtifactHandler_DeleteArtifact
time=2026-01-09T16:07:22.933-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:22.933-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:22.933-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_DeleteArtifact/delete_artifact
time=2026-01-09T16:07:22.935-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:22.937-03:00 level=INFO msg="tenant created" tenant_id=fa375abb-ddc6-4512-bd40-02f14818cf66 name="Delete Test Tenant"
time=2026-01-09T16:07:22.937-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:22.938-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:22.939-03:00 level=INFO msg="world created" world_id=14b288fd-2f49-4885-8401-00c0e8fcdc00 name="Delete Test World" tenant_id=fa375abb-ddc6-4512-bd40-02f14818cf66
time=2026-01-09T16:07:22.939-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:22.939-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:22.940-03:00 level=INFO msg="artifact created" artifact_id=f508fd3f-65af-45a2-988b-984e8004ca40 name="Artifact to Delete"
time=2026-01-09T16:07:22.940-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T16:07:22.940-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/DeleteArtifact
time=2026-01-09T16:07:22.943-03:00 level=INFO msg="artifact deleted" artifact_id=f508fd3f-65af-45a2-988b-984e8004ca40 name="Artifact to Delete"
time=2026-01-09T16:07:22.943-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/DeleteArtifact duration_ms=2
time=2026-01-09T16:07:22.943-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-09T16:07:22.944-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: f508fd3f-65af-45a2-988b-984e8004ca40" artifact_id=f508fd3f-65af-45a2-988b-984e8004ca40
time=2026-01-09T16:07:22.944-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=1 error="rpc error: code = NotFound desc = artifact not found: f508fd3f-65af-45a2-988b-984e8004ca40"
time=2026-01-09T16:07:22.945-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_DeleteArtifact (0.15s)
    --- PASS: TestArtifactHandler_DeleteArtifact/delete_artifact (0.01s)
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats
time=2026-01-09T16:07:23.086-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:23.086-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:23.086-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T16:07:23.086-03:00 level=INFO msg="ArtifactRPGStatsService registered"
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation
time=2026-01-09T16:07:23.088-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:23.091-03:00 level=INFO msg="tenant created" tenant_id=a1e5e4f0-7710-4734-89d3-6122ce64e10f name="Test Tenant for Artifact Stats"
time=2026-01-09T16:07:23.091-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:23.091-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:23.092-03:00 level=INFO msg="world created" world_id=1f63cf65-25d5-41dd-89ef-f179fbd0b8d6 name="Test World" tenant_id=a1e5e4f0-7710-4734-89d3-6122ce64e10f
time=2026-01-09T16:07:23.092-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:23.092-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:23.093-03:00 level=INFO msg="artifact created" artifact_id=f2218d14-9cbe-4148-81ee-33a1c341f5bc name="Test Artifact"
time=2026-01-09T16:07:23.093-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T16:07:23.094-03:00 level=INFO msg="gRPC request started" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats
time=2026-01-09T16:07:23.096-03:00 level=INFO msg="artifact RPG stats created" artifact_id=f2218d14-9cbe-4148-81ee-33a1c341f5bc version=1
time=2026-01-09T16:07:23.096-03:00 level=INFO msg="gRPC request completed" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats duration_ms=2
time=2026-01-09T16:07:23.096-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats (0.15s)
    --- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation (0.01s)
=== RUN   TestBeatHandler_CreateBeat
time=2026-01-09T16:07:23.235-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:23.235-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:23.235-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:23.235-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:23.235-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:23.235-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:23.235-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:23.236-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:23.239-03:00 level=INFO msg="tenant created" tenant_id=e2199bb5-e998-44b8-9986-4f3252c6ef36 name="Test Tenant for Beat"
time=2026-01-09T16:07:23.239-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:23.240-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:23.241-03:00 level=INFO msg="world created" world_id=63c10d66-1991-485e-96a6-a35cadad3b89 name="World of Test Story" tenant_id=e2199bb5-e998-44b8-9986-4f3252c6ef36
time=2026-01-09T16:07:23.241-03:00 level=INFO msg="created implicit world for story" world_id=63c10d66-1991-485e-96a6-a35cadad3b89 story_title="Test Story"
time=2026-01-09T16:07:23.242-03:00 level=INFO msg="story created" story_id=8125f23c-70ed-4dba-8ff6-4d206c28a012 title="Test Story" tenant_id=e2199bb5-e998-44b8-9986-4f3252c6ef36
time=2026-01-09T16:07:23.242-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:23.242-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:23.243-03:00 level=INFO msg="scene created" scene_id=09ddea08-6b53-4c3a-a248-a2f90251ebd4 story_id=8125f23c-70ed-4dba-8ff6-4d206c28a012 tenant_id=e2199bb5-e998-44b8-9986-4f3252c6ef36
time=2026-01-09T16:07:23.243-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_CreateBeat/successful_creation
time=2026-01-09T16:07:23.244-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.244-03:00 level=INFO msg="beat created" beat_id=c72a7633-02da-4e9b-8ef9-3bb2c8a433ef scene_id=09ddea08-6b53-4c3a-a248-a2f90251ebd4 tenant_id=e2199bb5-e998-44b8-9986-4f3252c6ef36
time=2026-01-09T16:07:23.244-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
=== RUN   TestBeatHandler_CreateBeat/invalid_scene_id
time=2026-01-09T16:07:23.245-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.245-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = NotFound desc = scene not found: d3312e58-67f9-47e6-80b2-4db25f8edcea"
=== RUN   TestBeatHandler_CreateBeat/invalid_type
time=2026-01-09T16:07:23.245-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.246-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on beat: invalid beat type"
=== RUN   TestBeatHandler_CreateBeat/missing_type
time=2026-01-09T16:07:23.246-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.246-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on type: type is required"
=== RUN   TestBeatHandler_CreateBeat/invalid_order_num
time=2026-01-09T16:07:23.247-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.247-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-09T16:07:23.247-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_CreateBeat (0.15s)
    --- PASS: TestBeatHandler_CreateBeat/successful_creation (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_scene_id (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/missing_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_order_num (0.00s)
=== RUN   TestBeatHandler_GetBeat
time=2026-01-09T16:07:23.392-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:23.392-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:23.392-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:23.392-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:23.392-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:23.392-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:23.392-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:23.393-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:23.396-03:00 level=INFO msg="tenant created" tenant_id=6c3b7767-d480-403b-b15f-8b4842e6c91d name="Test Tenant for Get Beat"
time=2026-01-09T16:07:23.396-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T16:07:23.397-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:23.398-03:00 level=INFO msg="world created" world_id=9d02553d-3082-4a74-8a76-661122240934 name="World of Test Story" tenant_id=6c3b7767-d480-403b-b15f-8b4842e6c91d
time=2026-01-09T16:07:23.398-03:00 level=INFO msg="created implicit world for story" world_id=9d02553d-3082-4a74-8a76-661122240934 story_title="Test Story"
time=2026-01-09T16:07:23.399-03:00 level=INFO msg="story created" story_id=ea435fa7-75ef-40be-89f1-c83f395bd309 title="Test Story" tenant_id=6c3b7767-d480-403b-b15f-8b4842e6c91d
time=2026-01-09T16:07:23.399-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:23.399-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:23.400-03:00 level=INFO msg="scene created" scene_id=9570702d-b015-4fb4-a7c8-a14ce1f444a1 story_id=ea435fa7-75ef-40be-89f1-c83f395bd309 tenant_id=6c3b7767-d480-403b-b15f-8b4842e6c91d
time=2026-01-09T16:07:23.400-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_GetBeat/existing_beat
time=2026-01-09T16:07:23.400-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.401-03:00 level=INFO msg="beat created" beat_id=7b71d32d-45c3-4488-82d7-1406978744a0 scene_id=9570702d-b015-4fb4-a7c8-a14ce1f444a1 tenant_id=6c3b7767-d480-403b-b15f-8b4842e6c91d
time=2026-01-09T16:07:23.401-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T16:07:23.401-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-09T16:07:23.402-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/GetBeat duration_ms=0
=== RUN   TestBeatHandler_GetBeat/non-existing_beat
time=2026-01-09T16:07:23.402-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-09T16:07:23.402-03:00 level=ERROR msg="failed to get beat" error="beat not found: 9b8029c8-6311-4fe8-a0cf-c26251bb8848" beat_id=9b8029c8-6311-4fe8-a0cf-c26251bb8848 tenant_id=6c3b7767-d480-403b-b15f-8b4842e6c91d
time=2026-01-09T16:07:23.402-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/GetBeat duration_ms=0 error="rpc error: code = NotFound desc = beat not found: 9b8029c8-6311-4fe8-a0cf-c26251bb8848"
time=2026-01-09T16:07:23.402-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_GetBeat (0.16s)
    --- PASS: TestBeatHandler_GetBeat/existing_beat (0.00s)
    --- PASS: TestBeatHandler_GetBeat/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_UpdateBeat
time=2026-01-09T16:07:23.536-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:23.536-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:23.536-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:23.536-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:23.536-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:23.536-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:23.536-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:23.537-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:23.539-03:00 level=INFO msg="tenant created" tenant_id=7583f304-0446-49e2-bb3a-55644f54edc6 name="Test Tenant for Update Beat"
time=2026-01-09T16:07:23.539-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:23.539-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:23.540-03:00 level=INFO msg="world created" world_id=95ec4ae5-83ee-4419-9eb9-05e838dea0d5 name="World of Test Story" tenant_id=7583f304-0446-49e2-bb3a-55644f54edc6
time=2026-01-09T16:07:23.540-03:00 level=INFO msg="created implicit world for story" world_id=95ec4ae5-83ee-4419-9eb9-05e838dea0d5 story_title="Test Story"
time=2026-01-09T16:07:23.541-03:00 level=INFO msg="story created" story_id=325174e3-f40c-4944-abc6-cb30ece9c9a8 title="Test Story" tenant_id=7583f304-0446-49e2-bb3a-55644f54edc6
time=2026-01-09T16:07:23.541-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T16:07:23.541-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:23.542-03:00 level=INFO msg="scene created" scene_id=6a8121f5-3a00-4468-a09e-7b77dc6e84e9 story_id=325174e3-f40c-4944-abc6-cb30ece9c9a8 tenant_id=7583f304-0446-49e2-bb3a-55644f54edc6
time=2026-01-09T16:07:23.542-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_UpdateBeat/successful_update
time=2026-01-09T16:07:23.542-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.543-03:00 level=INFO msg="beat created" beat_id=274bea37-6783-46d1-a9de-8bfa6a7828fd scene_id=6a8121f5-3a00-4468-a09e-7b77dc6e84e9 tenant_id=7583f304-0446-49e2-bb3a-55644f54edc6
time=2026-01-09T16:07:23.543-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T16:07:23.543-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/UpdateBeat
time=2026-01-09T16:07:23.543-03:00 level=INFO msg="beat updated" beat_id=274bea37-6783-46d1-a9de-8bfa6a7828fd tenant_id=7583f304-0446-49e2-bb3a-55644f54edc6
time=2026-01-09T16:07:23.543-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/UpdateBeat duration_ms=0
time=2026-01-09T16:07:23.543-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_UpdateBeat (0.14s)
    --- PASS: TestBeatHandler_UpdateBeat/successful_update (0.00s)
=== RUN   TestBeatHandler_MoveBeat
time=2026-01-09T16:07:23.686-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:23.686-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:23.686-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:23.686-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:23.686-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:23.686-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:23.686-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:23.688-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:23.690-03:00 level=INFO msg="tenant created" tenant_id=7e3c5abb-fe80-47fa-af7c-87de949cf72a name="Test Tenant for Move Beat"
time=2026-01-09T16:07:23.690-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:23.690-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:23.691-03:00 level=INFO msg="world created" world_id=13b8a69d-1a1b-442d-a635-ed3b2df42305 name="World of Test Story" tenant_id=7e3c5abb-fe80-47fa-af7c-87de949cf72a
time=2026-01-09T16:07:23.691-03:00 level=INFO msg="created implicit world for story" world_id=13b8a69d-1a1b-442d-a635-ed3b2df42305 story_title="Test Story"
time=2026-01-09T16:07:23.692-03:00 level=INFO msg="story created" story_id=3bc0ab9f-d9a3-4590-93b2-dfa17edc4470 title="Test Story" tenant_id=7e3c5abb-fe80-47fa-af7c-87de949cf72a
time=2026-01-09T16:07:23.692-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:23.692-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:23.693-03:00 level=INFO msg="scene created" scene_id=36f47729-3ccd-43e8-8a23-3467710aa17d story_id=3bc0ab9f-d9a3-4590-93b2-dfa17edc4470 tenant_id=7e3c5abb-fe80-47fa-af7c-87de949cf72a
time=2026-01-09T16:07:23.693-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T16:07:23.694-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:23.696-03:00 level=INFO msg="scene created" scene_id=b3c0dd3f-ace6-43ac-9292-c17574c7faf0 story_id=3bc0ab9f-d9a3-4590-93b2-dfa17edc4470 tenant_id=7e3c5abb-fe80-47fa-af7c-87de949cf72a
time=2026-01-09T16:07:23.696-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_MoveBeat/move_to_different_scene
time=2026-01-09T16:07:23.696-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.697-03:00 level=INFO msg="beat created" beat_id=22c9576a-bbfb-4260-9f63-8a7691bfbc63 scene_id=36f47729-3ccd-43e8-8a23-3467710aa17d tenant_id=7e3c5abb-fe80-47fa-af7c-87de949cf72a
time=2026-01-09T16:07:23.697-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T16:07:23.697-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/MoveBeat
time=2026-01-09T16:07:23.698-03:00 level=INFO msg="beat moved" beat_id=22c9576a-bbfb-4260-9f63-8a7691bfbc63 new_scene_id=b3c0dd3f-ace6-43ac-9292-c17574c7faf0 tenant_id=7e3c5abb-fe80-47fa-af7c-87de949cf72a
time=2026-01-09T16:07:23.698-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/MoveBeat duration_ms=0
time=2026-01-09T16:07:23.698-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_MoveBeat (0.15s)
    --- PASS: TestBeatHandler_MoveBeat/move_to_different_scene (0.00s)
=== RUN   TestBeatHandler_ListBeatsByScene
time=2026-01-09T16:07:23.842-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:23.842-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:23.842-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:23.842-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:23.842-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:23.842-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:23.842-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:23.843-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:23.845-03:00 level=INFO msg="tenant created" tenant_id=deb9e73a-b3f5-47d1-991e-4f312024ed23 name="Test Tenant for List Beats"
time=2026-01-09T16:07:23.846-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:23.846-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:23.847-03:00 level=INFO msg="world created" world_id=9ee8f755-a836-4003-a018-aaedfe694199 name="World of Test Story" tenant_id=deb9e73a-b3f5-47d1-991e-4f312024ed23
time=2026-01-09T16:07:23.847-03:00 level=INFO msg="created implicit world for story" world_id=9ee8f755-a836-4003-a018-aaedfe694199 story_title="Test Story"
time=2026-01-09T16:07:23.848-03:00 level=INFO msg="story created" story_id=58f1b273-66ba-4139-9e24-55afe6a76f26 title="Test Story" tenant_id=deb9e73a-b3f5-47d1-991e-4f312024ed23
time=2026-01-09T16:07:23.848-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:23.849-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:23.850-03:00 level=INFO msg="scene created" scene_id=2dd28b6b-3864-4275-8913-5266a803345e story_id=58f1b273-66ba-4139-9e24-55afe6a76f26 tenant_id=deb9e73a-b3f5-47d1-991e-4f312024ed23
time=2026-01-09T16:07:23.850-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_ListBeatsByScene/list_beats_by_scene
time=2026-01-09T16:07:23.850-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.851-03:00 level=INFO msg="beat created" beat_id=2fc9cc70-05c8-428b-89db-0eb2ad86353f scene_id=2dd28b6b-3864-4275-8913-5266a803345e tenant_id=deb9e73a-b3f5-47d1-991e-4f312024ed23
time=2026-01-09T16:07:23.851-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T16:07:23.851-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.853-03:00 level=INFO msg="beat created" beat_id=220a5f06-d40f-4fb1-bd18-3bbc6a3baa13 scene_id=2dd28b6b-3864-4275-8913-5266a803345e tenant_id=deb9e73a-b3f5-47d1-991e-4f312024ed23
time=2026-01-09T16:07:23.853-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-09T16:07:23.853-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:23.853-03:00 level=INFO msg="beat created" beat_id=7f01ad90-9e68-4991-aea7-3dd72a26c14f scene_id=2dd28b6b-3864-4275-8913-5266a803345e tenant_id=deb9e73a-b3f5-47d1-991e-4f312024ed23
time=2026-01-09T16:07:23.853-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T16:07:23.854-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/ListBeatsByScene
time=2026-01-09T16:07:23.854-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/ListBeatsByScene duration_ms=0
time=2026-01-09T16:07:23.854-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_ListBeatsByScene (0.16s)
    --- PASS: TestBeatHandler_ListBeatsByScene/list_beats_by_scene (0.00s)
=== RUN   TestBeatHandler_DeleteBeat
time=2026-01-09T16:07:24.012-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:24.012-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:24.012-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:24.012-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:24.012-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:24.012-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:24.012-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:24.013-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:24.015-03:00 level=INFO msg="tenant created" tenant_id=19f96923-40b4-4bef-90ea-99c6485ce6ac name="Test Tenant for Delete Beat"
time=2026-01-09T16:07:24.015-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:24.015-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:24.016-03:00 level=INFO msg="world created" world_id=d6eb38b4-f339-47b1-98cd-9e9aad49ff01 name="World of Test Story" tenant_id=19f96923-40b4-4bef-90ea-99c6485ce6ac
time=2026-01-09T16:07:24.016-03:00 level=INFO msg="created implicit world for story" world_id=d6eb38b4-f339-47b1-98cd-9e9aad49ff01 story_title="Test Story"
time=2026-01-09T16:07:24.018-03:00 level=INFO msg="story created" story_id=1339bd25-441b-4d7e-9c9f-c1296a94bb64 title="Test Story" tenant_id=19f96923-40b4-4bef-90ea-99c6485ce6ac
time=2026-01-09T16:07:24.018-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:24.018-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:24.019-03:00 level=INFO msg="scene created" scene_id=e4762cdd-15b8-4bc8-9cab-7366ae0ae0da story_id=1339bd25-441b-4d7e-9c9f-c1296a94bb64 tenant_id=19f96923-40b4-4bef-90ea-99c6485ce6ac
time=2026-01-09T16:07:24.019-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_DeleteBeat/successful_delete
time=2026-01-09T16:07:24.019-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T16:07:24.020-03:00 level=INFO msg="beat created" beat_id=36e78924-583f-46f8-8aed-9b2a17c0c4b6 scene_id=e4762cdd-15b8-4bc8-9cab-7366ae0ae0da tenant_id=19f96923-40b4-4bef-90ea-99c6485ce6ac
time=2026-01-09T16:07:24.020-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T16:07:24.020-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/DeleteBeat
time=2026-01-09T16:07:24.020-03:00 level=INFO msg="beat deleted" beat_id=36e78924-583f-46f8-8aed-9b2a17c0c4b6 tenant_id=19f96923-40b4-4bef-90ea-99c6485ce6ac
time=2026-01-09T16:07:24.020-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/DeleteBeat duration_ms=0
time=2026-01-09T16:07:24.021-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_DeleteBeat (0.17s)
    --- PASS: TestBeatHandler_DeleteBeat/successful_delete (0.00s)
=== RUN   TestChapterHandler_CreateChapter
time=2026-01-09T16:07:24.171-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:24.171-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:24.171-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:24.171-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:24.171-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:24.171-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:24.171-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:24.173-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:24.175-03:00 level=INFO msg="tenant created" tenant_id=a91b1b23-1ec2-4321-9e4c-7e7cd2453a96 name="Test Tenant for Chapter"
time=2026-01-09T16:07:24.175-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:24.175-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:24.176-03:00 level=INFO msg="world created" world_id=d5d0c18e-9976-4727-87b3-5d31df1cbd53 name="World of Test Story for Chapter" tenant_id=a91b1b23-1ec2-4321-9e4c-7e7cd2453a96
time=2026-01-09T16:07:24.176-03:00 level=INFO msg="created implicit world for story" world_id=d5d0c18e-9976-4727-87b3-5d31df1cbd53 story_title="Test Story for Chapter"
time=2026-01-09T16:07:24.177-03:00 level=INFO msg="story created" story_id=caf5a339-23dc-4466-ba8c-99be05d00706 title="Test Story for Chapter" tenant_id=a91b1b23-1ec2-4321-9e4c-7e7cd2453a96
time=2026-01-09T16:07:24.177-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_CreateChapter/successful_creation
time=2026-01-09T16:07:24.178-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.179-03:00 level=INFO msg="chapter created" chapter_id=d00e429a-3587-4814-b167-86d774a460c9 story_id=caf5a339-23dc-4466-ba8c-99be05d00706 tenant_id=a91b1b23-1ec2-4321-9e4c-7e7cd2453a96
time=2026-01-09T16:07:24.179-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestChapterHandler_CreateChapter/invalid_story_id
time=2026-01-09T16:07:24.180-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.180-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = NotFound desc = story not found: d4abf64a-18e5-412e-be2b-ca6d75fd5a9a"
=== RUN   TestChapterHandler_CreateChapter/invalid_number
time=2026-01-09T16:07:24.180-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.180-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on number: must be greater than 0"
=== RUN   TestChapterHandler_CreateChapter/empty_title
time=2026-01-09T16:07:24.180-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.181-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on title: title is required"
time=2026-01-09T16:07:24.181-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_CreateChapter (0.16s)
    --- PASS: TestChapterHandler_CreateChapter/successful_creation (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_story_id (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_number (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/empty_title (0.00s)
=== RUN   TestChapterHandler_GetChapter
time=2026-01-09T16:07:24.325-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:24.325-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:24.325-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:24.325-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:24.325-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:24.325-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:24.325-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:24.327-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:24.329-03:00 level=INFO msg="tenant created" tenant_id=b0d2b8df-b280-42db-a401-c5e06c095491 name="Test Tenant for Get Chapter"
time=2026-01-09T16:07:24.329-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:24.330-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:24.331-03:00 level=INFO msg="world created" world_id=8f98fbac-6ede-4cf3-8f7f-ab36157df8a6 name="World of Test Story" tenant_id=b0d2b8df-b280-42db-a401-c5e06c095491
time=2026-01-09T16:07:24.331-03:00 level=INFO msg="created implicit world for story" world_id=8f98fbac-6ede-4cf3-8f7f-ab36157df8a6 story_title="Test Story"
time=2026-01-09T16:07:24.332-03:00 level=INFO msg="story created" story_id=cd453209-70f8-4056-99a5-c15299a4f36f title="Test Story" tenant_id=b0d2b8df-b280-42db-a401-c5e06c095491
time=2026-01-09T16:07:24.332-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_GetChapter/existing_chapter
time=2026-01-09T16:07:24.332-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.334-03:00 level=INFO msg="chapter created" chapter_id=d2e559ee-f318-439f-8e6a-daf241cacc24 story_id=cd453209-70f8-4056-99a5-c15299a4f36f tenant_id=b0d2b8df-b280-42db-a401-c5e06c095491
time=2026-01-09T16:07:24.334-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-09T16:07:24.334-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-09T16:07:24.334-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/GetChapter duration_ms=0
=== RUN   TestChapterHandler_GetChapter/non-existing_chapter
time=2026-01-09T16:07:24.335-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-09T16:07:24.335-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 6dbc5959-bd8f-4ff4-812f-6e4461375edd" chapter_id=6dbc5959-bd8f-4ff4-812f-6e4461375edd tenant_id=b0d2b8df-b280-42db-a401-c5e06c095491
time=2026-01-09T16:07:24.335-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 6dbc5959-bd8f-4ff4-812f-6e4461375edd"
=== RUN   TestChapterHandler_GetChapter/invalid_ID
time=2026-01-09T16:07:24.335-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-09T16:07:24.335-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid id: invalid UUID length: 10"
time=2026-01-09T16:07:24.336-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_GetChapter (0.16s)
    --- PASS: TestChapterHandler_GetChapter/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/non-existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/invalid_ID (0.00s)
=== RUN   TestChapterHandler_UpdateChapter
time=2026-01-09T16:07:24.493-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:24.493-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:24.493-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:24.493-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:24.493-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:24.493-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:24.493-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:24.494-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:24.496-03:00 level=INFO msg="tenant created" tenant_id=d4975866-fe52-4677-bc75-99950e81f665 name="Test Tenant for Update Chapter"
time=2026-01-09T16:07:24.496-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:24.496-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:24.498-03:00 level=INFO msg="world created" world_id=e183482d-0b1f-4ebe-977e-fa6803c6c85f name="World of Test Story" tenant_id=d4975866-fe52-4677-bc75-99950e81f665
time=2026-01-09T16:07:24.498-03:00 level=INFO msg="created implicit world for story" world_id=e183482d-0b1f-4ebe-977e-fa6803c6c85f story_title="Test Story"
time=2026-01-09T16:07:24.499-03:00 level=INFO msg="story created" story_id=51429502-e423-4da4-8733-d0915b2540b0 title="Test Story" tenant_id=d4975866-fe52-4677-bc75-99950e81f665
time=2026-01-09T16:07:24.499-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_UpdateChapter/successful_update
time=2026-01-09T16:07:24.499-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.500-03:00 level=INFO msg="chapter created" chapter_id=68348518-7899-4165-a331-544528609a41 story_id=51429502-e423-4da4-8733-d0915b2540b0 tenant_id=d4975866-fe52-4677-bc75-99950e81f665
time=2026-01-09T16:07:24.500-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T16:07:24.500-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-09T16:07:24.501-03:00 level=INFO msg="chapter updated" chapter_id=68348518-7899-4165-a331-544528609a41 tenant_id=d4975866-fe52-4677-bc75-99950e81f665
time=2026-01-09T16:07:24.501-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/UpdateChapter duration_ms=0
=== RUN   TestChapterHandler_UpdateChapter/non-existing_chapter
time=2026-01-09T16:07:24.501-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-09T16:07:24.501-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/UpdateChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 1b80bcc6-242e-4efe-8b8c-59a6819c212e"
time=2026-01-09T16:07:24.501-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_UpdateChapter (0.17s)
    --- PASS: TestChapterHandler_UpdateChapter/successful_update (0.00s)
    --- PASS: TestChapterHandler_UpdateChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_DeleteChapter
time=2026-01-09T16:07:24.636-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:24.636-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:24.636-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:24.636-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:24.636-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:24.636-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:24.636-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:24.637-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:24.639-03:00 level=INFO msg="tenant created" tenant_id=ca4e3385-c8dc-4133-bf9f-eb7b3ad5d98c name="Test Tenant for Delete Chapter"
time=2026-01-09T16:07:24.639-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T16:07:24.639-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:24.640-03:00 level=INFO msg="world created" world_id=6dba32c4-179b-4eb5-a9cd-ec99ebbbdc62 name="World of Test Story" tenant_id=ca4e3385-c8dc-4133-bf9f-eb7b3ad5d98c
time=2026-01-09T16:07:24.640-03:00 level=INFO msg="created implicit world for story" world_id=6dba32c4-179b-4eb5-a9cd-ec99ebbbdc62 story_title="Test Story"
time=2026-01-09T16:07:24.642-03:00 level=INFO msg="story created" story_id=466c68f2-596e-4147-8230-53a6be2202a3 title="Test Story" tenant_id=ca4e3385-c8dc-4133-bf9f-eb7b3ad5d98c
time=2026-01-09T16:07:24.642-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_DeleteChapter/successful_delete
time=2026-01-09T16:07:24.642-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.643-03:00 level=INFO msg="chapter created" chapter_id=4e0e4f63-b68b-4292-8c61-35fbf574df06 story_id=466c68f2-596e-4147-8230-53a6be2202a3 tenant_id=ca4e3385-c8dc-4133-bf9f-eb7b3ad5d98c
time=2026-01-09T16:07:24.643-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-09T16:07:24.644-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-09T16:07:24.648-03:00 level=INFO msg="chapter deleted" chapter_id=4e0e4f63-b68b-4292-8c61-35fbf574df06 tenant_id=ca4e3385-c8dc-4133-bf9f-eb7b3ad5d98c
time=2026-01-09T16:07:24.648-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/DeleteChapter duration_ms=4
time=2026-01-09T16:07:24.649-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-09T16:07:24.649-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 4e0e4f63-b68b-4292-8c61-35fbf574df06" chapter_id=4e0e4f63-b68b-4292-8c61-35fbf574df06 tenant_id=ca4e3385-c8dc-4133-bf9f-eb7b3ad5d98c
time=2026-01-09T16:07:24.649-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 4e0e4f63-b68b-4292-8c61-35fbf574df06"
=== RUN   TestChapterHandler_DeleteChapter/non-existing_chapter
time=2026-01-09T16:07:24.649-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-09T16:07:24.649-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/DeleteChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: e01c2b2d-8134-4eee-8a7a-9f12a3a272aa"
time=2026-01-09T16:07:24.649-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_DeleteChapter (0.15s)
    --- PASS: TestChapterHandler_DeleteChapter/successful_delete (0.01s)
    --- PASS: TestChapterHandler_DeleteChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_ListChaptersByStory
time=2026-01-09T16:07:24.783-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:24.783-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:24.783-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:24.783-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:24.783-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:24.783-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:24.783-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:24.784-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:24.787-03:00 level=INFO msg="tenant created" tenant_id=30eab8ba-7f63-4c65-a6b7-ac1e5414f898 name="Test Tenant for List Chapters"
time=2026-01-09T16:07:24.787-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:24.787-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:24.789-03:00 level=INFO msg="world created" world_id=fc7728b0-1d16-4252-8290-83c53f594ee8 name="World of Test Story" tenant_id=30eab8ba-7f63-4c65-a6b7-ac1e5414f898
time=2026-01-09T16:07:24.789-03:00 level=INFO msg="created implicit world for story" world_id=fc7728b0-1d16-4252-8290-83c53f594ee8 story_title="Test Story"
time=2026-01-09T16:07:24.790-03:00 level=INFO msg="story created" story_id=d8d9d4ac-d176-4247-bb5b-f240f88d7ec6 title="Test Story" tenant_id=30eab8ba-7f63-4c65-a6b7-ac1e5414f898
time=2026-01-09T16:07:24.790-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_ListChaptersByStory/list_chapters
time=2026-01-09T16:07:24.791-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.791-03:00 level=INFO msg="chapter created" chapter_id=1e3722b9-9623-4234-849a-0f6dfaba1b19 story_id=d8d9d4ac-d176-4247-bb5b-f240f88d7ec6 tenant_id=30eab8ba-7f63-4c65-a6b7-ac1e5414f898
time=2026-01-09T16:07:24.791-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T16:07:24.792-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.792-03:00 level=INFO msg="chapter created" chapter_id=8a61fbd9-b909-410b-87d4-d96d0ccf9d6a story_id=d8d9d4ac-d176-4247-bb5b-f240f88d7ec6 tenant_id=30eab8ba-7f63-4c65-a6b7-ac1e5414f898
time=2026-01-09T16:07:24.792-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T16:07:24.792-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:24.793-03:00 level=INFO msg="chapter created" chapter_id=f43bd212-ab51-4d6b-b914-9a55996685ba story_id=d8d9d4ac-d176-4247-bb5b-f240f88d7ec6 tenant_id=30eab8ba-7f63-4c65-a6b7-ac1e5414f898
time=2026-01-09T16:07:24.793-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T16:07:24.793-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-09T16:07:24.793-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
=== RUN   TestChapterHandler_ListChaptersByStory/empty_list_for_new_story
time=2026-01-09T16:07:24.793-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:24.794-03:00 level=INFO msg="world created" world_id=d1878edb-f254-4223-b6f4-a4af7852c6a6 name="World of Empty Story" tenant_id=30eab8ba-7f63-4c65-a6b7-ac1e5414f898
time=2026-01-09T16:07:24.794-03:00 level=INFO msg="created implicit world for story" world_id=d1878edb-f254-4223-b6f4-a4af7852c6a6 story_title="Empty Story"
time=2026-01-09T16:07:24.795-03:00 level=INFO msg="story created" story_id=93e13c64-77a8-434a-9a5b-b8177dee190f title="Empty Story" tenant_id=30eab8ba-7f63-4c65-a6b7-ac1e5414f898
time=2026-01-09T16:07:24.795-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T16:07:24.795-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-09T16:07:24.795-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
time=2026-01-09T16:07:24.795-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_ListChaptersByStory (0.15s)
    --- PASS: TestChapterHandler_ListChaptersByStory/list_chapters (0.00s)
    --- PASS: TestChapterHandler_ListChaptersByStory/empty_list_for_new_story (0.00s)
=== RUN   TestCharacterHandler_CreateCharacter
time=2026-01-09T16:07:24.937-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:24.937-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:24.937-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_CreateCharacter/successful_creation
time=2026-01-09T16:07:24.940-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:24.942-03:00 level=INFO msg="tenant created" tenant_id=7b3d1c3e-ad34-4ad5-91e1-5828350c4436 name="Test Tenant for Character"
time=2026-01-09T16:07:24.942-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:24.942-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:24.943-03:00 level=INFO msg="world created" world_id=460361f0-fd31-4ec3-978b-72f448a88e8d name="Test World" tenant_id=7b3d1c3e-ad34-4ad5-91e1-5828350c4436
time=2026-01-09T16:07:24.943-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:24.943-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:24.944-03:00 level=INFO msg="character created" character_id=34bd21dd-f634-4f33-a651-de51873fd50a name="Test Character"
time=2026-01-09T16:07:24.944-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestCharacterHandler_CreateCharacter/empty_name
time=2026-01-09T16:07:24.945-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:24.945-03:00 level=INFO msg="tenant created" tenant_id=9fe1fb1a-2582-41c1-88bd-6aeffa5dad5c name="Test Tenant 2"
time=2026-01-09T16:07:24.945-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:24.946-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:24.946-03:00 level=INFO msg="world created" world_id=aea5e5d4-5c15-4985-9a31-f000021c34ca name="Test World 2" tenant_id=9fe1fb1a-2582-41c1-88bd-6aeffa5dad5c
time=2026-01-09T16:07:24.946-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:24.947-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:24.947-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacter duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T16:07:24.947-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_CreateCharacter (0.15s)
    --- PASS: TestCharacterHandler_CreateCharacter/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacter/empty_name (0.00s)
=== RUN   TestCharacterHandler_GetCharacter
time=2026-01-09T16:07:25.095-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:25.095-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:25.095-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacter/existing_character
time=2026-01-09T16:07:25.096-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:25.098-03:00 level=INFO msg="tenant created" tenant_id=1ea2dcba-15db-4067-a0fd-b84e5cefe339 name="Get Test Tenant"
time=2026-01-09T16:07:25.098-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:25.099-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:25.100-03:00 level=INFO msg="world created" world_id=d73412fc-8042-43cd-ace7-22b2b64e99c5 name="Get Test World" tenant_id=1ea2dcba-15db-4067-a0fd-b84e5cefe339
time=2026-01-09T16:07:25.100-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:25.100-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:25.101-03:00 level=INFO msg="character created" character_id=60a5c4d2-5c8e-462c-b70e-845e863116bf name="Get Test Character"
time=2026-01-09T16:07:25.101-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:25.101-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-09T16:07:25.101-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacter duration_ms=0
=== RUN   TestCharacterHandler_GetCharacter/non-existing_character
time=2026-01-09T16:07:25.102-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:25.102-03:00 level=INFO msg="tenant created" tenant_id=031da848-b218-488c-9e65-21e6ceb1b792 name="Non-existing Test Tenant"
time=2026-01-09T16:07:25.102-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:25.102-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-09T16:07:25.102-03:00 level=ERROR msg="failed to get character" error="character not found: a5880637-0a63-4d96-83a6-f6c61410624d" character_id=a5880637-0a63-4d96-83a6-f6c61410624d
time=2026-01-09T16:07:25.102-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: a5880637-0a63-4d96-83a6-f6c61410624d"
time=2026-01-09T16:07:25.103-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacter (0.16s)
    --- PASS: TestCharacterHandler_GetCharacter/existing_character (0.01s)
    --- PASS: TestCharacterHandler_GetCharacter/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListCharacters
time=2026-01-09T16:07:25.270-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:25.270-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:25.270-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_ListCharacters/list_characters
time=2026-01-09T16:07:25.270-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:25.273-03:00 level=INFO msg="tenant created" tenant_id=22139684-5434-4cb6-8f98-3801dd64ea41 name="List Test Tenant"
time=2026-01-09T16:07:25.273-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:25.273-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:25.275-03:00 level=INFO msg="world created" world_id=7fb71373-d4b0-4ffc-be5b-78939c5f64d1 name="List Test World" tenant_id=22139684-5434-4cb6-8f98-3801dd64ea41
time=2026-01-09T16:07:25.275-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:25.275-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:25.277-03:00 level=INFO msg="character created" character_id=16e517b6-0bd0-4045-8032-e54e293870c7 name="Character 1"
time=2026-01-09T16:07:25.277-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-09T16:07:25.277-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:25.279-03:00 level=INFO msg="character created" character_id=a1c37777-6480-48ca-9175-b05f3e24e61d name="Character 2"
time=2026-01-09T16:07:25.279-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:25.279-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacters
time=2026-01-09T16:07:25.280-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacters duration_ms=1
time=2026-01-09T16:07:25.281-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_ListCharacters (0.18s)
    --- PASS: TestCharacterHandler_ListCharacters/list_characters (0.01s)
=== RUN   TestCharacterHandler_UpdateCharacter
time=2026-01-09T16:07:25.461-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:25.461-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:25.461-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_UpdateCharacter/update_character
time=2026-01-09T16:07:25.462-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:25.464-03:00 level=INFO msg="tenant created" tenant_id=96677502-0db3-467f-a899-36ec37d034f2 name="Update Test Tenant"
time=2026-01-09T16:07:25.464-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:25.464-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:25.465-03:00 level=INFO msg="world created" world_id=459c9d7d-424f-4a87-98aa-12e10fa2da75 name="Update Test World" tenant_id=96677502-0db3-467f-a899-36ec37d034f2
time=2026-01-09T16:07:25.465-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:25.465-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:25.466-03:00 level=INFO msg="character created" character_id=37d7fe42-8e0c-41fc-a4fd-f9864ce8cd3d name="Original Character"
time=2026-01-09T16:07:25.466-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:25.466-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacter
time=2026-01-09T16:07:25.467-03:00 level=INFO msg="character updated" character_id=37d7fe42-8e0c-41fc-a4fd-f9864ce8cd3d name="Updated Character"
time=2026-01-09T16:07:25.467-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacter duration_ms=1
time=2026-01-09T16:07:25.468-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_UpdateCharacter (0.18s)
    --- PASS: TestCharacterHandler_UpdateCharacter/update_character (0.01s)
=== RUN   TestCharacterHandler_DeleteCharacter
time=2026-01-09T16:07:25.624-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:25.624-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:25.624-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_DeleteCharacter/delete_character
time=2026-01-09T16:07:25.627-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:25.630-03:00 level=INFO msg="tenant created" tenant_id=9df9ccc4-553f-4f4d-9d35-159ddeb5be06 name="Delete Test Tenant"
time=2026-01-09T16:07:25.630-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:25.630-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:25.631-03:00 level=INFO msg="world created" world_id=c18abfaf-3382-45b2-8ff2-71c8816cc600 name="Delete Test World" tenant_id=9df9ccc4-553f-4f4d-9d35-159ddeb5be06
time=2026-01-09T16:07:25.631-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:25.631-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:25.635-03:00 level=INFO msg="character created" character_id=a5c2dc90-7930-4f79-be42-d8def28dc8c2 name="Character to Delete"
time=2026-01-09T16:07:25.635-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=3
time=2026-01-09T16:07:25.635-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/DeleteCharacter
time=2026-01-09T16:07:25.639-03:00 level=INFO msg="character deleted" character_id=a5c2dc90-7930-4f79-be42-d8def28dc8c2 name="Character to Delete"
time=2026-01-09T16:07:25.639-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/DeleteCharacter duration_ms=3
time=2026-01-09T16:07:25.639-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-09T16:07:25.639-03:00 level=ERROR msg="failed to get character" error="character not found: a5c2dc90-7930-4f79-be42-d8def28dc8c2" character_id=a5c2dc90-7930-4f79-be42-d8def28dc8c2
time=2026-01-09T16:07:25.639-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: a5c2dc90-7930-4f79-be42-d8def28dc8c2"
time=2026-01-09T16:07:25.640-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_DeleteCharacter (0.17s)
    --- PASS: TestCharacterHandler_DeleteCharacter/delete_character (0.01s)
=== RUN   TestCharacterHandler_GetCharacterEvents
time=2026-01-09T16:07:25.789-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:25.789-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:25.789-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events
time=2026-01-09T16:07:25.790-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:25.792-03:00 level=INFO msg="tenant created" tenant_id=ed47afcc-9fbf-40c6-8756-ef915287691e name="Events Test Tenant"
time=2026-01-09T16:07:25.792-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:25.792-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:25.793-03:00 level=INFO msg="world created" world_id=fcf984d2-bba3-4642-956c-2b03663c3845 name="Events Test World" tenant_id=ed47afcc-9fbf-40c6-8756-ef915287691e
time=2026-01-09T16:07:25.793-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:25.793-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:25.796-03:00 level=INFO msg="character created" character_id=0159a41d-3c60-4fef-8619-91432d3f0d0b name="Character With Events"
time=2026-01-09T16:07:25.796-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-09T16:07:25.796-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-09T16:07:25.797-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacterEvents duration_ms=0
=== RUN   TestCharacterHandler_GetCharacterEvents/invalid_character_id
time=2026-01-09T16:07:25.797-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:25.798-03:00 level=INFO msg="tenant created" tenant_id=33e68164-7d03-422f-b49f-c9eeda36f48b name="Invalid Events Test Tenant"
time=2026-01-09T16:07:25.798-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:25.798-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-09T16:07:25.798-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacterEvents duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid character_id: invalid UUID length: 12"
time=2026-01-09T16:07:25.798-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacterEvents (0.16s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events (0.01s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/invalid_character_id (0.00s)
=== RUN   TestCharacterHandler_CreateCharacterRelationship
    character_handler_test.go:417: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_CreateCharacterRelationship (0.00s)
=== RUN   TestCharacterHandler_GetCharacterRelationship
    character_handler_test.go:564: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_GetCharacterRelationship (0.00s)
=== RUN   TestCharacterHandler_ListCharacterRelationships
    character_handler_test.go:659: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_ListCharacterRelationships (0.00s)
=== RUN   TestCharacterHandler_UpdateCharacterRelationship
    character_handler_test.go:800: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_UpdateCharacterRelationship (0.00s)
=== RUN   TestCharacterHandler_DeleteCharacterRelationship
    character_handler_test.go:943: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_DeleteCharacterRelationship (0.00s)
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats
time=2026-01-09T16:07:25.953-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:25.953-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:25.953-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:25.954-03:00 level=INFO msg="CharacterRPGStatsService registered"
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation
time=2026-01-09T16:07:25.955-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:25.957-03:00 level=INFO msg="tenant created" tenant_id=b3bd54b8-f880-4c15-80c5-c88d9d64154b name="Test Tenant for Character Stats"
time=2026-01-09T16:07:25.958-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:25.958-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:25.959-03:00 level=INFO msg="world created" world_id=c9ea6b61-0326-416f-8e19-94d790933cbd name="Test World" tenant_id=b3bd54b8-f880-4c15-80c5-c88d9d64154b
time=2026-01-09T16:07:25.959-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:25.959-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:25.961-03:00 level=INFO msg="character created" character_id=36a03fcc-d32c-4f39-82fe-5a04c2129901 name="Test Character"
time=2026-01-09T16:07:25.961-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:25.961-03:00 level=INFO msg="gRPC request started" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats
time=2026-01-09T16:07:25.963-03:00 level=INFO msg="character RPG stats created" character_id=36a03fcc-d32c-4f39-82fe-5a04c2129901 version=1
time=2026-01-09T16:07:25.963-03:00 level=INFO msg="gRPC request completed" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats duration_ms=2
time=2026-01-09T16:07:25.964-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats (0.17s)
    --- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation (0.01s)
=== RUN   TestCharacterSkillHandler_AddCharacterSkill
time=2026-01-09T16:07:26.122-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:26.122-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:26.122-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:26.122-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:26.122-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:26.122-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill
time=2026-01-09T16:07:26.123-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:26.126-03:00 level=INFO msg="tenant created" tenant_id=724869d7-66eb-4e2d-af63-368a67aa2f85 name="Test Tenant for Character Skill"
time=2026-01-09T16:07:26.126-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:26.126-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:26.128-03:00 level=INFO msg="world created" world_id=bbd05cad-6ca8-4290-bf47-bba5a4b2054a name="Test World" tenant_id=724869d7-66eb-4e2d-af63-368a67aa2f85
time=2026-01-09T16:07:26.128-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=2
time=2026-01-09T16:07:26.128-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:26.130-03:00 level=INFO msg="character created" character_id=a39b84a0-f989-4fd1-b529-aa4f85aa41c8 name="Test Character"
time=2026-01-09T16:07:26.130-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:26.130-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:26.131-03:00 level=INFO msg="RPG system created" rpg_system_id=3e35c872-fd7e-4cc4-bd3a-4f35703e3596 name="Test System"
time=2026-01-09T16:07:26.131-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:26.131-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:26.132-03:00 level=INFO msg="skill created" skill_id=506ffd78-bd00-48df-9db0-4e174bcab1b5 name=Fireball
time=2026-01-09T16:07:26.132-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-09T16:07:26.133-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-09T16:07:26.135-03:00 level=INFO msg="character learned skill" character_id=a39b84a0-f989-4fd1-b529-aa4f85aa41c8 skill_id=506ffd78-bd00-48df-9db0-4e174bcab1b5
time=2026-01-09T16:07:26.135-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-09T16:07:26.135-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_AddCharacterSkill (0.17s)
    --- PASS: TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill (0.01s)
=== RUN   TestCharacterSkillHandler_ListCharacterSkills
time=2026-01-09T16:07:26.297-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:26.297-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:26.297-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:26.297-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:26.297-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:26.297-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_ListCharacterSkills/list_character_skills
time=2026-01-09T16:07:26.299-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:26.301-03:00 level=INFO msg="tenant created" tenant_id=46c7be23-453e-4e8c-80b5-7558e1568271 name="List Test Tenant"
time=2026-01-09T16:07:26.301-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:26.301-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:26.302-03:00 level=INFO msg="world created" world_id=acac3df9-cf8d-4712-a1d0-658acc9b9058 name="List Test World" tenant_id=46c7be23-453e-4e8c-80b5-7558e1568271
time=2026-01-09T16:07:26.302-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:26.302-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:26.304-03:00 level=INFO msg="character created" character_id=81c0a429-5ce1-47e0-a84b-6fd3050f3df5 name="List Test Character"
time=2026-01-09T16:07:26.304-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:26.304-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:26.305-03:00 level=INFO msg="RPG system created" rpg_system_id=0f34aa92-ec6c-48bc-bc18-6c0e22134057 name="List Test System"
time=2026-01-09T16:07:26.305-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:26.305-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:26.306-03:00 level=INFO msg="skill created" skill_id=08e75c35-5bbd-43ef-bf49-9a070555c9c3 name="List Test Skill"
time=2026-01-09T16:07:26.306-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-09T16:07:26.306-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-09T16:07:26.308-03:00 level=INFO msg="character learned skill" character_id=81c0a429-5ce1-47e0-a84b-6fd3050f3df5 skill_id=08e75c35-5bbd-43ef-bf49-9a070555c9c3
time=2026-01-09T16:07:26.308-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-09T16:07:26.308-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-09T16:07:26.308-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
time=2026-01-09T16:07:26.308-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_ListCharacterSkills (0.17s)
    --- PASS: TestCharacterSkillHandler_ListCharacterSkills/list_character_skills (0.01s)
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill
time=2026-01-09T16:07:26.455-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:26.455-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:26.455-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:26.455-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:26.455-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:26.455-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-09T16:07:26.457-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:26.459-03:00 level=INFO msg="tenant created" tenant_id=9c850cb2-ed66-4963-b825-3f2d012f0137 name="Update Skill Test Tenant"
time=2026-01-09T16:07:26.459-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:26.459-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:26.460-03:00 level=INFO msg="world created" world_id=e8d2f713-9c37-4e9d-ac51-3b2c04f6f860 name="Test World" tenant_id=9c850cb2-ed66-4963-b825-3f2d012f0137
time=2026-01-09T16:07:26.460-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:26.460-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:26.461-03:00 level=INFO msg="character created" character_id=34cabb3b-893a-49ed-bccb-b65796757999 name="Test Character"
time=2026-01-09T16:07:26.461-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:26.462-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:26.462-03:00 level=INFO msg="RPG system created" rpg_system_id=b438b37c-b6d3-44a9-a4d3-27b7d962f316 name="Test System"
time=2026-01-09T16:07:26.462-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:26.463-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:26.464-03:00 level=INFO msg="skill created" skill_id=5ed5d6c4-70c6-4d28-8e10-3bdce0de9d53 name=Fireball
time=2026-01-09T16:07:26.464-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/successful_update
time=2026-01-09T16:07:26.464-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-09T16:07:26.467-03:00 level=INFO msg="character learned skill" character_id=34cabb3b-893a-49ed-bccb-b65796757999 skill_id=5ed5d6c4-70c6-4d28-8e10-3bdce0de9d53
time=2026-01-09T16:07:26.467-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-09T16:07:26.467-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-09T16:07:26.468-03:00 level=INFO msg="character skill updated" id=d5697694-fff8-43c2-a3ee-cd7f380e6023 character_id=34cabb3b-893a-49ed-bccb-b65796757999
time=2026-01-09T16:07:26.468-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill
time=2026-01-09T16:07:26.469-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-09T16:07:26.469-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: c9f6be81-a6ac-4aba-9d40-1eafeb1e9636"
time=2026-01-09T16:07:26.469-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_UpdateCharacterSkill (0.16s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/successful_update (0.00s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill (0.00s)
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill
time=2026-01-09T16:07:26.615-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:26.615-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:26.615-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:26.615-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:26.615-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:26.615-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-09T16:07:26.619-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:26.621-03:00 level=INFO msg="tenant created" tenant_id=607e8bb8-62c3-4d07-afd8-96fce1ac63a6 name="Delete Skill Test Tenant"
time=2026-01-09T16:07:26.621-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:26.621-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:26.622-03:00 level=INFO msg="world created" world_id=05582b4d-fa47-4672-bf38-6c1d21994d7f name="Test World" tenant_id=607e8bb8-62c3-4d07-afd8-96fce1ac63a6
time=2026-01-09T16:07:26.622-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:26.623-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:26.624-03:00 level=INFO msg="character created" character_id=736f9cee-5a26-4980-b834-57ef3d5deb9e name="Test Character"
time=2026-01-09T16:07:26.624-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:26.624-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:26.624-03:00 level=INFO msg="RPG system created" rpg_system_id=428bd457-fc30-4eb2-a6c9-117315530170 name="Test System"
time=2026-01-09T16:07:26.624-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:26.625-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:26.626-03:00 level=INFO msg="skill created" skill_id=38b2ec30-ecdb-45ab-a43a-e86befb4c664 name=Fireball
time=2026-01-09T16:07:26.626-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete
time=2026-01-09T16:07:26.626-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-09T16:07:26.628-03:00 level=INFO msg="character learned skill" character_id=736f9cee-5a26-4980-b834-57ef3d5deb9e skill_id=38b2ec30-ecdb-45ab-a43a-e86befb4c664
time=2026-01-09T16:07:26.628-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-09T16:07:26.628-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-09T16:07:26.628-03:00 level=INFO msg="character skill deleted" id=7c8a5405-d904-492b-b005-e9ad7d03c569
time=2026-01-09T16:07:26.628-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0
time=2026-01-09T16:07:26.628-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-09T16:07:26.629-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill
time=2026-01-09T16:07:26.629-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-09T16:07:26.629-03:00 level=ERROR msg="failed to delete character skill" error="character_skill not found: 41406462-b41f-4421-9dc8-ef4131f89e43" id=41406462-b41f-4421-9dc8-ef4131f89e43
time=2026-01-09T16:07:26.629-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: 41406462-b41f-4421-9dc8-ef4131f89e43"
time=2026-01-09T16:07:26.629-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_DeleteCharacterSkill (0.16s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete (0.00s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill (0.00s)
=== RUN   TestContentBlockHandler_CreateContentBlock
time=2026-01-09T16:07:26.897-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:26.897-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:26.898-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:26.898-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:26.898-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:26.898-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:26.898-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:26.898-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:26.901-03:00 level=INFO msg="tenant created" tenant_id=9b4fbd9a-1eda-422a-998a-6dd3ec7a4495 name="Test Tenant for ContentBlock"
time=2026-01-09T16:07:26.901-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:26.901-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:26.903-03:00 level=INFO msg="world created" world_id=364f06d1-80d3-4ed7-886d-4973102e9648 name="World of Test Story" tenant_id=9b4fbd9a-1eda-422a-998a-6dd3ec7a4495
time=2026-01-09T16:07:26.903-03:00 level=INFO msg="created implicit world for story" world_id=364f06d1-80d3-4ed7-886d-4973102e9648 story_title="Test Story"
time=2026-01-09T16:07:26.904-03:00 level=INFO msg="story created" story_id=9a601432-8ce3-4e96-920e-c1a4dda6d4af title="Test Story" tenant_id=9b4fbd9a-1eda-422a-998a-6dd3ec7a4495
time=2026-01-09T16:07:26.904-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:26.904-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:26.905-03:00 level=INFO msg="chapter created" chapter_id=a86aa89e-ddbd-4fc0-ae1c-22dff7afa157 story_id=9a601432-8ce3-4e96-920e-c1a4dda6d4af tenant_id=9b4fbd9a-1eda-422a-998a-6dd3ec7a4495
time=2026-01-09T16:07:26.905-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/successful_creation
time=2026-01-09T16:07:26.906-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:26.907-03:00 level=INFO msg="content block created" content_block_id=e000db52-5646-44d8-9703-b50487991856 tenant_id=9b4fbd9a-1eda-422a-998a-6dd3ec7a4495
time=2026-01-09T16:07:26.907-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/default_kind
time=2026-01-09T16:07:26.907-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:26.908-03:00 level=INFO msg="content block created" content_block_id=1c5fff41-3ada-4cda-9e13-ea69c4be6229 tenant_id=9b4fbd9a-1eda-422a-998a-6dd3ec7a4495
time=2026-01-09T16:07:26.908-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_chapter_id
time=2026-01-09T16:07:26.908-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:26.908-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 7c996c0f-1ffc-4834-a609-c55daf56a846"
=== RUN   TestContentBlockHandler_CreateContentBlock/empty_content
time=2026-01-09T16:07:26.909-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:26.909-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on content: content is required"
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_order_num
time=2026-01-09T16:07:26.909-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:26.909-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-09T16:07:26.909-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_CreateContentBlock (0.28s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/default_kind (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_chapter_id (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/empty_content (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_order_num (0.00s)
=== RUN   TestContentBlockHandler_GetContentBlock
time=2026-01-09T16:07:27.306-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:27.306-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:27.306-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:27.306-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:27.306-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:27.306-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:27.306-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:27.308-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:27.318-03:00 level=INFO msg="tenant created" tenant_id=f0a4e0dd-7634-4edd-b76b-e92ba5af2591 name="Test Tenant for Get ContentBlock"
time=2026-01-09T16:07:27.318-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=10
time=2026-01-09T16:07:27.319-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:27.323-03:00 level=INFO msg="world created" world_id=d52fcdf7-bd0a-45c6-aa41-889a2c91a027 name="World of Test Story" tenant_id=f0a4e0dd-7634-4edd-b76b-e92ba5af2591
time=2026-01-09T16:07:27.323-03:00 level=INFO msg="created implicit world for story" world_id=d52fcdf7-bd0a-45c6-aa41-889a2c91a027 story_title="Test Story"
time=2026-01-09T16:07:27.327-03:00 level=INFO msg="story created" story_id=03d67095-2339-4af9-a623-128b3bc4c088 title="Test Story" tenant_id=f0a4e0dd-7634-4edd-b76b-e92ba5af2591
time=2026-01-09T16:07:27.327-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=8
time=2026-01-09T16:07:27.328-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:27.329-03:00 level=INFO msg="chapter created" chapter_id=be73f1f0-b864-432e-9cf8-5a8cf7bf5149 story_id=03d67095-2339-4af9-a623-128b3bc4c088 tenant_id=f0a4e0dd-7634-4edd-b76b-e92ba5af2591
time=2026-01-09T16:07:27.329-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_GetContentBlock/existing_content_block
time=2026-01-09T16:07:27.330-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:27.331-03:00 level=INFO msg="content block created" content_block_id=a7ac1639-1e3e-4816-b417-6060bd0079d5 tenant_id=f0a4e0dd-7634-4edd-b76b-e92ba5af2591
time=2026-01-09T16:07:27.331-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-09T16:07:27.331-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-09T16:07:27.331-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_GetContentBlock/non-existing_content_block
time=2026-01-09T16:07:27.331-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-09T16:07:27.332-03:00 level=ERROR msg="failed to get content block" error="content_block not found: e9248eb8-94f3-479b-baea-12d76856f21e" content_block_id=e9248eb8-94f3-479b-baea-12d76856f21e tenant_id=f0a4e0dd-7634-4edd-b76b-e92ba5af2591
time=2026-01-09T16:07:27.332-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: e9248eb8-94f3-479b-baea-12d76856f21e"
time=2026-01-09T16:07:27.332-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_GetContentBlock (0.43s)
    --- PASS: TestContentBlockHandler_GetContentBlock/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_GetContentBlock/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_UpdateContentBlock
time=2026-01-09T16:07:27.483-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:27.483-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:27.483-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:27.483-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:27.483-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:27.483-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:27.483-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:27.484-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:27.486-03:00 level=INFO msg="tenant created" tenant_id=ff5d41fb-acf0-4d68-98fc-ffdfc826e6ab name="Test Tenant for Update ContentBlock"
time=2026-01-09T16:07:27.486-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:27.486-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:27.487-03:00 level=INFO msg="world created" world_id=dcbf0c83-d9fb-4ea6-9372-32fbf11a0473 name="World of Test Story" tenant_id=ff5d41fb-acf0-4d68-98fc-ffdfc826e6ab
time=2026-01-09T16:07:27.487-03:00 level=INFO msg="created implicit world for story" world_id=dcbf0c83-d9fb-4ea6-9372-32fbf11a0473 story_title="Test Story"
time=2026-01-09T16:07:27.488-03:00 level=INFO msg="story created" story_id=5df7f04c-3d7b-4a1b-83cf-2c00e82c7151 title="Test Story" tenant_id=ff5d41fb-acf0-4d68-98fc-ffdfc826e6ab
time=2026-01-09T16:07:27.488-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:27.488-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:27.489-03:00 level=INFO msg="chapter created" chapter_id=9c6c3236-e482-4e6f-bd42-32d4dfb312bf story_id=5df7f04c-3d7b-4a1b-83cf-2c00e82c7151 tenant_id=ff5d41fb-acf0-4d68-98fc-ffdfc826e6ab
time=2026-01-09T16:07:27.489-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_UpdateContentBlock/successful_update
time=2026-01-09T16:07:27.489-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:27.490-03:00 level=INFO msg="content block created" content_block_id=c586513d-508a-4b54-91e7-b9728f7b9230 tenant_id=ff5d41fb-acf0-4d68-98fc-ffdfc826e6ab
time=2026-01-09T16:07:27.490-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-09T16:07:27.490-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/UpdateContentBlock
time=2026-01-09T16:07:27.491-03:00 level=INFO msg="content block updated" content_block_id=c586513d-508a-4b54-91e7-b9728f7b9230 tenant_id=ff5d41fb-acf0-4d68-98fc-ffdfc826e6ab
time=2026-01-09T16:07:27.491-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/UpdateContentBlock duration_ms=0
time=2026-01-09T16:07:27.491-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_UpdateContentBlock (0.15s)
    --- PASS: TestContentBlockHandler_UpdateContentBlock/successful_update (0.00s)
=== RUN   TestContentBlockHandler_DeleteContentBlock
time=2026-01-09T16:07:27.644-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:27.644-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:27.644-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:27.644-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:27.644-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:27.644-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:27.644-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:27.646-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:27.651-03:00 level=INFO msg="tenant created" tenant_id=03b6d816-2576-4934-aade-a60af10e31d9 name="Test Tenant for Delete ContentBlock"
time=2026-01-09T16:07:27.651-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-09T16:07:27.651-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:27.652-03:00 level=INFO msg="world created" world_id=21f13004-6b28-4c88-907c-1b04e0b72108 name="World of Test Story" tenant_id=03b6d816-2576-4934-aade-a60af10e31d9
time=2026-01-09T16:07:27.652-03:00 level=INFO msg="created implicit world for story" world_id=21f13004-6b28-4c88-907c-1b04e0b72108 story_title="Test Story"
time=2026-01-09T16:07:27.654-03:00 level=INFO msg="story created" story_id=01f2458f-e186-40a2-ad86-719d7541839e title="Test Story" tenant_id=03b6d816-2576-4934-aade-a60af10e31d9
time=2026-01-09T16:07:27.654-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:27.654-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:27.655-03:00 level=INFO msg="chapter created" chapter_id=4e474f39-552c-440a-a2f3-58f252dcc335 story_id=01f2458f-e186-40a2-ad86-719d7541839e tenant_id=03b6d816-2576-4934-aade-a60af10e31d9
time=2026-01-09T16:07:27.655-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_DeleteContentBlock/successful_delete
time=2026-01-09T16:07:27.655-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:27.656-03:00 level=INFO msg="content block created" content_block_id=b08b1608-2dfc-4de0-a67b-3765d38a0aae tenant_id=03b6d816-2576-4934-aade-a60af10e31d9
time=2026-01-09T16:07:27.656-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-09T16:07:27.656-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/DeleteContentBlock
time=2026-01-09T16:07:27.657-03:00 level=INFO msg="content block deleted" content_block_id=b08b1608-2dfc-4de0-a67b-3765d38a0aae tenant_id=03b6d816-2576-4934-aade-a60af10e31d9
time=2026-01-09T16:07:27.657-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/DeleteContentBlock duration_ms=1
time=2026-01-09T16:07:27.657-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_DeleteContentBlock (0.17s)
    --- PASS: TestContentBlockHandler_DeleteContentBlock/successful_delete (0.00s)
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter
time=2026-01-09T16:07:27.811-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:27.811-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:27.811-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:27.811-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:27.811-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:27.811-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:27.811-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:27.813-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:27.815-03:00 level=INFO msg="tenant created" tenant_id=7a96b559-8773-47f5-9911-a2d5473502f4 name="Test Tenant for List ContentBlocks"
time=2026-01-09T16:07:27.815-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:27.815-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:27.817-03:00 level=INFO msg="world created" world_id=e5171beb-3bae-49cd-b718-d4dc01306bdc name="World of Test Story" tenant_id=7a96b559-8773-47f5-9911-a2d5473502f4
time=2026-01-09T16:07:27.817-03:00 level=INFO msg="created implicit world for story" world_id=e5171beb-3bae-49cd-b718-d4dc01306bdc story_title="Test Story"
time=2026-01-09T16:07:27.818-03:00 level=INFO msg="story created" story_id=2f04500b-db99-4801-a070-8dbaad40aee9 title="Test Story" tenant_id=7a96b559-8773-47f5-9911-a2d5473502f4
time=2026-01-09T16:07:27.818-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:27.818-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:27.819-03:00 level=INFO msg="chapter created" chapter_id=af34b7c8-0f35-49aa-9de5-b2499546662b story_id=2f04500b-db99-4801-a070-8dbaad40aee9 tenant_id=7a96b559-8773-47f5-9911-a2d5473502f4
time=2026-01-09T16:07:27.819-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter
time=2026-01-09T16:07:27.819-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:27.820-03:00 level=INFO msg="content block created" content_block_id=9b47375a-9798-4c9a-aa27-0b6b394b78f7 tenant_id=7a96b559-8773-47f5-9911-a2d5473502f4
time=2026-01-09T16:07:27.820-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-09T16:07:27.820-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:27.820-03:00 level=INFO msg="content block created" content_block_id=67ba8089-cdc3-47e4-8e3b-bca69d39f4c8 tenant_id=7a96b559-8773-47f5-9911-a2d5473502f4
time=2026-01-09T16:07:27.821-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-09T16:07:27.822-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:27.823-03:00 level=INFO msg="content block created" content_block_id=543dc898-849f-4ff6-affe-98305e52fe75 tenant_id=7a96b559-8773-47f5-9911-a2d5473502f4
time=2026-01-09T16:07:27.823-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-09T16:07:27.823-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/ListContentBlocksByChapter
time=2026-01-09T16:07:27.823-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/ListContentBlocksByChapter duration_ms=0
time=2026-01-09T16:07:27.824-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_ListContentBlocksByChapter (0.16s)
    --- PASS: TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter (0.00s)
=== RUN   TestContentBlockReferenceHandler_CreateAndList
time=2026-01-09T16:07:27.972-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:27.972-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:27.972-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:27.972-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:27.972-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:27.972-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:27.972-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:27.973-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:27.976-03:00 level=INFO msg="tenant created" tenant_id=98baa05e-3d83-40d2-9441-2cdc33bd7ba2 name="Test Tenant for ContentBlockReference"
time=2026-01-09T16:07:27.976-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:27.976-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:27.977-03:00 level=INFO msg="world created" world_id=8767af50-4413-407f-b11f-d9eec61b8dbf name="World of Test Story" tenant_id=98baa05e-3d83-40d2-9441-2cdc33bd7ba2
time=2026-01-09T16:07:27.977-03:00 level=INFO msg="created implicit world for story" world_id=8767af50-4413-407f-b11f-d9eec61b8dbf story_title="Test Story"
time=2026-01-09T16:07:27.979-03:00 level=INFO msg="story created" story_id=1190e3cc-9e4d-4723-83f7-b9d968584458 title="Test Story" tenant_id=98baa05e-3d83-40d2-9441-2cdc33bd7ba2
time=2026-01-09T16:07:27.979-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:27.979-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:27.980-03:00 level=INFO msg="chapter created" chapter_id=5384b0ee-3c9c-46c5-a7da-540d174f9e9c story_id=1190e3cc-9e4d-4723-83f7-b9d968584458 tenant_id=98baa05e-3d83-40d2-9441-2cdc33bd7ba2
time=2026-01-09T16:07:27.980-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T16:07:27.980-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T16:07:27.985-03:00 level=INFO msg="content block created" content_block_id=294c8a91-6591-480d-87ca-1c3fb94cad22 tenant_id=98baa05e-3d83-40d2-9441-2cdc33bd7ba2
time=2026-01-09T16:07:27.985-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=5
=== RUN   TestContentBlockReferenceHandler_CreateAndList/create_and_list_references
time=2026-01-09T16:07:27.986-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-09T16:07:27.987-03:00 level=INFO msg="content block reference created" reference_id=10eb9cd5-2812-450f-a5cb-d1b4b517e0be content_block_id=294c8a91-6591-480d-87ca-1c3fb94cad22 tenant_id=98baa05e-3d83-40d2-9441-2cdc33bd7ba2
time=2026-01-09T16:07:27.987-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=1
time=2026-01-09T16:07:27.987-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock
time=2026-01-09T16:07:27.988-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock duration_ms=0
time=2026-01-09T16:07:27.988-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference
time=2026-01-09T16:07:27.988-03:00 level=INFO msg="content block reference deleted" reference_id=10eb9cd5-2812-450f-a5cb-d1b4b517e0be tenant_id=98baa05e-3d83-40d2-9441-2cdc33bd7ba2
time=2026-01-09T16:07:27.988-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference duration_ms=0
=== RUN   TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference
time=2026-01-09T16:07:27.989-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-09T16:07:27.989-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: 45a2ef4b-8734-439b-9886-83ac06c3df44"
time=2026-01-09T16:07:27.989-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockReferenceHandler_CreateAndList (0.17s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/create_and_list_references (0.00s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference (0.00s)
=== RUN   TestEventHandler_CreateEvent
time=2026-01-09T16:07:28.189-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:28.189-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:28.189-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_CreateEvent/successful_creation
time=2026-01-09T16:07:28.190-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:28.193-03:00 level=INFO msg="tenant created" tenant_id=66a8c470-feb5-4934-b7c9-af338a249491 name="Test Tenant for Event"
time=2026-01-09T16:07:28.193-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:28.193-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:28.198-03:00 level=INFO msg="world created" world_id=9240b9b6-a0f1-4cac-a955-06cdf3b59e2b name="Test World" tenant_id=66a8c470-feb5-4934-b7c9-af338a249491
time=2026-01-09T16:07:28.198-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=5
time=2026-01-09T16:07:28.198-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T16:07:28.200-03:00 level=INFO msg="event created" event_id=5e4dfcb7-87a3-48f5-a043-6885a83b9c19 world_id=9240b9b6-a0f1-4cac-a955-06cdf3b59e2b
time=2026-01-09T16:07:28.200-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
=== RUN   TestEventHandler_CreateEvent/empty_name
time=2026-01-09T16:07:28.200-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:28.201-03:00 level=INFO msg="tenant created" tenant_id=debae488-c8da-4fac-95fb-e0220656ece3 name="Test Tenant 2"
time=2026-01-09T16:07:28.201-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:28.201-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:28.201-03:00 level=INFO msg="world created" world_id=932ab83e-70cc-40a6-9e80-9efcfd299dad name="Test World 2" tenant_id=debae488-c8da-4fac-95fb-e0220656ece3
time=2026-01-09T16:07:28.201-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:28.201-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T16:07:28.201-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/CreateEvent duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T16:07:28.202-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_CreateEvent (0.22s)
    --- PASS: TestEventHandler_CreateEvent/successful_creation (0.01s)
    --- PASS: TestEventHandler_CreateEvent/empty_name (0.00s)
=== RUN   TestEventHandler_GetEvent
time=2026-01-09T16:07:28.389-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:28.389-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:28.389-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_GetEvent/existing_event
time=2026-01-09T16:07:28.390-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:28.394-03:00 level=INFO msg="tenant created" tenant_id=86da33e8-00da-4440-9f07-e36ca1f97616 name="Get Test Tenant"
time=2026-01-09T16:07:28.394-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T16:07:28.394-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:28.395-03:00 level=INFO msg="world created" world_id=33b72847-4942-44fd-84e9-295d16bf23d5 name="Get Test World" tenant_id=86da33e8-00da-4440-9f07-e36ca1f97616
time=2026-01-09T16:07:28.395-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:28.396-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T16:07:28.397-03:00 level=INFO msg="event created" event_id=5f5ebd0c-0d31-4460-99ae-da1dc72d984d world_id=33b72847-4942-44fd-84e9-295d16bf23d5
time=2026-01-09T16:07:28.397-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-09T16:07:28.397-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-09T16:07:28.398-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/GetEvent duration_ms=0
=== RUN   TestEventHandler_GetEvent/non-existing_event
time=2026-01-09T16:07:28.398-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:28.399-03:00 level=INFO msg="tenant created" tenant_id=2ce39d67-00f2-49a5-88aa-a6f84dd6d0bb name="Non-existing Test Tenant"
time=2026-01-09T16:07:28.399-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:28.399-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-09T16:07:28.399-03:00 level=ERROR msg="failed to get event" error="event not found: ab1845ff-4c76-4201-b821-bce9a1c78ffa" event_id=ab1845ff-4c76-4201-b821-bce9a1c78ffa
time=2026-01-09T16:07:28.399-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: ab1845ff-4c76-4201-b821-bce9a1c78ffa"
time=2026-01-09T16:07:28.399-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_GetEvent (0.19s)
    --- PASS: TestEventHandler_GetEvent/existing_event (0.01s)
    --- PASS: TestEventHandler_GetEvent/non-existing_event (0.00s)
=== RUN   TestEventHandler_ListEvents
time=2026-01-09T16:07:28.563-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:28.563-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:28.563-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_ListEvents/list_events
time=2026-01-09T16:07:28.565-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:28.567-03:00 level=INFO msg="tenant created" tenant_id=c096a059-6f84-4517-8523-0c18933d0750 name="List Test Tenant"
time=2026-01-09T16:07:28.567-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:28.568-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:28.569-03:00 level=INFO msg="world created" world_id=2900e9df-69c8-4c56-8fe2-177a8153e026 name="List Test World" tenant_id=c096a059-6f84-4517-8523-0c18933d0750
time=2026-01-09T16:07:28.569-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:28.569-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T16:07:28.570-03:00 level=INFO msg="event created" event_id=1ec035da-5d81-4899-af90-b197d7de50f1 world_id=2900e9df-69c8-4c56-8fe2-177a8153e026
time=2026-01-09T16:07:28.570-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-09T16:07:28.571-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T16:07:28.571-03:00 level=INFO msg="event created" event_id=bc89e2b2-da42-4750-80b1-329bda3df437 world_id=2900e9df-69c8-4c56-8fe2-177a8153e026
time=2026-01-09T16:07:28.571-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=0
time=2026-01-09T16:07:28.572-03:00 level=INFO msg="gRPC request started" method=/event.EventService/ListEvents
time=2026-01-09T16:07:28.572-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/ListEvents duration_ms=0
time=2026-01-09T16:07:28.572-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_ListEvents (0.17s)
    --- PASS: TestEventHandler_ListEvents/list_events (0.01s)
=== RUN   TestEventHandler_UpdateEvent
time=2026-01-09T16:07:28.723-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:28.723-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:28.723-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_UpdateEvent/update_event
time=2026-01-09T16:07:28.724-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:28.728-03:00 level=INFO msg="tenant created" tenant_id=5a0f7ed9-1840-42b6-acd1-0094dead41e2 name="Update Test Tenant"
time=2026-01-09T16:07:28.728-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-09T16:07:28.728-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:28.729-03:00 level=INFO msg="world created" world_id=91a13348-bb6c-4291-a2db-0495d68dc321 name="Update Test World" tenant_id=5a0f7ed9-1840-42b6-acd1-0094dead41e2
time=2026-01-09T16:07:28.729-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:28.729-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T16:07:28.731-03:00 level=INFO msg="event created" event_id=9630e243-149c-42c9-a26a-62e250f9d475 world_id=91a13348-bb6c-4291-a2db-0495d68dc321
time=2026-01-09T16:07:28.731-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-09T16:07:28.731-03:00 level=INFO msg="gRPC request started" method=/event.EventService/UpdateEvent
time=2026-01-09T16:07:28.732-03:00 level=INFO msg="event updated" event_id=9630e243-149c-42c9-a26a-62e250f9d475
time=2026-01-09T16:07:28.732-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/UpdateEvent duration_ms=1
time=2026-01-09T16:07:28.732-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_UpdateEvent (0.16s)
    --- PASS: TestEventHandler_UpdateEvent/update_event (0.01s)
=== RUN   TestEventHandler_DeleteEvent
time=2026-01-09T16:07:28.896-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:28.896-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:28.896-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_DeleteEvent/delete_event
time=2026-01-09T16:07:28.899-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:28.902-03:00 level=INFO msg="tenant created" tenant_id=f7206b48-3c21-4c64-b0d4-d42c70ee4f45 name="Delete Test Tenant"
time=2026-01-09T16:07:28.902-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:28.902-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:28.903-03:00 level=INFO msg="world created" world_id=ef411766-d1af-404e-a50d-dd1a46543a47 name="Delete Test World" tenant_id=f7206b48-3c21-4c64-b0d4-d42c70ee4f45
time=2026-01-09T16:07:28.903-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:28.903-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T16:07:28.906-03:00 level=INFO msg="event created" event_id=22d39e15-6c42-4a34-877f-75e20e93d758 world_id=ef411766-d1af-404e-a50d-dd1a46543a47
time=2026-01-09T16:07:28.906-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=2
time=2026-01-09T16:07:28.907-03:00 level=INFO msg="gRPC request started" method=/event.EventService/DeleteEvent
time=2026-01-09T16:07:28.909-03:00 level=INFO msg="event deleted" event_id=22d39e15-6c42-4a34-877f-75e20e93d758
time=2026-01-09T16:07:28.909-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/DeleteEvent duration_ms=2
time=2026-01-09T16:07:28.909-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-09T16:07:28.910-03:00 level=ERROR msg="failed to get event" error="event not found: 22d39e15-6c42-4a34-877f-75e20e93d758" event_id=22d39e15-6c42-4a34-877f-75e20e93d758
time=2026-01-09T16:07:28.910-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: 22d39e15-6c42-4a34-877f-75e20e93d758"
time=2026-01-09T16:07:28.910-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_DeleteEvent (0.19s)
    --- PASS: TestEventHandler_DeleteEvent/delete_event (0.01s)
=== RUN   TestInventoryHandler_AddItemToInventory
time=2026-01-09T16:07:29.221-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:29.221-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:29.221-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:29.221-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T16:07:29.221-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:29.221-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_AddItemToInventory/successful_add_item
time=2026-01-09T16:07:29.223-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:29.225-03:00 level=INFO msg="tenant created" tenant_id=13358142-0dd7-4021-9214-dabded2744e5 name="Test Tenant for Inventory"
time=2026-01-09T16:07:29.225-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:29.225-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:29.226-03:00 level=INFO msg="world created" world_id=eed6d7a4-4877-4e98-b3d2-bfb63160587a name="Test World" tenant_id=13358142-0dd7-4021-9214-dabded2744e5
time=2026-01-09T16:07:29.226-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:29.227-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:29.228-03:00 level=INFO msg="character created" character_id=e88f1f07-42a8-4b45-9a1b-38488d7eb43c name="Test Character"
time=2026-01-09T16:07:29.228-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:29.228-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:29.230-03:00 level=INFO msg="RPG system created" rpg_system_id=5cb89e96-4e26-481e-b05a-a1791ac87dfa name="Test System"
time=2026-01-09T16:07:29.230-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:29.231-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-09T16:07:29.233-03:00 level=INFO msg="item added to inventory" character_id=e88f1f07-42a8-4b45-9a1b-38488d7eb43c item_id=f409fe90-4dcd-45eb-af74-ad0230f40310
time=2026-01-09T16:07:29.233-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-09T16:07:29.234-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_AddItemToInventory (0.33s)
    --- PASS: TestInventoryHandler_AddItemToInventory/successful_add_item (0.01s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-09T16:07:29.390-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:29.390-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:29.390-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:29.390-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T16:07:29.390-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:29.390-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
time=2026-01-09T16:07:29.391-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:29.393-03:00 level=INFO msg="tenant created" tenant_id=764fb43e-2301-4598-b05d-2b59c7e3058f name="List Test Tenant"
time=2026-01-09T16:07:29.393-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T16:07:29.393-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:29.394-03:00 level=INFO msg="world created" world_id=0effa3da-54c5-4c30-bcd9-432f06f6b980 name="List Test World" tenant_id=764fb43e-2301-4598-b05d-2b59c7e3058f
time=2026-01-09T16:07:29.394-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:29.394-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:29.395-03:00 level=INFO msg="character created" character_id=fa3a792e-aa5a-407d-87d0-d22052c647bc name="List Test Character"
time=2026-01-09T16:07:29.395-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:29.395-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:29.396-03:00 level=INFO msg="RPG system created" rpg_system_id=1c0ef4b9-3d00-48bc-adbe-9a0ce2d7129f name="List Test System"
time=2026-01-09T16:07:29.396-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:29.397-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-09T16:07:29.399-03:00 level=INFO msg="item added to inventory" character_id=fa3a792e-aa5a-407d-87d0-d22052c647bc item_id=126ff306-6bdc-40d7-90a0-d1d147c9b806
time=2026-01-09T16:07:29.399-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-09T16:07:29.399-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-09T16:07:29.400-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
time=2026-01-09T16:07:29.400-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_ListInventory (0.15s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.01s)
=== RUN   TestInventoryHandler_UpdateItemInInventory
time=2026-01-09T16:07:29.554-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:29.554-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:29.554-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:29.554-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T16:07:29.554-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:29.554-03:00 level=INFO msg="InventoryService registered"
time=2026-01-09T16:07:29.555-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:29.557-03:00 level=INFO msg="tenant created" tenant_id=b7a0a4a1-6a84-4270-b0be-0710a72aede7 name="Update Item Test Tenant"
time=2026-01-09T16:07:29.557-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:29.558-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:29.559-03:00 level=INFO msg="world created" world_id=13feb000-f719-4504-9bef-b82b43a1a04c name="Test World" tenant_id=b7a0a4a1-6a84-4270-b0be-0710a72aede7
time=2026-01-09T16:07:29.559-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:29.559-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:29.561-03:00 level=INFO msg="character created" character_id=3bf2c031-9f48-4e16-8a88-9501db5458a8 name="Test Character"
time=2026-01-09T16:07:29.561-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:29.561-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:29.562-03:00 level=INFO msg="RPG system created" rpg_system_id=009b9d18-f2c6-4fc1-8b02-bb40a2ff443b name="Test System"
time=2026-01-09T16:07:29.562-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/successful_update
time=2026-01-09T16:07:29.563-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-09T16:07:29.566-03:00 level=INFO msg="item added to inventory" character_id=3bf2c031-9f48-4e16-8a88-9501db5458a8 item_id=45908330-72bf-41cb-80c5-9aa406cf2a90
time=2026-01-09T16:07:29.566-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=3
time=2026-01-09T16:07:29.567-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-09T16:07:29.567-03:00 level=INFO msg="character inventory updated" id=b9d7e594-c4af-41e6-a39c-615111abcc60
time=2026-01-09T16:07:29.567-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/non-existing_item
time=2026-01-09T16:07:29.567-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-09T16:07:29.568-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: a9011407-5c01-4fb8-9db8-631bd6cef5ce"
time=2026-01-09T16:07:29.568-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_UpdateItemInInventory (0.17s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/successful_update (0.00s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/non-existing_item (0.00s)
=== RUN   TestInventoryHandler_DeleteItemFromInventory
time=2026-01-09T16:07:29.716-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:29.716-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:29.716-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:29.716-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T16:07:29.716-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:29.716-03:00 level=INFO msg="InventoryService registered"
time=2026-01-09T16:07:29.717-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:29.720-03:00 level=INFO msg="tenant created" tenant_id=dc61cd44-7d44-4c30-990c-86710012576b name="Delete Item Test Tenant"
time=2026-01-09T16:07:29.720-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:29.720-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:29.721-03:00 level=INFO msg="world created" world_id=e68a34b7-a797-43ec-8979-4387e7820c4b name="Test World" tenant_id=dc61cd44-7d44-4c30-990c-86710012576b
time=2026-01-09T16:07:29.721-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:29.722-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:29.736-03:00 level=INFO msg="character created" character_id=863da408-e3ce-4dca-beae-cf02d0b8d762 name="Test Character"
time=2026-01-09T16:07:29.736-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=14
time=2026-01-09T16:07:29.737-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:29.739-03:00 level=INFO msg="RPG system created" rpg_system_id=a040ece0-e806-4a62-8524-ad095ade954e name="Test System"
time=2026-01-09T16:07:29.739-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
=== RUN   TestInventoryHandler_DeleteItemFromInventory/successful_delete
time=2026-01-09T16:07:29.740-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-09T16:07:29.742-03:00 level=INFO msg="item added to inventory" character_id=863da408-e3ce-4dca-beae-cf02d0b8d762 item_id=a641437d-2e14-4cf7-bb4a-41fe1972eeac
time=2026-01-09T16:07:29.742-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=2
time=2026-01-09T16:07:29.744-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-09T16:07:29.745-03:00 level=INFO msg="item removed from inventory" id=a05f06d7-7b3a-47eb-992d-9a1edbc3292f
time=2026-01-09T16:07:29.745-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0
time=2026-01-09T16:07:29.746-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-09T16:07:29.747-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item
time=2026-01-09T16:07:29.747-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-09T16:07:29.748-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 71ee0597-dc76-4ec8-b3fd-756a135b65ac" id=71ee0597-dc76-4ec8-b3fd-756a135b65ac
time=2026-01-09T16:07:29.748-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 71ee0597-dc76-4ec8-b3fd-756a135b65ac"
time=2026-01-09T16:07:29.748-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_DeleteItemFromInventory (0.18s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/successful_delete (0.01s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item (0.00s)
=== RUN   TestLocationHandler_CreateLocation
time=2026-01-09T16:07:30.162-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:30.162-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:30.162-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_CreateLocation/successful_creation
time=2026-01-09T16:07:30.165-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:30.170-03:00 level=INFO msg="tenant created" tenant_id=cb8e99c9-2c06-47c8-8820-24fad4777e89 name="Test Tenant for Location"
time=2026-01-09T16:07:30.170-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-09T16:07:30.171-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:30.175-03:00 level=INFO msg="world created" world_id=6d63e151-9ec7-41ce-9201-2d8c4902fba9 name="Test World" tenant_id=cb8e99c9-2c06-47c8-8820-24fad4777e89
time=2026-01-09T16:07:30.175-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=3
time=2026-01-09T16:07:30.176-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T16:07:30.182-03:00 level=INFO msg="location created" location_id=887ffbdf-f19e-4b55-8040-34e39673e3ce name="Test Location"
time=2026-01-09T16:07:30.182-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=6
=== RUN   TestLocationHandler_CreateLocation/empty_name
time=2026-01-09T16:07:30.183-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:30.184-03:00 level=INFO msg="tenant created" tenant_id=ce67e6a9-2f06-4577-8814-24261b6f7558 name="Test Tenant 2"
time=2026-01-09T16:07:30.184-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T16:07:30.184-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:30.185-03:00 level=INFO msg="world created" world_id=ddb899b4-9f51-4e34-9785-caabde572488 name="Test World 2" tenant_id=ce67e6a9-2f06-4577-8814-24261b6f7558
time=2026-01-09T16:07:30.185-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:30.186-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T16:07:30.186-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/CreateLocation duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T16:07:30.186-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_CreateLocation (0.45s)
    --- PASS: TestLocationHandler_CreateLocation/successful_creation (0.02s)
    --- PASS: TestLocationHandler_CreateLocation/empty_name (0.00s)
=== RUN   TestLocationHandler_GetLocation
time=2026-01-09T16:07:30.374-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:30.374-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:30.374-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_GetLocation/existing_location
time=2026-01-09T16:07:30.375-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:30.377-03:00 level=INFO msg="tenant created" tenant_id=907bd73b-d35a-4cb8-a3d9-c24fd9e11e05 name="Get Test Tenant"
time=2026-01-09T16:07:30.377-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:30.377-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:30.378-03:00 level=INFO msg="world created" world_id=21205020-bc86-4bd8-b254-4fbbaa190fd7 name="Get Test World" tenant_id=907bd73b-d35a-4cb8-a3d9-c24fd9e11e05
time=2026-01-09T16:07:30.378-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:30.378-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T16:07:30.380-03:00 level=INFO msg="location created" location_id=2d938cb8-2d24-4925-8a8b-544863cb5834 name="Get Test Location"
time=2026-01-09T16:07:30.380-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=2
time=2026-01-09T16:07:30.381-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-09T16:07:30.381-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/GetLocation duration_ms=0
=== RUN   TestLocationHandler_GetLocation/non-existing_location
time=2026-01-09T16:07:30.381-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:30.382-03:00 level=INFO msg="tenant created" tenant_id=d8b58c29-ca51-44aa-81a6-83fe984e2967 name="Non-existing Test Tenant"
time=2026-01-09T16:07:30.382-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:30.382-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-09T16:07:30.382-03:00 level=ERROR msg="failed to get location" error="location not found: 8b57662b-ed08-44e7-a322-f62b99ee38a5" location_id=8b57662b-ed08-44e7-a322-f62b99ee38a5
time=2026-01-09T16:07:30.382-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: 8b57662b-ed08-44e7-a322-f62b99ee38a5"
time=2026-01-09T16:07:30.382-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_GetLocation (0.18s)
    --- PASS: TestLocationHandler_GetLocation/existing_location (0.01s)
    --- PASS: TestLocationHandler_GetLocation/non-existing_location (0.00s)
=== RUN   TestLocationHandler_ListLocations
time=2026-01-09T16:07:30.548-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:30.548-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:30.548-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_ListLocations/list_locations
time=2026-01-09T16:07:30.549-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:30.551-03:00 level=INFO msg="tenant created" tenant_id=6b0cbfbf-00b9-4fa1-a442-a19c0261d5a6 name="List Test Tenant"
time=2026-01-09T16:07:30.551-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:30.552-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:30.553-03:00 level=INFO msg="world created" world_id=e548ec01-086d-433b-9008-5cf0ee584ee7 name="List Test World" tenant_id=6b0cbfbf-00b9-4fa1-a442-a19c0261d5a6
time=2026-01-09T16:07:30.553-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:30.553-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T16:07:30.565-03:00 level=INFO msg="location created" location_id=f3f8e0ee-be99-42b6-8a8a-12fcc01206ad name="Location 1"
time=2026-01-09T16:07:30.565-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=12
time=2026-01-09T16:07:30.565-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T16:07:30.566-03:00 level=INFO msg="location created" location_id=f2903063-1eee-4ad4-81e9-4518817a1794 name="Location 2"
time=2026-01-09T16:07:30.566-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-09T16:07:30.566-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/ListLocations
time=2026-01-09T16:07:30.567-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/ListLocations duration_ms=1
time=2026-01-09T16:07:30.567-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_ListLocations (0.20s)
    --- PASS: TestLocationHandler_ListLocations/list_locations (0.02s)
=== RUN   TestLocationHandler_UpdateLocation
time=2026-01-09T16:07:30.708-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:30.708-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:30.708-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_UpdateLocation/update_location
time=2026-01-09T16:07:30.709-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:30.711-03:00 level=INFO msg="tenant created" tenant_id=c28b1de8-d1e5-4cc8-aed9-dec3c11c2afe name="Update Test Tenant"
time=2026-01-09T16:07:30.711-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:30.712-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:30.713-03:00 level=INFO msg="world created" world_id=c3553ce6-ade0-49e2-9e32-a4a0a84319ea name="Update Test World" tenant_id=c28b1de8-d1e5-4cc8-aed9-dec3c11c2afe
time=2026-01-09T16:07:30.713-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:30.713-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T16:07:30.714-03:00 level=INFO msg="location created" location_id=a954d7fd-ff25-425a-8404-4057f9422f5b name="Original Location"
time=2026-01-09T16:07:30.714-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-09T16:07:30.714-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/UpdateLocation
time=2026-01-09T16:07:30.715-03:00 level=INFO msg="location updated" location_id=a954d7fd-ff25-425a-8404-4057f9422f5b name="Updated Location"
time=2026-01-09T16:07:30.715-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/UpdateLocation duration_ms=0
time=2026-01-09T16:07:30.715-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_UpdateLocation (0.13s)
    --- PASS: TestLocationHandler_UpdateLocation/update_location (0.01s)
=== RUN   TestLocationHandler_DeleteLocation
time=2026-01-09T16:07:30.844-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:30.844-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:30.844-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_DeleteLocation/delete_location
time=2026-01-09T16:07:30.851-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:30.853-03:00 level=INFO msg="tenant created" tenant_id=18e3114d-839a-4310-b3aa-7562f7221653 name="Delete Test Tenant"
time=2026-01-09T16:07:30.853-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:30.854-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:30.855-03:00 level=INFO msg="world created" world_id=d4e5fc69-c004-4ab9-b911-3238ebc7c9ea name="Delete Test World" tenant_id=18e3114d-839a-4310-b3aa-7562f7221653
time=2026-01-09T16:07:30.855-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:30.855-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T16:07:30.857-03:00 level=INFO msg="location created" location_id=4febbc4d-0040-4306-bb2e-cf1c0140916f name="Location to Delete"
time=2026-01-09T16:07:30.857-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-09T16:07:30.857-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/DeleteLocation
time=2026-01-09T16:07:30.858-03:00 level=INFO msg="location deleted" location_id=4febbc4d-0040-4306-bb2e-cf1c0140916f name="Location to Delete"
time=2026-01-09T16:07:30.858-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/DeleteLocation duration_ms=1
time=2026-01-09T16:07:30.859-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-09T16:07:30.859-03:00 level=ERROR msg="failed to get location" error="location not found: 4febbc4d-0040-4306-bb2e-cf1c0140916f" location_id=4febbc4d-0040-4306-bb2e-cf1c0140916f
time=2026-01-09T16:07:30.859-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: 4febbc4d-0040-4306-bb2e-cf1c0140916f"
time=2026-01-09T16:07:30.859-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_DeleteLocation (0.14s)
    --- PASS: TestLocationHandler_DeleteLocation/delete_location (0.01s)
=== RUN   TestRPGClassHandler_CreateRPGClass
time=2026-01-09T16:07:30.983-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:30.983-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:30.983-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:30.983-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_CreateRPGClass/successful_creation
time=2026-01-09T16:07:30.984-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:30.987-03:00 level=INFO msg="tenant created" tenant_id=1d01725b-83d7-4a5d-a65a-25d22afffc98 name="Test Tenant for RPG Class"
time=2026-01-09T16:07:30.987-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:30.987-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:30.989-03:00 level=INFO msg="RPG system created" rpg_system_id=b98d9ac9-475a-4bdf-8a25-bc682dd333b8 name="Test System"
time=2026-01-09T16:07:30.989-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:30.989-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:30.990-03:00 level=INFO msg="RPG class created" class_id=7c440ee7-7748-4941-99cb-0adb819680d5 name=Warrior
time=2026-01-09T16:07:30.990-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_CreateRPGClass/empty_name
time=2026-01-09T16:07:30.990-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:30.991-03:00 level=INFO msg="tenant created" tenant_id=65c4bf99-5aaf-4096-ba6c-4ddcddf3dc06 name="Test Tenant 2"
time=2026-01-09T16:07:30.991-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:30.991-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:30.991-03:00 level=INFO msg="RPG system created" rpg_system_id=d3054a86-52dc-4bb0-9d5d-e38df1f7d8bb name="Test System 2"
time=2026-01-09T16:07:30.991-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:30.992-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:30.992-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T16:07:30.992-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_CreateRPGClass (0.13s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/successful_creation (0.01s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/empty_name (0.00s)
=== RUN   TestRPGClassHandler_GetRPGClass
time=2026-01-09T16:07:31.111-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:31.111-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:31.111-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:31.111-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_GetRPGClass/existing_RPG_class
time=2026-01-09T16:07:31.112-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:31.115-03:00 level=INFO msg="tenant created" tenant_id=7712ac45-7ed2-4eb8-b95f-27d189aabd09 name="Get Test Tenant"
time=2026-01-09T16:07:31.115-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:31.115-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:31.116-03:00 level=INFO msg="RPG system created" rpg_system_id=9b1c4b67-dbe6-4e57-b112-21b2d7b67e9b name="Get Test System"
time=2026-01-09T16:07:31.116-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:31.116-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:31.118-03:00 level=INFO msg="RPG class created" class_id=8cbf1823-6d9d-4c91-a986-aaa2cdfff7a2 name="Get Test Class"
time=2026-01-09T16:07:31.118-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-09T16:07:31.118-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-09T16:07:31.118-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0
=== RUN   TestRPGClassHandler_GetRPGClass/non-existing_RPG_class
time=2026-01-09T16:07:31.119-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:31.119-03:00 level=INFO msg="tenant created" tenant_id=c704408f-a407-4e0e-9718-c4c70609bdcc name="Non-existing Test Tenant"
time=2026-01-09T16:07:31.119-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:31.120-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-09T16:07:31.120-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 564dba93-c4a7-4fc1-a1ce-4acb96865c24" class_id=564dba93-c4a7-4fc1-a1ce-4acb96865c24
time=2026-01-09T16:07:31.120-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 564dba93-c4a7-4fc1-a1ce-4acb96865c24"
time=2026-01-09T16:07:31.120-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_GetRPGClass (0.13s)
    --- PASS: TestRPGClassHandler_GetRPGClass/existing_RPG_class (0.01s)
    --- PASS: TestRPGClassHandler_GetRPGClass/non-existing_RPG_class (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClasses
time=2026-01-09T16:07:31.237-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:31.237-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:31.237-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:31.237-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_ListRPGClasses/list_RPG_classes
time=2026-01-09T16:07:31.239-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:31.242-03:00 level=INFO msg="tenant created" tenant_id=6c825973-9152-4a37-ba04-1c88e398bd05 name="List Test Tenant"
time=2026-01-09T16:07:31.242-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:31.242-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:31.243-03:00 level=INFO msg="RPG system created" rpg_system_id=c598fa3a-a756-40d6-adcb-5d941d26814e name="List Test System"
time=2026-01-09T16:07:31.243-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:31.243-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:31.245-03:00 level=INFO msg="RPG class created" class_id=117ba5f5-0532-40ab-a3ae-b70854d26bac name="Class 1"
time=2026-01-09T16:07:31.245-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-09T16:07:31.245-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:31.245-03:00 level=INFO msg="RPG class created" class_id=fe39a8dd-3fad-4339-9c23-c6f855e651f5 name="Class 2"
time=2026-01-09T16:07:31.245-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-09T16:07:31.245-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClasses
time=2026-01-09T16:07:31.246-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClasses duration_ms=0
time=2026-01-09T16:07:31.246-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClasses (0.13s)
    --- PASS: TestRPGClassHandler_ListRPGClasses/list_RPG_classes (0.01s)
=== RUN   TestRPGClassHandler_UpdateRPGClass
time=2026-01-09T16:07:31.376-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:31.376-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:31.376-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:31.376-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_UpdateRPGClass/update_RPG_class
time=2026-01-09T16:07:31.378-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:31.382-03:00 level=INFO msg="tenant created" tenant_id=b074cbfc-6cc8-4c34-a748-71aee3d5991d name="Update Test Tenant"
time=2026-01-09T16:07:31.382-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-09T16:07:31.382-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:31.383-03:00 level=INFO msg="RPG system created" rpg_system_id=07b44f72-1cff-45c4-803f-769a7116cfbf name="Update Test System"
time=2026-01-09T16:07:31.383-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:31.383-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:31.384-03:00 level=INFO msg="RPG class created" class_id=5ac3701d-c7e8-42c3-9d89-dabeef6b2c43 name="Original Class"
time=2026-01-09T16:07:31.384-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-09T16:07:31.385-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/UpdateRPGClass
time=2026-01-09T16:07:31.385-03:00 level=INFO msg="RPG class updated" class_id=5ac3701d-c7e8-42c3-9d89-dabeef6b2c43
time=2026-01-09T16:07:31.385-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/UpdateRPGClass duration_ms=0
time=2026-01-09T16:07:31.386-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_UpdateRPGClass (0.14s)
    --- PASS: TestRPGClassHandler_UpdateRPGClass/update_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_DeleteRPGClass
time=2026-01-09T16:07:31.514-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:31.514-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:31.514-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:31.514-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_DeleteRPGClass/delete_RPG_class
time=2026-01-09T16:07:31.516-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:31.518-03:00 level=INFO msg="tenant created" tenant_id=01ed3d35-f3f4-4b82-b299-b17dd7603c2d name="Delete Test Tenant"
time=2026-01-09T16:07:31.518-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:31.518-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:31.520-03:00 level=INFO msg="RPG system created" rpg_system_id=e9ea4863-22aa-4b62-8ed8-30774f33537d name="Delete Test System"
time=2026-01-09T16:07:31.520-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:31.520-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:31.527-03:00 level=INFO msg="RPG class created" class_id=8baeda64-829e-4511-a41b-3d5ff9494efe name="Class to Delete"
time=2026-01-09T16:07:31.527-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=7
time=2026-01-09T16:07:31.527-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/DeleteRPGClass
time=2026-01-09T16:07:31.529-03:00 level=INFO msg="RPG class deleted" class_id=8baeda64-829e-4511-a41b-3d5ff9494efe
time=2026-01-09T16:07:31.529-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/DeleteRPGClass duration_ms=1
time=2026-01-09T16:07:31.529-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-09T16:07:31.529-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 8baeda64-829e-4511-a41b-3d5ff9494efe" class_id=8baeda64-829e-4511-a41b-3d5ff9494efe
time=2026-01-09T16:07:31.529-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 8baeda64-829e-4511-a41b-3d5ff9494efe"
time=2026-01-09T16:07:31.529-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_DeleteRPGClass (0.15s)
    --- PASS: TestRPGClassHandler_DeleteRPGClass/delete_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_AddSkillToClass
time=2026-01-09T16:07:31.667-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:31.667-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:31.667-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:31.667-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_AddSkillToClass/add_skill_to_class
time=2026-01-09T16:07:31.668-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:31.670-03:00 level=INFO msg="tenant created" tenant_id=c7a92c10-45fa-460d-815e-34dc5d7bfef4 name="Add Skill Test Tenant"
time=2026-01-09T16:07:31.670-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:31.670-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:31.672-03:00 level=INFO msg="RPG system created" rpg_system_id=031b59a0-8d77-4caf-b6d2-8cb019f75a85 name="Add Skill Test System"
time=2026-01-09T16:07:31.672-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:31.672-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:31.673-03:00 level=INFO msg="RPG class created" class_id=65e91ab5-3ecf-4a56-b074-bf3ad1805852 name=Warrior
time=2026-01-09T16:07:31.673-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-09T16:07:31.673-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:31.674-03:00 level=INFO msg="skill created" skill_id=21115676-6851-4d83-851d-03671fe5d905 name="Sword Mastery"
time=2026-01-09T16:07:31.674-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-09T16:07:31.674-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T16:07:31.676-03:00 level=INFO msg="skill added to class" class_id=65e91ab5-3ecf-4a56-b074-bf3ad1805852 skill_id=21115676-6851-4d83-851d-03671fe5d905
time=2026-01-09T16:07:31.676-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-09T16:07:31.676-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_AddSkillToClass (0.14s)
    --- PASS: TestRPGClassHandler_AddSkillToClass/add_skill_to_class (0.01s)
=== RUN   TestRPGClassHandler_RemoveSkillFromClass
time=2026-01-09T16:07:31.813-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:31.813-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:31.813-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:31.813-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-09T16:07:31.813-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:31.816-03:00 level=INFO msg="tenant created" tenant_id=37685e68-e018-4ff5-9f99-48049ff3ffd3 name="Remove Skill Test Tenant"
time=2026-01-09T16:07:31.816-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:31.816-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:31.817-03:00 level=INFO msg="RPG system created" rpg_system_id=f8925c42-e8fd-435e-90cc-53f10c359102 name="Remove Skill Test System"
time=2026-01-09T16:07:31.817-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:31.817-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:31.818-03:00 level=INFO msg="RPG class created" class_id=d4e0f420-e3ea-44dc-8d08-96d9e3bdae6f name=Warrior
time=2026-01-09T16:07:31.818-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-09T16:07:31.818-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:31.819-03:00 level=INFO msg="skill created" skill_id=e58c1e0b-7a8d-4062-abed-34b788412ccf name="Sword Mastery"
time=2026-01-09T16:07:31.819-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/successful_remove
time=2026-01-09T16:07:31.820-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T16:07:31.822-03:00 level=INFO msg="skill added to class" class_id=d4e0f420-e3ea-44dc-8d08-96d9e3bdae6f skill_id=e58c1e0b-7a8d-4062-abed-34b788412ccf
time=2026-01-09T16:07:31.822-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=2
time=2026-01-09T16:07:31.822-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-09T16:07:31.823-03:00 level=INFO msg="skill removed from class" class_id=d4e0f420-e3ea-44dc-8d08-96d9e3bdae6f skill_id=e58c1e0b-7a8d-4062-abed-34b788412ccf
time=2026-01-09T16:07:31.823-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0
time=2026-01-09T16:07:31.823-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-09T16:07:31.823-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill
time=2026-01-09T16:07:31.824-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-09T16:07:31.824-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class_skill not found: d4e0f420-e3ea-44dc-8d08-96d9e3bdae6f/d2debd81-a0d2-4d61-8625-501e232cc626"
time=2026-01-09T16:07:31.824-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_RemoveSkillFromClass (0.15s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/successful_remove (0.00s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClassSkills
time=2026-01-09T16:07:31.973-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:31.973-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:31.973-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T16:07:31.973-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-09T16:07:31.973-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:31.976-03:00 level=INFO msg="tenant created" tenant_id=7eafcba0-c4ea-4207-a75c-c1872703178a name="List Skills Test Tenant"
time=2026-01-09T16:07:31.976-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:31.976-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:31.977-03:00 level=INFO msg="RPG system created" rpg_system_id=9aaaa5a6-47a3-4ace-a540-446eeb5d8380 name="List Skills Test System"
time=2026-01-09T16:07:31.977-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:31.977-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:31.978-03:00 level=INFO msg="RPG class created" class_id=3447279a-45ea-48e6-bad4-db1b94c0d9a8 name=Warrior
time=2026-01-09T16:07:31.978-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills
time=2026-01-09T16:07:31.978-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:31.979-03:00 level=INFO msg="skill created" skill_id=9d398fd8-9eb8-4d0a-9d24-dee2d946fae3 name="Sword Mastery"
time=2026-01-09T16:07:31.979-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-09T16:07:31.980-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:31.980-03:00 level=INFO msg="skill created" skill_id=31198aa8-83f1-4b41-9079-5edbe1e71ef9 name="Shield Defense"
time=2026-01-09T16:07:31.980-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-09T16:07:31.980-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:31.980-03:00 level=INFO msg="skill created" skill_id=f8628525-3760-47b9-99f7-ceeead246ac0 name="Combat Tactics"
time=2026-01-09T16:07:31.980-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-09T16:07:31.980-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T16:07:31.982-03:00 level=INFO msg="skill added to class" class_id=3447279a-45ea-48e6-bad4-db1b94c0d9a8 skill_id=9d398fd8-9eb8-4d0a-9d24-dee2d946fae3
time=2026-01-09T16:07:31.982-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-09T16:07:31.982-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T16:07:31.983-03:00 level=INFO msg="skill added to class" class_id=3447279a-45ea-48e6-bad4-db1b94c0d9a8 skill_id=31198aa8-83f1-4b41-9079-5edbe1e71ef9
time=2026-01-09T16:07:31.983-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-09T16:07:31.983-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T16:07:31.984-03:00 level=INFO msg="skill added to class" class_id=3447279a-45ea-48e6-bad4-db1b94c0d9a8 skill_id=f8628525-3760-47b9-99f7-ceeead246ac0
time=2026-01-09T16:07:31.984-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-09T16:07:31.984-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-09T16:07:31.985-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class
time=2026-01-09T16:07:31.985-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T16:07:31.985-03:00 level=INFO msg="RPG class created" class_id=739ec04e-ee8a-44ee-becf-8a570088ab8b name=Mage
time=2026-01-09T16:07:31.985-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-09T16:07:31.985-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-09T16:07:31.985-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
time=2026-01-09T16:07:31.985-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClassSkills (0.16s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills (0.01s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class (0.00s)
=== RUN   TestRPGSystemHandler_CreateRPGSystem
time=2026-01-09T16:07:32.123-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:32.123-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/successful_creation
time=2026-01-09T16:07:32.124-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:32.126-03:00 level=INFO msg="tenant created" tenant_id=c0c6657b-b7e0-4f07-a7bc-e5ee25ed162b name="Test Tenant for RPG System"
time=2026-01-09T16:07:32.126-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:32.126-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:32.127-03:00 level=INFO msg="RPG system created" rpg_system_id=1ac7f373-7759-4409-b6af-e674de6127b6 name="D&D 5e"
time=2026-01-09T16:07:32.127-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_name
time=2026-01-09T16:07:32.127-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:32.128-03:00 level=INFO msg="tenant created" tenant_id=8a804013-2a38-4097-8596-7d5ed884f72d name="Test Tenant 2"
time=2026-01-09T16:07:32.128-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:32.128-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:32.128-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema
time=2026-01-09T16:07:32.128-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:32.129-03:00 level=INFO msg="tenant created" tenant_id=4fd9a82e-2547-407d-b67f-8691a6ff1e64 name="Test Tenant 3"
time=2026-01-09T16:07:32.129-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:32.129-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:32.129-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = base_stats_schema is required"
time=2026-01-09T16:07:32.129-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_CreateRPGSystem (0.14s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_name (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema (0.00s)
=== RUN   TestRPGSystemHandler_GetRPGSystem
time=2026-01-09T16:07:32.259-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:32.259-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_GetRPGSystem/existing_RPG_system
time=2026-01-09T16:07:32.260-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:32.262-03:00 level=INFO msg="tenant created" tenant_id=12383a5a-e66d-4f01-b20b-c8c146bf74c6 name="Get Test Tenant"
time=2026-01-09T16:07:32.262-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:32.262-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:32.263-03:00 level=INFO msg="RPG system created" rpg_system_id=f5473830-6963-464e-b208-ba8021de0ab1 name="Get Test System"
time=2026-01-09T16:07:32.263-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:32.264-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-09T16:07:32.265-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0
=== RUN   TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system
time=2026-01-09T16:07:32.265-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:32.266-03:00 level=INFO msg="tenant created" tenant_id=9fc5c461-08da-42e6-aa11-41a478fd0c3f name="Non-existing Test Tenant"
time=2026-01-09T16:07:32.266-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T16:07:32.267-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-09T16:07:32.267-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 387e5f4c-d4b7-4607-9214-f90ff7b0489b" rpg_system_id=387e5f4c-d4b7-4607-9214-f90ff7b0489b
time=2026-01-09T16:07:32.267-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: 387e5f4c-d4b7-4607-9214-f90ff7b0489b"
time=2026-01-09T16:07:32.267-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_GetRPGSystem (0.14s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/existing_RPG_system (0.01s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system (0.00s)
=== RUN   TestRPGSystemHandler_ListRPGSystems
time=2026-01-09T16:07:32.402-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:32.402-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_ListRPGSystems/list_RPG_systems
time=2026-01-09T16:07:32.403-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:32.406-03:00 level=INFO msg="tenant created" tenant_id=14da4dd2-1041-4cb0-92bb-21d50e069a83 name="List Test Tenant"
time=2026-01-09T16:07:32.406-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T16:07:32.407-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:32.408-03:00 level=INFO msg="RPG system created" rpg_system_id=569b45d9-9d58-4f90-b374-8d038465399f name="System 1"
time=2026-01-09T16:07:32.408-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:32.408-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:32.408-03:00 level=INFO msg="RPG system created" rpg_system_id=42081008-c4a1-4cc1-9cd0-dea33ca493f7 name="System 2"
time=2026-01-09T16:07:32.408-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:32.409-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/ListRPGSystems
time=2026-01-09T16:07:32.409-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/ListRPGSystems duration_ms=0
time=2026-01-09T16:07:32.409-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_ListRPGSystems (0.14s)
    --- PASS: TestRPGSystemHandler_ListRPGSystems/list_RPG_systems (0.01s)
=== RUN   TestRPGSystemHandler_UpdateRPGSystem
time=2026-01-09T16:07:32.548-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:32.548-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system
time=2026-01-09T16:07:32.548-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:32.551-03:00 level=INFO msg="tenant created" tenant_id=30e768b9-1f16-49e8-810c-8d8acf6b1fc2 name="Update Test Tenant"
time=2026-01-09T16:07:32.551-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:32.551-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:32.552-03:00 level=INFO msg="RPG system created" rpg_system_id=35367bea-fb9d-4198-8a8f-6be26376e508 name="Original System"
time=2026-01-09T16:07:32.552-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:32.552-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/UpdateRPGSystem
time=2026-01-09T16:07:32.553-03:00 level=INFO msg="RPG system updated" rpg_system_id=35367bea-fb9d-4198-8a8f-6be26376e508
time=2026-01-09T16:07:32.553-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/UpdateRPGSystem duration_ms=0
time=2026-01-09T16:07:32.553-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_UpdateRPGSystem (0.15s)
    --- PASS: TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system (0.00s)
=== RUN   TestRPGSystemHandler_DeleteRPGSystem
time=2026-01-09T16:07:32.872-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:32.872-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system
time=2026-01-09T16:07:32.873-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:32.876-03:00 level=INFO msg="tenant created" tenant_id=29a89a5b-ba7e-4d4a-945c-429c022df8d1 name="Delete Test Tenant"
time=2026-01-09T16:07:32.876-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:32.876-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:32.877-03:00 level=INFO msg="RPG system created" rpg_system_id=ca5e06af-b687-4ca3-89d8-900e771e363a name="System to Delete"
time=2026-01-09T16:07:32.877-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:32.877-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/DeleteRPGSystem
time=2026-01-09T16:07:32.879-03:00 level=INFO msg="RPG system deleted" rpg_system_id=ca5e06af-b687-4ca3-89d8-900e771e363a
time=2026-01-09T16:07:32.879-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/DeleteRPGSystem duration_ms=1
time=2026-01-09T16:07:32.879-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-09T16:07:32.883-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: ca5e06af-b687-4ca3-89d8-900e771e363a" rpg_system_id=ca5e06af-b687-4ca3-89d8-900e771e363a
time=2026-01-09T16:07:32.883-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=3 error="rpc error: code = NotFound desc = rpg_system not found: ca5e06af-b687-4ca3-89d8-900e771e363a"
time=2026-01-09T16:07:32.883-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_DeleteRPGSystem (0.33s)
    --- PASS: TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system (0.01s)
=== RUN   TestSceneHandler_CreateScene
time=2026-01-09T16:07:33.044-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:33.044-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:33.044-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:33.044-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:33.044-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:33.044-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:33.044-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:33.047-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:33.050-03:00 level=INFO msg="tenant created" tenant_id=f8bf033a-67f4-42c3-b414-b49e29f13946 name="Test Tenant for Scene"
time=2026-01-09T16:07:33.050-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:33.050-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:33.051-03:00 level=INFO msg="world created" world_id=0f6d4e3f-6dac-47e3-ae23-43666f22058b name="World of Test Story" tenant_id=f8bf033a-67f4-42c3-b414-b49e29f13946
time=2026-01-09T16:07:33.051-03:00 level=INFO msg="created implicit world for story" world_id=0f6d4e3f-6dac-47e3-ae23-43666f22058b story_title="Test Story"
time=2026-01-09T16:07:33.052-03:00 level=INFO msg="story created" story_id=dad6a0a5-bd23-4125-8d43-2ecf84b34aa7 title="Test Story" tenant_id=f8bf033a-67f4-42c3-b414-b49e29f13946
time=2026-01-09T16:07:33.052-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:33.052-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:33.053-03:00 level=INFO msg="chapter created" chapter_id=19cb8e1d-9229-455c-8c3f-61eba0df7a7b story_id=dad6a0a5-bd23-4125-8d43-2ecf84b34aa7 tenant_id=f8bf033a-67f4-42c3-b414-b49e29f13946
time=2026-01-09T16:07:33.053-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_CreateScene/successful_creation_with_chapter
time=2026-01-09T16:07:33.053-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.055-03:00 level=INFO msg="scene created" scene_id=1f3c43bc-42d7-4b2e-a27f-e993318c179b story_id=dad6a0a5-bd23-4125-8d43-2ecf84b34aa7 tenant_id=f8bf033a-67f4-42c3-b414-b49e29f13946
time=2026-01-09T16:07:33.055-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_CreateScene/successful_creation_without_chapter
time=2026-01-09T16:07:33.055-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.055-03:00 level=INFO msg="scene created" scene_id=d93685f4-0a96-4db1-94ea-2f0fd3fb270d story_id=dad6a0a5-bd23-4125-8d43-2ecf84b34aa7 tenant_id=f8bf033a-67f4-42c3-b414-b49e29f13946
time=2026-01-09T16:07:33.055-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_CreateScene/invalid_story_id
time=2026-01-09T16:07:33.056-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.056-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = NotFound desc = story not found: 3a375cb4-c90d-484a-8d72-8a1a2338bc3a"
=== RUN   TestSceneHandler_CreateScene/invalid_order_num
time=2026-01-09T16:07:33.056-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.056-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-09T16:07:33.056-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_CreateScene (0.17s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_with_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_without_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_story_id (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_order_num (0.00s)
=== RUN   TestSceneHandler_GetScene
time=2026-01-09T16:07:33.198-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:33.198-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:33.198-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:33.198-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:33.198-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:33.198-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:33.198-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:33.199-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:33.202-03:00 level=INFO msg="tenant created" tenant_id=7d422ab0-877b-4d52-a707-0ac516efd25a name="Test Tenant for Get Scene"
time=2026-01-09T16:07:33.202-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:33.202-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:33.203-03:00 level=INFO msg="world created" world_id=7b13315d-4f7d-4f02-afdf-36e897bd688d name="World of Test Story" tenant_id=7d422ab0-877b-4d52-a707-0ac516efd25a
time=2026-01-09T16:07:33.203-03:00 level=INFO msg="created implicit world for story" world_id=7b13315d-4f7d-4f02-afdf-36e897bd688d story_title="Test Story"
time=2026-01-09T16:07:33.205-03:00 level=INFO msg="story created" story_id=2f53d409-692c-4266-ba01-2abf6bba7772 title="Test Story" tenant_id=7d422ab0-877b-4d52-a707-0ac516efd25a
time=2026-01-09T16:07:33.205-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestSceneHandler_GetScene/existing_scene
time=2026-01-09T16:07:33.206-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.207-03:00 level=INFO msg="scene created" scene_id=621e824a-bbed-4749-8325-f285f07a47eb story_id=2f53d409-692c-4266-ba01-2abf6bba7772 tenant_id=7d422ab0-877b-4d52-a707-0ac516efd25a
time=2026-01-09T16:07:33.207-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T16:07:33.207-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-09T16:07:33.208-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetScene duration_ms=0
=== RUN   TestSceneHandler_GetScene/non-existing_scene
time=2026-01-09T16:07:33.208-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-09T16:07:33.208-03:00 level=ERROR msg="failed to get scene" error="scene not found: 1972b0e5-d960-4fb2-9a49-6a64b4198570" scene_id=1972b0e5-d960-4fb2-9a49-6a64b4198570 tenant_id=7d422ab0-877b-4d52-a707-0ac516efd25a
time=2026-01-09T16:07:33.208-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetScene duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 1972b0e5-d960-4fb2-9a49-6a64b4198570"
time=2026-01-09T16:07:33.208-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetScene (0.15s)
    --- PASS: TestSceneHandler_GetScene/existing_scene (0.00s)
    --- PASS: TestSceneHandler_GetScene/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_UpdateScene
time=2026-01-09T16:07:33.353-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:33.353-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:33.353-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:33.353-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:33.353-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:33.353-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:33.353-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:33.354-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:33.356-03:00 level=INFO msg="tenant created" tenant_id=4ade70f8-d631-4767-9842-47d138624b8b name="Test Tenant for Update Scene"
time=2026-01-09T16:07:33.356-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:33.356-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:33.358-03:00 level=INFO msg="world created" world_id=bda73369-ba0f-4c6f-bb1f-0a04303b12d3 name="World of Test Story" tenant_id=4ade70f8-d631-4767-9842-47d138624b8b
time=2026-01-09T16:07:33.358-03:00 level=INFO msg="created implicit world for story" world_id=bda73369-ba0f-4c6f-bb1f-0a04303b12d3 story_title="Test Story"
time=2026-01-09T16:07:33.359-03:00 level=INFO msg="story created" story_id=82e28bd5-44f8-4a1b-b685-cdc26d324f73 title="Test Story" tenant_id=4ade70f8-d631-4767-9842-47d138624b8b
time=2026-01-09T16:07:33.359-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_UpdateScene/successful_update
time=2026-01-09T16:07:33.359-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.360-03:00 level=INFO msg="scene created" scene_id=28a547c5-0562-44a6-b741-ca2eca0eece9 story_id=82e28bd5-44f8-4a1b-b685-cdc26d324f73 tenant_id=4ade70f8-d631-4767-9842-47d138624b8b
time=2026-01-09T16:07:33.360-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T16:07:33.360-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/UpdateScene
time=2026-01-09T16:07:33.361-03:00 level=INFO msg="scene updated" scene_id=28a547c5-0562-44a6-b741-ca2eca0eece9 tenant_id=4ade70f8-d631-4767-9842-47d138624b8b
time=2026-01-09T16:07:33.361-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/UpdateScene duration_ms=0
time=2026-01-09T16:07:33.361-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_UpdateScene (0.15s)
    --- PASS: TestSceneHandler_UpdateScene/successful_update (0.00s)
=== RUN   TestSceneHandler_MoveScene
time=2026-01-09T16:07:33.521-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:33.521-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:33.521-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:33.521-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:33.521-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:33.521-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:33.521-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:33.522-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:33.523-03:00 level=INFO msg="tenant created" tenant_id=349a4b75-b717-419c-a7a3-8859a5b782e8 name="Test Tenant for Move Scene"
time=2026-01-09T16:07:33.523-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T16:07:33.524-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:33.525-03:00 level=INFO msg="world created" world_id=d8bce75f-4c6a-4d3d-908b-4e4f82ecd494 name="World of Test Story" tenant_id=349a4b75-b717-419c-a7a3-8859a5b782e8
time=2026-01-09T16:07:33.525-03:00 level=INFO msg="created implicit world for story" world_id=d8bce75f-4c6a-4d3d-908b-4e4f82ecd494 story_title="Test Story"
time=2026-01-09T16:07:33.525-03:00 level=INFO msg="story created" story_id=2dc00a25-2129-487b-b761-0ae375633e7b title="Test Story" tenant_id=349a4b75-b717-419c-a7a3-8859a5b782e8
time=2026-01-09T16:07:33.525-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T16:07:33.526-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:33.526-03:00 level=INFO msg="chapter created" chapter_id=16170b0c-66a5-4a4b-9039-ccd1e3a21200 story_id=2dc00a25-2129-487b-b761-0ae375633e7b tenant_id=349a4b75-b717-419c-a7a3-8859a5b782e8
time=2026-01-09T16:07:33.526-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T16:07:33.526-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T16:07:33.527-03:00 level=INFO msg="chapter created" chapter_id=00390abf-41a1-4bfb-a975-a6265da41270 story_id=2dc00a25-2129-487b-b761-0ae375633e7b tenant_id=349a4b75-b717-419c-a7a3-8859a5b782e8
time=2026-01-09T16:07:33.527-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_different_chapter
time=2026-01-09T16:07:33.527-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.529-03:00 level=INFO msg="scene created" scene_id=7557a219-6883-4663-801b-060edb479bc4 story_id=2dc00a25-2129-487b-b761-0ae375633e7b tenant_id=349a4b75-b717-419c-a7a3-8859a5b782e8
time=2026-01-09T16:07:33.529-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T16:07:33.529-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-09T16:07:33.530-03:00 level=INFO msg="scene moved" scene_id=7557a219-6883-4663-801b-060edb479bc4 new_chapter_id=00390abf-41a1-4bfb-a975-a6265da41270 tenant_id=349a4b75-b717-419c-a7a3-8859a5b782e8
time=2026-01-09T16:07:33.530-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_no_chapter
time=2026-01-09T16:07:33.530-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.531-03:00 level=INFO msg="scene created" scene_id=e93c62d0-7253-4eae-963e-e426243fbb15 story_id=2dc00a25-2129-487b-b761-0ae375633e7b tenant_id=349a4b75-b717-419c-a7a3-8859a5b782e8
time=2026-01-09T16:07:33.531-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T16:07:33.531-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-09T16:07:33.531-03:00 level=INFO msg="scene moved" scene_id=e93c62d0-7253-4eae-963e-e426243fbb15 new_chapter_id=<nil> tenant_id=349a4b75-b717-419c-a7a3-8859a5b782e8
time=2026-01-09T16:07:33.531-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
time=2026-01-09T16:07:33.531-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_MoveScene (0.17s)
    --- PASS: TestSceneHandler_MoveScene/move_to_different_chapter (0.00s)
    --- PASS: TestSceneHandler_MoveScene/move_to_no_chapter (0.00s)
=== RUN   TestSceneHandler_ListScenesByStory
time=2026-01-09T16:07:33.678-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:33.678-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:33.678-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:33.678-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:33.678-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:33.678-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:33.678-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:33.680-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:33.683-03:00 level=INFO msg="tenant created" tenant_id=8d6d24a5-bc7f-4fae-b62e-19a51461b6ba name="Test Tenant for List Scenes"
time=2026-01-09T16:07:33.683-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:33.683-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:33.684-03:00 level=INFO msg="world created" world_id=f2cc1e16-e6c4-4571-9b7f-3619a5a3f491 name="World of Test Story" tenant_id=8d6d24a5-bc7f-4fae-b62e-19a51461b6ba
time=2026-01-09T16:07:33.684-03:00 level=INFO msg="created implicit world for story" world_id=f2cc1e16-e6c4-4571-9b7f-3619a5a3f491 story_title="Test Story"
time=2026-01-09T16:07:33.685-03:00 level=INFO msg="story created" story_id=02f1eef9-4153-4cb4-9386-67aafbd81ca9 title="Test Story" tenant_id=8d6d24a5-bc7f-4fae-b62e-19a51461b6ba
time=2026-01-09T16:07:33.685-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_ListScenesByStory/list_scenes_by_story
time=2026-01-09T16:07:33.685-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.686-03:00 level=INFO msg="scene created" scene_id=4a4d4936-4f86-4bb9-8ad6-c50e74b82b15 story_id=02f1eef9-4153-4cb4-9386-67aafbd81ca9 tenant_id=8d6d24a5-bc7f-4fae-b62e-19a51461b6ba
time=2026-01-09T16:07:33.686-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T16:07:33.686-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.687-03:00 level=INFO msg="scene created" scene_id=49007b50-c4ac-4e8f-a3f2-00ebc5679fa3 story_id=02f1eef9-4153-4cb4-9386-67aafbd81ca9 tenant_id=8d6d24a5-bc7f-4fae-b62e-19a51461b6ba
time=2026-01-09T16:07:33.687-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T16:07:33.687-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.687-03:00 level=INFO msg="scene created" scene_id=9a19bafe-5dd4-4f39-9a05-e0538f2a6ae7 story_id=02f1eef9-4153-4cb4-9386-67aafbd81ca9 tenant_id=8d6d24a5-bc7f-4fae-b62e-19a51461b6ba
time=2026-01-09T16:07:33.687-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T16:07:33.687-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/ListScenesByStory
time=2026-01-09T16:07:33.688-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/ListScenesByStory duration_ms=0
time=2026-01-09T16:07:33.688-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_ListScenesByStory (0.16s)
    --- PASS: TestSceneHandler_ListScenesByStory/list_scenes_by_story (0.00s)
=== RUN   TestSceneHandler_DeleteScene
time=2026-01-09T16:07:33.827-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:33.827-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:33.827-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:33.827-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:33.827-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:33.827-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:33.827-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-09T16:07:33.828-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:33.830-03:00 level=INFO msg="tenant created" tenant_id=e952aaa6-2a53-4a95-a92d-b3396682991e name="Test Tenant for Delete Scene"
time=2026-01-09T16:07:33.830-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:33.830-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:33.831-03:00 level=INFO msg="world created" world_id=c9c6ab15-2ac7-47c6-b9a2-79e21f9a095f name="World of Test Story" tenant_id=e952aaa6-2a53-4a95-a92d-b3396682991e
time=2026-01-09T16:07:33.831-03:00 level=INFO msg="created implicit world for story" world_id=c9c6ab15-2ac7-47c6-b9a2-79e21f9a095f story_title="Test Story"
time=2026-01-09T16:07:33.833-03:00 level=INFO msg="story created" story_id=3d037cc9-2d25-4797-8e64-2adbf3b236e7 title="Test Story" tenant_id=e952aaa6-2a53-4a95-a92d-b3396682991e
time=2026-01-09T16:07:33.833-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_DeleteScene/successful_delete
time=2026-01-09T16:07:33.833-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.834-03:00 level=INFO msg="scene created" scene_id=702109bc-90b0-41bb-bc0c-f4bd09b67731 story_id=3d037cc9-2d25-4797-8e64-2adbf3b236e7 tenant_id=e952aaa6-2a53-4a95-a92d-b3396682991e
time=2026-01-09T16:07:33.834-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T16:07:33.834-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/DeleteScene
time=2026-01-09T16:07:33.836-03:00 level=INFO msg="scene deleted" scene_id=702109bc-90b0-41bb-bc0c-f4bd09b67731 tenant_id=e952aaa6-2a53-4a95-a92d-b3396682991e
time=2026-01-09T16:07:33.836-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/DeleteScene duration_ms=1
time=2026-01-09T16:07:33.836-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_DeleteScene (0.15s)
    --- PASS: TestSceneHandler_DeleteScene/successful_delete (0.00s)
=== RUN   TestSceneHandler_AddSceneReference
time=2026-01-09T16:07:33.967-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:33.967-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:33.967-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:33.968-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:33.968-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:33.968-03:00 level=INFO msg="LocationService registered"
time=2026-01-09T16:07:33.968-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:33.968-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T16:07:33.969-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:33.971-03:00 level=INFO msg="tenant created" tenant_id=9fa0c788-4472-4d8c-b9bd-57268c8c59dd name="Test Tenant for Scene References"
time=2026-01-09T16:07:33.971-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:33.971-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:33.972-03:00 level=INFO msg="world created" world_id=ef279d62-f6d0-4bd3-88cd-fb9f534e00a5 name="Test World" tenant_id=9fa0c788-4472-4d8c-b9bd-57268c8c59dd
time=2026-01-09T16:07:33.972-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:33.973-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:33.973-03:00 level=INFO msg="world created" world_id=b34dc6b1-80c7-4641-bf6a-a72e8f0dfdf1 name="World of Test Story" tenant_id=9fa0c788-4472-4d8c-b9bd-57268c8c59dd
time=2026-01-09T16:07:33.973-03:00 level=INFO msg="created implicit world for story" world_id=b34dc6b1-80c7-4641-bf6a-a72e8f0dfdf1 story_title="Test Story"
time=2026-01-09T16:07:33.975-03:00 level=INFO msg="story created" story_id=333863a2-896f-43d0-bee6-dded72aea83c title="Test Story" tenant_id=9fa0c788-4472-4d8c-b9bd-57268c8c59dd
time=2026-01-09T16:07:33.975-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T16:07:33.975-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:33.976-03:00 level=INFO msg="scene created" scene_id=c965ced3-c651-4082-bded-4bb70fa636c5 story_id=333863a2-896f-43d0-bee6-dded72aea83c tenant_id=9fa0c788-4472-4d8c-b9bd-57268c8c59dd
time=2026-01-09T16:07:33.976-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_AddSceneReference/add_character_reference
time=2026-01-09T16:07:33.976-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:33.976-03:00 level=INFO msg="character created" character_id=13d4da76-d019-4a7c-b340-5c05d4688fd7 name="Test Character"
time=2026-01-09T16:07:33.976-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-09T16:07:33.977-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T16:07:33.979-03:00 level=INFO msg="relation created" relation_id=8d06c50a-767d-49a9-8830-a7cdb6e8a411 source_id=c965ced3-c651-4082-bded-4bb70fa636c5 target_id=13d4da76-d019-4a7c-b340-5c05d4688fd7
time=2026-01-09T16:07:33.979-03:00 level=INFO msg="scene reference added" scene_id=c965ced3-c651-4082-bded-4bb70fa636c5 entity_type=character entity_id=13d4da76-d019-4a7c-b340-5c05d4688fd7 story_id=333863a2-896f-43d0-bee6-dded72aea83c
time=2026-01-09T16:07:33.979-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
=== RUN   TestSceneHandler_AddSceneReference/add_location_reference
time=2026-01-09T16:07:33.979-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T16:07:33.981-03:00 level=INFO msg="location created" location_id=372b0de3-74f8-4359-aef2-f83f657d0b54 name="Test Location"
time=2026-01-09T16:07:33.981-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-09T16:07:33.981-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T16:07:33.982-03:00 level=INFO msg="relation created" relation_id=b32bf340-df1f-4170-8d8a-d9d4d48321e7 source_id=c965ced3-c651-4082-bded-4bb70fa636c5 target_id=372b0de3-74f8-4359-aef2-f83f657d0b54
time=2026-01-09T16:07:33.982-03:00 level=INFO msg="scene reference added" scene_id=c965ced3-c651-4082-bded-4bb70fa636c5 entity_type=location entity_id=372b0de3-74f8-4359-aef2-f83f657d0b54 story_id=333863a2-896f-43d0-bee6-dded72aea83c
time=2026-01-09T16:07:33.982-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_artifact_reference
time=2026-01-09T16:07:33.982-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:33.983-03:00 level=INFO msg="artifact created" artifact_id=63a025e5-d38f-4787-a7ef-c850755d2eab name="Test Artifact"
time=2026-01-09T16:07:33.983-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-09T16:07:33.983-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T16:07:33.985-03:00 level=INFO msg="relation created" relation_id=6b2819c0-bde3-4d12-82b6-c4e72603f2cf source_id=c965ced3-c651-4082-bded-4bb70fa636c5 target_id=63a025e5-d38f-4787-a7ef-c850755d2eab
time=2026-01-09T16:07:33.985-03:00 level=INFO msg="scene reference added" scene_id=c965ced3-c651-4082-bded-4bb70fa636c5 entity_type=artifact entity_id=63a025e5-d38f-4787-a7ef-c850755d2eab story_id=333863a2-896f-43d0-bee6-dded72aea83c
time=2026-01-09T16:07:33.985-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/invalid_entity_type
time=2026-01-09T16:07:33.985-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T16:07:33.985-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = InvalidArgument desc = entity_type must be 'character', 'location', or 'artifact'"
=== RUN   TestSceneHandler_AddSceneReference/invalid_scene_id
time=2026-01-09T16:07:33.986-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T16:07:33.986-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene not found: ca734c18-1913-4fc1-ae57-516bdbdee2a8"
time=2026-01-09T16:07:33.986-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_AddSceneReference (0.15s)
    --- PASS: TestSceneHandler_AddSceneReference/add_character_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_location_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_artifact_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_entity_type (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_scene_id (0.00s)
=== RUN   TestSceneHandler_RemoveSceneReference
time=2026-01-09T16:07:34.123-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:34.123-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:34.123-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:34.123-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:34.123-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:34.123-03:00 level=INFO msg="LocationService registered"
time=2026-01-09T16:07:34.123-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:34.123-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T16:07:34.124-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:34.126-03:00 level=INFO msg="tenant created" tenant_id=a219b0fe-1f0d-4f00-afa5-6eed6205e57e name="Test Tenant for Remove Reference"
time=2026-01-09T16:07:34.126-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:34.127-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:34.128-03:00 level=INFO msg="world created" world_id=5b75a5c4-82f3-4091-944e-610199474055 name="Test World" tenant_id=a219b0fe-1f0d-4f00-afa5-6eed6205e57e
time=2026-01-09T16:07:34.128-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:34.128-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:34.129-03:00 level=INFO msg="world created" world_id=b27efa91-3cf8-46ab-a8f3-62c791e778f3 name="World of Test Story" tenant_id=a219b0fe-1f0d-4f00-afa5-6eed6205e57e
time=2026-01-09T16:07:34.129-03:00 level=INFO msg="created implicit world for story" world_id=b27efa91-3cf8-46ab-a8f3-62c791e778f3 story_title="Test Story"
time=2026-01-09T16:07:34.130-03:00 level=INFO msg="story created" story_id=3191745a-62ef-4d10-b65b-424b289f3743 title="Test Story" tenant_id=a219b0fe-1f0d-4f00-afa5-6eed6205e57e
time=2026-01-09T16:07:34.130-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:34.131-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:34.131-03:00 level=INFO msg="scene created" scene_id=7d7aedfb-c2c5-449f-844a-27f1f28460f2 story_id=3191745a-62ef-4d10-b65b-424b289f3743 tenant_id=a219b0fe-1f0d-4f00-afa5-6eed6205e57e
time=2026-01-09T16:07:34.131-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T16:07:34.132-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:34.133-03:00 level=INFO msg="character created" character_id=e5396da8-4784-4708-8a37-c273d2831e7d name="Test Character"
time=2026-01-09T16:07:34.133-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/successful_remove
time=2026-01-09T16:07:34.133-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T16:07:34.136-03:00 level=INFO msg="relation created" relation_id=1d55f52d-3232-4337-8960-c219317ac387 source_id=7d7aedfb-c2c5-449f-844a-27f1f28460f2 target_id=e5396da8-4784-4708-8a37-c273d2831e7d
time=2026-01-09T16:07:34.136-03:00 level=INFO msg="scene reference added" scene_id=7d7aedfb-c2c5-449f-844a-27f1f28460f2 entity_type=character entity_id=e5396da8-4784-4708-8a37-c273d2831e7d story_id=3191745a-62ef-4d10-b65b-424b289f3743
time=2026-01-09T16:07:34.136-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-09T16:07:34.136-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-09T16:07:34.137-03:00 level=INFO msg="relation deleted" relation_id=1d55f52d-3232-4337-8960-c219317ac387
time=2026-01-09T16:07:34.137-03:00 level=INFO msg="scene reference removed" scene_id=7d7aedfb-c2c5-449f-844a-27f1f28460f2 entity_type=character entity_id=e5396da8-4784-4708-8a37-c273d2831e7d
time=2026-01-09T16:07:34.137-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/RemoveSceneReference duration_ms=0
time=2026-01-09T16:07:34.137-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-09T16:07:34.137-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/remove_non-existing_reference
time=2026-01-09T16:07:34.137-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-09T16:07:34.137-03:00 level=INFO msg="scene reference not found" scene_id=7d7aedfb-c2c5-449f-844a-27f1f28460f2 entity_type=character entity_id=896aeb5c-b6bb-4157-b4f6-d4b3d6303fa2
time=2026-01-09T16:07:34.137-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/RemoveSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene_reference not found: scene:7d7aedfb-c2c5-449f-844a-27f1f28460f2-character:896aeb5c-b6bb-4157-b4f6-d4b3d6303fa2"
time=2026-01-09T16:07:34.138-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_RemoveSceneReference (0.15s)
    --- PASS: TestSceneHandler_RemoveSceneReference/successful_remove (0.00s)
    --- PASS: TestSceneHandler_RemoveSceneReference/remove_non-existing_reference (0.00s)
=== RUN   TestSceneHandler_GetSceneReferences
time=2026-01-09T16:07:34.274-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:34.274-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:34.274-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:34.274-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:34.274-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T16:07:34.274-03:00 level=INFO msg="LocationService registered"
time=2026-01-09T16:07:34.274-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T16:07:34.274-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T16:07:34.276-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:34.278-03:00 level=INFO msg="tenant created" tenant_id=e8739b33-e571-409e-b923-f5628be5a1f1 name="Test Tenant for Get References"
time=2026-01-09T16:07:34.278-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:34.278-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:34.279-03:00 level=INFO msg="world created" world_id=d6534e59-e4d6-4a13-8c06-bc42e892f4bf name="Test World" tenant_id=e8739b33-e571-409e-b923-f5628be5a1f1
time=2026-01-09T16:07:34.279-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:34.279-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:34.280-03:00 level=INFO msg="world created" world_id=f2bd002f-96af-4883-8796-e39248ba3593 name="World of Test Story" tenant_id=e8739b33-e571-409e-b923-f5628be5a1f1
time=2026-01-09T16:07:34.280-03:00 level=INFO msg="created implicit world for story" world_id=f2bd002f-96af-4883-8796-e39248ba3593 story_title="Test Story"
time=2026-01-09T16:07:34.281-03:00 level=INFO msg="story created" story_id=134141d6-73a8-43a1-a275-897f486c7768 title="Test Story" tenant_id=e8739b33-e571-409e-b923-f5628be5a1f1
time=2026-01-09T16:07:34.281-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:34.282-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:34.283-03:00 level=INFO msg="scene created" scene_id=b316094a-52bd-47a3-8782-3697fac3124c story_id=134141d6-73a8-43a1-a275-897f486c7768 tenant_id=e8739b33-e571-409e-b923-f5628be5a1f1
time=2026-01-09T16:07:34.283-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_GetSceneReferences/get_multiple_references
time=2026-01-09T16:07:34.284-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T16:07:34.285-03:00 level=INFO msg="character created" character_id=10ecb1d5-c5d3-4733-b3b7-2013b1b8cd5b name="Test Character"
time=2026-01-09T16:07:34.285-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T16:07:34.285-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T16:07:34.286-03:00 level=INFO msg="location created" location_id=4d84e6f2-578e-42d9-a1e7-a60dc2ed92c7 name="Test Location"
time=2026-01-09T16:07:34.286-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-09T16:07:34.287-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T16:07:34.287-03:00 level=INFO msg="artifact created" artifact_id=3d8b0938-78e0-4c8f-a37e-1a6ec6f04291 name="Test Artifact"
time=2026-01-09T16:07:34.287-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-09T16:07:34.288-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T16:07:34.290-03:00 level=INFO msg="relation created" relation_id=70ecfff8-a37b-4b8a-a5e0-0921ed5c1fe7 source_id=b316094a-52bd-47a3-8782-3697fac3124c target_id=10ecb1d5-c5d3-4733-b3b7-2013b1b8cd5b
time=2026-01-09T16:07:34.290-03:00 level=INFO msg="scene reference added" scene_id=b316094a-52bd-47a3-8782-3697fac3124c entity_type=character entity_id=10ecb1d5-c5d3-4733-b3b7-2013b1b8cd5b story_id=134141d6-73a8-43a1-a275-897f486c7768
time=2026-01-09T16:07:34.291-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-09T16:07:34.291-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T16:07:34.292-03:00 level=INFO msg="relation created" relation_id=8ab69a76-a2fa-4832-8bd5-81b49d407438 source_id=b316094a-52bd-47a3-8782-3697fac3124c target_id=4d84e6f2-578e-42d9-a1e7-a60dc2ed92c7
time=2026-01-09T16:07:34.292-03:00 level=INFO msg="scene reference added" scene_id=b316094a-52bd-47a3-8782-3697fac3124c entity_type=location entity_id=4d84e6f2-578e-42d9-a1e7-a60dc2ed92c7 story_id=134141d6-73a8-43a1-a275-897f486c7768
time=2026-01-09T16:07:34.292-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-09T16:07:34.292-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T16:07:34.293-03:00 level=INFO msg="relation created" relation_id=740f43ee-e574-4b76-99f1-1600853546f3 source_id=b316094a-52bd-47a3-8782-3697fac3124c target_id=3d8b0938-78e0-4c8f-a37e-1a6ec6f04291
time=2026-01-09T16:07:34.293-03:00 level=INFO msg="scene reference added" scene_id=b316094a-52bd-47a3-8782-3697fac3124c entity_type=artifact entity_id=3d8b0938-78e0-4c8f-a37e-1a6ec6f04291 story_id=134141d6-73a8-43a1-a275-897f486c7768
time=2026-01-09T16:07:34.293-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-09T16:07:34.294-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-09T16:07:34.294-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_empty_references
time=2026-01-09T16:07:34.294-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T16:07:34.294-03:00 level=INFO msg="scene created" scene_id=84f907da-5e5b-4e0f-a0c9-929ba02d7296 story_id=134141d6-73a8-43a1-a275-897f486c7768 tenant_id=e8739b33-e571-409e-b923-f5628be5a1f1
time=2026-01-09T16:07:34.294-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T16:07:34.295-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-09T16:07:34.295-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/invalid_scene_id
time=2026-01-09T16:07:34.295-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-09T16:07:34.295-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetSceneReferences duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid scene_id: invalid UUID length: 10"
time=2026-01-09T16:07:34.295-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetSceneReferences (0.16s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_multiple_references (0.01s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_empty_references (0.00s)
    --- PASS: TestSceneHandler_GetSceneReferences/invalid_scene_id (0.00s)
=== RUN   TestSkillHandler_CreateSkill
time=2026-01-09T16:07:34.435-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:34.435-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:34.435-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_CreateSkill/successful_creation
time=2026-01-09T16:07:34.436-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:34.440-03:00 level=INFO msg="tenant created" tenant_id=227b7359-3d98-4c8d-9880-3f7df2af3745 name="Test Tenant for Skill"
time=2026-01-09T16:07:34.440-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-09T16:07:34.440-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:34.442-03:00 level=INFO msg="RPG system created" rpg_system_id=1e67093f-e859-40b3-9f90-1ea0cf3dcd5d name="Test System"
time=2026-01-09T16:07:34.442-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:34.442-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:34.443-03:00 level=INFO msg="skill created" skill_id=76e6a7d4-ad02-4529-8a10-112374de5a3a name=Fireball
time=2026-01-09T16:07:34.443-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestSkillHandler_CreateSkill/empty_name
time=2026-01-09T16:07:34.444-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:34.444-03:00 level=INFO msg="tenant created" tenant_id=aaa6f2f6-f5b9-4584-b53a-8a880c6564fa name="Test Tenant 2"
time=2026-01-09T16:07:34.444-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:34.445-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:34.445-03:00 level=INFO msg="RPG system created" rpg_system_id=27bd4354-0fd6-4455-9ca9-ea45670e0af0 name="Test System 2"
time=2026-01-09T16:07:34.445-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T16:07:34.445-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:34.445-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/CreateSkill duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T16:07:34.446-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_CreateSkill (0.17s)
    --- PASS: TestSkillHandler_CreateSkill/successful_creation (0.01s)
    --- PASS: TestSkillHandler_CreateSkill/empty_name (0.00s)
=== RUN   TestSkillHandler_GetSkill
time=2026-01-09T16:07:34.674-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:34.674-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:34.674-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_GetSkill/existing_skill
time=2026-01-09T16:07:34.680-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:34.683-03:00 level=INFO msg="tenant created" tenant_id=eeda0c95-cc5f-4ed9-819c-ec09309cbba7 name="Get Test Tenant"
time=2026-01-09T16:07:34.683-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T16:07:34.683-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:34.685-03:00 level=INFO msg="RPG system created" rpg_system_id=4cfe4c4d-29bd-44aa-be46-5ceb45e7cd92 name="Get Test System"
time=2026-01-09T16:07:34.685-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:34.685-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:34.687-03:00 level=INFO msg="skill created" skill_id=59bba47c-7a6c-4f95-bb6d-58dd2d7a9a51 name="Get Test Skill"
time=2026-01-09T16:07:34.687-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-09T16:07:34.687-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-09T16:07:34.687-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/GetSkill duration_ms=0
=== RUN   TestSkillHandler_GetSkill/non-existing_skill
time=2026-01-09T16:07:34.688-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:34.689-03:00 level=INFO msg="tenant created" tenant_id=90792497-4c18-4558-afd2-6c271247a102 name="Non-existing Test Tenant"
time=2026-01-09T16:07:34.689-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T16:07:34.689-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-09T16:07:34.689-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 4cdf40b2-e007-4303-b426-ca678ed559d8" skill_id=4cdf40b2-e007-4303-b426-ca678ed559d8
time=2026-01-09T16:07:34.689-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 4cdf40b2-e007-4303-b426-ca678ed559d8"
time=2026-01-09T16:07:34.690-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_GetSkill (0.22s)
    --- PASS: TestSkillHandler_GetSkill/existing_skill (0.01s)
    --- PASS: TestSkillHandler_GetSkill/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_ListSkills
time=2026-01-09T16:07:34.838-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:34.838-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:34.838-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_ListSkills/list_skills
time=2026-01-09T16:07:34.839-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:34.841-03:00 level=INFO msg="tenant created" tenant_id=5ee15818-430b-443d-81c7-6d92444ddccd name="List Test Tenant"
time=2026-01-09T16:07:34.841-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:34.841-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:34.842-03:00 level=INFO msg="RPG system created" rpg_system_id=9a47860f-825a-4845-ad5c-26844c3d56eb name="List Test System"
time=2026-01-09T16:07:34.842-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:34.843-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:34.844-03:00 level=INFO msg="skill created" skill_id=fd989eae-3118-4dc2-97de-7c7991db9f75 name="Skill 1"
time=2026-01-09T16:07:34.844-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-09T16:07:34.844-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:34.844-03:00 level=INFO msg="skill created" skill_id=6822dc1f-5e12-422b-b413-7acd37d4a7a8 name="Skill 2"
time=2026-01-09T16:07:34.844-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-09T16:07:34.844-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/ListSkills
time=2026-01-09T16:07:34.845-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/ListSkills duration_ms=0
time=2026-01-09T16:07:34.845-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_ListSkills (0.16s)
    --- PASS: TestSkillHandler_ListSkills/list_skills (0.01s)
=== RUN   TestSkillHandler_UpdateSkill
time=2026-01-09T16:07:35.014-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:35.014-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:35.014-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_UpdateSkill/update_skill
time=2026-01-09T16:07:35.016-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.019-03:00 level=INFO msg="tenant created" tenant_id=a9c035b6-a4c4-460d-ba4a-17f663f04ec4 name="Update Test Tenant"
time=2026-01-09T16:07:35.019-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T16:07:35.020-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:35.023-03:00 level=INFO msg="RPG system created" rpg_system_id=3abe5c1c-b4ee-4c39-a180-6265929291d1 name="Update Test System"
time=2026-01-09T16:07:35.023-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=3
time=2026-01-09T16:07:35.023-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:35.027-03:00 level=INFO msg="skill created" skill_id=a7a2ea46-23d1-47c2-95b6-82ed06445556 name="Original Skill"
time=2026-01-09T16:07:35.027-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=3
time=2026-01-09T16:07:35.027-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/UpdateSkill
time=2026-01-09T16:07:35.027-03:00 level=INFO msg="skill updated" skill_id=a7a2ea46-23d1-47c2-95b6-82ed06445556
time=2026-01-09T16:07:35.027-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/UpdateSkill duration_ms=0
time=2026-01-09T16:07:35.028-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_UpdateSkill (0.18s)
    --- PASS: TestSkillHandler_UpdateSkill/update_skill (0.01s)
=== RUN   TestSkillHandler_DeleteSkill
time=2026-01-09T16:07:35.162-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:35.162-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T16:07:35.162-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_DeleteSkill/delete_skill
time=2026-01-09T16:07:35.162-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.164-03:00 level=INFO msg="tenant created" tenant_id=58f1d295-9ca0-4082-97ae-62c9d61de177 name="Delete Test Tenant"
time=2026-01-09T16:07:35.164-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:35.165-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T16:07:35.166-03:00 level=INFO msg="RPG system created" rpg_system_id=bec2f8c3-2808-4203-a500-3a593d087388 name="Delete Test System"
time=2026-01-09T16:07:35.166-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T16:07:35.166-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T16:07:35.167-03:00 level=INFO msg="skill created" skill_id=bae4ce34-d456-451d-944d-427e805d7ea6 name="Skill to Delete"
time=2026-01-09T16:07:35.167-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-09T16:07:35.167-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/DeleteSkill
time=2026-01-09T16:07:35.168-03:00 level=INFO msg="skill deleted" skill_id=bae4ce34-d456-451d-944d-427e805d7ea6
time=2026-01-09T16:07:35.168-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/DeleteSkill duration_ms=0
time=2026-01-09T16:07:35.168-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-09T16:07:35.168-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: bae4ce34-d456-451d-944d-427e805d7ea6" skill_id=bae4ce34-d456-451d-944d-427e805d7ea6
time=2026-01-09T16:07:35.168-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: bae4ce34-d456-451d-944d-427e805d7ea6"
time=2026-01-09T16:07:35.168-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_DeleteSkill (0.14s)
    --- PASS: TestSkillHandler_DeleteSkill/delete_skill (0.01s)
=== RUN   TestStoryHandler_CreateStory
time=2026-01-09T16:07:35.314-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:35.314-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:35.314-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:35.314-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:35.314-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:35.314-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:35.314-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata
time=2026-01-09T16:07:35.315-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.317-03:00 level=INFO msg="tenant created" tenant_id=bddfa284-1666-4ce0-8c98-1c6b7fb8f66f name="Test Tenant for Story"
time=2026-01-09T16:07:35.317-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:35.317-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.318-03:00 level=INFO msg="world created" world_id=b9d6db96-2dc0-4528-8d41-afe14100127c name="World of Test Story" tenant_id=bddfa284-1666-4ce0-8c98-1c6b7fb8f66f
time=2026-01-09T16:07:35.318-03:00 level=INFO msg="created implicit world for story" world_id=b9d6db96-2dc0-4528-8d41-afe14100127c story_title="Test Story"
time=2026-01-09T16:07:35.319-03:00 level=INFO msg="story created" story_id=954a152b-5362-46f5-b28f-b952e7e9e28b title="Test Story" tenant_id=bddfa284-1666-4ce0-8c98-1c6b7fb8f66f
time=2026-01-09T16:07:35.319-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request
time=2026-01-09T16:07:35.320-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.320-03:00 level=INFO msg="tenant created" tenant_id=d9848843-593d-4d97-9207-28b1b769997c name="Test Tenant for Story 2"
time=2026-01-09T16:07:35.320-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:35.320-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.321-03:00 level=INFO msg="world created" world_id=84805d20-462f-4c60-96f4-c63cdddd2cde name="World of Test Story 2" tenant_id=d9848843-593d-4d97-9207-28b1b769997c
time=2026-01-09T16:07:35.321-03:00 level=INFO msg="created implicit world for story" world_id=84805d20-462f-4c60-96f4-c63cdddd2cde story_title="Test Story 2"
time=2026-01-09T16:07:35.322-03:00 level=INFO msg="story created" story_id=7682df7d-f3ea-41ce-8702-ade0cf3546fe title="Test Story 2" tenant_id=d9848843-593d-4d97-9207-28b1b769997c
time=2026-01-09T16:07:35.322-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
=== RUN   TestStoryHandler_CreateStory/without_tenant_id
time=2026-01-09T16:07:35.322-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.322-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
=== RUN   TestStoryHandler_CreateStory/with_invalid_tenant
time=2026-01-09T16:07:35.322-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.322-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: 2d78a492-48a4-4409-b705-5faa302d05bc"
=== RUN   TestStoryHandler_CreateStory/empty_title
time=2026-01-09T16:07:35.323-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.323-03:00 level=INFO msg="tenant created" tenant_id=36b970f1-b872-4892-986d-49e54cd54bd3 name="Test Tenant for Empty Title"
time=2026-01-09T16:07:35.323-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:35.323-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.323-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = title is required"
time=2026-01-09T16:07:35.324-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CreateStory (0.16s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata (0.01s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestStoryHandler_CreateStory/without_tenant_id (0.00s)
    --- PASS: TestStoryHandler_CreateStory/with_invalid_tenant (0.00s)
    --- PASS: TestStoryHandler_CreateStory/empty_title (0.00s)
=== RUN   TestStoryHandler_GetStory
time=2026-01-09T16:07:35.458-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:35.458-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:35.458-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:35.458-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:35.458-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:35.458-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:35.458-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_GetStory/existing_story
time=2026-01-09T16:07:35.459-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.461-03:00 level=INFO msg="tenant created" tenant_id=44dd097a-ed6e-4cb9-bd4f-98fa4563b867 name="Test Tenant for Get"
time=2026-01-09T16:07:35.461-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T16:07:35.461-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.462-03:00 level=INFO msg="world created" world_id=8d3a5de0-a700-4e16-ad3f-36882069f854 name="World of Get Test Story" tenant_id=44dd097a-ed6e-4cb9-bd4f-98fa4563b867
time=2026-01-09T16:07:35.463-03:00 level=INFO msg="created implicit world for story" world_id=8d3a5de0-a700-4e16-ad3f-36882069f854 story_title="Get Test Story"
time=2026-01-09T16:07:35.464-03:00 level=INFO msg="story created" story_id=beb019c7-37da-4de0-ad70-2ee524b2ecb9 title="Get Test Story" tenant_id=44dd097a-ed6e-4cb9-bd4f-98fa4563b867
time=2026-01-09T16:07:35.464-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
    story_handler_test.go:160: Created story ID: 'beb019c7-37da-4de0-ad70-2ee524b2ecb9' (length: 36)
time=2026-01-09T16:07:35.464-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-09T16:07:35.464-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/GetStory duration_ms=0
=== RUN   TestStoryHandler_GetStory/non-existing_story
time=2026-01-09T16:07:35.465-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.465-03:00 level=INFO msg="tenant created" tenant_id=419187b4-73d1-4eb5-a2fc-8b2dfda7e58e name="Test Tenant for Non-existing"
time=2026-01-09T16:07:35.465-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:35.465-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-09T16:07:35.465-03:00 level=ERROR msg="failed to get story" error="story not found: 4c6a2a69-5c36-47af-8e02-7b2655dc01ca" story_id=4c6a2a69-5c36-47af-8e02-7b2655dc01ca tenant_id=419187b4-73d1-4eb5-a2fc-8b2dfda7e58e
time=2026-01-09T16:07:35.465-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 4c6a2a69-5c36-47af-8e02-7b2655dc01ca"
=== RUN   TestStoryHandler_GetStory/invalid_story_ID
time=2026-01-09T16:07:35.465-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.466-03:00 level=INFO msg="tenant created" tenant_id=ac452a7f-d51f-4da9-9e87-6b9045ffe553 name="Test Tenant for Invalid ID"
time=2026-01-09T16:07:35.466-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:35.466-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-09T16:07:35.466-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-09T16:07:35.466-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_GetStory (0.13s)
    --- PASS: TestStoryHandler_GetStory/existing_story (0.01s)
    --- PASS: TestStoryHandler_GetStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_GetStory/invalid_story_ID (0.00s)
=== RUN   TestStoryHandler_ListStories
time=2026-01-09T16:07:35.608-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:35.609-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:35.609-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:35.609-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:35.609-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:35.609-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:35.609-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStories/with_pagination
time=2026-01-09T16:07:35.609-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.611-03:00 level=INFO msg="tenant created" tenant_id=8c5e912c-992d-4790-8b6e-3ee86992f32d name="Test Tenant for List"
time=2026-01-09T16:07:35.611-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T16:07:35.611-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.612-03:00 level=INFO msg="world created" world_id=b44d521d-8f9c-4a21-be8f-ce524d03b560 name="World of List Test Story 1" tenant_id=8c5e912c-992d-4790-8b6e-3ee86992f32d
time=2026-01-09T16:07:35.612-03:00 level=INFO msg="created implicit world for story" world_id=b44d521d-8f9c-4a21-be8f-ce524d03b560 story_title="List Test Story 1"
time=2026-01-09T16:07:35.614-03:00 level=INFO msg="story created" story_id=edac154f-9a5c-45f1-8d72-9259559e9c99 title="List Test Story 1" tenant_id=8c5e912c-992d-4790-8b6e-3ee86992f32d
time=2026-01-09T16:07:35.614-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:35.614-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.614-03:00 level=INFO msg="world created" world_id=b085da4a-3a21-4c7b-b9e2-22b0680ecd15 name="World of List Test Story 2" tenant_id=8c5e912c-992d-4790-8b6e-3ee86992f32d
time=2026-01-09T16:07:35.614-03:00 level=INFO msg="created implicit world for story" world_id=b085da4a-3a21-4c7b-b9e2-22b0680ecd15 story_title="List Test Story 2"
time=2026-01-09T16:07:35.614-03:00 level=INFO msg="story created" story_id=b32ec226-faa5-407b-8dd0-26be29dcb19a title="List Test Story 2" tenant_id=8c5e912c-992d-4790-8b6e-3ee86992f32d
time=2026-01-09T16:07:35.614-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=0
time=2026-01-09T16:07:35.614-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.615-03:00 level=INFO msg="world created" world_id=f7db2d1f-acaf-4e1c-b8b1-44703bc10b91 name="World of List Test Story 3" tenant_id=8c5e912c-992d-4790-8b6e-3ee86992f32d
time=2026-01-09T16:07:35.615-03:00 level=INFO msg="created implicit world for story" world_id=f7db2d1f-acaf-4e1c-b8b1-44703bc10b91 story_title="List Test Story 3"
time=2026-01-09T16:07:35.615-03:00 level=INFO msg="story created" story_id=fcc7423c-eca8-4452-b05d-947268acbb4c title="List Test Story 3" tenant_id=8c5e912c-992d-4790-8b6e-3ee86992f32d
time=2026-01-09T16:07:35.615-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=0
time=2026-01-09T16:07:35.615-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-09T16:07:35.616-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStories duration_ms=0
=== RUN   TestStoryHandler_ListStories/without_tenant_id
time=2026-01-09T16:07:35.616-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-09T16:07:35.616-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/ListStories duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
time=2026-01-09T16:07:35.616-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStories (0.15s)
    --- PASS: TestStoryHandler_ListStories/with_pagination (0.01s)
    --- PASS: TestStoryHandler_ListStories/without_tenant_id (0.00s)
=== RUN   TestStoryHandler_CloneStory
time=2026-01-09T16:07:35.760-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:35.760-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:35.760-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:35.760-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:35.760-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:35.760-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:35.760-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CloneStory/successful_clone
time=2026-01-09T16:07:35.761-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.763-03:00 level=INFO msg="tenant created" tenant_id=44df27a5-8809-4cdc-af20-b342f69ec0db name="Test Tenant for Clone"
time=2026-01-09T16:07:35.763-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:35.764-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.765-03:00 level=INFO msg="world created" world_id=8a327779-f2a3-4ebf-8122-3ef019969c7c name="World of Clone Test Story" tenant_id=44df27a5-8809-4cdc-af20-b342f69ec0db
time=2026-01-09T16:07:35.765-03:00 level=INFO msg="created implicit world for story" world_id=8a327779-f2a3-4ebf-8122-3ef019969c7c story_title="Clone Test Story"
time=2026-01-09T16:07:35.766-03:00 level=INFO msg="story created" story_id=9ec9bc12-3c0e-4a41-8417-9d6874175dd9 title="Clone Test Story" tenant_id=44df27a5-8809-4cdc-af20-b342f69ec0db
time=2026-01-09T16:07:35.766-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:35.766-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-09T16:07:35.769-03:00 level=INFO msg="story cloned" source_story_id=9ec9bc12-3c0e-4a41-8417-9d6874175dd9 new_story_id=7c786ed2-22fd-4ae1-8959-93c6289efaa7 version_number=2
time=2026-01-09T16:07:35.769-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
=== RUN   TestStoryHandler_CloneStory/non-existing_source_story
time=2026-01-09T16:07:35.769-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.770-03:00 level=INFO msg="tenant created" tenant_id=4f56d2a4-e1dd-4822-9f2d-630ee12edac8 name="Test Tenant for Non-existing Clone"
time=2026-01-09T16:07:35.770-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:35.770-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-09T16:07:35.770-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CloneStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 6bec238d-3108-4969-9e33-2609954e05af"
time=2026-01-09T16:07:35.771-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CloneStory (0.15s)
    --- PASS: TestStoryHandler_CloneStory/successful_clone (0.01s)
    --- PASS: TestStoryHandler_CloneStory/non-existing_source_story (0.00s)
=== RUN   TestStoryHandler_ListStoryVersions
time=2026-01-09T16:07:35.909-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:35.909-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:35.909-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:35.909-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:35.909-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:35.909-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:35.909-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStoryVersions/list_versions
time=2026-01-09T16:07:35.911-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.915-03:00 level=INFO msg="tenant created" tenant_id=dbeaee69-89ef-4693-be5c-6111945d7a37 name="Test Tenant for Versions"
time=2026-01-09T16:07:35.915-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-09T16:07:35.916-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:35.917-03:00 level=INFO msg="world created" world_id=d06ad434-5285-4b0a-8929-8cc49a871489 name="World of Version Test Story" tenant_id=dbeaee69-89ef-4693-be5c-6111945d7a37
time=2026-01-09T16:07:35.917-03:00 level=INFO msg="created implicit world for story" world_id=d06ad434-5285-4b0a-8929-8cc49a871489 story_title="Version Test Story"
time=2026-01-09T16:07:35.918-03:00 level=INFO msg="story created" story_id=8e06e46f-6816-4e98-9be8-ccc6904e39de title="Version Test Story" tenant_id=dbeaee69-89ef-4693-be5c-6111945d7a37
time=2026-01-09T16:07:35.918-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:35.919-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-09T16:07:35.922-03:00 level=INFO msg="story cloned" source_story_id=8e06e46f-6816-4e98-9be8-ccc6904e39de new_story_id=f55c982d-f676-4822-8366-c52e852db78a version_number=2
time=2026-01-09T16:07:35.922-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=3
time=2026-01-09T16:07:35.923-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-09T16:07:35.924-03:00 level=INFO msg="story cloned" source_story_id=f55c982d-f676-4822-8366-c52e852db78a new_story_id=e92c1055-6d17-4b5e-abee-9d8f396ed41f version_number=3
time=2026-01-09T16:07:35.924-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=1
time=2026-01-09T16:07:35.924-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-09T16:07:35.925-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
=== RUN   TestStoryHandler_ListStoryVersions/non-existing_root_story
time=2026-01-09T16:07:35.925-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:35.925-03:00 level=INFO msg="tenant created" tenant_id=392eb399-f364-460b-b624-a19814af8faa name="Test Tenant for Non-existing Root"
time=2026-01-09T16:07:35.925-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:35.926-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-09T16:07:35.926-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
time=2026-01-09T16:07:35.926-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStoryVersions (0.15s)
    --- PASS: TestStoryHandler_ListStoryVersions/list_versions (0.02s)
    --- PASS: TestStoryHandler_ListStoryVersions/non-existing_root_story (0.00s)
=== RUN   TestStoryHandler_UpdateStory
time=2026-01-09T16:07:36.065-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:36.065-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:36.065-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:36.065-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:36.065-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:36.065-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:36.065-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_UpdateStory/successful_update_title
time=2026-01-09T16:07:36.067-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.069-03:00 level=INFO msg="tenant created" tenant_id=7f640690-551c-42da-bef4-ed9e67ec2726 name="Test Tenant for Update Story"
time=2026-01-09T16:07:36.069-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:36.069-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:36.070-03:00 level=INFO msg="world created" world_id=dee4e720-eefa-4362-8eed-f182f141979b name="World of Original Title" tenant_id=7f640690-551c-42da-bef4-ed9e67ec2726
time=2026-01-09T16:07:36.070-03:00 level=INFO msg="created implicit world for story" world_id=dee4e720-eefa-4362-8eed-f182f141979b story_title="Original Title"
time=2026-01-09T16:07:36.072-03:00 level=INFO msg="story created" story_id=1844bfdb-8209-497f-afae-52ae50e0b0f4 title="Original Title" tenant_id=7f640690-551c-42da-bef4-ed9e67ec2726
time=2026-01-09T16:07:36.072-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T16:07:36.072-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-09T16:07:36.072-03:00 level=INFO msg="story updated" story_id=1844bfdb-8209-497f-afae-52ae50e0b0f4 tenant_id=7f640690-551c-42da-bef4-ed9e67ec2726
time=2026-01-09T16:07:36.072-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/successful_update_status
time=2026-01-09T16:07:36.073-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.073-03:00 level=INFO msg="tenant created" tenant_id=12f15243-637d-4f3a-8966-11889012b320 name="Test Tenant for Update Story Status"
time=2026-01-09T16:07:36.073-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:36.073-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T16:07:36.074-03:00 level=INFO msg="world created" world_id=674e65ee-8e41-4baf-b793-33b84a59b83d name="World of Test Story" tenant_id=12f15243-637d-4f3a-8966-11889012b320
time=2026-01-09T16:07:36.074-03:00 level=INFO msg="created implicit world for story" world_id=674e65ee-8e41-4baf-b793-33b84a59b83d story_title="Test Story"
time=2026-01-09T16:07:36.074-03:00 level=INFO msg="story created" story_id=3c8c7211-51df-46ea-8f04-b55ef2491a5a title="Test Story" tenant_id=12f15243-637d-4f3a-8966-11889012b320
time=2026-01-09T16:07:36.074-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T16:07:36.074-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-09T16:07:36.075-03:00 level=INFO msg="story updated" story_id=3c8c7211-51df-46ea-8f04-b55ef2491a5a tenant_id=12f15243-637d-4f3a-8966-11889012b320
time=2026-01-09T16:07:36.075-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/non-existing_story
time=2026-01-09T16:07:36.075-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.076-03:00 level=INFO msg="tenant created" tenant_id=f97fdab1-d636-49f8-a1d7-5a761e37efc1 name="Test Tenant for Non-existing Update"
time=2026-01-09T16:07:36.076-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:36.076-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-09T16:07:36.076-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 9124533b-3842-42e9-9a40-875edfc458a2"
=== RUN   TestStoryHandler_UpdateStory/invalid_story_ID
time=2026-01-09T16:07:36.076-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.077-03:00 level=INFO msg="tenant created" tenant_id=316eaeac-9976-40f1-88c9-bbf8586a8672 name="Test Tenant for Invalid Update ID"
time=2026-01-09T16:07:36.077-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:36.077-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-09T16:07:36.077-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-09T16:07:36.077-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_UpdateStory (0.15s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_title (0.01s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_status (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/invalid_story_ID (0.00s)
=== RUN   TestTenantHandler_CreateTenant
time=2026-01-09T16:07:36.217-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:36.217-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:36.218-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:36.218-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:36.218-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:36.218-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:36.218-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_CreateTenant/successful_creation
time=2026-01-09T16:07:36.219-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.222-03:00 level=INFO msg="tenant created" tenant_id=3545fcd2-241b-433a-84d0-000b2a97648f name="Test Tenant"
time=2026-01-09T16:07:36.222-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
=== RUN   TestTenantHandler_CreateTenant/duplicate_name
time=2026-01-09T16:07:36.223-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.223-03:00 level=INFO msg="tenant created" tenant_id=1feaa011-7786-4c0b-bb8f-035d99685959 name="Duplicate Tenant"
time=2026-01-09T16:07:36.223-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:36.223-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.223-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = AlreadyExists desc = tenant already exists with name: Duplicate Tenant"
=== RUN   TestTenantHandler_CreateTenant/empty_name
time=2026-01-09T16:07:36.224-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.224-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T16:07:36.224-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_CreateTenant (0.14s)
    --- PASS: TestTenantHandler_CreateTenant/successful_creation (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/empty_name (0.00s)
=== RUN   TestTenantHandler_GetTenant
time=2026-01-09T16:07:36.369-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:36.369-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T16:07:36.369-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T16:07:36.369-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T16:07:36.369-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T16:07:36.369-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T16:07:36.369-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_GetTenant/existing_tenant
time=2026-01-09T16:07:36.372-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.374-03:00 level=INFO msg="tenant created" tenant_id=ec83c274-3b56-43e1-8fbf-d41e5a972392 name="Get Test Tenant"
time=2026-01-09T16:07:36.374-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:36.374-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-09T16:07:36.375-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/GetTenant duration_ms=0
=== RUN   TestTenantHandler_GetTenant/non-existing_tenant
time=2026-01-09T16:07:36.375-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-09T16:07:36.375-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: cedbccaa-68c7-4ba9-b674-dccd72febff5"
=== RUN   TestTenantHandler_GetTenant/invalid_tenant_ID
time=2026-01-09T16:07:36.375-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-09T16:07:36.375-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant id: invalid UUID length: 10"
time=2026-01-09T16:07:36.376-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_GetTenant (0.15s)
    --- PASS: TestTenantHandler_GetTenant/existing_tenant (0.01s)
    --- PASS: TestTenantHandler_GetTenant/non-existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/invalid_tenant_ID (0.00s)
=== RUN   TestTraitHandler_CreateTrait
time=2026-01-09T16:07:36.496-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:36.496-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_CreateTrait/successful_creation
time=2026-01-09T16:07:36.497-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.499-03:00 level=INFO msg="tenant created" tenant_id=810b6a04-6390-4d41-a597-aad42eb06f03 name="Test Tenant for Trait"
time=2026-01-09T16:07:36.499-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:36.499-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:36.500-03:00 level=INFO msg="trait created" trait_id=332f5266-3f40-44af-aa2e-89bd9d109699 name=Brave
time=2026-01-09T16:07:36.501-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
=== RUN   TestTraitHandler_CreateTrait/empty_name
time=2026-01-09T16:07:36.501-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.501-03:00 level=INFO msg="tenant created" tenant_id=ec10ec07-6c47-477f-ac5a-666cd72c2e2d name="Test Tenant 2"
time=2026-01-09T16:07:36.501-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:36.501-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:36.501-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/CreateTrait duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T16:07:36.502-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_CreateTrait (0.13s)
    --- PASS: TestTraitHandler_CreateTrait/successful_creation (0.00s)
    --- PASS: TestTraitHandler_CreateTrait/empty_name (0.00s)
=== RUN   TestTraitHandler_GetTrait
time=2026-01-09T16:07:36.625-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:36.625-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_GetTrait/existing_trait
time=2026-01-09T16:07:36.630-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.633-03:00 level=INFO msg="tenant created" tenant_id=9afd371e-dd94-4fa0-b2fc-0044e8f1b6cb name="Get Test Tenant"
time=2026-01-09T16:07:36.633-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:36.633-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:36.634-03:00 level=INFO msg="trait created" trait_id=18623abe-6e55-4c60-a644-6bf4a2bfcc8a name="Get Test Trait"
time=2026-01-09T16:07:36.634-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T16:07:36.634-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-09T16:07:36.634-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/GetTrait duration_ms=0
=== RUN   TestTraitHandler_GetTrait/non-existing_trait
time=2026-01-09T16:07:36.635-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.635-03:00 level=INFO msg="tenant created" tenant_id=9f28d401-e5f9-436a-9439-3d4b9c990049 name="Non-existing Test Tenant"
time=2026-01-09T16:07:36.635-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:36.635-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-09T16:07:36.635-03:00 level=ERROR msg="failed to get trait" error="trait not found: d6e33059-6ed7-4414-8610-d4eec31e3694" trait_id=d6e33059-6ed7-4414-8610-d4eec31e3694
time=2026-01-09T16:07:36.635-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: d6e33059-6ed7-4414-8610-d4eec31e3694"
time=2026-01-09T16:07:36.636-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_GetTrait (0.13s)
    --- PASS: TestTraitHandler_GetTrait/existing_trait (0.01s)
    --- PASS: TestTraitHandler_GetTrait/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_ListTraits
time=2026-01-09T16:07:36.769-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:36.769-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_ListTraits/list_traits
time=2026-01-09T16:07:36.769-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.772-03:00 level=INFO msg="tenant created" tenant_id=4301d809-7c76-456c-b746-6c89e7a2d3a0 name="List Test Tenant"
time=2026-01-09T16:07:36.772-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:36.772-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:36.773-03:00 level=INFO msg="trait created" trait_id=153a94ad-f0bb-4094-8087-a089d23ce07f name="Trait 1"
time=2026-01-09T16:07:36.773-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T16:07:36.773-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:36.774-03:00 level=INFO msg="trait created" trait_id=ac7235c5-343e-429d-8746-d35986acd8a2 name="Trait 2"
time=2026-01-09T16:07:36.774-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-09T16:07:36.774-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/ListTraits
time=2026-01-09T16:07:36.775-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/ListTraits duration_ms=0
time=2026-01-09T16:07:36.775-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_ListTraits (0.14s)
    --- PASS: TestTraitHandler_ListTraits/list_traits (0.01s)
=== RUN   TestTraitHandler_UpdateTrait
time=2026-01-09T16:07:36.909-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:36.909-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_UpdateTrait/update_trait
time=2026-01-09T16:07:36.910-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:36.912-03:00 level=INFO msg="tenant created" tenant_id=c042f8f6-f4b0-4f85-95cd-62eed6f1abde name="Update Test Tenant"
time=2026-01-09T16:07:36.912-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:36.913-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:36.914-03:00 level=INFO msg="trait created" trait_id=ace37a7d-683b-432c-ab10-f3c6c28c8f35 name="Original Trait"
time=2026-01-09T16:07:36.914-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T16:07:36.915-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/UpdateTrait
time=2026-01-09T16:07:36.916-03:00 level=INFO msg="trait updated" trait_id=ace37a7d-683b-432c-ab10-f3c6c28c8f35 name="Updated Trait"
time=2026-01-09T16:07:36.916-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/UpdateTrait duration_ms=1
time=2026-01-09T16:07:36.916-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_UpdateTrait (0.14s)
    --- PASS: TestTraitHandler_UpdateTrait/update_trait (0.01s)
=== RUN   TestTraitHandler_DeleteTrait
time=2026-01-09T16:07:37.052-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:37.052-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_DeleteTrait/delete_trait
time=2026-01-09T16:07:37.053-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.056-03:00 level=INFO msg="tenant created" tenant_id=6de0f6b2-c72b-4d1d-8d2a-8e6159b41731 name="Delete Test Tenant"
time=2026-01-09T16:07:37.056-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:37.056-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T16:07:37.058-03:00 level=INFO msg="trait created" trait_id=441e839a-283e-4918-b668-81c26ce26e9c name="Trait to Delete"
time=2026-01-09T16:07:37.058-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=2
time=2026-01-09T16:07:37.059-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/DeleteTrait
time=2026-01-09T16:07:37.067-03:00 level=INFO msg="trait deleted" trait_id=441e839a-283e-4918-b668-81c26ce26e9c name="Trait to Delete"
time=2026-01-09T16:07:37.067-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/DeleteTrait duration_ms=8
time=2026-01-09T16:07:37.067-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-09T16:07:37.068-03:00 level=ERROR msg="failed to get trait" error="trait not found: 441e839a-283e-4918-b668-81c26ce26e9c" trait_id=441e839a-283e-4918-b668-81c26ce26e9c
time=2026-01-09T16:07:37.068-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 441e839a-283e-4918-b668-81c26ce26e9c"
time=2026-01-09T16:07:37.068-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_DeleteTrait (0.16s)
    --- PASS: TestTraitHandler_DeleteTrait/delete_trait (0.02s)
=== RUN   TestWorldHandler_CreateWorld
time=2026-01-09T16:07:37.214-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:37.214-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata
time=2026-01-09T16:07:37.216-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.218-03:00 level=INFO msg="tenant created" tenant_id=8338dc26-4c15-431a-824c-5c1ff30f52eb name="Test Tenant for World"
time=2026-01-09T16:07:37.218-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:37.218-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:37.219-03:00 level=INFO msg="world created" world_id=45677c11-3a24-4b96-8171-657ba2fa08c5 name="Test World" tenant_id=8338dc26-4c15-431a-824c-5c1ff30f52eb
time=2026-01-09T16:07:37.219-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request
time=2026-01-09T16:07:37.219-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.220-03:00 level=INFO msg="tenant created" tenant_id=1aa89bb0-24e9-48e0-8ffa-3c27381d63f1 name="Test Tenant 2"
time=2026-01-09T16:07:37.220-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:37.220-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:37.221-03:00 level=INFO msg="world created" world_id=3caa8e65-8991-4658-906f-21e156d47218 name="Test World 2" tenant_id=1aa89bb0-24e9-48e0-8ffa-3c27381d63f1
time=2026-01-09T16:07:37.222-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
=== RUN   TestWorldHandler_CreateWorld/empty_name
time=2026-01-09T16:07:37.222-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.222-03:00 level=INFO msg="tenant created" tenant_id=be942cc5-157e-4b1a-b85f-4eb8f164be22 name="Test Tenant 3"
time=2026-01-09T16:07:37.222-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:37.222-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:37.223-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestWorldHandler_CreateWorld/invalid_tenant_id
time=2026-01-09T16:07:37.223-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:37.223-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant_id: invalid UUID length: 10"
time=2026-01-09T16:07:37.223-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_CreateWorld (0.15s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/empty_name (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/invalid_tenant_id (0.00s)
=== RUN   TestWorldHandler_GetWorld
time=2026-01-09T16:07:37.358-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:37.358-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_GetWorld/existing_world
time=2026-01-09T16:07:37.359-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.361-03:00 level=INFO msg="tenant created" tenant_id=3a4d061c-219a-4b29-afd8-38c6f481e10e name="Get Test Tenant"
time=2026-01-09T16:07:37.361-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:37.362-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:37.363-03:00 level=INFO msg="world created" world_id=ed4fdc96-1f0a-4a5e-94bb-d6194b606617 name="Get Test World" tenant_id=3a4d061c-219a-4b29-afd8-38c6f481e10e
time=2026-01-09T16:07:37.363-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:37.365-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-09T16:07:37.366-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/GetWorld duration_ms=0
=== RUN   TestWorldHandler_GetWorld/non-existing_world
time=2026-01-09T16:07:37.366-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.366-03:00 level=INFO msg="tenant created" tenant_id=94c167a4-23cf-4318-b8f5-fc0445bdc21e name="Non-existing Test Tenant"
time=2026-01-09T16:07:37.366-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:37.366-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-09T16:07:37.367-03:00 level=ERROR msg="failed to get world" error="world not found: 1b246c57-c2a1-4ab5-9762-76336ba88910" world_id=1b246c57-c2a1-4ab5-9762-76336ba88910
time=2026-01-09T16:07:37.367-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 1b246c57-c2a1-4ab5-9762-76336ba88910"
=== RUN   TestWorldHandler_GetWorld/invalid_world_ID
time=2026-01-09T16:07:37.367-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.367-03:00 level=INFO msg="tenant created" tenant_id=97df377d-5c9c-4baa-864c-60f126497fb0 name="Invalid ID Test Tenant"
time=2026-01-09T16:07:37.367-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:37.368-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-09T16:07:37.368-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid world id: invalid UUID length: 10"
time=2026-01-09T16:07:37.368-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_GetWorld (0.14s)
    --- PASS: TestWorldHandler_GetWorld/existing_world (0.01s)
    --- PASS: TestWorldHandler_GetWorld/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_GetWorld/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_ListWorlds
time=2026-01-09T16:07:37.644-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:37.644-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_ListWorlds/list_worlds_for_tenant
time=2026-01-09T16:07:37.645-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.648-03:00 level=INFO msg="tenant created" tenant_id=66725eec-1ef3-44e0-8b7d-11f89e861121 name="List Test Tenant"
time=2026-01-09T16:07:37.648-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:37.648-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:37.649-03:00 level=INFO msg="world created" world_id=87fb402d-1bca-48a0-8f7b-851432aaa02d name="World 1" tenant_id=66725eec-1ef3-44e0-8b7d-11f89e861121
time=2026-01-09T16:07:37.649-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:37.649-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:37.649-03:00 level=INFO msg="world created" world_id=c511d0d8-ddaa-4f78-9421-1bb477170cf3 name="World 2" tenant_id=66725eec-1ef3-44e0-8b7d-11f89e861121
time=2026-01-09T16:07:37.649-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T16:07:37.649-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/ListWorlds
time=2026-01-09T16:07:37.650-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/ListWorlds duration_ms=0
time=2026-01-09T16:07:37.650-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_ListWorlds (0.29s)
    --- PASS: TestWorldHandler_ListWorlds/list_worlds_for_tenant (0.01s)
=== RUN   TestWorldHandler_UpdateWorld
time=2026-01-09T16:07:37.792-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:37.792-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_UpdateWorld/update_world_name
time=2026-01-09T16:07:37.793-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.795-03:00 level=INFO msg="tenant created" tenant_id=38d46c34-96ae-4e94-a3ff-6f70c207155b name="Update Test Tenant"
time=2026-01-09T16:07:37.795-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:37.796-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:37.802-03:00 level=INFO msg="world created" world_id=eaf8885f-7c1f-40f6-8e32-0cb0741c73f5 name="Original World" tenant_id=38d46c34-96ae-4e94-a3ff-6f70c207155b
time=2026-01-09T16:07:37.802-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=6
time=2026-01-09T16:07:37.802-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-09T16:07:37.803-03:00 level=INFO msg="world updated" world_id=eaf8885f-7c1f-40f6-8e32-0cb0741c73f5 name="Updated World"
time=2026-01-09T16:07:37.803-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/UpdateWorld duration_ms=1
=== RUN   TestWorldHandler_UpdateWorld/non-existing_world
time=2026-01-09T16:07:37.804-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.805-03:00 level=INFO msg="tenant created" tenant_id=98b66222-1ca0-4d6b-9761-eb7d8cd9c56f name="Update Test Tenant 2"
time=2026-01-09T16:07:37.805-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:37.805-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-09T16:07:37.805-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/UpdateWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: ac00c51c-0555-4bdb-8d26-1127a329495a"
time=2026-01-09T16:07:37.805-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_UpdateWorld (0.17s)
    --- PASS: TestWorldHandler_UpdateWorld/update_world_name (0.01s)
    --- PASS: TestWorldHandler_UpdateWorld/non-existing_world (0.00s)
=== RUN   TestWorldHandler_DeleteWorld
time=2026-01-09T16:07:37.980-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T16:07:37.980-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_DeleteWorld/delete_existing_world
time=2026-01-09T16:07:37.981-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.983-03:00 level=INFO msg="tenant created" tenant_id=5f072032-f1ab-4d2e-864a-6ee6e312dc26 name="Delete Test Tenant"
time=2026-01-09T16:07:37.983-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T16:07:37.983-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T16:07:37.985-03:00 level=INFO msg="world created" world_id=4fc934b3-f58d-44f4-938f-ef14fd3b9d39 name="World to Delete" tenant_id=5f072032-f1ab-4d2e-864a-6ee6e312dc26
time=2026-01-09T16:07:37.985-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T16:07:37.985-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-09T16:07:37.988-03:00 level=INFO msg="world deleted" world_id=4fc934b3-f58d-44f4-938f-ef14fd3b9d39 name="World to Delete"
time=2026-01-09T16:07:37.988-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/DeleteWorld duration_ms=3
time=2026-01-09T16:07:37.989-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-09T16:07:37.989-03:00 level=ERROR msg="failed to get world" error="world not found: 4fc934b3-f58d-44f4-938f-ef14fd3b9d39" world_id=4fc934b3-f58d-44f4-938f-ef14fd3b9d39
time=2026-01-09T16:07:37.989-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 4fc934b3-f58d-44f4-938f-ef14fd3b9d39"
=== RUN   TestWorldHandler_DeleteWorld/delete_non-existing_world
time=2026-01-09T16:07:37.989-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T16:07:37.990-03:00 level=INFO msg="tenant created" tenant_id=86c3464d-adcd-41b0-bbdf-d98f5a8ee2ba name="Delete Test Tenant 2"
time=2026-01-09T16:07:37.990-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T16:07:37.990-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-09T16:07:37.990-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/DeleteWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 8a9babd3-7ba1-4aa5-92e5-11e2bf3a9991"
time=2026-01-09T16:07:37.990-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_DeleteWorld (0.16s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_existing_world (0.01s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/grpc/handlers	(cached)
?   	github.com/story-engine/main-service/internal/transport/grpc/interceptors	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/mappers	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/testing	[no test files]
=== RUN   TestArchetypeHandler_Create
time=2026-01-09T16:13:05.273-03:00 level=INFO msg="tenant created" tenant_id=0e89add8-1505-4c21-81f7-0627fcf30177 name="Test Tenant"
=== RUN   TestArchetypeHandler_Create/successful_creation
time=2026-01-09T16:13:05.275-03:00 level=INFO msg="archetype created" archetype_id=bf18e199-eb94-4b0f-9d38-d7cd5b8a3253 name=Warrior
=== RUN   TestArchetypeHandler_Create/missing_tenant_id
=== RUN   TestArchetypeHandler_Create/empty_name
--- PASS: TestArchetypeHandler_Create (0.29s)
    --- PASS: TestArchetypeHandler_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArchetypeHandler_Create/empty_name (0.00s)
=== RUN   TestArchetypeHandler_Get
time=2026-01-09T16:13:05.472-03:00 level=INFO msg="tenant created" tenant_id=9069a2f2-ba89-4c7f-9e2c-9f8f27b7afb0 name="Test Tenant"
time=2026-01-09T16:13:05.473-03:00 level=INFO msg="archetype created" archetype_id=e1c2c934-d96f-4abb-8fa5-e9cdc84eaa4f name="Get Test Archetype"
=== RUN   TestArchetypeHandler_Get/existing_archetype
=== RUN   TestArchetypeHandler_Get/non-existing_archetype
time=2026-01-09T16:13:05.474-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 00000000-0000-0000-0000-000000000000" archetype_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArchetypeHandler_Get (0.19s)
    --- PASS: TestArchetypeHandler_Get/existing_archetype (0.00s)
    --- PASS: TestArchetypeHandler_Get/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_List
time=2026-01-09T16:13:05.653-03:00 level=INFO msg="tenant created" tenant_id=87c21608-53f5-4461-a027-75505a81478f name="Test Tenant"
time=2026-01-09T16:13:05.654-03:00 level=INFO msg="archetype created" archetype_id=c3b5d9f8-0509-4872-b5b2-fa68f5f721fc name="Archetype 1"
time=2026-01-09T16:13:05.655-03:00 level=INFO msg="archetype created" archetype_id=bb99011b-3e2e-47d7-818d-bd6fee40d722 name="Archetype 2"
time=2026-01-09T16:13:05.655-03:00 level=INFO msg="archetype created" archetype_id=58b653cd-b662-4159-9124-c76c98d891bf name="Archetype 3"
=== RUN   TestArchetypeHandler_List/list_archetypes
--- PASS: TestArchetypeHandler_List (0.18s)
    --- PASS: TestArchetypeHandler_List/list_archetypes (0.00s)
=== RUN   TestArchetypeHandler_Update
time=2026-01-09T16:13:05.841-03:00 level=INFO msg="tenant created" tenant_id=0411d144-e7f3-44a0-a2e8-df837864a349 name="Test Tenant"
time=2026-01-09T16:13:05.843-03:00 level=INFO msg="archetype created" archetype_id=c8900dbe-044b-47f6-b2d2-64cb5bcb58fc name="Original Archetype"
=== RUN   TestArchetypeHandler_Update/update_archetype
time=2026-01-09T16:13:05.845-03:00 level=INFO msg="archetype updated" archetype_id=c8900dbe-044b-47f6-b2d2-64cb5bcb58fc name="Updated Archetype"
--- PASS: TestArchetypeHandler_Update (0.19s)
    --- PASS: TestArchetypeHandler_Update/update_archetype (0.00s)
=== RUN   TestArchetypeHandler_Delete
time=2026-01-09T16:13:06.019-03:00 level=INFO msg="tenant created" tenant_id=160b31fd-6e65-42ac-85b1-2ae0d07b3c68 name="Test Tenant"
time=2026-01-09T16:13:06.020-03:00 level=INFO msg="archetype created" archetype_id=d7822a6d-41f9-45a0-9da9-e6fa8ce8ff6e name="Archetype to Delete"
=== RUN   TestArchetypeHandler_Delete/delete_archetype
time=2026-01-09T16:13:06.022-03:00 level=INFO msg="archetype deleted" archetype_id=d7822a6d-41f9-45a0-9da9-e6fa8ce8ff6e name="Archetype to Delete"
--- PASS: TestArchetypeHandler_Delete (0.18s)
    --- PASS: TestArchetypeHandler_Delete/delete_archetype (0.00s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-09T16:13:06.218-03:00 level=INFO msg="tenant created" tenant_id=b98a19b1-a0e9-4bd8-9976-c549dee8ef53 name="Test Tenant"
time=2026-01-09T16:13:06.220-03:00 level=INFO msg="archetype created" archetype_id=ae373b4e-a1f6-4aa9-aff9-3a6a2bf928c6 name=Warrior
time=2026-01-09T16:13:06.224-03:00 level=INFO msg="trait created" trait_id=c82e79bf-a749-496a-8c64-a12dd91ee0a8 name=Brave
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-09T16:13:06.226-03:00 level=INFO msg="trait added to archetype" archetype_id=ae373b4e-a1f6-4aa9-aff9-3a6a2bf928c6 trait_id=c82e79bf-a749-496a-8c64-a12dd91ee0a8
--- PASS: TestArchetypeHandler_AddTrait (0.21s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.00s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-09T16:13:06.474-03:00 level=INFO msg="tenant created" tenant_id=64aa6c9d-4bb6-48e0-aa53-17550bf46f73 name="Test Tenant"
time=2026-01-09T16:13:06.479-03:00 level=INFO msg="archetype created" archetype_id=bc271f28-1ea7-4b3f-9b46-b445c3be69e9 name=Warrior
time=2026-01-09T16:13:06.481-03:00 level=INFO msg="trait created" trait_id=106d0528-2d6a-4ea7-889a-b086a02bf624 name=Brave
time=2026-01-09T16:13:06.483-03:00 level=INFO msg="trait added to archetype" archetype_id=bc271f28-1ea7-4b3f-9b46-b445c3be69e9 trait_id=106d0528-2d6a-4ea7-889a-b086a02bf624
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-09T16:13:06.484-03:00 level=INFO msg="trait removed from archetype" archetype_id=bc271f28-1ea7-4b3f-9b46-b445c3be69e9 trait_id=106d0528-2d6a-4ea7-889a-b086a02bf624
--- PASS: TestArchetypeHandler_RemoveTrait (0.27s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.00s)
=== RUN   TestArtifactHandler_Create
time=2026-01-09T16:13:06.997-03:00 level=INFO msg="tenant created" tenant_id=47ee3185-ac59-435c-b687-d5b82a981400 name="Test Tenant"
time=2026-01-09T16:13:06.998-03:00 level=INFO msg="world created" world_id=6f0d223b-bd1d-4f58-b8c3-1f776a0bf29b name="Test World" tenant_id=47ee3185-ac59-435c-b687-d5b82a981400
=== RUN   TestArtifactHandler_Create/successful_creation
time=2026-01-09T16:13:07.000-03:00 level=INFO msg="artifact created" artifact_id=70708e1c-790d-4766-a945-00f976925ecb name="Test Artifact"
=== RUN   TestArtifactHandler_Create/missing_tenant_id
=== RUN   TestArtifactHandler_Create/empty_name
--- PASS: TestArtifactHandler_Create (0.52s)
    --- PASS: TestArtifactHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArtifactHandler_Create/empty_name (0.00s)
=== RUN   TestArtifactHandler_Get
time=2026-01-09T16:13:07.200-03:00 level=INFO msg="tenant created" tenant_id=4dd47a39-6f97-444c-8f04-8c8fe82cd8d1 name="Test Tenant"
time=2026-01-09T16:13:07.201-03:00 level=INFO msg="world created" world_id=6997d354-9785-4c1c-9f51-4f6b170c3f31 name="Test World" tenant_id=4dd47a39-6f97-444c-8f04-8c8fe82cd8d1
time=2026-01-09T16:13:07.202-03:00 level=INFO msg="artifact created" artifact_id=0d4b8025-eedd-4b91-9fe7-ac7e6409014b name="Get Test Artifact"
=== RUN   TestArtifactHandler_Get/existing_artifact
=== RUN   TestArtifactHandler_Get/non-existing_artifact
time=2026-01-09T16:13:07.203-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 00000000-0000-0000-0000-000000000000" artifact_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArtifactHandler_Get (0.19s)
    --- PASS: TestArtifactHandler_Get/existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Get/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_List
time=2026-01-09T16:13:07.391-03:00 level=INFO msg="tenant created" tenant_id=a818050d-4344-4226-8164-b20d51d42ffc name="Test Tenant"
time=2026-01-09T16:13:07.392-03:00 level=INFO msg="world created" world_id=26034289-93b2-4b82-9558-f3c90f8e65aa name="Test World" tenant_id=a818050d-4344-4226-8164-b20d51d42ffc
time=2026-01-09T16:13:07.392-03:00 level=INFO msg="artifact created" artifact_id=95c810b1-104c-46f8-a63d-63c653acc0e1 name="Artifact 1"
time=2026-01-09T16:13:07.393-03:00 level=INFO msg="artifact created" artifact_id=c4cc36e3-4b80-458f-a8ff-b495643a982f name="Artifact 2"
time=2026-01-09T16:13:07.393-03:00 level=INFO msg="artifact created" artifact_id=019f7f9f-f1e5-49ce-938f-488db53d32b2 name="Artifact 3"
=== RUN   TestArtifactHandler_List/list_artifacts
--- PASS: TestArtifactHandler_List (0.19s)
    --- PASS: TestArtifactHandler_List/list_artifacts (0.00s)
=== RUN   TestArtifactHandler_Update
time=2026-01-09T16:13:07.555-03:00 level=INFO msg="tenant created" tenant_id=2f662512-8a68-4448-98d6-145fb7dd0f0b name="Test Tenant"
time=2026-01-09T16:13:07.556-03:00 level=INFO msg="world created" world_id=8feb999d-4285-4290-b267-481344d04280 name="Test World" tenant_id=2f662512-8a68-4448-98d6-145fb7dd0f0b
time=2026-01-09T16:13:07.557-03:00 level=INFO msg="artifact created" artifact_id=f05fa72b-43a6-4503-86c1-87c392a2cffa name="Original Artifact"
=== RUN   TestArtifactHandler_Update/update_artifact_name
time=2026-01-09T16:13:07.558-03:00 level=INFO msg="artifact updated" artifact_id=f05fa72b-43a6-4503-86c1-87c392a2cffa name="Updated Artifact"
=== RUN   TestArtifactHandler_Update/non-existing_artifact
--- PASS: TestArtifactHandler_Update (0.16s)
    --- PASS: TestArtifactHandler_Update/update_artifact_name (0.00s)
    --- PASS: TestArtifactHandler_Update/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_Delete
time=2026-01-09T16:13:07.726-03:00 level=INFO msg="tenant created" tenant_id=b40fc92a-7ad1-47ca-aab4-a3a9443a9911 name="Test Tenant"
time=2026-01-09T16:13:07.728-03:00 level=INFO msg="world created" world_id=38778100-9981-470c-b7d5-554b68e1e1d2 name="Test World" tenant_id=b40fc92a-7ad1-47ca-aab4-a3a9443a9911
time=2026-01-09T16:13:07.729-03:00 level=INFO msg="artifact created" artifact_id=032d4868-ae0b-4027-a731-337f01df6c46 name="Artifact to Delete"
=== RUN   TestArtifactHandler_Delete/delete_existing_artifact
time=2026-01-09T16:13:07.731-03:00 level=INFO msg="artifact deleted" artifact_id=032d4868-ae0b-4027-a731-337f01df6c46 name="Artifact to Delete"
time=2026-01-09T16:13:07.731-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 032d4868-ae0b-4027-a731-337f01df6c46" artifact_id=032d4868-ae0b-4027-a731-337f01df6c46
=== RUN   TestArtifactHandler_Delete/delete_non-existing_artifact
--- PASS: TestArtifactHandler_Delete (0.17s)
    --- PASS: TestArtifactHandler_Delete/delete_existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Delete/delete_non-existing_artifact (0.00s)
=== RUN   TestArtifactRPGStatsHandler_Create
time=2026-01-09T16:13:07.910-03:00 level=INFO msg="tenant created" tenant_id=0b4da8e4-e0e8-4261-88fc-9a22e414eced name="Test Tenant"
time=2026-01-09T16:13:07.912-03:00 level=INFO msg="world created" world_id=8a0b25d6-3b7a-43b4-bfb1-a72163e0052b name="Test World" tenant_id=0b4da8e4-e0e8-4261-88fc-9a22e414eced
time=2026-01-09T16:13:07.913-03:00 level=INFO msg="artifact created" artifact_id=be143d26-9c55-4bd6-9ac6-54ac06a50bdd name="Test Artifact"
=== RUN   TestArtifactRPGStatsHandler_Create/successful_creation
time=2026-01-09T16:13:07.915-03:00 level=INFO msg="artifact RPG stats created" artifact_id=be143d26-9c55-4bd6-9ac6-54ac06a50bdd version=1
=== RUN   TestArtifactRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestArtifactRPGStatsHandler_Create (0.18s)
    --- PASS: TestArtifactRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestArtifactRPGStatsHandler_GetActive
time=2026-01-09T16:13:08.082-03:00 level=INFO msg="tenant created" tenant_id=048fa7b2-21ec-4e70-9940-f2e64614d339 name="Test Tenant"
time=2026-01-09T16:13:08.083-03:00 level=INFO msg="world created" world_id=3c7313e3-6a0a-4051-a57f-a37315b51908 name="Test World" tenant_id=048fa7b2-21ec-4e70-9940-f2e64614d339
time=2026-01-09T16:13:08.084-03:00 level=INFO msg="artifact created" artifact_id=6a262da8-6aa5-4c3f-b019-7d39f1e768ef name="Test Artifact"
time=2026-01-09T16:13:08.088-03:00 level=INFO msg="artifact RPG stats created" artifact_id=6a262da8-6aa5-4c3f-b019-7d39f1e768ef version=1
=== RUN   TestArtifactRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestArtifactRPGStatsHandler_GetActive (0.17s)
    --- PASS: TestArtifactRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestBeatHandler_Create
time=2026-01-09T16:13:08.244-03:00 level=INFO msg="tenant created" tenant_id=2ae9bc6b-de43-4b7f-ab8a-5384a501ce88 name="Test Tenant"
time=2026-01-09T16:13:08.245-03:00 level=INFO msg="world created" world_id=f42cb385-5372-46d9-a821-8b71565d5d8e name="World of Test Story" tenant_id=2ae9bc6b-de43-4b7f-ab8a-5384a501ce88
time=2026-01-09T16:13:08.245-03:00 level=INFO msg="created implicit world for story" world_id=f42cb385-5372-46d9-a821-8b71565d5d8e story_title="Test Story"
time=2026-01-09T16:13:08.247-03:00 level=INFO msg="story created" story_id=20913adc-d9ad-445f-8cd4-3df6c27403fb title="Test Story" tenant_id=2ae9bc6b-de43-4b7f-ab8a-5384a501ce88
time=2026-01-09T16:13:08.248-03:00 level=INFO msg="scene created" scene_id=bfb4018d-df71-488f-b54b-06b0eec5d612 story_id=20913adc-d9ad-445f-8cd4-3df6c27403fb tenant_id=2ae9bc6b-de43-4b7f-ab8a-5384a501ce88
=== RUN   TestBeatHandler_Create/successful_creation
time=2026-01-09T16:13:08.250-03:00 level=INFO msg="beat created" beat_id=6435ceeb-54e4-4284-896a-a04dd110eee7 scene_id=bfb4018d-df71-488f-b54b-06b0eec5d612 tenant_id=2ae9bc6b-de43-4b7f-ab8a-5384a501ce88
=== RUN   TestBeatHandler_Create/missing_tenant_id
--- PASS: TestBeatHandler_Create (0.16s)
    --- PASS: TestBeatHandler_Create/successful_creation (0.00s)
    --- PASS: TestBeatHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestBeatHandler_Get
time=2026-01-09T16:13:08.431-03:00 level=INFO msg="tenant created" tenant_id=06de370b-a3e4-455a-80eb-547cb7f17e0d name="Test Tenant"
time=2026-01-09T16:13:08.433-03:00 level=INFO msg="world created" world_id=067c78e8-7e77-42ef-9917-89d693c7d62d name="World of Test Story" tenant_id=06de370b-a3e4-455a-80eb-547cb7f17e0d
time=2026-01-09T16:13:08.433-03:00 level=INFO msg="created implicit world for story" world_id=067c78e8-7e77-42ef-9917-89d693c7d62d story_title="Test Story"
time=2026-01-09T16:13:08.434-03:00 level=INFO msg="story created" story_id=cc7f8536-a3f4-4f9f-b4d9-bf9bb3ef9f6b title="Test Story" tenant_id=06de370b-a3e4-455a-80eb-547cb7f17e0d
time=2026-01-09T16:13:08.434-03:00 level=INFO msg="scene created" scene_id=9adee7cf-074b-4f12-aed0-18913f8bd3a1 story_id=cc7f8536-a3f4-4f9f-b4d9-bf9bb3ef9f6b tenant_id=06de370b-a3e4-455a-80eb-547cb7f17e0d
time=2026-01-09T16:13:08.435-03:00 level=INFO msg="beat created" beat_id=cbe0695e-e70a-43b8-8dd5-748b7c3cbb14 scene_id=9adee7cf-074b-4f12-aed0-18913f8bd3a1 tenant_id=06de370b-a3e4-455a-80eb-547cb7f17e0d
=== RUN   TestBeatHandler_Get/existing_beat
=== RUN   TestBeatHandler_Get/non-existing_beat
time=2026-01-09T16:13:08.436-03:00 level=ERROR msg="failed to get beat" error="beat not found: 00000000-0000-0000-0000-000000000000" beat_id=00000000-0000-0000-0000-000000000000 tenant_id=06de370b-a3e4-455a-80eb-547cb7f17e0d
--- PASS: TestBeatHandler_Get (0.18s)
    --- PASS: TestBeatHandler_Get/existing_beat (0.00s)
    --- PASS: TestBeatHandler_Get/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_List
time=2026-01-09T16:13:08.593-03:00 level=INFO msg="tenant created" tenant_id=652f9543-2913-4463-8fcf-aebf2af1dc94 name="Test Tenant"
time=2026-01-09T16:13:08.594-03:00 level=INFO msg="world created" world_id=24818e60-7928-4523-9253-a3ee4641acb3 name="World of Test Story" tenant_id=652f9543-2913-4463-8fcf-aebf2af1dc94
time=2026-01-09T16:13:08.594-03:00 level=INFO msg="created implicit world for story" world_id=24818e60-7928-4523-9253-a3ee4641acb3 story_title="Test Story"
time=2026-01-09T16:13:08.595-03:00 level=INFO msg="story created" story_id=df036fdb-403f-4964-bee8-53d130461c3a title="Test Story" tenant_id=652f9543-2913-4463-8fcf-aebf2af1dc94
time=2026-01-09T16:13:08.596-03:00 level=INFO msg="scene created" scene_id=bdb0b34c-bacc-4f9c-a632-b7514fdc68da story_id=df036fdb-403f-4964-bee8-53d130461c3a tenant_id=652f9543-2913-4463-8fcf-aebf2af1dc94
time=2026-01-09T16:13:08.598-03:00 level=INFO msg="beat created" beat_id=45308c5e-fcc1-4a30-aa0b-f1b80fedaf8b scene_id=bdb0b34c-bacc-4f9c-a632-b7514fdc68da tenant_id=652f9543-2913-4463-8fcf-aebf2af1dc94
time=2026-01-09T16:13:08.599-03:00 level=INFO msg="beat created" beat_id=4809f2ad-bd8e-45d1-9068-5ddfdb6ba01c scene_id=bdb0b34c-bacc-4f9c-a632-b7514fdc68da tenant_id=652f9543-2913-4463-8fcf-aebf2af1dc94
time=2026-01-09T16:13:08.599-03:00 level=INFO msg="beat created" beat_id=36c114dd-cde3-4f6b-8293-c432b1df16ba scene_id=bdb0b34c-bacc-4f9c-a632-b7514fdc68da tenant_id=652f9543-2913-4463-8fcf-aebf2af1dc94
=== RUN   TestBeatHandler_List/list_beats
--- PASS: TestBeatHandler_List (0.17s)
    --- PASS: TestBeatHandler_List/list_beats (0.00s)
=== RUN   TestBeatHandler_Update
time=2026-01-09T16:13:08.767-03:00 level=INFO msg="tenant created" tenant_id=b6ed3955-8eec-4126-9809-e104793cd2dd name="Test Tenant"
time=2026-01-09T16:13:08.768-03:00 level=INFO msg="world created" world_id=19238a49-ebe6-42b0-8114-9831c5dcc039 name="World of Test Story" tenant_id=b6ed3955-8eec-4126-9809-e104793cd2dd
time=2026-01-09T16:13:08.768-03:00 level=INFO msg="created implicit world for story" world_id=19238a49-ebe6-42b0-8114-9831c5dcc039 story_title="Test Story"
time=2026-01-09T16:13:08.769-03:00 level=INFO msg="story created" story_id=c8a199b8-c383-42e0-b77d-0735a1022782 title="Test Story" tenant_id=b6ed3955-8eec-4126-9809-e104793cd2dd
time=2026-01-09T16:13:08.770-03:00 level=INFO msg="scene created" scene_id=b0323d88-095f-4dc6-b39d-6649bc0e746f story_id=c8a199b8-c383-42e0-b77d-0735a1022782 tenant_id=b6ed3955-8eec-4126-9809-e104793cd2dd
time=2026-01-09T16:13:08.772-03:00 level=INFO msg="beat created" beat_id=2160d84e-d993-4f60-add2-367c4f80372b scene_id=b0323d88-095f-4dc6-b39d-6649bc0e746f tenant_id=b6ed3955-8eec-4126-9809-e104793cd2dd
=== RUN   TestBeatHandler_Update/update_beat_intent
time=2026-01-09T16:13:08.774-03:00 level=INFO msg="beat updated" beat_id=2160d84e-d993-4f60-add2-367c4f80372b tenant_id=b6ed3955-8eec-4126-9809-e104793cd2dd
=== RUN   TestBeatHandler_Update/non-existing_beat
--- PASS: TestBeatHandler_Update (0.17s)
    --- PASS: TestBeatHandler_Update/update_beat_intent (0.00s)
    --- PASS: TestBeatHandler_Update/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_Delete
time=2026-01-09T16:13:08.946-03:00 level=INFO msg="tenant created" tenant_id=dc95e053-d410-4885-af9c-229ad1c01007 name="Test Tenant"
time=2026-01-09T16:13:08.948-03:00 level=INFO msg="world created" world_id=c06fdef8-d972-4aaa-939f-7f764335994f name="World of Test Story" tenant_id=dc95e053-d410-4885-af9c-229ad1c01007
time=2026-01-09T16:13:08.948-03:00 level=INFO msg="created implicit world for story" world_id=c06fdef8-d972-4aaa-939f-7f764335994f story_title="Test Story"
time=2026-01-09T16:13:08.949-03:00 level=INFO msg="story created" story_id=94ece66d-2522-4b08-8d94-ac64e9dc2008 title="Test Story" tenant_id=dc95e053-d410-4885-af9c-229ad1c01007
time=2026-01-09T16:13:08.950-03:00 level=INFO msg="scene created" scene_id=b3574ec7-95bc-4af8-87fd-a6fd7e282651 story_id=94ece66d-2522-4b08-8d94-ac64e9dc2008 tenant_id=dc95e053-d410-4885-af9c-229ad1c01007
time=2026-01-09T16:13:08.950-03:00 level=INFO msg="beat created" beat_id=85ae3b84-88eb-4940-9a07-2602c4a8490f scene_id=b3574ec7-95bc-4af8-87fd-a6fd7e282651 tenant_id=dc95e053-d410-4885-af9c-229ad1c01007
=== RUN   TestBeatHandler_Delete/delete_existing_beat
time=2026-01-09T16:13:08.951-03:00 level=INFO msg="beat deleted" beat_id=85ae3b84-88eb-4940-9a07-2602c4a8490f tenant_id=dc95e053-d410-4885-af9c-229ad1c01007
time=2026-01-09T16:13:08.951-03:00 level=ERROR msg="failed to get beat" error="beat not found: 85ae3b84-88eb-4940-9a07-2602c4a8490f" beat_id=85ae3b84-88eb-4940-9a07-2602c4a8490f tenant_id=dc95e053-d410-4885-af9c-229ad1c01007
=== RUN   TestBeatHandler_Delete/delete_non-existing_beat
--- PASS: TestBeatHandler_Delete (0.17s)
    --- PASS: TestBeatHandler_Delete/delete_existing_beat (0.00s)
    --- PASS: TestBeatHandler_Delete/delete_non-existing_beat (0.00s)
=== RUN   TestChapterHandler_Create
time=2026-01-09T16:13:09.094-03:00 level=INFO msg="tenant created" tenant_id=a2112895-5fe6-4cf2-b681-ab14f839d27f name="Test Tenant"
time=2026-01-09T16:13:09.095-03:00 level=INFO msg="world created" world_id=f36a7239-5765-4129-997e-f07aed3d9b78 name="World of Test Story" tenant_id=a2112895-5fe6-4cf2-b681-ab14f839d27f
time=2026-01-09T16:13:09.095-03:00 level=INFO msg="created implicit world for story" world_id=f36a7239-5765-4129-997e-f07aed3d9b78 story_title="Test Story"
time=2026-01-09T16:13:09.097-03:00 level=INFO msg="story created" story_id=ca3ab656-b88c-4dcc-bcef-a3702981ec39 title="Test Story" tenant_id=a2112895-5fe6-4cf2-b681-ab14f839d27f
=== RUN   TestChapterHandler_Create/successful_creation
time=2026-01-09T16:13:09.098-03:00 level=INFO msg="chapter created" chapter_id=2453f123-317a-4744-a6ac-2e4a138031bb story_id=ca3ab656-b88c-4dcc-bcef-a3702981ec39 tenant_id=a2112895-5fe6-4cf2-b681-ab14f839d27f
=== RUN   TestChapterHandler_Create/missing_tenant_id
--- PASS: TestChapterHandler_Create (0.15s)
    --- PASS: TestChapterHandler_Create/successful_creation (0.00s)
    --- PASS: TestChapterHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestChapterHandler_Get
time=2026-01-09T16:13:09.256-03:00 level=INFO msg="tenant created" tenant_id=21c0d832-6036-49ca-8329-8c27fd7e2cab name="Test Tenant"
time=2026-01-09T16:13:09.257-03:00 level=INFO msg="world created" world_id=71c23e91-da53-4b86-b0d9-f43e7951d40d name="World of Test Story" tenant_id=21c0d832-6036-49ca-8329-8c27fd7e2cab
time=2026-01-09T16:13:09.257-03:00 level=INFO msg="created implicit world for story" world_id=71c23e91-da53-4b86-b0d9-f43e7951d40d story_title="Test Story"
time=2026-01-09T16:13:09.258-03:00 level=INFO msg="story created" story_id=d5ff1e60-cf4b-454a-b6e4-500c94176345 title="Test Story" tenant_id=21c0d832-6036-49ca-8329-8c27fd7e2cab
time=2026-01-09T16:13:09.259-03:00 level=INFO msg="chapter created" chapter_id=b2abd486-192c-4b49-9e76-c47fdacd3eb8 story_id=d5ff1e60-cf4b-454a-b6e4-500c94176345 tenant_id=21c0d832-6036-49ca-8329-8c27fd7e2cab
=== RUN   TestChapterHandler_Get/existing_chapter
=== RUN   TestChapterHandler_Get/non-existing_chapter
time=2026-01-09T16:13:09.259-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 00000000-0000-0000-0000-000000000000" chapter_id=00000000-0000-0000-0000-000000000000 tenant_id=21c0d832-6036-49ca-8329-8c27fd7e2cab
--- PASS: TestChapterHandler_Get (0.16s)
    --- PASS: TestChapterHandler_Get/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Get/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_List
time=2026-01-09T16:13:09.413-03:00 level=INFO msg="tenant created" tenant_id=1dcea23b-3de8-43d5-aadc-2503096e1406 name="Test Tenant"
time=2026-01-09T16:13:09.414-03:00 level=INFO msg="world created" world_id=ed155ad3-5e0b-4901-8959-9d143fa09943 name="World of Test Story" tenant_id=1dcea23b-3de8-43d5-aadc-2503096e1406
time=2026-01-09T16:13:09.414-03:00 level=INFO msg="created implicit world for story" world_id=ed155ad3-5e0b-4901-8959-9d143fa09943 story_title="Test Story"
time=2026-01-09T16:13:09.415-03:00 level=INFO msg="story created" story_id=f5649431-6c2a-43a1-97a4-dcfe833f19d1 title="Test Story" tenant_id=1dcea23b-3de8-43d5-aadc-2503096e1406
time=2026-01-09T16:13:09.416-03:00 level=INFO msg="chapter created" chapter_id=05a35930-4a55-4e89-a42c-c7a59c558737 story_id=f5649431-6c2a-43a1-97a4-dcfe833f19d1 tenant_id=1dcea23b-3de8-43d5-aadc-2503096e1406
time=2026-01-09T16:13:09.417-03:00 level=INFO msg="chapter created" chapter_id=2f2a7edb-bc95-4bc5-aae0-185241c49c06 story_id=f5649431-6c2a-43a1-97a4-dcfe833f19d1 tenant_id=1dcea23b-3de8-43d5-aadc-2503096e1406
time=2026-01-09T16:13:09.417-03:00 level=INFO msg="chapter created" chapter_id=630d5fce-2f51-4e3c-baa3-7505ef363210 story_id=f5649431-6c2a-43a1-97a4-dcfe833f19d1 tenant_id=1dcea23b-3de8-43d5-aadc-2503096e1406
=== RUN   TestChapterHandler_List/list_chapters
--- PASS: TestChapterHandler_List (0.16s)
    --- PASS: TestChapterHandler_List/list_chapters (0.00s)
=== RUN   TestChapterHandler_Update
time=2026-01-09T16:13:09.582-03:00 level=INFO msg="tenant created" tenant_id=ccf1099f-cf8c-4240-aad3-422040572983 name="Test Tenant"
time=2026-01-09T16:13:09.583-03:00 level=INFO msg="world created" world_id=e048799f-d4af-488c-81f6-56829cb2eae1 name="World of Test Story" tenant_id=ccf1099f-cf8c-4240-aad3-422040572983
time=2026-01-09T16:13:09.583-03:00 level=INFO msg="created implicit world for story" world_id=e048799f-d4af-488c-81f6-56829cb2eae1 story_title="Test Story"
time=2026-01-09T16:13:09.584-03:00 level=INFO msg="story created" story_id=a17ca8df-2bc5-4cc9-b9a9-63a7595dcd42 title="Test Story" tenant_id=ccf1099f-cf8c-4240-aad3-422040572983
time=2026-01-09T16:13:09.593-03:00 level=INFO msg="chapter created" chapter_id=0851008f-a0fb-4479-b17a-037ad508a8f4 story_id=a17ca8df-2bc5-4cc9-b9a9-63a7595dcd42 tenant_id=ccf1099f-cf8c-4240-aad3-422040572983
=== RUN   TestChapterHandler_Update/update_chapter_title
time=2026-01-09T16:13:09.597-03:00 level=INFO msg="chapter updated" chapter_id=0851008f-a0fb-4479-b17a-037ad508a8f4 tenant_id=ccf1099f-cf8c-4240-aad3-422040572983
=== RUN   TestChapterHandler_Update/non-existing_chapter
--- PASS: TestChapterHandler_Update (0.19s)
    --- PASS: TestChapterHandler_Update/update_chapter_title (0.00s)
    --- PASS: TestChapterHandler_Update/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_Delete
time=2026-01-09T16:13:09.761-03:00 level=INFO msg="tenant created" tenant_id=33152454-67cd-4de0-9e8b-99abc3f68c1b name="Test Tenant"
time=2026-01-09T16:13:09.762-03:00 level=INFO msg="world created" world_id=aadb2cf1-9566-44ac-ad05-32f9401493e1 name="World of Test Story" tenant_id=33152454-67cd-4de0-9e8b-99abc3f68c1b
time=2026-01-09T16:13:09.762-03:00 level=INFO msg="created implicit world for story" world_id=aadb2cf1-9566-44ac-ad05-32f9401493e1 story_title="Test Story"
time=2026-01-09T16:13:09.763-03:00 level=INFO msg="story created" story_id=8e285862-363e-4039-b407-a7424c2d3eff title="Test Story" tenant_id=33152454-67cd-4de0-9e8b-99abc3f68c1b
time=2026-01-09T16:13:09.766-03:00 level=INFO msg="chapter created" chapter_id=d3f35436-b71f-49c4-94ec-7119982513f1 story_id=8e285862-363e-4039-b407-a7424c2d3eff tenant_id=33152454-67cd-4de0-9e8b-99abc3f68c1b
=== RUN   TestChapterHandler_Delete/delete_existing_chapter
time=2026-01-09T16:13:09.768-03:00 level=INFO msg="chapter deleted" chapter_id=d3f35436-b71f-49c4-94ec-7119982513f1 tenant_id=33152454-67cd-4de0-9e8b-99abc3f68c1b
time=2026-01-09T16:13:09.769-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: d3f35436-b71f-49c4-94ec-7119982513f1" chapter_id=d3f35436-b71f-49c4-94ec-7119982513f1 tenant_id=33152454-67cd-4de0-9e8b-99abc3f68c1b
=== RUN   TestChapterHandler_Delete/delete_non-existing_chapter
--- PASS: TestChapterHandler_Delete (0.16s)
    --- PASS: TestChapterHandler_Delete/delete_existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Delete/delete_non-existing_chapter (0.00s)
=== RUN   TestCharacterHandler_Create
time=2026-01-09T16:13:09.932-03:00 level=INFO msg="tenant created" tenant_id=4a13cfcf-28e5-4eda-9ec2-64389c0687b7 name="Test Tenant"
time=2026-01-09T16:13:09.933-03:00 level=INFO msg="world created" world_id=4553d0e1-d803-42ce-a7d3-1e91f656574d name="Test World" tenant_id=4a13cfcf-28e5-4eda-9ec2-64389c0687b7
=== RUN   TestCharacterHandler_Create/successful_creation
time=2026-01-09T16:13:09.934-03:00 level=INFO msg="character created" character_id=5d55218e-0d7a-40bf-91ed-7961b5bb138d name="Test Character"
=== RUN   TestCharacterHandler_Create/missing_tenant_id
=== RUN   TestCharacterHandler_Create/empty_name
--- PASS: TestCharacterHandler_Create (0.17s)
    --- PASS: TestCharacterHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestCharacterHandler_Create/empty_name (0.00s)
=== RUN   TestCharacterHandler_Get
time=2026-01-09T16:13:10.200-03:00 level=INFO msg="tenant created" tenant_id=5c08b9f1-6e5e-4e28-a9d7-3b0641003333 name="Test Tenant"
time=2026-01-09T16:13:10.201-03:00 level=INFO msg="world created" world_id=bd35e9ef-e9db-40b6-8cde-0ff465ec6783 name="Test World" tenant_id=5c08b9f1-6e5e-4e28-a9d7-3b0641003333
time=2026-01-09T16:13:10.203-03:00 level=INFO msg="character created" character_id=ca41217f-c872-4eda-affe-de35adaa8036 name="Get Test Character"
=== RUN   TestCharacterHandler_Get/existing_character
=== RUN   TestCharacterHandler_Get/non-existing_character
time=2026-01-09T16:13:10.204-03:00 level=ERROR msg="failed to get character" error="character not found: 00000000-0000-0000-0000-000000000000" character_id=00000000-0000-0000-0000-000000000000
=== RUN   TestCharacterHandler_Get/invalid_character_ID
--- PASS: TestCharacterHandler_Get (0.28s)
    --- PASS: TestCharacterHandler_Get/existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/non-existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/invalid_character_ID (0.00s)
=== RUN   TestCharacterHandler_List
time=2026-01-09T16:13:10.351-03:00 level=INFO msg="tenant created" tenant_id=e05c5799-988a-47e6-a560-ef8fb9475aba name="Test Tenant"
time=2026-01-09T16:13:10.352-03:00 level=INFO msg="world created" world_id=63220199-71e3-4703-8769-b42befb90643 name="Test World" tenant_id=e05c5799-988a-47e6-a560-ef8fb9475aba
time=2026-01-09T16:13:10.353-03:00 level=INFO msg="character created" character_id=1b26565d-66a2-4914-8a65-0f3b43c67aeb name="Character 1"
time=2026-01-09T16:13:10.354-03:00 level=INFO msg="character created" character_id=144bb04b-5dcb-451a-9e49-83d8f92feee3 name="Character 2"
time=2026-01-09T16:13:10.355-03:00 level=INFO msg="character created" character_id=20c31c4f-43d9-4c33-a0e7-01e5b52945b2 name="Character 3"
=== RUN   TestCharacterHandler_List/list_characters
=== RUN   TestCharacterHandler_List/missing_tenant_id
--- PASS: TestCharacterHandler_List (0.14s)
    --- PASS: TestCharacterHandler_List/list_characters (0.00s)
    --- PASS: TestCharacterHandler_List/missing_tenant_id (0.00s)
=== RUN   TestCharacterHandler_Update
time=2026-01-09T16:13:10.511-03:00 level=INFO msg="tenant created" tenant_id=6b763e66-3532-49f6-aa65-cad0d51877b3 name="Test Tenant"
time=2026-01-09T16:13:10.513-03:00 level=INFO msg="world created" world_id=0b4ad1cf-4762-40d6-8a77-2e45c7bdda00 name="Test World" tenant_id=6b763e66-3532-49f6-aa65-cad0d51877b3
time=2026-01-09T16:13:10.514-03:00 level=INFO msg="character created" character_id=4ead4f2d-1f32-44f9-a2ee-204c9d7615ac name="Original Character"
=== RUN   TestCharacterHandler_Update/update_character_name
time=2026-01-09T16:13:10.515-03:00 level=INFO msg="character updated" character_id=4ead4f2d-1f32-44f9-a2ee-204c9d7615ac name="Updated Character"
=== RUN   TestCharacterHandler_Update/non-existing_character
--- PASS: TestCharacterHandler_Update (0.16s)
    --- PASS: TestCharacterHandler_Update/update_character_name (0.00s)
    --- PASS: TestCharacterHandler_Update/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_Delete
time=2026-01-09T16:13:10.725-03:00 level=INFO msg="tenant created" tenant_id=9a6cb30a-8019-4898-815f-8cae127df066 name="Test Tenant"
time=2026-01-09T16:13:10.726-03:00 level=INFO msg="world created" world_id=eddab032-cf7b-4b28-b367-3ca996afcfc4 name="Test World" tenant_id=9a6cb30a-8019-4898-815f-8cae127df066
time=2026-01-09T16:13:10.728-03:00 level=INFO msg="character created" character_id=f6f009ae-34c8-4bf2-9d20-c537b25ded99 name="Character to Delete"
=== RUN   TestCharacterHandler_Delete/delete_existing_character
time=2026-01-09T16:13:10.731-03:00 level=INFO msg="character deleted" character_id=f6f009ae-34c8-4bf2-9d20-c537b25ded99 name="Character to Delete"
time=2026-01-09T16:13:10.731-03:00 level=ERROR msg="failed to get character" error="character not found: f6f009ae-34c8-4bf2-9d20-c537b25ded99" character_id=f6f009ae-34c8-4bf2-9d20-c537b25ded99
=== RUN   TestCharacterHandler_Delete/delete_non-existing_character
--- PASS: TestCharacterHandler_Delete (0.22s)
    --- PASS: TestCharacterHandler_Delete/delete_existing_character (0.00s)
    --- PASS: TestCharacterHandler_Delete/delete_non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListRelationships
time=2026-01-09T16:13:10.877-03:00 level=INFO msg="tenant created" tenant_id=90a9d8a0-2580-405d-864d-dab7712d3912 name="Test Tenant"
time=2026-01-09T16:13:10.879-03:00 level=INFO msg="world created" world_id=5381a81c-f91a-45bf-889c-2e1413963fd9 name="Test World" tenant_id=90a9d8a0-2580-405d-864d-dab7712d3912
time=2026-01-09T16:13:10.880-03:00 level=INFO msg="character created" character_id=013b7cc8-e7f0-406d-8241-91d5907909b4 name="Character 1"
time=2026-01-09T16:13:10.881-03:00 level=INFO msg="character created" character_id=966f06ad-6199-460c-9d6f-74e43f154e08 name="Character 2"
time=2026-01-09T16:13:10.882-03:00 level=INFO msg="relation created" relation_id=0479c09f-d538-4191-a19b-ad9e8f32f886 source_id=013b7cc8-e7f0-406d-8241-91d5907909b4 target_id=966f06ad-6199-460c-9d6f-74e43f154e08
=== RUN   TestCharacterHandler_ListRelationships/list_relationships
=== RUN   TestCharacterHandler_ListRelationships/list_relationships_for_character_with_no_relationships
--- PASS: TestCharacterHandler_ListRelationships (0.15s)
    --- PASS: TestCharacterHandler_ListRelationships/list_relationships (0.00s)
    --- PASS: TestCharacterHandler_ListRelationships/list_relationships_for_character_with_no_relationships (0.00s)
=== RUN   TestCharacterHandler_CreateRelationship
time=2026-01-09T16:13:11.021-03:00 level=INFO msg="tenant created" tenant_id=2aa50df6-0881-4b4a-a191-9d732face351 name="Test Tenant"
time=2026-01-09T16:13:11.022-03:00 level=INFO msg="world created" world_id=0626f578-7c59-40ad-8600-4f9b05e44ae9 name="Test World" tenant_id=2aa50df6-0881-4b4a-a191-9d732face351
time=2026-01-09T16:13:11.023-03:00 level=INFO msg="character created" character_id=9773042d-b1ec-439a-ab8b-5889910dcad6 name="Character 1"
time=2026-01-09T16:13:11.024-03:00 level=INFO msg="character created" character_id=32a7193b-5461-4f94-8426-e0870912e510 name="Character 2"
=== RUN   TestCharacterHandler_CreateRelationship/create_relationship
time=2026-01-09T16:13:11.025-03:00 level=INFO msg="relation created" relation_id=e3e80aa2-2ab5-4889-8c86-d00831ca437e source_id=9773042d-b1ec-439a-ab8b-5889910dcad6 target_id=32a7193b-5461-4f94-8426-e0870912e510
=== RUN   TestCharacterHandler_CreateRelationship/create_relationship_with_self
=== RUN   TestCharacterHandler_CreateRelationship/create_relationship_missing_relationship_type
--- PASS: TestCharacterHandler_CreateRelationship (0.14s)
    --- PASS: TestCharacterHandler_CreateRelationship/create_relationship (0.00s)
    --- PASS: TestCharacterHandler_CreateRelationship/create_relationship_with_self (0.00s)
    --- PASS: TestCharacterHandler_CreateRelationship/create_relationship_missing_relationship_type (0.00s)
=== RUN   TestCharacterRPGStatsHandler_Create
time=2026-01-09T16:13:11.157-03:00 level=INFO msg="tenant created" tenant_id=20ed954c-748f-4f0a-9421-527086787e34 name="Test Tenant"
time=2026-01-09T16:13:11.158-03:00 level=INFO msg="world created" world_id=b6043526-070f-4707-98a1-fb519a7f5260 name="Test World" tenant_id=20ed954c-748f-4f0a-9421-527086787e34
time=2026-01-09T16:13:11.159-03:00 level=INFO msg="character created" character_id=e246f9a2-9a32-4fd9-9c90-f2bc6b9d6c17 name="Test Character"
=== RUN   TestCharacterRPGStatsHandler_Create/successful_creation
time=2026-01-09T16:13:11.161-03:00 level=INFO msg="character RPG stats created" character_id=e246f9a2-9a32-4fd9-9c90-f2bc6b9d6c17 version=1
=== RUN   TestCharacterRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestCharacterRPGStatsHandler_Create (0.13s)
    --- PASS: TestCharacterRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestCharacterRPGStatsHandler_GetActive
time=2026-01-09T16:13:11.292-03:00 level=INFO msg="tenant created" tenant_id=cd89b169-e326-4d02-82c5-443f340f1f07 name="Test Tenant"
time=2026-01-09T16:13:11.293-03:00 level=INFO msg="world created" world_id=59e496c8-6f92-478f-9c66-d4a282057725 name="Test World" tenant_id=cd89b169-e326-4d02-82c5-443f340f1f07
time=2026-01-09T16:13:11.296-03:00 level=INFO msg="character created" character_id=0a82bac2-28e9-48df-bc84-8b74d2e67b00 name="Test Character"
time=2026-01-09T16:13:11.298-03:00 level=INFO msg="character RPG stats created" character_id=0a82bac2-28e9-48df-bc84-8b74d2e67b00 version=1
=== RUN   TestCharacterRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestCharacterRPGStatsHandler_GetActive (0.14s)
    --- PASS: TestCharacterRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestCharacterSkillHandler_Learn
time=2026-01-09T16:13:11.430-03:00 level=INFO msg="tenant created" tenant_id=c47ebd08-ccd9-4c18-9ad5-0275ea0bc941 name="Test Tenant"
time=2026-01-09T16:13:11.431-03:00 level=INFO msg="world created" world_id=1a23b7ff-32ac-4e30-8509-926f8e406f7e name="Test World" tenant_id=c47ebd08-ccd9-4c18-9ad5-0275ea0bc941
time=2026-01-09T16:13:11.432-03:00 level=INFO msg="character created" character_id=c679c495-f247-4ebc-bfcb-676b158ca3e9 name="Test Character"
time=2026-01-09T16:13:11.433-03:00 level=INFO msg="RPG system created" rpg_system_id=13d93a7e-b580-4752-8a95-fa0595283b35 name="Test RPG System"
time=2026-01-09T16:13:11.434-03:00 level=INFO msg="skill created" skill_id=3f134330-c0de-4523-8283-0b19aa59cdcb name="Test Skill"
=== RUN   TestCharacterSkillHandler_Learn/successful_learning
time=2026-01-09T16:13:11.436-03:00 level=INFO msg="character learned skill" character_id=c679c495-f247-4ebc-bfcb-676b158ca3e9 skill_id=3f134330-c0de-4523-8283-0b19aa59cdcb
=== RUN   TestCharacterSkillHandler_Learn/missing_tenant_id
--- PASS: TestCharacterSkillHandler_Learn (0.14s)
    --- PASS: TestCharacterSkillHandler_Learn/successful_learning (0.00s)
    --- PASS: TestCharacterSkillHandler_Learn/missing_tenant_id (0.00s)
=== RUN   TestCharacterSkillHandler_List
time=2026-01-09T16:13:11.583-03:00 level=INFO msg="tenant created" tenant_id=b49288aa-4411-445f-9cbf-cf34c203de06 name="Test Tenant"
time=2026-01-09T16:13:11.584-03:00 level=INFO msg="world created" world_id=426679a7-8544-4b79-837d-4bfefc1f837b name="Test World" tenant_id=b49288aa-4411-445f-9cbf-cf34c203de06
time=2026-01-09T16:13:11.585-03:00 level=INFO msg="character created" character_id=091f1299-2178-4b88-989f-fe2e4b39f138 name="Test Character"
=== RUN   TestCharacterSkillHandler_List/list_skills
--- PASS: TestCharacterSkillHandler_List (0.15s)
    --- PASS: TestCharacterSkillHandler_List/list_skills (0.00s)
=== RUN   TestContentBlockHandler_Create
time=2026-01-09T16:13:11.731-03:00 level=INFO msg="tenant created" tenant_id=12f50f57-0806-4940-a6d9-40dd1f59c571 name="Test Tenant"
time=2026-01-09T16:13:11.732-03:00 level=INFO msg="world created" world_id=576887de-2753-4442-8cab-4a908dfb6d45 name="World of Test Story" tenant_id=12f50f57-0806-4940-a6d9-40dd1f59c571
time=2026-01-09T16:13:11.732-03:00 level=INFO msg="created implicit world for story" world_id=576887de-2753-4442-8cab-4a908dfb6d45 story_title="Test Story"
time=2026-01-09T16:13:11.733-03:00 level=INFO msg="story created" story_id=f6cf2229-01a8-4905-a21e-0c7670754001 title="Test Story" tenant_id=12f50f57-0806-4940-a6d9-40dd1f59c571
time=2026-01-09T16:13:11.734-03:00 level=INFO msg="chapter created" chapter_id=35794b5f-561e-44cb-b1c2-f6b436d32716 story_id=f6cf2229-01a8-4905-a21e-0c7670754001 tenant_id=12f50f57-0806-4940-a6d9-40dd1f59c571
=== RUN   TestContentBlockHandler_Create/successful_creation
time=2026-01-09T16:13:11.735-03:00 level=INFO msg="content block created" content_block_id=e2333eb6-7903-4aae-8a78-8c5dedf5a5be tenant_id=12f50f57-0806-4940-a6d9-40dd1f59c571
=== RUN   TestContentBlockHandler_Create/missing_tenant_id
--- PASS: TestContentBlockHandler_Create (0.15s)
    --- PASS: TestContentBlockHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockHandler_Get
time=2026-01-09T16:13:11.898-03:00 level=INFO msg="tenant created" tenant_id=2fce9cb2-0079-4bf5-9e60-d623bb17baac name="Test Tenant"
time=2026-01-09T16:13:11.900-03:00 level=INFO msg="world created" world_id=3067623e-18a3-44a4-8acf-04be627441da name="World of Test Story" tenant_id=2fce9cb2-0079-4bf5-9e60-d623bb17baac
time=2026-01-09T16:13:11.900-03:00 level=INFO msg="created implicit world for story" world_id=3067623e-18a3-44a4-8acf-04be627441da story_title="Test Story"
time=2026-01-09T16:13:11.901-03:00 level=INFO msg="story created" story_id=2b2baf5f-fa79-490d-b667-05fadf9e0249 title="Test Story" tenant_id=2fce9cb2-0079-4bf5-9e60-d623bb17baac
time=2026-01-09T16:13:11.902-03:00 level=INFO msg="chapter created" chapter_id=158bd8ac-b3b6-429d-848c-58c64cc8e015 story_id=2b2baf5f-fa79-490d-b667-05fadf9e0249 tenant_id=2fce9cb2-0079-4bf5-9e60-d623bb17baac
time=2026-01-09T16:13:11.904-03:00 level=INFO msg="content block created" content_block_id=1206688b-a764-4de3-9ff6-4a86a34c2451 tenant_id=2fce9cb2-0079-4bf5-9e60-d623bb17baac
=== RUN   TestContentBlockHandler_Get/existing_content_block
=== RUN   TestContentBlockHandler_Get/non-existing_content_block
time=2026-01-09T16:13:11.905-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 00000000-0000-0000-0000-000000000000" content_block_id=00000000-0000-0000-0000-000000000000 tenant_id=2fce9cb2-0079-4bf5-9e60-d623bb17baac
--- PASS: TestContentBlockHandler_Get (0.17s)
    --- PASS: TestContentBlockHandler_Get/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Get/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_List
time=2026-01-09T16:13:12.061-03:00 level=INFO msg="tenant created" tenant_id=cc6400d2-079b-43f8-b1a1-f711966368a3 name="Test Tenant"
time=2026-01-09T16:13:12.062-03:00 level=INFO msg="world created" world_id=0c8ccf94-cfb3-4135-90e4-4e87979500c6 name="World of Test Story" tenant_id=cc6400d2-079b-43f8-b1a1-f711966368a3
time=2026-01-09T16:13:12.062-03:00 level=INFO msg="created implicit world for story" world_id=0c8ccf94-cfb3-4135-90e4-4e87979500c6 story_title="Test Story"
time=2026-01-09T16:13:12.063-03:00 level=INFO msg="story created" story_id=42ca68b2-f4ac-4584-811a-c1e1a8b5e41b title="Test Story" tenant_id=cc6400d2-079b-43f8-b1a1-f711966368a3
time=2026-01-09T16:13:12.065-03:00 level=INFO msg="chapter created" chapter_id=dc163207-dc2a-467d-b8d7-b523aaaa93da story_id=42ca68b2-f4ac-4584-811a-c1e1a8b5e41b tenant_id=cc6400d2-079b-43f8-b1a1-f711966368a3
time=2026-01-09T16:13:12.066-03:00 level=INFO msg="content block created" content_block_id=79f82391-1d86-4ebb-8cc7-975c1a559c0a tenant_id=cc6400d2-079b-43f8-b1a1-f711966368a3
time=2026-01-09T16:13:12.067-03:00 level=INFO msg="content block created" content_block_id=84d39c41-6703-4571-b5b1-85e41b57ffff tenant_id=cc6400d2-079b-43f8-b1a1-f711966368a3
time=2026-01-09T16:13:12.067-03:00 level=INFO msg="content block created" content_block_id=562b44e5-f8a6-48e9-91bf-393496923cca tenant_id=cc6400d2-079b-43f8-b1a1-f711966368a3
=== RUN   TestContentBlockHandler_List/list_content_blocks
--- PASS: TestContentBlockHandler_List (0.17s)
    --- PASS: TestContentBlockHandler_List/list_content_blocks (0.00s)
=== RUN   TestContentBlockHandler_Update
time=2026-01-09T16:13:12.220-03:00 level=INFO msg="tenant created" tenant_id=0bae0859-91b1-4978-ac7d-36a7740a5773 name="Test Tenant"
time=2026-01-09T16:13:12.221-03:00 level=INFO msg="world created" world_id=58f953b0-a9f8-4237-bc6a-85c566bb123a name="World of Test Story" tenant_id=0bae0859-91b1-4978-ac7d-36a7740a5773
time=2026-01-09T16:13:12.221-03:00 level=INFO msg="created implicit world for story" world_id=58f953b0-a9f8-4237-bc6a-85c566bb123a story_title="Test Story"
time=2026-01-09T16:13:12.222-03:00 level=INFO msg="story created" story_id=011b31bf-b5c0-4f8c-acf2-40764c9bb572 title="Test Story" tenant_id=0bae0859-91b1-4978-ac7d-36a7740a5773
time=2026-01-09T16:13:12.223-03:00 level=INFO msg="chapter created" chapter_id=8319ce48-aa97-483d-8caa-6bf758b0a92d story_id=011b31bf-b5c0-4f8c-acf2-40764c9bb572 tenant_id=0bae0859-91b1-4978-ac7d-36a7740a5773
time=2026-01-09T16:13:12.224-03:00 level=INFO msg="content block created" content_block_id=2bd8dc45-f418-41c4-96c8-08e89ab0c98e tenant_id=0bae0859-91b1-4978-ac7d-36a7740a5773
=== RUN   TestContentBlockHandler_Update/update_content_block_content
time=2026-01-09T16:13:12.225-03:00 level=INFO msg="content block updated" content_block_id=2bd8dc45-f418-41c4-96c8-08e89ab0c98e tenant_id=0bae0859-91b1-4978-ac7d-36a7740a5773
=== RUN   TestContentBlockHandler_Update/non-existing_content_block
--- PASS: TestContentBlockHandler_Update (0.16s)
    --- PASS: TestContentBlockHandler_Update/update_content_block_content (0.00s)
    --- PASS: TestContentBlockHandler_Update/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_Delete
time=2026-01-09T16:13:12.370-03:00 level=INFO msg="tenant created" tenant_id=3682be98-8f8a-446d-bcd8-cf8ffce86ccf name="Test Tenant"
time=2026-01-09T16:13:12.372-03:00 level=INFO msg="world created" world_id=6ea63b23-3b08-4ed6-ae68-4ca074442e96 name="World of Test Story" tenant_id=3682be98-8f8a-446d-bcd8-cf8ffce86ccf
time=2026-01-09T16:13:12.372-03:00 level=INFO msg="created implicit world for story" world_id=6ea63b23-3b08-4ed6-ae68-4ca074442e96 story_title="Test Story"
time=2026-01-09T16:13:12.373-03:00 level=INFO msg="story created" story_id=fcbd263a-1258-45d4-bfc3-9801c6300929 title="Test Story" tenant_id=3682be98-8f8a-446d-bcd8-cf8ffce86ccf
time=2026-01-09T16:13:12.374-03:00 level=INFO msg="chapter created" chapter_id=801b8271-9ef4-48bd-bb25-33f978fd1ebd story_id=fcbd263a-1258-45d4-bfc3-9801c6300929 tenant_id=3682be98-8f8a-446d-bcd8-cf8ffce86ccf
time=2026-01-09T16:13:12.375-03:00 level=INFO msg="content block created" content_block_id=dad2fc75-5f38-469a-8673-e791339d7b52 tenant_id=3682be98-8f8a-446d-bcd8-cf8ffce86ccf
=== RUN   TestContentBlockHandler_Delete/delete_existing_content_block
time=2026-01-09T16:13:12.377-03:00 level=INFO msg="content block deleted" content_block_id=dad2fc75-5f38-469a-8673-e791339d7b52 tenant_id=3682be98-8f8a-446d-bcd8-cf8ffce86ccf
time=2026-01-09T16:13:12.377-03:00 level=ERROR msg="failed to get content block" error="content_block not found: dad2fc75-5f38-469a-8673-e791339d7b52" content_block_id=dad2fc75-5f38-469a-8673-e791339d7b52 tenant_id=3682be98-8f8a-446d-bcd8-cf8ffce86ccf
=== RUN   TestContentBlockHandler_Delete/delete_non-existing_content_block
--- PASS: TestContentBlockHandler_Delete (0.15s)
    --- PASS: TestContentBlockHandler_Delete/delete_existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Delete/delete_non-existing_content_block (0.00s)
=== RUN   TestContentBlockReferenceHandler_Create
time=2026-01-09T16:13:12.524-03:00 level=INFO msg="tenant created" tenant_id=c7fc3e95-cb8f-4d16-9dab-78ccde90bb87 name="Test Tenant"
time=2026-01-09T16:13:12.526-03:00 level=INFO msg="world created" world_id=635f413b-a707-49ea-b068-88342c953936 name="World of Test Story" tenant_id=c7fc3e95-cb8f-4d16-9dab-78ccde90bb87
time=2026-01-09T16:13:12.526-03:00 level=INFO msg="created implicit world for story" world_id=635f413b-a707-49ea-b068-88342c953936 story_title="Test Story"
time=2026-01-09T16:13:12.527-03:00 level=INFO msg="story created" story_id=e1867ed4-f1a6-40be-9b69-9d92ac7b2134 title="Test Story" tenant_id=c7fc3e95-cb8f-4d16-9dab-78ccde90bb87
time=2026-01-09T16:13:12.528-03:00 level=INFO msg="chapter created" chapter_id=a6980b49-20c6-4bdc-bcd3-a5d41e5a90a5 story_id=e1867ed4-f1a6-40be-9b69-9d92ac7b2134 tenant_id=c7fc3e95-cb8f-4d16-9dab-78ccde90bb87
time=2026-01-09T16:13:12.529-03:00 level=INFO msg="content block created" content_block_id=9648f548-f43e-4a70-8e65-cdadf9a9582b tenant_id=c7fc3e95-cb8f-4d16-9dab-78ccde90bb87
=== RUN   TestContentBlockReferenceHandler_Create/successful_creation
time=2026-01-09T16:13:12.529-03:00 level=INFO msg="world created" world_id=2c817ccf-d6c8-400b-90d7-e1ab6dd7b7bd name="Test World" tenant_id=c7fc3e95-cb8f-4d16-9dab-78ccde90bb87
time=2026-01-09T16:13:12.530-03:00 level=INFO msg="character created" character_id=19924a7d-c79a-4987-9cf9-1904b76e32b6 name="Test Character"
time=2026-01-09T16:13:12.532-03:00 level=INFO msg="content block reference created" reference_id=d28fd686-3609-49ef-8ce5-98425ce529b6 content_block_id=9648f548-f43e-4a70-8e65-cdadf9a9582b tenant_id=c7fc3e95-cb8f-4d16-9dab-78ccde90bb87
=== RUN   TestContentBlockReferenceHandler_Create/missing_tenant_id
--- PASS: TestContentBlockReferenceHandler_Create (0.15s)
    --- PASS: TestContentBlockReferenceHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockReferenceHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockReferenceHandler_ListByContentBlock
time=2026-01-09T16:13:12.678-03:00 level=INFO msg="tenant created" tenant_id=4c2daaf6-b1f3-4800-a41e-2f6b86e08b26 name="Test Tenant"
time=2026-01-09T16:13:12.679-03:00 level=INFO msg="world created" world_id=1a6d2665-9159-4e74-be8a-779cf25098cb name="World of Test Story" tenant_id=4c2daaf6-b1f3-4800-a41e-2f6b86e08b26
time=2026-01-09T16:13:12.679-03:00 level=INFO msg="created implicit world for story" world_id=1a6d2665-9159-4e74-be8a-779cf25098cb story_title="Test Story"
time=2026-01-09T16:13:12.680-03:00 level=INFO msg="story created" story_id=bfdf1aef-b20a-4260-9856-45fc59f423b0 title="Test Story" tenant_id=4c2daaf6-b1f3-4800-a41e-2f6b86e08b26
time=2026-01-09T16:13:12.682-03:00 level=INFO msg="chapter created" chapter_id=a188c9ba-740a-460d-86b5-379caafc6550 story_id=bfdf1aef-b20a-4260-9856-45fc59f423b0 tenant_id=4c2daaf6-b1f3-4800-a41e-2f6b86e08b26
time=2026-01-09T16:13:12.683-03:00 level=INFO msg="content block created" content_block_id=4d9b2184-7966-4062-bd0e-8fb64a008536 tenant_id=4c2daaf6-b1f3-4800-a41e-2f6b86e08b26
=== RUN   TestContentBlockReferenceHandler_ListByContentBlock/list_references
--- PASS: TestContentBlockReferenceHandler_ListByContentBlock (0.18s)
    --- PASS: TestContentBlockReferenceHandler_ListByContentBlock/list_references (0.00s)
=== RUN   TestEventHandler_Create
time=2026-01-09T16:13:12.852-03:00 level=INFO msg="tenant created" tenant_id=ffb4050b-763c-43d4-b4b2-df423f92df2a name="Test Tenant"
time=2026-01-09T16:13:12.854-03:00 level=INFO msg="world created" world_id=59d69bb3-cc8b-455c-9e70-d1eb83db365c name="Test World" tenant_id=ffb4050b-763c-43d4-b4b2-df423f92df2a
time=2026-01-09T16:13:12.855-03:00 level=INFO msg="world created" world_id=93fdc2d6-246a-4464-9791-d99a12319850 name="World of Test Story" tenant_id=ffb4050b-763c-43d4-b4b2-df423f92df2a
time=2026-01-09T16:13:12.855-03:00 level=INFO msg="created implicit world for story" world_id=93fdc2d6-246a-4464-9791-d99a12319850 story_title="Test Story"
time=2026-01-09T16:13:12.856-03:00 level=INFO msg="story created" story_id=7e6f6372-63a9-4d69-9505-c87e4fbd25db title="Test Story" tenant_id=ffb4050b-763c-43d4-b4b2-df423f92df2a
time=2026-01-09T16:13:12.857-03:00 level=INFO msg="chapter created" chapter_id=4ca1b8fe-6b97-49b4-87dc-2aee54dcdf7a story_id=7e6f6372-63a9-4d69-9505-c87e4fbd25db tenant_id=ffb4050b-763c-43d4-b4b2-df423f92df2a
time=2026-01-09T16:13:12.858-03:00 level=INFO msg="scene created" scene_id=f7ea480d-aea6-438d-ae67-4af55d60940e story_id=7e6f6372-63a9-4d69-9505-c87e4fbd25db tenant_id=ffb4050b-763c-43d4-b4b2-df423f92df2a
=== RUN   TestEventHandler_Create/successful_creation
time=2026-01-09T16:13:12.859-03:00 level=INFO msg="event created" event_id=0dfb1c95-f15c-4065-a231-7a89493490a0 world_id=59d69bb3-cc8b-455c-9e70-d1eb83db365c
=== RUN   TestEventHandler_Create/empty_name
=== RUN   TestEventHandler_Create/missing_tenant_id
--- PASS: TestEventHandler_Create (0.15s)
    --- PASS: TestEventHandler_Create/successful_creation (0.00s)
    --- PASS: TestEventHandler_Create/empty_name (0.00s)
    --- PASS: TestEventHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestEventHandler_Get
time=2026-01-09T16:13:13.007-03:00 level=INFO msg="tenant created" tenant_id=0b97f074-2ce7-46cc-bbb1-e76c94e32141 name="Test Tenant"
time=2026-01-09T16:13:13.008-03:00 level=INFO msg="world created" world_id=015dd37c-f59f-4570-ab1a-2b69b93b6218 name="Test World" tenant_id=0b97f074-2ce7-46cc-bbb1-e76c94e32141
time=2026-01-09T16:13:13.009-03:00 level=INFO msg="world created" world_id=af28ef2e-b120-49b9-8d0f-c4eae5119dea name="World of Test Story" tenant_id=0b97f074-2ce7-46cc-bbb1-e76c94e32141
time=2026-01-09T16:13:13.009-03:00 level=INFO msg="created implicit world for story" world_id=af28ef2e-b120-49b9-8d0f-c4eae5119dea story_title="Test Story"
time=2026-01-09T16:13:13.010-03:00 level=INFO msg="story created" story_id=4ca3ea80-bd72-456d-a29c-eb1df619f99a title="Test Story" tenant_id=0b97f074-2ce7-46cc-bbb1-e76c94e32141
time=2026-01-09T16:13:13.011-03:00 level=INFO msg="chapter created" chapter_id=b994312f-efe8-4fca-93fa-0f497a9b2e3a story_id=4ca3ea80-bd72-456d-a29c-eb1df619f99a tenant_id=0b97f074-2ce7-46cc-bbb1-e76c94e32141
time=2026-01-09T16:13:13.012-03:00 level=INFO msg="scene created" scene_id=cce0e989-3abe-4298-b989-9f3813a77871 story_id=4ca3ea80-bd72-456d-a29c-eb1df619f99a tenant_id=0b97f074-2ce7-46cc-bbb1-e76c94e32141
time=2026-01-09T16:13:13.014-03:00 level=INFO msg="event created" event_id=8218195f-d4c2-4cff-bbb8-4d5cbd82715c world_id=015dd37c-f59f-4570-ab1a-2b69b93b6218
=== RUN   TestEventHandler_Get/get_existing_event
=== RUN   TestEventHandler_Get/get_non-existing_event
time=2026-01-09T16:13:13.014-03:00 level=ERROR msg="failed to get event" error="event not found: 00000000-0000-0000-0000-000000000000" event_id=00000000-0000-0000-0000-000000000000
--- PASS: TestEventHandler_Get (0.15s)
    --- PASS: TestEventHandler_Get/get_existing_event (0.00s)
    --- PASS: TestEventHandler_Get/get_non-existing_event (0.00s)
=== RUN   TestFactionHandler_Create
time=2026-01-09T16:13:13.199-03:00 level=INFO msg="tenant created" tenant_id=780ded97-6b6e-49c5-a462-18395930f4c7 name="Test Tenant"
time=2026-01-09T16:13:13.200-03:00 level=INFO msg="world created" world_id=1cc18b34-2950-4262-8560-a0f5e51e4299 name="Test World" tenant_id=780ded97-6b6e-49c5-a462-18395930f4c7
=== RUN   TestFactionHandler_Create/successful_creation
time=2026-01-09T16:13:13.201-03:00 level=INFO msg="faction created" faction_id=b5697d4d-42e6-44ad-9229-4b4ad8d53baa name="Guild of Mages"
=== RUN   TestFactionHandler_Create/empty_name
--- PASS: TestFactionHandler_Create (0.19s)
    --- PASS: TestFactionHandler_Create/successful_creation (0.00s)
    --- PASS: TestFactionHandler_Create/empty_name (0.00s)
=== RUN   TestFactionHandler_AddReference
time=2026-01-09T16:13:13.411-03:00 level=INFO msg="tenant created" tenant_id=3932ad7a-cc50-489f-8b72-dbf86f6d62d1 name="Test Tenant"
time=2026-01-09T16:13:13.412-03:00 level=INFO msg="world created" world_id=6e020bd3-ea00-40a8-a90f-88a300591ca7 name="Test World" tenant_id=3932ad7a-cc50-489f-8b72-dbf86f6d62d1
time=2026-01-09T16:13:13.414-03:00 level=INFO msg="faction created" faction_id=a49ca003-83f1-481e-93e4-35034b17efbb name="Guild of Mages"
time=2026-01-09T16:13:13.415-03:00 level=INFO msg="character created" character_id=761aecc2-9a5c-456c-af4c-06e7c9c3af9a name="Test Character"
=== RUN   TestFactionHandler_AddReference/add_character_reference
time=2026-01-09T16:13:13.417-03:00 level=INFO msg="relation created" relation_id=98795d88-503f-41f3-9a7f-b746e161a845 source_id=a49ca003-83f1-481e-93e4-35034b17efbb target_id=761aecc2-9a5c-456c-af4c-06e7c9c3af9a
time=2026-01-09T16:13:13.417-03:00 level=INFO msg="faction reference added" faction_id=a49ca003-83f1-481e-93e4-35034b17efbb entity_type=character entity_id=761aecc2-9a5c-456c-af4c-06e7c9c3af9a
=== RUN   TestFactionHandler_AddReference/get_references
--- PASS: TestFactionHandler_AddReference (0.21s)
    --- PASS: TestFactionHandler_AddReference/add_character_reference (0.00s)
    --- PASS: TestFactionHandler_AddReference/get_references (0.00s)
=== RUN   TestInventoryHandler_AddItem
time=2026-01-09T16:13:13.586-03:00 level=INFO msg="tenant created" tenant_id=1a233e2f-8aec-4a86-81c6-59c884d570e4 name="Test Tenant"
time=2026-01-09T16:13:13.587-03:00 level=INFO msg="world created" world_id=ed2a979e-5bd0-4c00-a71d-2e316bb18942 name="Test World" tenant_id=1a233e2f-8aec-4a86-81c6-59c884d570e4
time=2026-01-09T16:13:13.588-03:00 level=INFO msg="character created" character_id=18434e2f-afa4-46e3-b162-e3987c2a7203 name="Test Character"
time=2026-01-09T16:13:13.589-03:00 level=INFO msg="RPG system created" rpg_system_id=5b1b0294-027f-4c81-a19a-e06f3e8b4844 name="Test RPG System"
time=2026-01-09T16:13:13.590-03:00 level=INFO msg="inventory item created" item_id=f65957e6-2b80-46f5-9a3f-85cfff47dbca name="Test Item"
=== RUN   TestInventoryHandler_AddItem/successful_add_item
time=2026-01-09T16:13:13.592-03:00 level=INFO msg="item added to inventory" character_id=18434e2f-afa4-46e3-b162-e3987c2a7203 item_id=f65957e6-2b80-46f5-9a3f-85cfff47dbca
=== RUN   TestInventoryHandler_AddItem/missing_tenant_id
--- PASS: TestInventoryHandler_AddItem (0.17s)
    --- PASS: TestInventoryHandler_AddItem/successful_add_item (0.00s)
    --- PASS: TestInventoryHandler_AddItem/missing_tenant_id (0.00s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-09T16:13:13.761-03:00 level=INFO msg="tenant created" tenant_id=4d5e04b5-ea11-4eb0-aaf2-4225cf6b8b3d name="Test Tenant"
time=2026-01-09T16:13:13.762-03:00 level=INFO msg="world created" world_id=221a901f-e0d5-4757-a711-c466dcfc3815 name="Test World" tenant_id=4d5e04b5-ea11-4eb0-aaf2-4225cf6b8b3d
time=2026-01-09T16:13:13.763-03:00 level=INFO msg="character created" character_id=98784541-8e0f-4a24-8380-9b5257fe628f name="Test Character"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
--- PASS: TestInventoryHandler_ListInventory (0.17s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.00s)
=== RUN   TestInventoryHandler_DeleteInventory
time=2026-01-09T16:13:13.933-03:00 level=INFO msg="tenant created" tenant_id=4d0ed83f-b724-47bd-a720-d5db8d015c23 name="Test Tenant"
time=2026-01-09T16:13:13.934-03:00 level=INFO msg="world created" world_id=eaed56a1-c871-4b5e-8d7c-8ec596a513c0 name="Test World" tenant_id=4d0ed83f-b724-47bd-a720-d5db8d015c23
time=2026-01-09T16:13:13.935-03:00 level=INFO msg="character created" character_id=32e1dbc7-c970-436a-8f91-35a7c3fe0b7c name="Test Character"
time=2026-01-09T16:13:13.936-03:00 level=INFO msg="RPG system created" rpg_system_id=e7f5cb3a-81d0-4687-8ffc-738584237694 name="Test RPG System"
time=2026-01-09T16:13:13.940-03:00 level=INFO msg="inventory item created" item_id=4dae5515-3cc3-44d0-9022-b97b1d379fca name="Test Item"
time=2026-01-09T16:13:13.943-03:00 level=INFO msg="item added to inventory" character_id=32e1dbc7-c970-436a-8f91-35a7c3fe0b7c item_id=4dae5515-3cc3-44d0-9022-b97b1d379fca
=== RUN   TestInventoryHandler_DeleteInventory/delete_existing_inventory_item
time=2026-01-09T16:13:13.943-03:00 level=INFO msg="item removed from inventory" id=6f18aa1c-a787-4e09-8aed-34749b851f42
=== RUN   TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item
time=2026-01-09T16:13:13.944-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 00000000-0000-0000-0000-000000000000" id=00000000-0000-0000-0000-000000000000
--- PASS: TestInventoryHandler_DeleteInventory (0.18s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_existing_inventory_item (0.00s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item (0.00s)
=== RUN   TestLocationHandler_Create
time=2026-01-09T16:13:14.099-03:00 level=INFO msg="tenant created" tenant_id=20c413c1-f653-46d5-81bc-778b6780260b name="Test Tenant"
time=2026-01-09T16:13:14.100-03:00 level=INFO msg="world created" world_id=a1a5568a-c6f1-4891-8ea6-8ab73efd2d9a name="Test World" tenant_id=20c413c1-f653-46d5-81bc-778b6780260b
=== RUN   TestLocationHandler_Create/successful_creation
time=2026-01-09T16:13:14.101-03:00 level=INFO msg="location created" location_id=e0cabf1f-ec6b-4cc3-a816-16b005f39c16 name="Test Location"
=== RUN   TestLocationHandler_Create/missing_tenant_id
=== RUN   TestLocationHandler_Create/empty_name
--- PASS: TestLocationHandler_Create (0.16s)
    --- PASS: TestLocationHandler_Create/successful_creation (0.00s)
    --- PASS: TestLocationHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestLocationHandler_Create/empty_name (0.00s)
=== RUN   TestLocationHandler_Get
time=2026-01-09T16:13:14.258-03:00 level=INFO msg="tenant created" tenant_id=1d3978ff-035e-49cc-88f8-5224aa91a07e name="Test Tenant"
time=2026-01-09T16:13:14.260-03:00 level=INFO msg="world created" world_id=1f1c857b-b6c8-44e2-b668-b7e80e96801b name="Test World" tenant_id=1d3978ff-035e-49cc-88f8-5224aa91a07e
time=2026-01-09T16:13:14.261-03:00 level=INFO msg="location created" location_id=28c0219c-113c-4097-a047-d0ecf3002721 name="Get Test Location"
=== RUN   TestLocationHandler_Get/existing_location
=== RUN   TestLocationHandler_Get/non-existing_location
time=2026-01-09T16:13:14.262-03:00 level=ERROR msg="failed to get location" error="location not found: 00000000-0000-0000-0000-000000000000" location_id=00000000-0000-0000-0000-000000000000
=== RUN   TestLocationHandler_Get/invalid_location_ID
--- PASS: TestLocationHandler_Get (0.16s)
    --- PASS: TestLocationHandler_Get/existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/non-existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/invalid_location_ID (0.00s)
=== RUN   TestLocationHandler_List
time=2026-01-09T16:13:14.554-03:00 level=INFO msg="tenant created" tenant_id=50bfa0b9-20f4-4c54-b2b8-a8b241d79ddb name="Test Tenant"
time=2026-01-09T16:13:14.555-03:00 level=INFO msg="world created" world_id=733581ce-00cd-44c9-aa89-32021a59fb85 name="Test World" tenant_id=50bfa0b9-20f4-4c54-b2b8-a8b241d79ddb
time=2026-01-09T16:13:14.557-03:00 level=INFO msg="location created" location_id=987a3a43-2953-45d9-a75f-92d3c713ba14 name="Location 1"
time=2026-01-09T16:13:14.557-03:00 level=INFO msg="location created" location_id=102fb27f-21a5-4740-8885-ca93aeef9a08 name="Location 2"
time=2026-01-09T16:13:14.558-03:00 level=INFO msg="location created" location_id=98556611-3edb-4396-b9cb-bcfd628d4e1d name="Location 3"
=== RUN   TestLocationHandler_List/list_locations
=== RUN   TestLocationHandler_List/missing_tenant_id
--- PASS: TestLocationHandler_List (0.30s)
    --- PASS: TestLocationHandler_List/list_locations (0.00s)
    --- PASS: TestLocationHandler_List/missing_tenant_id (0.00s)
=== RUN   TestLocationHandler_Update
time=2026-01-09T16:13:14.704-03:00 level=INFO msg="tenant created" tenant_id=d4c715f8-86da-4e25-8a7a-50fe8672b104 name="Test Tenant"
time=2026-01-09T16:13:14.705-03:00 level=INFO msg="world created" world_id=c33e91ae-1f3c-42f5-b526-242a67bcf2b9 name="Test World" tenant_id=d4c715f8-86da-4e25-8a7a-50fe8672b104
time=2026-01-09T16:13:14.707-03:00 level=INFO msg="location created" location_id=d7f42e33-bc36-4cdd-9663-bf292210d9bb name="Original Location"
=== RUN   TestLocationHandler_Update/update_location_name
time=2026-01-09T16:13:14.707-03:00 level=INFO msg="location updated" location_id=d7f42e33-bc36-4cdd-9663-bf292210d9bb name="Updated Location"
=== RUN   TestLocationHandler_Update/non-existing_location
--- PASS: TestLocationHandler_Update (0.15s)
    --- PASS: TestLocationHandler_Update/update_location_name (0.00s)
    --- PASS: TestLocationHandler_Update/non-existing_location (0.00s)
=== RUN   TestLocationHandler_Delete
time=2026-01-09T16:13:14.865-03:00 level=INFO msg="tenant created" tenant_id=9dae6956-a2ef-459f-b45f-185bc503dd48 name="Test Tenant"
time=2026-01-09T16:13:14.866-03:00 level=INFO msg="world created" world_id=a2fe4db5-999e-4792-93cd-261ec3c9463d name="Test World" tenant_id=9dae6956-a2ef-459f-b45f-185bc503dd48
time=2026-01-09T16:13:14.867-03:00 level=INFO msg="location created" location_id=d2e43ea0-ff8e-4d0b-92b4-90af44baf068 name="Location to Delete"
=== RUN   TestLocationHandler_Delete/delete_existing_location
time=2026-01-09T16:13:14.869-03:00 level=INFO msg="location deleted" location_id=d2e43ea0-ff8e-4d0b-92b4-90af44baf068 name="Location to Delete"
time=2026-01-09T16:13:14.869-03:00 level=ERROR msg="failed to get location" error="location not found: d2e43ea0-ff8e-4d0b-92b4-90af44baf068" location_id=d2e43ea0-ff8e-4d0b-92b4-90af44baf068
=== RUN   TestLocationHandler_Delete/delete_non-existing_location
--- PASS: TestLocationHandler_Delete (0.16s)
    --- PASS: TestLocationHandler_Delete/delete_existing_location (0.00s)
    --- PASS: TestLocationHandler_Delete/delete_non-existing_location (0.00s)
=== RUN   TestLoreHandler_Create
time=2026-01-09T16:13:15.032-03:00 level=INFO msg="tenant created" tenant_id=5e4de8d7-a696-47ff-ac10-221f50f6a326 name="Test Tenant"
time=2026-01-09T16:13:15.033-03:00 level=INFO msg="world created" world_id=f4868d60-e3cb-4964-a5c8-a7a5da9c72a3 name="Test World" tenant_id=5e4de8d7-a696-47ff-ac10-221f50f6a326
=== RUN   TestLoreHandler_Create/successful_creation
time=2026-01-09T16:13:15.035-03:00 level=INFO msg="lore created" lore_id=ab4c4aa3-4535-4f74-a678-1db5d80794e1 name="Fire Magic"
=== RUN   TestLoreHandler_Create/empty_name
--- PASS: TestLoreHandler_Create (0.16s)
    --- PASS: TestLoreHandler_Create/successful_creation (0.00s)
    --- PASS: TestLoreHandler_Create/empty_name (0.00s)
=== RUN   TestLoreHandler_AddReference
time=2026-01-09T16:13:15.191-03:00 level=INFO msg="tenant created" tenant_id=8096647f-c5bc-41b5-bc08-120ea5d4c83a name="Test Tenant"
time=2026-01-09T16:13:15.192-03:00 level=INFO msg="world created" world_id=c1ee4c1c-c4a4-4074-8141-364358037522 name="Test World" tenant_id=8096647f-c5bc-41b5-bc08-120ea5d4c83a
time=2026-01-09T16:13:15.194-03:00 level=INFO msg="lore created" lore_id=e6b148e8-3bb9-4f30-8ec8-3b91c31d6762 name="Fire Magic"
time=2026-01-09T16:13:15.195-03:00 level=INFO msg="character created" character_id=888adce2-3d35-4b8a-84a0-f47d41002271 name="Test Character"
=== RUN   TestLoreHandler_AddReference/add_character_reference
time=2026-01-09T16:13:15.197-03:00 level=INFO msg="relation created" relation_id=f940297f-a2b7-4f22-9960-e19ed9ae1687 source_id=e6b148e8-3bb9-4f30-8ec8-3b91c31d6762 target_id=888adce2-3d35-4b8a-84a0-f47d41002271
time=2026-01-09T16:13:15.197-03:00 level=INFO msg="lore reference added" lore_id=e6b148e8-3bb9-4f30-8ec8-3b91c31d6762 entity_type=character entity_id=888adce2-3d35-4b8a-84a0-f47d41002271
=== RUN   TestLoreHandler_AddReference/get_references
--- PASS: TestLoreHandler_AddReference (0.16s)
    --- PASS: TestLoreHandler_AddReference/add_character_reference (0.00s)
    --- PASS: TestLoreHandler_AddReference/get_references (0.00s)
=== RUN   TestRPGClassHandler_Create
time=2026-01-09T16:13:15.355-03:00 level=INFO msg="tenant created" tenant_id=73f7f9d2-960a-4cdf-bb3a-3ad8cc70c241 name="Test Tenant"
time=2026-01-09T16:13:15.357-03:00 level=INFO msg="RPG system created" rpg_system_id=5894c6e5-7aeb-46ef-8db6-a03ad53753db name="Test RPG System"
=== RUN   TestRPGClassHandler_Create/successful_creation
time=2026-01-09T16:13:15.358-03:00 level=INFO msg="RPG class created" class_id=de802de1-bfb2-4bd7-982c-b03ad90d9157 name="Test Class"
=== RUN   TestRPGClassHandler_Create/missing_tenant_id
--- PASS: TestRPGClassHandler_Create (0.16s)
    --- PASS: TestRPGClassHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGClassHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGClassHandler_Get
time=2026-01-09T16:13:15.516-03:00 level=INFO msg="tenant created" tenant_id=6681daa5-7c09-464d-94b3-749eb762c184 name="Test Tenant"
time=2026-01-09T16:13:15.517-03:00 level=INFO msg="RPG system created" rpg_system_id=3a2ff3c9-fe0d-4d5f-a935-41d21b6eba37 name="Test RPG System"
time=2026-01-09T16:13:15.520-03:00 level=INFO msg="RPG class created" class_id=2f2f2b43-9b70-4c14-965a-2babc3d391e4 name="Get Test Class"
=== RUN   TestRPGClassHandler_Get/existing_rpg_class
=== RUN   TestRPGClassHandler_Get/non-existing_rpg_class
time=2026-01-09T16:13:15.521-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Get (0.16s)
    --- PASS: TestRPGClassHandler_Get/existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Get/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_List
time=2026-01-09T16:13:15.676-03:00 level=INFO msg="tenant created" tenant_id=df644c79-2077-4357-983f-d90630160ce0 name="Test Tenant"
time=2026-01-09T16:13:15.677-03:00 level=INFO msg="RPG system created" rpg_system_id=913f56eb-9297-47d1-940c-d6f1b82434a5 name="Test RPG System"
time=2026-01-09T16:13:15.680-03:00 level=INFO msg="RPG class created" class_id=ba65e363-4d83-4494-bd18-9fcb6e653f0e name="Class 1"
time=2026-01-09T16:13:15.681-03:00 level=INFO msg="RPG class created" class_id=dbd62781-2ac7-45cf-a0be-c2be4437c370 name="Class 2"
time=2026-01-09T16:13:15.682-03:00 level=INFO msg="RPG class created" class_id=b699bfc8-08e4-4853-aa77-6edea3092ea1 name="Class 3"
=== RUN   TestRPGClassHandler_List/list_rpg_classes
--- PASS: TestRPGClassHandler_List (0.16s)
    --- PASS: TestRPGClassHandler_List/list_rpg_classes (0.00s)
=== RUN   TestRPGClassHandler_Update
time=2026-01-09T16:13:15.859-03:00 level=INFO msg="tenant created" tenant_id=113cfd52-383a-4b5f-a269-38fd0b443a99 name="Test Tenant"
time=2026-01-09T16:13:15.860-03:00 level=INFO msg="RPG system created" rpg_system_id=dfef910d-db69-49f6-9ec8-21a65af18581 name="Test RPG System"
time=2026-01-09T16:13:15.861-03:00 level=INFO msg="RPG class created" class_id=8e373606-ef11-4a8e-bff8-d3ae809848fa name="Original Class"
=== RUN   TestRPGClassHandler_Update/update_rpg_class_name
time=2026-01-09T16:13:15.862-03:00 level=INFO msg="RPG class updated" class_id=8e373606-ef11-4a8e-bff8-d3ae809848fa
=== RUN   TestRPGClassHandler_Update/non-existing_rpg_class
--- PASS: TestRPGClassHandler_Update (0.18s)
    --- PASS: TestRPGClassHandler_Update/update_rpg_class_name (0.00s)
    --- PASS: TestRPGClassHandler_Update/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_Delete
time=2026-01-09T16:13:16.021-03:00 level=INFO msg="tenant created" tenant_id=f552f09c-fbf7-4b8f-802a-ce8fe0074b55 name="Test Tenant"
time=2026-01-09T16:13:16.022-03:00 level=INFO msg="RPG system created" rpg_system_id=1b019e21-436b-4620-9b0a-b565d77869d5 name="Test RPG System"
time=2026-01-09T16:13:16.023-03:00 level=INFO msg="RPG class created" class_id=6e3ab56e-ad02-4113-bd64-99267306a5fd name="Class to Delete"
=== RUN   TestRPGClassHandler_Delete/delete_existing_rpg_class
time=2026-01-09T16:13:16.024-03:00 level=INFO msg="RPG class deleted" class_id=6e3ab56e-ad02-4113-bd64-99267306a5fd
time=2026-01-09T16:13:16.024-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 6e3ab56e-ad02-4113-bd64-99267306a5fd" class_id=6e3ab56e-ad02-4113-bd64-99267306a5fd
=== RUN   TestRPGClassHandler_Delete/delete_non-existing_rpg_class
time=2026-01-09T16:13:16.024-03:00 level=ERROR msg="failed to delete RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Delete (0.16s)
    --- PASS: TestRPGClassHandler_Delete/delete_existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Delete/delete_non-existing_rpg_class (0.00s)
=== RUN   TestRPGSystemHandler_Create
time=2026-01-09T16:13:16.166-03:00 level=INFO msg="tenant created" tenant_id=8f357631-cf34-43b8-b9aa-958ee50f03ac name="Test Tenant"
=== RUN   TestRPGSystemHandler_Create/successful_creation
time=2026-01-09T16:13:16.167-03:00 level=INFO msg="RPG system created" rpg_system_id=b394f0c0-309e-4a4d-9ca6-ef8dee210bcf name="Test RPG System"
=== RUN   TestRPGSystemHandler_Create/missing_tenant_id
--- PASS: TestRPGSystemHandler_Create (0.15s)
    --- PASS: TestRPGSystemHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGSystemHandler_Get
time=2026-01-09T16:13:16.321-03:00 level=INFO msg="tenant created" tenant_id=bd7b4876-4787-4f70-a1b8-b2ba48374d48 name="Test Tenant"
time=2026-01-09T16:13:16.322-03:00 level=INFO msg="RPG system created" rpg_system_id=dc13dc2d-199f-41eb-b7a5-a6c3fbe133b0 name="Get Test RPG System"
=== RUN   TestRPGSystemHandler_Get/existing_rpg_system
=== RUN   TestRPGSystemHandler_Get/non-existing_rpg_system
time=2026-01-09T16:13:16.323-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 00000000-0000-0000-0000-000000000000" rpg_system_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGSystemHandler_Get (0.15s)
    --- PASS: TestRPGSystemHandler_Get/existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Get/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_List
time=2026-01-09T16:13:16.458-03:00 level=INFO msg="tenant created" tenant_id=fb38d8b4-e155-4f96-b729-96219a5f0d55 name="Test Tenant"
time=2026-01-09T16:13:16.459-03:00 level=INFO msg="RPG system created" rpg_system_id=98dd873d-708a-4491-b15a-ccc29c994a48 name="RPG System 1"
time=2026-01-09T16:13:16.459-03:00 level=INFO msg="RPG system created" rpg_system_id=46675a28-3742-4296-ae06-dcc199671dd8 name="RPG System 2"
time=2026-01-09T16:13:16.460-03:00 level=INFO msg="RPG system created" rpg_system_id=4ff86167-715c-4e94-a6a8-4324c6023828 name="RPG System 3"
=== RUN   TestRPGSystemHandler_List/list_rpg_systems
--- PASS: TestRPGSystemHandler_List (0.13s)
    --- PASS: TestRPGSystemHandler_List/list_rpg_systems (0.00s)
=== RUN   TestRPGSystemHandler_Update
time=2026-01-09T16:13:16.600-03:00 level=INFO msg="tenant created" tenant_id=145caa67-058e-4fcb-8ca5-a7f5cc002a94 name="Test Tenant"
time=2026-01-09T16:13:16.601-03:00 level=INFO msg="RPG system created" rpg_system_id=d9019470-1eb8-4118-8d96-85fed089841c name="Original RPG System"
=== RUN   TestRPGSystemHandler_Update/update_rpg_system_name
time=2026-01-09T16:13:16.602-03:00 level=INFO msg="RPG system updated" rpg_system_id=d9019470-1eb8-4118-8d96-85fed089841c
=== RUN   TestRPGSystemHandler_Update/non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Update (0.14s)
    --- PASS: TestRPGSystemHandler_Update/update_rpg_system_name (0.00s)
    --- PASS: TestRPGSystemHandler_Update/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_Delete
time=2026-01-09T16:13:16.765-03:00 level=INFO msg="tenant created" tenant_id=7ba5b502-25e2-4265-9722-e1cd477a33ee name="Test Tenant"
time=2026-01-09T16:13:16.766-03:00 level=INFO msg="RPG system created" rpg_system_id=418d2c64-aa61-4df6-b11a-671fab24e7cc name="RPG System to Delete"
=== RUN   TestRPGSystemHandler_Delete/delete_existing_rpg_system
time=2026-01-09T16:13:16.767-03:00 level=INFO msg="RPG system deleted" rpg_system_id=418d2c64-aa61-4df6-b11a-671fab24e7cc
time=2026-01-09T16:13:16.767-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 418d2c64-aa61-4df6-b11a-671fab24e7cc" rpg_system_id=418d2c64-aa61-4df6-b11a-671fab24e7cc
=== RUN   TestRPGSystemHandler_Delete/delete_non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Delete (0.16s)
    --- PASS: TestRPGSystemHandler_Delete/delete_existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Delete/delete_non-existing_rpg_system (0.00s)
=== RUN   TestSceneHandler_Create
time=2026-01-09T16:13:16.941-03:00 level=INFO msg="tenant created" tenant_id=d0330a03-bffa-4fcc-b0f7-162d0ee72ccd name="Test Tenant"
time=2026-01-09T16:13:16.942-03:00 level=INFO msg="world created" world_id=44976bed-239e-4b79-9742-d04fa8979258 name="World of Test Story" tenant_id=d0330a03-bffa-4fcc-b0f7-162d0ee72ccd
time=2026-01-09T16:13:16.942-03:00 level=INFO msg="created implicit world for story" world_id=44976bed-239e-4b79-9742-d04fa8979258 story_title="Test Story"
time=2026-01-09T16:13:16.943-03:00 level=INFO msg="story created" story_id=5e824fd1-684d-422d-9e38-2b0ce1cc43c4 title="Test Story" tenant_id=d0330a03-bffa-4fcc-b0f7-162d0ee72ccd
=== RUN   TestSceneHandler_Create/successful_creation
time=2026-01-09T16:13:16.944-03:00 level=INFO msg="scene created" scene_id=859db993-682f-4905-90e8-c2a50b0a8c07 story_id=5e824fd1-684d-422d-9e38-2b0ce1cc43c4 tenant_id=d0330a03-bffa-4fcc-b0f7-162d0ee72ccd
=== RUN   TestSceneHandler_Create/missing_tenant_id
--- PASS: TestSceneHandler_Create (0.18s)
    --- PASS: TestSceneHandler_Create/successful_creation (0.00s)
    --- PASS: TestSceneHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSceneHandler_Get
time=2026-01-09T16:13:17.111-03:00 level=INFO msg="tenant created" tenant_id=4990e606-2239-46a2-a479-148f37521828 name="Test Tenant"
time=2026-01-09T16:13:17.113-03:00 level=INFO msg="world created" world_id=daaf1bc8-792a-4daa-853e-1932052db927 name="World of Test Story" tenant_id=4990e606-2239-46a2-a479-148f37521828
time=2026-01-09T16:13:17.113-03:00 level=INFO msg="created implicit world for story" world_id=daaf1bc8-792a-4daa-853e-1932052db927 story_title="Test Story"
time=2026-01-09T16:13:17.115-03:00 level=INFO msg="story created" story_id=00806369-ec90-474b-bbdd-d66301d40841 title="Test Story" tenant_id=4990e606-2239-46a2-a479-148f37521828
time=2026-01-09T16:13:17.116-03:00 level=INFO msg="scene created" scene_id=b3689dd6-3a3e-4801-b558-cd468928357e story_id=00806369-ec90-474b-bbdd-d66301d40841 tenant_id=4990e606-2239-46a2-a479-148f37521828
=== RUN   TestSceneHandler_Get/existing_scene
=== RUN   TestSceneHandler_Get/non-existing_scene
time=2026-01-09T16:13:17.116-03:00 level=ERROR msg="failed to get scene" error="scene not found: 00000000-0000-0000-0000-000000000000" scene_id=00000000-0000-0000-0000-000000000000 tenant_id=4990e606-2239-46a2-a479-148f37521828
--- PASS: TestSceneHandler_Get (0.17s)
    --- PASS: TestSceneHandler_Get/existing_scene (0.00s)
    --- PASS: TestSceneHandler_Get/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_List
time=2026-01-09T16:13:17.286-03:00 level=INFO msg="tenant created" tenant_id=40a7f960-fdcf-4c22-b648-9ec99e4d5e57 name="Test Tenant"
time=2026-01-09T16:13:17.287-03:00 level=INFO msg="world created" world_id=808a78a5-0dcf-4acd-bcc1-3641a71890cd name="World of Test Story" tenant_id=40a7f960-fdcf-4c22-b648-9ec99e4d5e57
time=2026-01-09T16:13:17.287-03:00 level=INFO msg="created implicit world for story" world_id=808a78a5-0dcf-4acd-bcc1-3641a71890cd story_title="Test Story"
time=2026-01-09T16:13:17.289-03:00 level=INFO msg="story created" story_id=8f0c100f-d728-438f-8c4b-aa2aa9bad7d3 title="Test Story" tenant_id=40a7f960-fdcf-4c22-b648-9ec99e4d5e57
time=2026-01-09T16:13:17.290-03:00 level=INFO msg="scene created" scene_id=60cabec6-325f-44d8-bf41-39bb52e8adbc story_id=8f0c100f-d728-438f-8c4b-aa2aa9bad7d3 tenant_id=40a7f960-fdcf-4c22-b648-9ec99e4d5e57
time=2026-01-09T16:13:17.291-03:00 level=INFO msg="scene created" scene_id=3bc9a0bd-047f-49d7-bb98-2df4077050d7 story_id=8f0c100f-d728-438f-8c4b-aa2aa9bad7d3 tenant_id=40a7f960-fdcf-4c22-b648-9ec99e4d5e57
time=2026-01-09T16:13:17.291-03:00 level=INFO msg="scene created" scene_id=18d99da2-f50b-4d33-bc39-89ec5abc7d50 story_id=8f0c100f-d728-438f-8c4b-aa2aa9bad7d3 tenant_id=40a7f960-fdcf-4c22-b648-9ec99e4d5e57
=== RUN   TestSceneHandler_List/list_scenes
--- PASS: TestSceneHandler_List (0.18s)
    --- PASS: TestSceneHandler_List/list_scenes (0.00s)
=== RUN   TestSceneHandler_Update
time=2026-01-09T16:13:17.505-03:00 level=INFO msg="tenant created" tenant_id=e776ebdd-b876-4484-84b3-8c64d93d7445 name="Test Tenant"
time=2026-01-09T16:13:17.507-03:00 level=INFO msg="world created" world_id=b2f672c9-cf34-4c17-8947-e04cd5b2ffb7 name="World of Test Story" tenant_id=e776ebdd-b876-4484-84b3-8c64d93d7445
time=2026-01-09T16:13:17.507-03:00 level=INFO msg="created implicit world for story" world_id=b2f672c9-cf34-4c17-8947-e04cd5b2ffb7 story_title="Test Story"
time=2026-01-09T16:13:17.508-03:00 level=INFO msg="story created" story_id=2e4f5df2-b514-467d-9e00-d0912fa92a19 title="Test Story" tenant_id=e776ebdd-b876-4484-84b3-8c64d93d7445
time=2026-01-09T16:13:17.509-03:00 level=INFO msg="scene created" scene_id=f406ad34-8166-447a-a4dd-afb01b839ab0 story_id=2e4f5df2-b514-467d-9e00-d0912fa92a19 tenant_id=e776ebdd-b876-4484-84b3-8c64d93d7445
=== RUN   TestSceneHandler_Update/update_scene_goal
time=2026-01-09T16:13:17.510-03:00 level=INFO msg="scene updated" scene_id=f406ad34-8166-447a-a4dd-afb01b839ab0 tenant_id=e776ebdd-b876-4484-84b3-8c64d93d7445
=== RUN   TestSceneHandler_Update/non-existing_scene
--- PASS: TestSceneHandler_Update (0.22s)
    --- PASS: TestSceneHandler_Update/update_scene_goal (0.00s)
    --- PASS: TestSceneHandler_Update/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_Delete
time=2026-01-09T16:13:17.639-03:00 level=INFO msg="tenant created" tenant_id=a3e40437-74f4-49cb-8eed-b17a36e56c95 name="Test Tenant"
time=2026-01-09T16:13:17.640-03:00 level=INFO msg="world created" world_id=ef900373-f84c-4de0-b5f5-978169842407 name="World of Test Story" tenant_id=a3e40437-74f4-49cb-8eed-b17a36e56c95
time=2026-01-09T16:13:17.640-03:00 level=INFO msg="created implicit world for story" world_id=ef900373-f84c-4de0-b5f5-978169842407 story_title="Test Story"
time=2026-01-09T16:13:17.642-03:00 level=INFO msg="story created" story_id=0895e22a-5aed-47c1-a047-97a33442ef85 title="Test Story" tenant_id=a3e40437-74f4-49cb-8eed-b17a36e56c95
time=2026-01-09T16:13:17.643-03:00 level=INFO msg="scene created" scene_id=2c00a2b4-9044-46f6-b4bf-17e1ef747449 story_id=0895e22a-5aed-47c1-a047-97a33442ef85 tenant_id=a3e40437-74f4-49cb-8eed-b17a36e56c95
=== RUN   TestSceneHandler_Delete/delete_existing_scene
time=2026-01-09T16:13:17.645-03:00 level=INFO msg="scene deleted" scene_id=2c00a2b4-9044-46f6-b4bf-17e1ef747449 tenant_id=a3e40437-74f4-49cb-8eed-b17a36e56c95
time=2026-01-09T16:13:17.645-03:00 level=ERROR msg="failed to get scene" error="scene not found: 2c00a2b4-9044-46f6-b4bf-17e1ef747449" scene_id=2c00a2b4-9044-46f6-b4bf-17e1ef747449 tenant_id=a3e40437-74f4-49cb-8eed-b17a36e56c95
=== RUN   TestSceneHandler_Delete/delete_non-existing_scene
--- PASS: TestSceneHandler_Delete (0.15s)
    --- PASS: TestSceneHandler_Delete/delete_existing_scene (0.00s)
    --- PASS: TestSceneHandler_Delete/delete_non-existing_scene (0.00s)
=== RUN   TestSkillHandler_Create
time=2026-01-09T16:13:17.807-03:00 level=INFO msg="tenant created" tenant_id=3f0dc50b-5ecb-4a9f-b0fd-8ff8fb65fa36 name="Test Tenant"
time=2026-01-09T16:13:17.808-03:00 level=INFO msg="RPG system created" rpg_system_id=a8c22d46-66c3-46e8-8440-6b74274fd8c4 name="Test RPG System"
=== RUN   TestSkillHandler_Create/successful_creation
time=2026-01-09T16:13:17.809-03:00 level=INFO msg="skill created" skill_id=1bb2a7da-bb6d-4c05-939a-0fb5ab92e8cb name="Test Skill"
=== RUN   TestSkillHandler_Create/missing_tenant_id
--- PASS: TestSkillHandler_Create (0.15s)
    --- PASS: TestSkillHandler_Create/successful_creation (0.00s)
    --- PASS: TestSkillHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSkillHandler_Get
time=2026-01-09T16:13:17.937-03:00 level=INFO msg="tenant created" tenant_id=5beee575-b227-47c8-b491-5bc46641c65d name="Test Tenant"
time=2026-01-09T16:13:17.938-03:00 level=INFO msg="RPG system created" rpg_system_id=aefa3ccd-e9d3-4718-bf69-3370e83aa9e7 name="Test RPG System"
time=2026-01-09T16:13:17.939-03:00 level=INFO msg="skill created" skill_id=d6b2c6a4-a2b5-4f15-b6b0-5978876db3a9 name="Get Test Skill"
=== RUN   TestSkillHandler_Get/existing_skill
=== RUN   TestSkillHandler_Get/non-existing_skill
time=2026-01-09T16:13:17.939-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Get (0.13s)
    --- PASS: TestSkillHandler_Get/existing_skill (0.00s)
    --- PASS: TestSkillHandler_Get/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_List
time=2026-01-09T16:13:18.077-03:00 level=INFO msg="tenant created" tenant_id=363a6fa7-b20a-4e12-95ca-631b4401af58 name="Test Tenant"
time=2026-01-09T16:13:18.078-03:00 level=INFO msg="RPG system created" rpg_system_id=f5c02e96-af3f-42f9-adf1-00a5c41ec3c0 name="Test RPG System"
time=2026-01-09T16:13:18.079-03:00 level=INFO msg="skill created" skill_id=a33a86e9-d7fa-426a-a611-1b2e7d76621d name="Skill 1"
time=2026-01-09T16:13:18.079-03:00 level=INFO msg="skill created" skill_id=4ffeb5d6-d394-47f1-8175-a2b88ba8d279 name="Skill 2"
time=2026-01-09T16:13:18.080-03:00 level=INFO msg="skill created" skill_id=ea5b61c9-242d-43a3-9c6b-43359b938784 name="Skill 3"
=== RUN   TestSkillHandler_List/list_skills
--- PASS: TestSkillHandler_List (0.14s)
    --- PASS: TestSkillHandler_List/list_skills (0.00s)
=== RUN   TestSkillHandler_Update
time=2026-01-09T16:13:18.207-03:00 level=INFO msg="tenant created" tenant_id=ff09c1e2-3882-43fc-ba5a-3bb8e8ca0b35 name="Test Tenant"
time=2026-01-09T16:13:18.208-03:00 level=INFO msg="RPG system created" rpg_system_id=98c30f1d-32ee-47d2-8cfe-3d6ce77e960f name="Test RPG System"
time=2026-01-09T16:13:18.209-03:00 level=INFO msg="skill created" skill_id=fb9cde05-6f0d-4336-9afb-13f30dfa3276 name="Original Skill"
=== RUN   TestSkillHandler_Update/update_skill_name
time=2026-01-09T16:13:18.210-03:00 level=INFO msg="skill updated" skill_id=fb9cde05-6f0d-4336-9afb-13f30dfa3276
=== RUN   TestSkillHandler_Update/non-existing_skill
--- PASS: TestSkillHandler_Update (0.13s)
    --- PASS: TestSkillHandler_Update/update_skill_name (0.00s)
    --- PASS: TestSkillHandler_Update/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_Delete
time=2026-01-09T16:13:18.342-03:00 level=INFO msg="tenant created" tenant_id=189e88f0-b8b2-421b-a534-8417c4f6ab4e name="Test Tenant"
time=2026-01-09T16:13:18.344-03:00 level=INFO msg="RPG system created" rpg_system_id=5ed82544-1839-4bee-a30f-cd9fd2968e43 name="Test RPG System"
time=2026-01-09T16:13:18.345-03:00 level=INFO msg="skill created" skill_id=74784b7e-3d2e-4dcb-9ef6-1531ba62bb0c name="Skill to Delete"
=== RUN   TestSkillHandler_Delete/delete_existing_skill
time=2026-01-09T16:13:18.346-03:00 level=INFO msg="skill deleted" skill_id=74784b7e-3d2e-4dcb-9ef6-1531ba62bb0c
time=2026-01-09T16:13:18.346-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 74784b7e-3d2e-4dcb-9ef6-1531ba62bb0c" skill_id=74784b7e-3d2e-4dcb-9ef6-1531ba62bb0c
=== RUN   TestSkillHandler_Delete/delete_non-existing_skill
time=2026-01-09T16:13:18.346-03:00 level=ERROR msg="failed to delete skill" error="skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Delete (0.13s)
    --- PASS: TestSkillHandler_Delete/delete_existing_skill (0.00s)
    --- PASS: TestSkillHandler_Delete/delete_non-existing_skill (0.00s)
=== RUN   TestStoryHandler_Create
time=2026-01-09T16:13:18.477-03:00 level=INFO msg="tenant created" tenant_id=7aaec064-0497-47ca-8bd0-e687c3135f66 name="Test Tenant"
=== RUN   TestStoryHandler_Create/successful_creation
time=2026-01-09T16:13:18.478-03:00 level=INFO msg="world created" world_id=dcad5b20-3823-4727-87cd-da8f915ea580 name="World of Test Story" tenant_id=7aaec064-0497-47ca-8bd0-e687c3135f66
time=2026-01-09T16:13:18.478-03:00 level=INFO msg="created implicit world for story" world_id=dcad5b20-3823-4727-87cd-da8f915ea580 story_title="Test Story"
time=2026-01-09T16:13:18.486-03:00 level=INFO msg="story created" story_id=e0087c06-b042-4071-944a-55240150a845 title="Test Story" tenant_id=7aaec064-0497-47ca-8bd0-e687c3135f66
=== RUN   TestStoryHandler_Create/missing_tenant_id
=== RUN   TestStoryHandler_Create/empty_title
--- PASS: TestStoryHandler_Create (0.14s)
    --- PASS: TestStoryHandler_Create/successful_creation (0.01s)
    --- PASS: TestStoryHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestStoryHandler_Create/empty_title (0.00s)
=== RUN   TestStoryHandler_Get
time=2026-01-09T16:13:18.650-03:00 level=INFO msg="tenant created" tenant_id=b19fdcce-73a0-49d5-aaed-93d43a7617f9 name="Test Tenant"
time=2026-01-09T16:13:18.652-03:00 level=INFO msg="world created" world_id=baad5335-2f04-485f-9ba6-4f706ed58981 name="World of Get Test Story" tenant_id=b19fdcce-73a0-49d5-aaed-93d43a7617f9
time=2026-01-09T16:13:18.652-03:00 level=INFO msg="created implicit world for story" world_id=baad5335-2f04-485f-9ba6-4f706ed58981 story_title="Get Test Story"
time=2026-01-09T16:13:18.654-03:00 level=INFO msg="story created" story_id=aa4cf556-7419-434f-9a5c-9969cde2ec10 title="Get Test Story" tenant_id=b19fdcce-73a0-49d5-aaed-93d43a7617f9
=== RUN   TestStoryHandler_Get/existing_story
=== RUN   TestStoryHandler_Get/non-existing_story
time=2026-01-09T16:13:18.654-03:00 level=ERROR msg="failed to get story" error="story not found: 00000000-0000-0000-0000-000000000000" story_id=00000000-0000-0000-0000-000000000000 tenant_id=b19fdcce-73a0-49d5-aaed-93d43a7617f9
--- PASS: TestStoryHandler_Get (0.16s)
    --- PASS: TestStoryHandler_Get/existing_story (0.00s)
    --- PASS: TestStoryHandler_Get/non-existing_story (0.00s)
=== RUN   TestStoryHandler_List
time=2026-01-09T16:13:18.795-03:00 level=INFO msg="tenant created" tenant_id=aad6ea84-ed14-41cc-9496-93be19c8c21d name="Test Tenant"
time=2026-01-09T16:13:18.797-03:00 level=INFO msg="world created" world_id=82c7639a-781b-4a00-9491-f306003194a6 name="World of Story 1" tenant_id=aad6ea84-ed14-41cc-9496-93be19c8c21d
time=2026-01-09T16:13:18.797-03:00 level=INFO msg="created implicit world for story" world_id=82c7639a-781b-4a00-9491-f306003194a6 story_title="Story 1"
time=2026-01-09T16:13:18.798-03:00 level=INFO msg="story created" story_id=fb368ac1-96e5-4a70-9111-dcb6f35d60dd title="Story 1" tenant_id=aad6ea84-ed14-41cc-9496-93be19c8c21d
time=2026-01-09T16:13:18.798-03:00 level=INFO msg="world created" world_id=7d23e4e9-c76c-48fc-b137-10cf41d7d62f name="World of Story 2" tenant_id=aad6ea84-ed14-41cc-9496-93be19c8c21d
time=2026-01-09T16:13:18.799-03:00 level=INFO msg="created implicit world for story" world_id=7d23e4e9-c76c-48fc-b137-10cf41d7d62f story_title="Story 2"
time=2026-01-09T16:13:18.799-03:00 level=INFO msg="story created" story_id=1bfd6426-35f1-452a-bbc4-65ffcace607b title="Story 2" tenant_id=aad6ea84-ed14-41cc-9496-93be19c8c21d
time=2026-01-09T16:13:18.800-03:00 level=INFO msg="world created" world_id=a5364d21-c3fa-46ab-9290-e51b1ef68b04 name="World of Story 3" tenant_id=aad6ea84-ed14-41cc-9496-93be19c8c21d
time=2026-01-09T16:13:18.800-03:00 level=INFO msg="created implicit world for story" world_id=a5364d21-c3fa-46ab-9290-e51b1ef68b04 story_title="Story 3"
time=2026-01-09T16:13:18.801-03:00 level=INFO msg="story created" story_id=5dc27282-ea14-4a9b-b2b5-4c3ffb015db4 title="Story 3" tenant_id=aad6ea84-ed14-41cc-9496-93be19c8c21d
=== RUN   TestStoryHandler_List/list_stories
=== RUN   TestStoryHandler_List/missing_tenant_id
--- PASS: TestStoryHandler_List (0.15s)
    --- PASS: TestStoryHandler_List/list_stories (0.00s)
    --- PASS: TestStoryHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTenantHandler_Create
=== RUN   TestTenantHandler_Create/successful_creation
time=2026-01-09T16:13:18.963-03:00 level=INFO msg="tenant created" tenant_id=92a85dfc-a259-497a-9b43-18f2c44c4d93 name="Test Tenant"
=== RUN   TestTenantHandler_Create/duplicate_name
time=2026-01-09T16:13:18.963-03:00 level=INFO msg="tenant created" tenant_id=b18c9762-2e63-4dd3-96f6-97e8c26bb1dd name="Duplicate Tenant"
=== RUN   TestTenantHandler_Create/empty_name
=== RUN   TestTenantHandler_Create/invalid_JSON
--- PASS: TestTenantHandler_Create (0.16s)
    --- PASS: TestTenantHandler_Create/successful_creation (0.00s)
    --- PASS: TestTenantHandler_Create/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_Create/empty_name (0.00s)
    --- PASS: TestTenantHandler_Create/invalid_JSON (0.00s)
=== RUN   TestTenantHandler_Get
time=2026-01-09T16:13:19.111-03:00 level=INFO msg="tenant created" tenant_id=a965688a-69ac-4f1f-9fd8-f12072093286 name="Get Test Tenant"
=== RUN   TestTenantHandler_Get/existing_tenant
=== RUN   TestTenantHandler_Get/invalid_UUID
=== RUN   TestTenantHandler_Get/non-existing_tenant
--- PASS: TestTenantHandler_Get (0.14s)
    --- PASS: TestTenantHandler_Get/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_Get/invalid_UUID (0.00s)
    --- PASS: TestTenantHandler_Get/non-existing_tenant (0.00s)
=== RUN   TestTraitHandler_Create
time=2026-01-09T16:13:19.258-03:00 level=INFO msg="tenant created" tenant_id=fbd53966-f0be-4080-8ae3-dd0b68ca2a0e name="Test Tenant"
=== RUN   TestTraitHandler_Create/successful_creation
time=2026-01-09T16:13:19.259-03:00 level=INFO msg="trait created" trait_id=2de9723b-3389-41a4-a7b9-121c8e5c811d name=Brave
=== RUN   TestTraitHandler_Create/missing_tenant_id
=== RUN   TestTraitHandler_Create/empty_name
--- PASS: TestTraitHandler_Create (0.15s)
    --- PASS: TestTraitHandler_Create/successful_creation (0.00s)
    --- PASS: TestTraitHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestTraitHandler_Create/empty_name (0.00s)
=== RUN   TestTraitHandler_Get
time=2026-01-09T16:13:19.404-03:00 level=INFO msg="tenant created" tenant_id=33bdd332-66c1-422c-8edd-1b307388eb5d name="Test Tenant"
time=2026-01-09T16:13:19.406-03:00 level=INFO msg="trait created" trait_id=ae217e1e-433a-425e-8efe-0e3c257ce2d2 name="Get Test Trait"
=== RUN   TestTraitHandler_Get/existing_trait
=== RUN   TestTraitHandler_Get/non-existing_trait
time=2026-01-09T16:13:19.406-03:00 level=ERROR msg="failed to get trait" error="trait not found: 00000000-0000-0000-0000-000000000000" trait_id=00000000-0000-0000-0000-000000000000
=== RUN   TestTraitHandler_Get/invalid_trait_ID
--- PASS: TestTraitHandler_Get (0.15s)
    --- PASS: TestTraitHandler_Get/existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/non-existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/invalid_trait_ID (0.00s)
=== RUN   TestTraitHandler_List
time=2026-01-09T16:13:19.540-03:00 level=INFO msg="tenant created" tenant_id=197577c5-4673-483e-9ee9-fffbe0687bac name="Test Tenant"
time=2026-01-09T16:13:19.542-03:00 level=INFO msg="trait created" trait_id=0b68d723-cfd9-4d9f-a2ef-d369d0c3a2e7 name="Trait 1"
time=2026-01-09T16:13:19.542-03:00 level=INFO msg="trait created" trait_id=ebe83706-102c-4c99-b003-851ee3f0780f name="Trait 2"
time=2026-01-09T16:13:19.543-03:00 level=INFO msg="trait created" trait_id=5c6d3ed7-44ac-46c4-8703-937017781e9d name="Trait 3"
=== RUN   TestTraitHandler_List/list_traits
=== RUN   TestTraitHandler_List/missing_tenant_id
--- PASS: TestTraitHandler_List (0.14s)
    --- PASS: TestTraitHandler_List/list_traits (0.00s)
    --- PASS: TestTraitHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTraitHandler_Update
time=2026-01-09T16:13:19.674-03:00 level=INFO msg="tenant created" tenant_id=b27135d8-a10c-4419-9b53-874b70636228 name="Test Tenant"
time=2026-01-09T16:13:19.676-03:00 level=INFO msg="trait created" trait_id=e874b3f2-ca92-4459-b53c-3f03a053fbc2 name="Original Trait"
=== RUN   TestTraitHandler_Update/update_trait_name
time=2026-01-09T16:13:19.676-03:00 level=INFO msg="trait updated" trait_id=e874b3f2-ca92-4459-b53c-3f03a053fbc2 name="Updated Trait"
=== RUN   TestTraitHandler_Update/non-existing_trait
--- PASS: TestTraitHandler_Update (0.13s)
    --- PASS: TestTraitHandler_Update/update_trait_name (0.00s)
    --- PASS: TestTraitHandler_Update/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_Delete
time=2026-01-09T16:13:19.826-03:00 level=INFO msg="tenant created" tenant_id=9f79057d-104e-486c-827b-8000376879ab name="Test Tenant"
time=2026-01-09T16:13:19.827-03:00 level=INFO msg="trait created" trait_id=703fe166-9ef0-490f-9d38-005553c16ae2 name="Trait to Delete"
=== RUN   TestTraitHandler_Delete/delete_existing_trait
time=2026-01-09T16:13:19.828-03:00 level=INFO msg="trait deleted" trait_id=703fe166-9ef0-490f-9d38-005553c16ae2 name="Trait to Delete"
time=2026-01-09T16:13:19.828-03:00 level=ERROR msg="failed to get trait" error="trait not found: 703fe166-9ef0-490f-9d38-005553c16ae2" trait_id=703fe166-9ef0-490f-9d38-005553c16ae2
=== RUN   TestTraitHandler_Delete/delete_non-existing_trait
--- PASS: TestTraitHandler_Delete (0.15s)
    --- PASS: TestTraitHandler_Delete/delete_existing_trait (0.00s)
    --- PASS: TestTraitHandler_Delete/delete_non-existing_trait (0.00s)
=== RUN   TestWorldHandler_Create
time=2026-01-09T16:13:19.976-03:00 level=INFO msg="tenant created" tenant_id=a581f491-9f49-4007-b265-28e2d9ce8c90 name="Test Tenant"
=== RUN   TestWorldHandler_Create/successful_creation
time=2026-01-09T16:13:19.977-03:00 level=INFO msg="world created" world_id=8fc17d03-84d4-4399-abe0-0be3de7a5c8f name="Test World" tenant_id=a581f491-9f49-4007-b265-28e2d9ce8c90
=== RUN   TestWorldHandler_Create/missing_tenant_id
=== RUN   TestWorldHandler_Create/empty_name
--- PASS: TestWorldHandler_Create (0.15s)
    --- PASS: TestWorldHandler_Create/successful_creation (0.00s)
    --- PASS: TestWorldHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestWorldHandler_Create/empty_name (0.00s)
=== RUN   TestWorldHandler_Get
time=2026-01-09T16:13:20.092-03:00 level=INFO msg="tenant created" tenant_id=ebaa7fa8-d8cd-4600-bf7d-ac1546782640 name="Test Tenant"
time=2026-01-09T16:13:20.093-03:00 level=INFO msg="world created" world_id=cbb99ba3-3d28-4768-91c5-5fcc3bf5896f name="Get Test World" tenant_id=ebaa7fa8-d8cd-4600-bf7d-ac1546782640
=== RUN   TestWorldHandler_Get/existing_world
=== RUN   TestWorldHandler_Get/non-existing_world
time=2026-01-09T16:13:20.094-03:00 level=ERROR msg="failed to get world" error="world not found: 00000000-0000-0000-0000-000000000000" world_id=00000000-0000-0000-0000-000000000000
=== RUN   TestWorldHandler_Get/invalid_world_ID
--- PASS: TestWorldHandler_Get (0.12s)
    --- PASS: TestWorldHandler_Get/existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_List
time=2026-01-09T16:13:20.214-03:00 level=INFO msg="tenant created" tenant_id=b7ce5ce7-c1d0-4593-ac95-9a2eb492666e name="Test Tenant"
time=2026-01-09T16:13:20.215-03:00 level=INFO msg="world created" world_id=7dbd837f-625f-4a5c-8836-9924f5801ca3 name="World 1" tenant_id=b7ce5ce7-c1d0-4593-ac95-9a2eb492666e
time=2026-01-09T16:13:20.215-03:00 level=INFO msg="world created" world_id=57a18270-226a-4c5d-8737-f92ce269b7a3 name="World 2" tenant_id=b7ce5ce7-c1d0-4593-ac95-9a2eb492666e
time=2026-01-09T16:13:20.216-03:00 level=INFO msg="world created" world_id=11b3dc9c-deb5-4c20-a1af-4fea75102a19 name="World 3" tenant_id=b7ce5ce7-c1d0-4593-ac95-9a2eb492666e
=== RUN   TestWorldHandler_List/list_worlds
=== RUN   TestWorldHandler_List/missing_tenant_id
--- PASS: TestWorldHandler_List (0.12s)
    --- PASS: TestWorldHandler_List/list_worlds (0.00s)
    --- PASS: TestWorldHandler_List/missing_tenant_id (0.00s)
=== RUN   TestWorldHandler_Update
time=2026-01-09T16:13:20.347-03:00 level=INFO msg="tenant created" tenant_id=e9232756-ba39-488e-ba6d-8f45e45496a6 name="Test Tenant"
time=2026-01-09T16:13:20.348-03:00 level=INFO msg="world created" world_id=a0df8fd9-fb9b-45b2-acb6-aa6e194ebaed name="Original World" tenant_id=e9232756-ba39-488e-ba6d-8f45e45496a6
=== RUN   TestWorldHandler_Update/update_world_name
time=2026-01-09T16:13:20.349-03:00 level=INFO msg="world updated" world_id=a0df8fd9-fb9b-45b2-acb6-aa6e194ebaed name="Updated World"
=== RUN   TestWorldHandler_Update/non-existing_world
--- PASS: TestWorldHandler_Update (0.13s)
    --- PASS: TestWorldHandler_Update/update_world_name (0.00s)
    --- PASS: TestWorldHandler_Update/non-existing_world (0.00s)
=== RUN   TestWorldHandler_Delete
time=2026-01-09T16:13:20.477-03:00 level=INFO msg="tenant created" tenant_id=9fa4911e-1574-4547-9533-e8835513d4ff name="Test Tenant"
time=2026-01-09T16:13:20.478-03:00 level=INFO msg="world created" world_id=7e0279d8-66c5-4014-81e9-1153ee470cd7 name="World to Delete" tenant_id=9fa4911e-1574-4547-9533-e8835513d4ff
=== RUN   TestWorldHandler_Delete/delete_existing_world
time=2026-01-09T16:13:20.480-03:00 level=INFO msg="world deleted" world_id=7e0279d8-66c5-4014-81e9-1153ee470cd7 name="World to Delete"
time=2026-01-09T16:13:20.481-03:00 level=ERROR msg="failed to get world" error="world not found: 7e0279d8-66c5-4014-81e9-1153ee470cd7" world_id=7e0279d8-66c5-4014-81e9-1153ee470cd7
=== RUN   TestWorldHandler_Delete/delete_non-existing_world
--- PASS: TestWorldHandler_Delete (0.13s)
    --- PASS: TestWorldHandler_Delete/delete_existing_world (0.00s)
    --- PASS: TestWorldHandler_Delete/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/http/handlers	15.767s
?   	github.com/story-engine/main-service/internal/transport/http/middleware	[no test files]
?   	github.com/story-engine/main-service/proto/archetype	[no test files]
?   	github.com/story-engine/main-service/proto/artifact	[no test files]
?   	github.com/story-engine/main-service/proto/artifact_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/beat	[no test files]
?   	github.com/story-engine/main-service/proto/chapter	[no test files]
?   	github.com/story-engine/main-service/proto/character	[no test files]
?   	github.com/story-engine/main-service/proto/character_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/character_skill	[no test files]
?   	github.com/story-engine/main-service/proto/common	[no test files]
?   	github.com/story-engine/main-service/proto/content_block	[no test files]
?   	github.com/story-engine/main-service/proto/entity_relation	[no test files]
?   	github.com/story-engine/main-service/proto/event	[no test files]
?   	github.com/story-engine/main-service/proto/faction	[no test files]
?   	github.com/story-engine/main-service/proto/inventory	[no test files]
?   	github.com/story-engine/main-service/proto/location	[no test files]
?   	github.com/story-engine/main-service/proto/lore	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_class	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_system	[no test files]
?   	github.com/story-engine/main-service/proto/scene	[no test files]
?   	github.com/story-engine/main-service/proto/skill	[no test files]
?   	github.com/story-engine/main-service/proto/story	[no test files]
?   	github.com/story-engine/main-service/proto/tenant	[no test files]
?   	github.com/story-engine/main-service/proto/trait	[no test files]
?   	github.com/story-engine/main-service/proto/world	[no test files]
