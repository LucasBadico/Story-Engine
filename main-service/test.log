Checking if PostgreSQL is running locally...
PostgreSQL is ready!
Creating database if it doesn't exist...
Database 'storyengine' already exists
Running integration tests with database cloning...
go test -v -tags=integration ./... 2>&1 | tee /tmp/gotest-integration.log
?   	github.com/story-engine/main-service/cmd/api-grpc	[no test files]
?   	github.com/story-engine/main-service/cmd/api-http	[no test files]
?   	github.com/story-engine/main-service/cmd/api-offline	[no test files]
=== RUN   TestMembershipRepository_Create
=== RUN   TestMembershipRepository_Create/successful_creation
=== RUN   TestMembershipRepository_Create/duplicate_tenant-user_constraint
--- PASS: TestMembershipRepository_Create (1.33s)
    --- PASS: TestMembershipRepository_Create/successful_creation (0.02s)
    --- PASS: TestMembershipRepository_Create/duplicate_tenant-user_constraint (0.01s)
=== RUN   TestMembershipRepository_GetByID
=== RUN   TestMembershipRepository_GetByID/existing_membership
=== RUN   TestMembershipRepository_GetByID/non-existing_membership
--- PASS: TestMembershipRepository_GetByID (1.30s)
    --- PASS: TestMembershipRepository_GetByID/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByID/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_GetByTenantAndUser
=== RUN   TestMembershipRepository_GetByTenantAndUser/existing_membership
=== RUN   TestMembershipRepository_GetByTenantAndUser/non-existing_membership
--- PASS: TestMembershipRepository_GetByTenantAndUser (0.38s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_ListByTenant
--- PASS: TestMembershipRepository_ListByTenant (0.53s)
=== RUN   TestMembershipRepository_ListByUser
--- PASS: TestMembershipRepository_ListByUser (0.65s)
=== RUN   TestMembershipRepository_Update
--- PASS: TestMembershipRepository_Update (0.48s)
=== RUN   TestMembershipRepository_Delete
--- PASS: TestMembershipRepository_Delete (0.64s)
=== RUN   TestMembershipRepository_CountOwnersByTenant
--- PASS: TestMembershipRepository_CountOwnersByTenant (0.48s)
=== RUN   TestUserRepository_Create
=== RUN   TestUserRepository_Create/successful_creation
=== RUN   TestUserRepository_Create/duplicate_email_constraint
--- PASS: TestUserRepository_Create (0.52s)
    --- PASS: TestUserRepository_Create/successful_creation (0.00s)
    --- PASS: TestUserRepository_Create/duplicate_email_constraint (0.00s)
=== RUN   TestUserRepository_GetByID
=== RUN   TestUserRepository_GetByID/existing_user
=== RUN   TestUserRepository_GetByID/non-existing_user
--- PASS: TestUserRepository_GetByID (0.40s)
    --- PASS: TestUserRepository_GetByID/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByID/non-existing_user (0.00s)
=== RUN   TestUserRepository_GetByEmail
=== RUN   TestUserRepository_GetByEmail/existing_user
=== RUN   TestUserRepository_GetByEmail/non-existing_email
--- PASS: TestUserRepository_GetByEmail (0.37s)
    --- PASS: TestUserRepository_GetByEmail/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByEmail/non-existing_email (0.00s)
=== RUN   TestUserRepository_Update
--- PASS: TestUserRepository_Update (0.41s)
=== RUN   TestUserRepository_Delete
--- PASS: TestUserRepository_Delete (0.41s)
=== RUN   TestUserRepository_List
=== RUN   TestUserRepository_List/list_with_limit
=== RUN   TestUserRepository_List/list_with_offset
=== RUN   TestUserRepository_List/list_all
--- PASS: TestUserRepository_List (0.39s)
    --- PASS: TestUserRepository_List/list_with_limit (0.00s)
    --- PASS: TestUserRepository_List/list_with_offset (0.00s)
    --- PASS: TestUserRepository_List/list_all (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/postgres	(cached)
=== RUN   TestArchetypeRepository_Create
=== RUN   TestArchetypeRepository_Create/successful_creation
=== RUN   TestArchetypeRepository_Create/creation_with_description
--- PASS: TestArchetypeRepository_Create (0.02s)
    --- PASS: TestArchetypeRepository_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeRepository_Create/creation_with_description (0.00s)
=== RUN   TestArchetypeRepository_GetByID
=== RUN   TestArchetypeRepository_GetByID/existing_archetype
=== RUN   TestArchetypeRepository_GetByID/non-existent_archetype
--- PASS: TestArchetypeRepository_GetByID (0.01s)
    --- PASS: TestArchetypeRepository_GetByID/existing_archetype (0.00s)
    --- PASS: TestArchetypeRepository_GetByID/non-existent_archetype (0.00s)
=== RUN   TestArchetypeRepository_ListByTenant
=== RUN   TestArchetypeRepository_ListByTenant/empty_list
=== RUN   TestArchetypeRepository_ListByTenant/list_with_archetypes
=== RUN   TestArchetypeRepository_ListByTenant/pagination
=== RUN   TestArchetypeRepository_ListByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_ListByTenant (0.01s)
    --- PASS: TestArchetypeRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/list_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeRepository_Update
=== RUN   TestArchetypeRepository_Update/successful_update
--- PASS: TestArchetypeRepository_Update (0.01s)
    --- PASS: TestArchetypeRepository_Update/successful_update (0.00s)
=== RUN   TestArchetypeRepository_Delete
=== RUN   TestArchetypeRepository_Delete/successful_delete
--- PASS: TestArchetypeRepository_Delete (0.01s)
    --- PASS: TestArchetypeRepository_Delete/successful_delete (0.00s)
=== RUN   TestArchetypeRepository_CountByTenant
=== RUN   TestArchetypeRepository_CountByTenant/empty_count
=== RUN   TestArchetypeRepository_CountByTenant/count_with_archetypes
=== RUN   TestArchetypeRepository_CountByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_CountByTenant (0.01s)
    --- PASS: TestArchetypeRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/count_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeTraitRepository_Create
=== RUN   TestArchetypeTraitRepository_Create/successful_creation
--- PASS: TestArchetypeTraitRepository_Create (0.01s)
    --- PASS: TestArchetypeTraitRepository_Create/successful_creation (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByArchetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/empty_list
--- PASS: TestArchetypeTraitRepository_GetByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype (0.00s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/empty_list (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByTrait
=== RUN   TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait
--- PASS: TestArchetypeTraitRepository_GetByTrait (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait (0.00s)
=== RUN   TestArchetypeTraitRepository_Delete
=== RUN   TestArchetypeTraitRepository_Delete/delete_specific_relationship
--- PASS: TestArchetypeTraitRepository_Delete (0.01s)
    --- PASS: TestArchetypeTraitRepository_Delete/delete_specific_relationship (0.00s)
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype
--- PASS: TestArchetypeTraitRepository_DeleteByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype (0.00s)
=== RUN   TestArtifactRepository_Create
=== RUN   TestArtifactRepository_Create/successful_creation
=== RUN   TestArtifactRepository_Create/successful_creation_with_description
=== RUN   TestArtifactRepository_Create/successful_creation_with_rarity
--- PASS: TestArtifactRepository_Create (0.01s)
    --- PASS: TestArtifactRepository_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_rarity (0.00s)
=== RUN   TestArtifactRepository_GetByID
=== RUN   TestArtifactRepository_GetByID/existing_artifact
=== RUN   TestArtifactRepository_GetByID/non-existent_artifact
--- PASS: TestArtifactRepository_GetByID (0.01s)
    --- PASS: TestArtifactRepository_GetByID/existing_artifact (0.00s)
    --- PASS: TestArtifactRepository_GetByID/non-existent_artifact (0.00s)
=== RUN   TestArtifactRepository_ListByWorld
=== RUN   TestArtifactRepository_ListByWorld/empty_list
=== RUN   TestArtifactRepository_ListByWorld/list_with_artifacts
=== RUN   TestArtifactRepository_ListByWorld/pagination
--- PASS: TestArtifactRepository_ListByWorld (0.10s)
    --- PASS: TestArtifactRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestArtifactRepository_ListByWorld/list_with_artifacts (0.03s)
    --- PASS: TestArtifactRepository_ListByWorld/pagination (0.06s)
=== RUN   TestArtifactRepository_Update
=== RUN   TestArtifactRepository_Update/successful_update
--- PASS: TestArtifactRepository_Update (0.01s)
    --- PASS: TestArtifactRepository_Update/successful_update (0.00s)
=== RUN   TestArtifactRepository_Delete
=== RUN   TestArtifactRepository_Delete/successful_delete
--- PASS: TestArtifactRepository_Delete (0.01s)
    --- PASS: TestArtifactRepository_Delete/successful_delete (0.00s)
=== RUN   TestArtifactRepository_CountByWorld
=== RUN   TestArtifactRepository_CountByWorld/empty_count
=== RUN   TestArtifactRepository_CountByWorld/count_with_artifacts
--- PASS: TestArtifactRepository_CountByWorld (0.01s)
    --- PASS: TestArtifactRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestArtifactRepository_CountByWorld/count_with_artifacts (0.00s)
=== RUN   TestBeatRepository_Create
=== RUN   TestBeatRepository_Create/successful_creation
=== RUN   TestBeatRepository_Create/creation_with_intent_and_outcome
--- PASS: TestBeatRepository_Create (0.01s)
    --- PASS: TestBeatRepository_Create/successful_creation (0.00s)
    --- PASS: TestBeatRepository_Create/creation_with_intent_and_outcome (0.00s)
=== RUN   TestBeatRepository_GetByID
=== RUN   TestBeatRepository_GetByID/existing_beat
=== RUN   TestBeatRepository_GetByID/non-existent_beat
--- PASS: TestBeatRepository_GetByID (0.01s)
    --- PASS: TestBeatRepository_GetByID/existing_beat (0.00s)
    --- PASS: TestBeatRepository_GetByID/non-existent_beat (0.00s)
=== RUN   TestBeatRepository_ListByScene
=== RUN   TestBeatRepository_ListByScene/list_with_beats
=== RUN   TestBeatRepository_ListByScene/empty_list
--- PASS: TestBeatRepository_ListByScene (0.01s)
    --- PASS: TestBeatRepository_ListByScene/list_with_beats (0.00s)
    --- PASS: TestBeatRepository_ListByScene/empty_list (0.00s)
=== RUN   TestBeatRepository_ListBySceneOrdered
=== RUN   TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num
--- PASS: TestBeatRepository_ListBySceneOrdered (0.01s)
    --- PASS: TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestBeatRepository_ListByStory
=== RUN   TestBeatRepository_ListByStory/list_by_story
--- PASS: TestBeatRepository_ListByStory (0.01s)
    --- PASS: TestBeatRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestBeatRepository_Update
=== RUN   TestBeatRepository_Update/successful_update
--- PASS: TestBeatRepository_Update (0.01s)
    --- PASS: TestBeatRepository_Update/successful_update (0.00s)
=== RUN   TestBeatRepository_Delete
=== RUN   TestBeatRepository_Delete/successful_delete
--- PASS: TestBeatRepository_Delete (0.01s)
    --- PASS: TestBeatRepository_Delete/successful_delete (0.00s)
=== RUN   TestBeatRepository_DeleteByScene
=== RUN   TestBeatRepository_DeleteByScene/delete_all_beats_for_scene
--- PASS: TestBeatRepository_DeleteByScene (0.01s)
    --- PASS: TestBeatRepository_DeleteByScene/delete_all_beats_for_scene (0.00s)
=== RUN   TestChapterRepository_Create
=== RUN   TestChapterRepository_Create/successful_creation
=== RUN   TestChapterRepository_Create/creation_without_title
--- PASS: TestChapterRepository_Create (0.01s)
    --- PASS: TestChapterRepository_Create/successful_creation (0.00s)
    --- PASS: TestChapterRepository_Create/creation_without_title (0.00s)
=== RUN   TestChapterRepository_GetByID
=== RUN   TestChapterRepository_GetByID/existing_chapter
=== RUN   TestChapterRepository_GetByID/non-existent_chapter
--- PASS: TestChapterRepository_GetByID (0.01s)
    --- PASS: TestChapterRepository_GetByID/existing_chapter (0.00s)
    --- PASS: TestChapterRepository_GetByID/non-existent_chapter (0.00s)
=== RUN   TestChapterRepository_ListByStory
=== RUN   TestChapterRepository_ListByStory/empty_list
=== RUN   TestChapterRepository_ListByStory/list_with_chapters
--- PASS: TestChapterRepository_ListByStory (0.01s)
    --- PASS: TestChapterRepository_ListByStory/empty_list (0.00s)
    --- PASS: TestChapterRepository_ListByStory/list_with_chapters (0.00s)
=== RUN   TestChapterRepository_ListByStoryOrdered
=== RUN   TestChapterRepository_ListByStoryOrdered/list_ordered_by_number
--- PASS: TestChapterRepository_ListByStoryOrdered (0.01s)
    --- PASS: TestChapterRepository_ListByStoryOrdered/list_ordered_by_number (0.00s)
=== RUN   TestChapterRepository_Update
=== RUN   TestChapterRepository_Update/successful_update
--- PASS: TestChapterRepository_Update (0.01s)
    --- PASS: TestChapterRepository_Update/successful_update (0.00s)
=== RUN   TestChapterRepository_Delete
=== RUN   TestChapterRepository_Delete/successful_delete
--- PASS: TestChapterRepository_Delete (0.01s)
    --- PASS: TestChapterRepository_Delete/successful_delete (0.00s)
=== RUN   TestChapterRepository_DeleteByStory
=== RUN   TestChapterRepository_DeleteByStory/delete_all_chapters_for_story
--- PASS: TestChapterRepository_DeleteByStory (0.01s)
    --- PASS: TestChapterRepository_DeleteByStory/delete_all_chapters_for_story (0.00s)
=== RUN   TestCharacterRepository_Create
=== RUN   TestCharacterRepository_Create/successful_creation
=== RUN   TestCharacterRepository_Create/successful_creation_with_archetype
=== RUN   TestCharacterRepository_Create/successful_creation_with_class
=== RUN   TestCharacterRepository_Create/successful_creation_with_description
--- PASS: TestCharacterRepository_Create (0.01s)
    --- PASS: TestCharacterRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_archetype (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_class (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_description (0.00s)
=== RUN   TestCharacterRepository_GetByID
=== RUN   TestCharacterRepository_GetByID/existing_character
=== RUN   TestCharacterRepository_GetByID/non-existent_character
--- PASS: TestCharacterRepository_GetByID (0.01s)
    --- PASS: TestCharacterRepository_GetByID/existing_character (0.00s)
    --- PASS: TestCharacterRepository_GetByID/non-existent_character (0.00s)
=== RUN   TestCharacterRepository_ListByWorld
=== RUN   TestCharacterRepository_ListByWorld/empty_list
=== RUN   TestCharacterRepository_ListByWorld/list_with_characters
=== RUN   TestCharacterRepository_ListByWorld/pagination
--- PASS: TestCharacterRepository_ListByWorld (0.10s)
    --- PASS: TestCharacterRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestCharacterRepository_ListByWorld/list_with_characters (0.03s)
    --- PASS: TestCharacterRepository_ListByWorld/pagination (0.06s)
=== RUN   TestCharacterRepository_Update
=== RUN   TestCharacterRepository_Update/successful_update
=== RUN   TestCharacterRepository_Update/update_archetype
=== RUN   TestCharacterRepository_Update/update_class
--- PASS: TestCharacterRepository_Update (0.02s)
    --- PASS: TestCharacterRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterRepository_Update/update_archetype (0.00s)
    --- PASS: TestCharacterRepository_Update/update_class (0.00s)
=== RUN   TestCharacterRepository_Delete
=== RUN   TestCharacterRepository_Delete/successful_delete
--- PASS: TestCharacterRepository_Delete (0.02s)
    --- PASS: TestCharacterRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterRepository_CountByWorld
=== RUN   TestCharacterRepository_CountByWorld/empty_count
=== RUN   TestCharacterRepository_CountByWorld/count_with_characters
--- PASS: TestCharacterRepository_CountByWorld (0.03s)
    --- PASS: TestCharacterRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestCharacterRepository_CountByWorld/count_with_characters (0.00s)
=== RUN   TestCharacterTraitRepository_Create
=== RUN   TestCharacterTraitRepository_Create/successful_creation
=== RUN   TestCharacterTraitRepository_Create/successful_creation_with_notes
=== RUN   TestCharacterTraitRepository_Create/trait_snapshot_copied
--- PASS: TestCharacterTraitRepository_Create (0.01s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation_with_notes (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/trait_snapshot_copied (0.00s)
=== RUN   TestCharacterTraitRepository_GetByID
=== RUN   TestCharacterTraitRepository_GetByID/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByID/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByID (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByID/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByID/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_GetByCharacter
=== RUN   TestCharacterTraitRepository_GetByCharacter/empty_list
=== RUN   TestCharacterTraitRepository_GetByCharacter/list_with_character-traits
--- PASS: TestCharacterTraitRepository_GetByCharacter (0.03s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/empty_list (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/list_with_character-traits (0.02s)
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_Update
=== RUN   TestCharacterTraitRepository_Update/successful_update
=== RUN   TestCharacterTraitRepository_Update/update_trait_snapshot
--- PASS: TestCharacterTraitRepository_Update (0.01s)
    --- PASS: TestCharacterTraitRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterTraitRepository_Update/update_trait_snapshot (0.00s)
=== RUN   TestCharacterTraitRepository_Delete
=== RUN   TestCharacterTraitRepository_Delete/successful_delete
--- PASS: TestCharacterTraitRepository_Delete (0.01s)
    --- PASS: TestCharacterTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterTraitRepository_DeleteByCharacter
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits
--- PASS: TestCharacterTraitRepository_DeleteByCharacter (0.01s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character (0.00s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits (0.00s)
=== RUN   TestContentAnchorRepository_Create
=== RUN   TestContentAnchorRepository_Create/create_with_character
=== RUN   TestContentAnchorRepository_Create/create_with_location
=== RUN   TestContentAnchorRepository_Create/create_with_artifact
--- PASS: TestContentAnchorRepository_Create (0.01s)
    --- PASS: TestContentAnchorRepository_Create/create_with_character (0.00s)
    --- PASS: TestContentAnchorRepository_Create/create_with_location (0.00s)
    --- PASS: TestContentAnchorRepository_Create/create_with_artifact (0.00s)
=== RUN   TestContentAnchorRepository_GetByID
=== RUN   TestContentAnchorRepository_GetByID/existing_content_anchor
=== RUN   TestContentAnchorRepository_GetByID/non-existent_content_anchor
--- PASS: TestContentAnchorRepository_GetByID (0.01s)
    --- PASS: TestContentAnchorRepository_GetByID/existing_content_anchor (0.00s)
    --- PASS: TestContentAnchorRepository_GetByID/non-existent_content_anchor (0.00s)
=== RUN   TestContentAnchorRepository_ListByContentBlock
=== RUN   TestContentAnchorRepository_ListByContentBlock/list_by_content_block
--- PASS: TestContentAnchorRepository_ListByContentBlock (0.01s)
    --- PASS: TestContentAnchorRepository_ListByContentBlock/list_by_content_block (0.00s)
=== RUN   TestContentAnchorRepository_ListByEntity
=== RUN   TestContentAnchorRepository_ListByEntity/list_by_entity
--- PASS: TestContentAnchorRepository_ListByEntity (0.01s)
    --- PASS: TestContentAnchorRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestContentAnchorRepository_Delete
=== RUN   TestContentAnchorRepository_Delete/delete_by_id
=== RUN   TestContentAnchorRepository_Delete/delete_by_content_block
--- PASS: TestContentAnchorRepository_Delete (0.01s)
    --- PASS: TestContentAnchorRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestContentAnchorRepository_Delete/delete_by_content_block (0.00s)
=== RUN   TestContentBlockRepository_Create
=== RUN   TestContentBlockRepository_Create/successful_creation
=== RUN   TestContentBlockRepository_Create/creation_without_chapter
--- PASS: TestContentBlockRepository_Create (0.01s)
    --- PASS: TestContentBlockRepository_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockRepository_Create/creation_without_chapter (0.00s)
=== RUN   TestContentBlockRepository_GetByID
=== RUN   TestContentBlockRepository_GetByID/existing_content_block
=== RUN   TestContentBlockRepository_GetByID/non-existent_content_block
--- PASS: TestContentBlockRepository_GetByID (0.01s)
    --- PASS: TestContentBlockRepository_GetByID/existing_content_block (0.00s)
    --- PASS: TestContentBlockRepository_GetByID/non-existent_content_block (0.00s)
=== RUN   TestContentBlockRepository_ListByChapter
=== RUN   TestContentBlockRepository_ListByChapter/list_with_content_blocks
=== RUN   TestContentBlockRepository_ListByChapter/empty_list
--- PASS: TestContentBlockRepository_ListByChapter (0.01s)
    --- PASS: TestContentBlockRepository_ListByChapter/list_with_content_blocks (0.00s)
    --- PASS: TestContentBlockRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestContentBlockRepository_GetByChapterAndKind
=== RUN   TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind
--- PASS: TestContentBlockRepository_GetByChapterAndKind (0.01s)
    --- PASS: TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind (0.00s)
=== RUN   TestContentBlockRepository_Update
=== RUN   TestContentBlockRepository_Update/successful_update
--- PASS: TestContentBlockRepository_Update (0.01s)
    --- PASS: TestContentBlockRepository_Update/successful_update (0.00s)
=== RUN   TestContentBlockRepository_Delete
=== RUN   TestContentBlockRepository_Delete/successful_delete
--- PASS: TestContentBlockRepository_Delete (0.01s)
    --- PASS: TestContentBlockRepository_Delete/successful_delete (0.00s)
=== RUN   TestContentBlockRepository_DeleteByChapter
=== RUN   TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter
--- PASS: TestContentBlockRepository_DeleteByChapter (0.01s)
    --- PASS: TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter (0.00s)
=== RUN   TestEntityRelationRepository_Create
=== RUN   TestEntityRelationRepository_Create/successful_creation
=== RUN   TestEntityRelationRepository_Create/create_with_attributes
--- PASS: TestEntityRelationRepository_Create (0.01s)
    --- PASS: TestEntityRelationRepository_Create/successful_creation (0.00s)
    --- PASS: TestEntityRelationRepository_Create/create_with_attributes (0.00s)
=== RUN   TestEntityRelationRepository_GetByID
=== RUN   TestEntityRelationRepository_GetByID/existing_relation
=== RUN   TestEntityRelationRepository_GetByID/non-existing_relation
--- PASS: TestEntityRelationRepository_GetByID (0.01s)
    --- PASS: TestEntityRelationRepository_GetByID/existing_relation (0.00s)
    --- PASS: TestEntityRelationRepository_GetByID/non-existing_relation (0.00s)
=== RUN   TestEntityRelationRepository_ListBySource
=== RUN   TestEntityRelationRepository_ListBySource/list_by_source
=== RUN   TestEntityRelationRepository_ListBySource/list_by_source_with_filter
--- PASS: TestEntityRelationRepository_ListBySource (0.01s)
    --- PASS: TestEntityRelationRepository_ListBySource/list_by_source (0.00s)
    --- PASS: TestEntityRelationRepository_ListBySource/list_by_source_with_filter (0.00s)
=== RUN   TestEntityRelationRepository_ListByTarget
=== RUN   TestEntityRelationRepository_ListByTarget/list_by_target
--- PASS: TestEntityRelationRepository_ListByTarget (0.01s)
    --- PASS: TestEntityRelationRepository_ListByTarget/list_by_target (0.00s)
=== RUN   TestEntityRelationRepository_Update
=== RUN   TestEntityRelationRepository_Update/update_relation_type
--- PASS: TestEntityRelationRepository_Update (0.01s)
    --- PASS: TestEntityRelationRepository_Update/update_relation_type (0.00s)
=== RUN   TestEntityRelationRepository_Delete
=== RUN   TestEntityRelationRepository_Delete/delete_existing_relation
=== RUN   TestEntityRelationRepository_Delete/delete_non-existing_relation
--- PASS: TestEntityRelationRepository_Delete (0.01s)
    --- PASS: TestEntityRelationRepository_Delete/delete_existing_relation (0.00s)
    --- PASS: TestEntityRelationRepository_Delete/delete_non-existing_relation (0.00s)
=== RUN   TestEntityRelationRepository_CreateWithMirror
=== RUN   TestEntityRelationRepository_CreateWithMirror/create_with_mirror
--- PASS: TestEntityRelationRepository_CreateWithMirror (0.01s)
    --- PASS: TestEntityRelationRepository_CreateWithMirror/create_with_mirror (0.00s)
=== RUN   TestEventRepository_Create
=== RUN   TestEventRepository_Create/successful_creation
=== RUN   TestEventRepository_Create/successful_creation_with_type
=== RUN   TestEventRepository_Create/successful_creation_with_description
=== RUN   TestEventRepository_Create/successful_creation_with_timeline
=== RUN   TestEventRepository_Create/successful_creation_with_importance
--- PASS: TestEventRepository_Create (0.01s)
    --- PASS: TestEventRepository_Create/successful_creation (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_type (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_timeline (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_importance (0.00s)
=== RUN   TestEventRepository_GetByID
=== RUN   TestEventRepository_GetByID/existing_event
=== RUN   TestEventRepository_GetByID/non-existent_event
--- PASS: TestEventRepository_GetByID (0.01s)
    --- PASS: TestEventRepository_GetByID/existing_event (0.00s)
    --- PASS: TestEventRepository_GetByID/non-existent_event (0.00s)
=== RUN   TestEventRepository_ListByWorld
=== RUN   TestEventRepository_ListByWorld/empty_list
=== RUN   TestEventRepository_ListByWorld/list_with_events
--- PASS: TestEventRepository_ListByWorld (0.04s)
    --- PASS: TestEventRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestEventRepository_ListByWorld/list_with_events (0.03s)
=== RUN   TestEventRepository_Update
=== RUN   TestEventRepository_Update/successful_update
=== RUN   TestEventRepository_Update/update_nullable_fields_to_nil
--- PASS: TestEventRepository_Update (0.01s)
    --- PASS: TestEventRepository_Update/successful_update (0.00s)
    --- PASS: TestEventRepository_Update/update_nullable_fields_to_nil (0.00s)
=== RUN   TestEventRepository_Delete
=== RUN   TestEventRepository_Delete/successful_delete
--- PASS: TestEventRepository_Delete (0.01s)
    --- PASS: TestEventRepository_Delete/successful_delete (0.00s)
=== RUN   TestFactionRepository_Create
=== RUN   TestFactionRepository_Create/successful_creation_root_faction
=== RUN   TestFactionRepository_Create/successful_creation_with_parent
=== RUN   TestFactionRepository_Create/creation_with_type_and_fields
--- PASS: TestFactionRepository_Create (0.01s)
    --- PASS: TestFactionRepository_Create/successful_creation_root_faction (0.00s)
    --- PASS: TestFactionRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestFactionRepository_Create/creation_with_type_and_fields (0.00s)
=== RUN   TestFactionRepository_GetByID
=== RUN   TestFactionRepository_GetByID/existing_faction
=== RUN   TestFactionRepository_GetByID/non-existent_faction
--- PASS: TestFactionRepository_GetByID (0.01s)
    --- PASS: TestFactionRepository_GetByID/existing_faction (0.00s)
    --- PASS: TestFactionRepository_GetByID/non-existent_faction (0.00s)
=== RUN   TestFactionRepository_ListByWorld
=== RUN   TestFactionRepository_ListByWorld/empty_list
=== RUN   TestFactionRepository_ListByWorld/list_with_factions
--- PASS: TestFactionRepository_ListByWorld (0.04s)
    --- PASS: TestFactionRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestFactionRepository_ListByWorld/list_with_factions (0.03s)
=== RUN   TestFactionRepository_GetChildren
=== RUN   TestFactionRepository_GetChildren/get_direct_children
=== RUN   TestFactionRepository_GetChildren/no_children
--- PASS: TestFactionRepository_GetChildren (0.01s)
    --- PASS: TestFactionRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestFactionRepository_GetChildren/no_children (0.00s)
=== RUN   TestFactionRepository_Update
=== RUN   TestFactionRepository_Update/successful_update
=== RUN   TestFactionRepository_Update/update_parent
--- PASS: TestFactionRepository_Update (0.01s)
    --- PASS: TestFactionRepository_Update/successful_update (0.00s)
    --- PASS: TestFactionRepository_Update/update_parent (0.00s)
=== RUN   TestFactionRepository_Delete
=== RUN   TestFactionRepository_Delete/successful_delete
--- PASS: TestFactionRepository_Delete (0.01s)
    --- PASS: TestFactionRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_Create
=== RUN   TestLocationRepository_Create/successful_creation_root_location
=== RUN   TestLocationRepository_Create/successful_creation_with_parent
=== RUN   TestLocationRepository_Create/creation_with_type_and_description
--- PASS: TestLocationRepository_Create (0.01s)
    --- PASS: TestLocationRepository_Create/successful_creation_root_location (0.00s)
    --- PASS: TestLocationRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLocationRepository_Create/creation_with_type_and_description (0.00s)
=== RUN   TestLocationRepository_GetByID
=== RUN   TestLocationRepository_GetByID/existing_location
=== RUN   TestLocationRepository_GetByID/non-existent_location
--- PASS: TestLocationRepository_GetByID (0.01s)
    --- PASS: TestLocationRepository_GetByID/existing_location (0.00s)
    --- PASS: TestLocationRepository_GetByID/non-existent_location (0.00s)
=== RUN   TestLocationRepository_ListByWorld
=== RUN   TestLocationRepository_ListByWorld/empty_list
=== RUN   TestLocationRepository_ListByWorld/list_with_locations
=== RUN   TestLocationRepository_ListByWorld/pagination
--- PASS: TestLocationRepository_ListByWorld (0.10s)
    --- PASS: TestLocationRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLocationRepository_ListByWorld/list_with_locations (0.03s)
    --- PASS: TestLocationRepository_ListByWorld/pagination (0.05s)
=== RUN   TestLocationRepository_ListByWorldTree
=== RUN   TestLocationRepository_ListByWorldTree/tree_structure
--- PASS: TestLocationRepository_ListByWorldTree (0.02s)
    --- PASS: TestLocationRepository_ListByWorldTree/tree_structure (0.00s)
=== RUN   TestLocationRepository_GetChildren
=== RUN   TestLocationRepository_GetChildren/get_direct_children
=== RUN   TestLocationRepository_GetChildren/no_children
--- PASS: TestLocationRepository_GetChildren (0.01s)
    --- PASS: TestLocationRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLocationRepository_GetChildren/no_children (0.00s)
=== RUN   TestLocationRepository_GetAncestors
=== RUN   TestLocationRepository_GetAncestors/get_ancestors
=== RUN   TestLocationRepository_GetAncestors/root_has_no_ancestors
--- PASS: TestLocationRepository_GetAncestors (0.01s)
    --- PASS: TestLocationRepository_GetAncestors/get_ancestors (0.00s)
    --- PASS: TestLocationRepository_GetAncestors/root_has_no_ancestors (0.00s)
=== RUN   TestLocationRepository_GetDescendants
=== RUN   TestLocationRepository_GetDescendants/get_descendants
=== RUN   TestLocationRepository_GetDescendants/no_descendants
--- PASS: TestLocationRepository_GetDescendants (0.01s)
    --- PASS: TestLocationRepository_GetDescendants/get_descendants (0.00s)
    --- PASS: TestLocationRepository_GetDescendants/no_descendants (0.00s)
=== RUN   TestLocationRepository_Update
=== RUN   TestLocationRepository_Update/successful_update
=== RUN   TestLocationRepository_Update/update_parent
--- PASS: TestLocationRepository_Update (0.01s)
    --- PASS: TestLocationRepository_Update/successful_update (0.00s)
    --- PASS: TestLocationRepository_Update/update_parent (0.00s)
=== RUN   TestLocationRepository_Delete
=== RUN   TestLocationRepository_Delete/successful_delete
--- PASS: TestLocationRepository_Delete (0.01s)
    --- PASS: TestLocationRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_CountByWorld
=== RUN   TestLocationRepository_CountByWorld/empty_count
=== RUN   TestLocationRepository_CountByWorld/count_with_locations
--- PASS: TestLocationRepository_CountByWorld (0.01s)
    --- PASS: TestLocationRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestLocationRepository_CountByWorld/count_with_locations (0.00s)
=== RUN   TestLoreRepository_Create
=== RUN   TestLoreRepository_Create/successful_creation_root_lore
=== RUN   TestLoreRepository_Create/successful_creation_with_parent
=== RUN   TestLoreRepository_Create/creation_with_category_and_fields
--- PASS: TestLoreRepository_Create (0.01s)
    --- PASS: TestLoreRepository_Create/successful_creation_root_lore (0.00s)
    --- PASS: TestLoreRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLoreRepository_Create/creation_with_category_and_fields (0.00s)
=== RUN   TestLoreRepository_GetByID
=== RUN   TestLoreRepository_GetByID/existing_lore
=== RUN   TestLoreRepository_GetByID/non-existent_lore
--- PASS: TestLoreRepository_GetByID (0.01s)
    --- PASS: TestLoreRepository_GetByID/existing_lore (0.00s)
    --- PASS: TestLoreRepository_GetByID/non-existent_lore (0.00s)
=== RUN   TestLoreRepository_ListByWorld
=== RUN   TestLoreRepository_ListByWorld/empty_list
=== RUN   TestLoreRepository_ListByWorld/list_with_lores
--- PASS: TestLoreRepository_ListByWorld (0.04s)
    --- PASS: TestLoreRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLoreRepository_ListByWorld/list_with_lores (0.03s)
=== RUN   TestLoreRepository_GetChildren
=== RUN   TestLoreRepository_GetChildren/get_direct_children
=== RUN   TestLoreRepository_GetChildren/no_children
--- PASS: TestLoreRepository_GetChildren (0.01s)
    --- PASS: TestLoreRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLoreRepository_GetChildren/no_children (0.00s)
=== RUN   TestLoreRepository_Update
=== RUN   TestLoreRepository_Update/successful_update
=== RUN   TestLoreRepository_Update/update_parent
--- PASS: TestLoreRepository_Update (0.01s)
    --- PASS: TestLoreRepository_Update/successful_update (0.00s)
    --- PASS: TestLoreRepository_Update/update_parent (0.00s)
=== RUN   TestLoreRepository_Delete
=== RUN   TestLoreRepository_Delete/successful_delete
--- PASS: TestLoreRepository_Delete (0.01s)
    --- PASS: TestLoreRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneRepository_Create
=== RUN   TestSceneRepository_Create/successful_creation
=== RUN   TestSceneRepository_Create/creation_with_chapter
--- PASS: TestSceneRepository_Create (0.01s)
    --- PASS: TestSceneRepository_Create/successful_creation (0.00s)
    --- PASS: TestSceneRepository_Create/creation_with_chapter (0.00s)
=== RUN   TestSceneRepository_GetByID
=== RUN   TestSceneRepository_GetByID/existing_scene
=== RUN   TestSceneRepository_GetByID/non-existent_scene
--- PASS: TestSceneRepository_GetByID (0.01s)
    --- PASS: TestSceneRepository_GetByID/existing_scene (0.00s)
    --- PASS: TestSceneRepository_GetByID/non-existent_scene (0.00s)
=== RUN   TestSceneRepository_ListByChapter
=== RUN   TestSceneRepository_ListByChapter/list_with_scenes
=== RUN   TestSceneRepository_ListByChapter/empty_list
--- PASS: TestSceneRepository_ListByChapter (0.01s)
    --- PASS: TestSceneRepository_ListByChapter/list_with_scenes (0.00s)
    --- PASS: TestSceneRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestSceneRepository_ListByChapterOrdered
=== RUN   TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num
--- PASS: TestSceneRepository_ListByChapterOrdered (0.01s)
    --- PASS: TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestSceneRepository_ListByStory
=== RUN   TestSceneRepository_ListByStory/list_by_story
--- PASS: TestSceneRepository_ListByStory (0.01s)
    --- PASS: TestSceneRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestSceneRepository_Update
=== RUN   TestSceneRepository_Update/successful_update
--- PASS: TestSceneRepository_Update (0.01s)
    --- PASS: TestSceneRepository_Update/successful_update (0.00s)
=== RUN   TestSceneRepository_Delete
=== RUN   TestSceneRepository_Delete/successful_delete
--- PASS: TestSceneRepository_Delete (0.01s)
    --- PASS: TestSceneRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneRepository_DeleteByChapter
=== RUN   TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter
--- PASS: TestSceneRepository_DeleteByChapter (0.01s)
    --- PASS: TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter (0.00s)
=== RUN   TestSceneRepository_DeleteByStory
=== RUN   TestSceneRepository_DeleteByStory/delete_all_scenes_for_story
--- PASS: TestSceneRepository_DeleteByStory (0.01s)
    --- PASS: TestSceneRepository_DeleteByStory/delete_all_scenes_for_story (0.00s)
=== RUN   TestStoryRepository_Create
=== RUN   TestStoryRepository_Create/successful_creation_root_story
=== RUN   TestStoryRepository_Create/creation_with_world_and_user
--- PASS: TestStoryRepository_Create (0.01s)
    --- PASS: TestStoryRepository_Create/successful_creation_root_story (0.00s)
    --- PASS: TestStoryRepository_Create/creation_with_world_and_user (0.00s)
=== RUN   TestStoryRepository_GetByID
=== RUN   TestStoryRepository_GetByID/existing_story
=== RUN   TestStoryRepository_GetByID/non-existent_story
--- PASS: TestStoryRepository_GetByID (0.01s)
    --- PASS: TestStoryRepository_GetByID/existing_story (0.00s)
    --- PASS: TestStoryRepository_GetByID/non-existent_story (0.00s)
=== RUN   TestStoryRepository_ListByTenant
=== RUN   TestStoryRepository_ListByTenant/empty_list
=== RUN   TestStoryRepository_ListByTenant/list_with_stories
=== RUN   TestStoryRepository_ListByTenant/pagination
--- PASS: TestStoryRepository_ListByTenant (0.01s)
    --- PASS: TestStoryRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/list_with_stories (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/pagination (0.00s)
=== RUN   TestStoryRepository_ListVersionsByRoot
=== RUN   TestStoryRepository_ListVersionsByRoot/list_versions
=== RUN   TestStoryRepository_ListVersionsByRoot/single_version
--- PASS: TestStoryRepository_ListVersionsByRoot (0.01s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/list_versions (0.00s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/single_version (0.00s)
=== RUN   TestStoryRepository_GetVersionGraph
=== RUN   TestStoryRepository_GetVersionGraph/get_version_graph
--- PASS: TestStoryRepository_GetVersionGraph (0.01s)
    --- PASS: TestStoryRepository_GetVersionGraph/get_version_graph (0.00s)
=== RUN   TestStoryRepository_Update
=== RUN   TestStoryRepository_Update/successful_update
--- PASS: TestStoryRepository_Update (0.01s)
    --- PASS: TestStoryRepository_Update/successful_update (0.00s)
=== RUN   TestStoryRepository_Delete
=== RUN   TestStoryRepository_Delete/successful_delete
--- PASS: TestStoryRepository_Delete (0.01s)
    --- PASS: TestStoryRepository_Delete/successful_delete (0.00s)
=== RUN   TestStoryRepository_CountByTenant
=== RUN   TestStoryRepository_CountByTenant/empty_count
=== RUN   TestStoryRepository_CountByTenant/count_with_stories
--- PASS: TestStoryRepository_CountByTenant (0.01s)
    --- PASS: TestStoryRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestStoryRepository_CountByTenant/count_with_stories (0.00s)
=== RUN   TestTenantRepository_Create
=== RUN   TestTenantRepository_Create/successful_creation
=== RUN   TestTenantRepository_Create/duplicate_name_constraint
--- PASS: TestTenantRepository_Create (0.01s)
    --- PASS: TestTenantRepository_Create/successful_creation (0.00s)
    --- PASS: TestTenantRepository_Create/duplicate_name_constraint (0.00s)
=== RUN   TestTenantRepository_GetByID
=== RUN   TestTenantRepository_GetByID/existing_tenant
=== RUN   TestTenantRepository_GetByID/non-existent_tenant
--- PASS: TestTenantRepository_GetByID (0.01s)
    --- PASS: TestTenantRepository_GetByID/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByID/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_GetByName
=== RUN   TestTenantRepository_GetByName/existing_tenant
=== RUN   TestTenantRepository_GetByName/non-existent_tenant
--- PASS: TestTenantRepository_GetByName (0.01s)
    --- PASS: TestTenantRepository_GetByName/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByName/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_Update
=== RUN   TestTenantRepository_Update/successful_update
--- PASS: TestTenantRepository_Update (0.01s)
    --- PASS: TestTenantRepository_Update/successful_update (0.00s)
=== RUN   TestTenantRepository_Delete
=== RUN   TestTenantRepository_Delete/successful_delete
--- PASS: TestTenantRepository_Delete (0.01s)
    --- PASS: TestTenantRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_Create
=== RUN   TestTraitRepository_Create/successful_creation
=== RUN   TestTraitRepository_Create/creation_with_category_and_description
--- PASS: TestTraitRepository_Create (0.01s)
    --- PASS: TestTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestTraitRepository_Create/creation_with_category_and_description (0.00s)
=== RUN   TestTraitRepository_GetByID
=== RUN   TestTraitRepository_GetByID/existing_trait
=== RUN   TestTraitRepository_GetByID/non-existent_trait
--- PASS: TestTraitRepository_GetByID (0.01s)
    --- PASS: TestTraitRepository_GetByID/existing_trait (0.00s)
    --- PASS: TestTraitRepository_GetByID/non-existent_trait (0.00s)
=== RUN   TestTraitRepository_ListByTenant
=== RUN   TestTraitRepository_ListByTenant/empty_list
=== RUN   TestTraitRepository_ListByTenant/list_with_traits
=== RUN   TestTraitRepository_ListByTenant/pagination
=== RUN   TestTraitRepository_ListByTenant/tenant_isolation
--- PASS: TestTraitRepository_ListByTenant (0.01s)
    --- PASS: TestTraitRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/list_with_traits (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestTraitRepository_Update
=== RUN   TestTraitRepository_Update/successful_update
--- PASS: TestTraitRepository_Update (0.01s)
    --- PASS: TestTraitRepository_Update/successful_update (0.00s)
=== RUN   TestTraitRepository_Delete
=== RUN   TestTraitRepository_Delete/successful_delete
--- PASS: TestTraitRepository_Delete (0.01s)
    --- PASS: TestTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_CountByTenant
=== RUN   TestTraitRepository_CountByTenant/empty_count
=== RUN   TestTraitRepository_CountByTenant/count_with_traits
=== RUN   TestTraitRepository_CountByTenant/tenant_isolation
--- PASS: TestTraitRepository_CountByTenant (0.01s)
    --- PASS: TestTraitRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/count_with_traits (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Create
=== RUN   TestWorldRepository_Create/successful_creation
=== RUN   TestWorldRepository_Create/successful_creation_with_RPG_system
=== RUN   TestWorldRepository_Create/successful_creation_with_implicit_flag
--- PASS: TestWorldRepository_Create (0.01s)
    --- PASS: TestWorldRepository_Create/successful_creation (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_RPG_system (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_implicit_flag (0.00s)
=== RUN   TestWorldRepository_GetByID
=== RUN   TestWorldRepository_GetByID/existing_world
=== RUN   TestWorldRepository_GetByID/non-existent_world
=== RUN   TestWorldRepository_GetByID/wrong_tenant
--- PASS: TestWorldRepository_GetByID (0.01s)
    --- PASS: TestWorldRepository_GetByID/existing_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/non-existent_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/wrong_tenant (0.00s)
=== RUN   TestWorldRepository_ListByTenant
=== RUN   TestWorldRepository_ListByTenant/empty_list
=== RUN   TestWorldRepository_ListByTenant/list_with_worlds
=== RUN   TestWorldRepository_ListByTenant/pagination
=== RUN   TestWorldRepository_ListByTenant/tenant_isolation
--- PASS: TestWorldRepository_ListByTenant (0.10s)
    --- PASS: TestWorldRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestWorldRepository_ListByTenant/list_with_worlds (0.03s)
    --- PASS: TestWorldRepository_ListByTenant/pagination (0.06s)
    --- PASS: TestWorldRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Update
=== RUN   TestWorldRepository_Update/successful_update
=== RUN   TestWorldRepository_Update/update_RPG_system
--- PASS: TestWorldRepository_Update (0.02s)
    --- PASS: TestWorldRepository_Update/successful_update (0.00s)
    --- PASS: TestWorldRepository_Update/update_RPG_system (0.00s)
=== RUN   TestWorldRepository_Delete
=== RUN   TestWorldRepository_Delete/successful_delete
=== RUN   TestWorldRepository_Delete/delete_non-existent_world
--- PASS: TestWorldRepository_Delete (0.01s)
    --- PASS: TestWorldRepository_Delete/successful_delete (0.00s)
    --- PASS: TestWorldRepository_Delete/delete_non-existent_world (0.00s)
=== RUN   TestWorldRepository_CountByTenant
=== RUN   TestWorldRepository_CountByTenant/empty_count
=== RUN   TestWorldRepository_CountByTenant/count_with_worlds
=== RUN   TestWorldRepository_CountByTenant/tenant_isolation
--- PASS: TestWorldRepository_CountByTenant (0.01s)
    --- PASS: TestWorldRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/count_with_worlds (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/tenant_isolation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/sqlite	(cached)
?   	github.com/story-engine/main-service/internal/adapters/redis	[no test files]
?   	github.com/story-engine/main-service/internal/application/relation	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/artifact_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_inventory	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_skill	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_item	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_slot	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_class	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_system	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/skill	[no test files]
=== RUN   TestCloneStoryUseCase_Execute
time=2026-01-09T20:36:48.646-03:00 level=INFO msg="tenant created" tenant_id=6259afe2-ae4a-42c2-af8a-dc913e2f963a name="Test Tenant"
time=2026-01-09T20:36:48.648-03:00 level=INFO msg="world created" world_id=6fe3914b-ad34-4125-84b7-96fb9a79d8fe name="World of Test Story" tenant_id=6259afe2-ae4a-42c2-af8a-dc913e2f963a
time=2026-01-09T20:36:48.648-03:00 level=INFO msg="created implicit world for story" world_id=6fe3914b-ad34-4125-84b7-96fb9a79d8fe story_title="Test Story"
time=2026-01-09T20:36:48.650-03:00 level=INFO msg="story created" story_id=46a2074a-ffb2-447c-9bec-082fb17d8679 title="Test Story" tenant_id=6259afe2-ae4a-42c2-af8a-dc913e2f963a
=== RUN   TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters)
time=2026-01-09T20:36:48.652-03:00 level=INFO msg="story cloned" source_story_id=46a2074a-ffb2-447c-9bec-082fb17d8679 new_story_id=c1a70396-a202-446a-b15c-11a66bc65ce5 version_number=2
=== RUN   TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy
time=2026-01-09T20:36:48.669-03:00 level=INFO msg="story cloned" source_story_id=38b6d790-ba5c-404b-9b7a-cd7430e2d398 new_story_id=0673988b-d17a-4925-a262-ce392b10518e version_number=2
--- PASS: TestCloneStoryUseCase_Execute (1.36s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters) (0.00s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy (0.02s)
=== RUN   TestCreateStoryUseCase_Execute
time=2026-01-09T20:36:48.998-03:00 level=INFO msg="tenant created" tenant_id=c0bb04ed-06b8-43aa-95ab-6a37203796b8 name="Test Tenant"
=== RUN   TestCreateStoryUseCase_Execute/successful_creation
time=2026-01-09T20:36:48.999-03:00 level=INFO msg="world created" world_id=b7e85ce1-e654-4f21-a6e1-ec1aea339a2e name="World of Test Story" tenant_id=c0bb04ed-06b8-43aa-95ab-6a37203796b8
time=2026-01-09T20:36:48.999-03:00 level=INFO msg="created implicit world for story" world_id=b7e85ce1-e654-4f21-a6e1-ec1aea339a2e story_title="Test Story"
time=2026-01-09T20:36:49.001-03:00 level=INFO msg="story created" story_id=f3f9e9ab-c942-4611-abc5-07f06215d650 title="Test Story" tenant_id=c0bb04ed-06b8-43aa-95ab-6a37203796b8
=== RUN   TestCreateStoryUseCase_Execute/multi-tenant_isolation
time=2026-01-09T20:36:49.002-03:00 level=INFO msg="tenant created" tenant_id=5adc974b-99a9-4902-8607-0cf21c72448e name="Test Tenant 2"
time=2026-01-09T20:36:49.004-03:00 level=INFO msg="world created" world_id=f1bd062a-caab-4ebd-a8f6-ecf83d294800 name="World of Test Story 2" tenant_id=5adc974b-99a9-4902-8607-0cf21c72448e
time=2026-01-09T20:36:49.004-03:00 level=INFO msg="created implicit world for story" world_id=f1bd062a-caab-4ebd-a8f6-ecf83d294800 story_title="Test Story 2"
time=2026-01-09T20:36:49.005-03:00 level=INFO msg="story created" story_id=2c4dc17c-283c-4658-954d-7b54a03545ba title="Test Story 2" tenant_id=5adc974b-99a9-4902-8607-0cf21c72448e
=== RUN   TestCreateStoryUseCase_Execute/invalid_tenant
=== RUN   TestCreateStoryUseCase_Execute/empty_title_validation
--- PASS: TestCreateStoryUseCase_Execute (0.31s)
    --- PASS: TestCreateStoryUseCase_Execute/successful_creation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/multi-tenant_isolation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/invalid_tenant (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/empty_title_validation (0.00s)
=== RUN   TestCreateStoryUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateStoryUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateStoryUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateStoryUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story	(cached)
=== RUN   TestCreateBeatUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateBeatUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateBeatUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateBeatUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/beat	(cached)
=== RUN   TestCreateChapterUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateChapterUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateChapterUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateChapterUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/chapter	(cached)
=== RUN   TestCreateContentBlockUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateContentBlockUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateContentBlockUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateContentBlockUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/content_block	(cached)
=== RUN   TestCreateSceneUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateSceneUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateSceneUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateSceneUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/scene	(cached)
=== RUN   TestCreateTenantUseCase_Execute
=== RUN   TestCreateTenantUseCase_Execute/successful_creation
time=2026-01-09T15:55:06.256-03:00 level=INFO msg="tenant created" tenant_id=4c8dd5d0-4c2c-4964-9a17-f53d8ad30fb3 name="Test Tenant"
=== RUN   TestCreateTenantUseCase_Execute/duplicate_name_validation
=== RUN   TestCreateTenantUseCase_Execute/empty_name_validation
--- PASS: TestCreateTenantUseCase_Execute (0.41s)
    --- PASS: TestCreateTenantUseCase_Execute/successful_creation (0.01s)
    --- PASS: TestCreateTenantUseCase_Execute/duplicate_name_validation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/empty_name_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/tenant	(cached)
?   	github.com/story-engine/main-service/internal/application/world	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/archetype	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/artifact	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/faction	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/location	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/lore	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/trait	[no test files]
?   	github.com/story-engine/main-service/internal/core/audit	[no test files]
?   	github.com/story-engine/main-service/internal/core/auth	[no test files]
?   	github.com/story-engine/main-service/internal/core/relation	[no test files]
?   	github.com/story-engine/main-service/internal/core/rpg	[no test files]
?   	github.com/story-engine/main-service/internal/core/story	[no test files]
?   	github.com/story-engine/main-service/internal/core/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/core/versioning	[no test files]
?   	github.com/story-engine/main-service/internal/core/world	[no test files]
?   	github.com/story-engine/main-service/internal/platform/config	[no test files]
?   	github.com/story-engine/main-service/internal/platform/database	[no test files]
?   	github.com/story-engine/main-service/internal/platform/errors	[no test files]
?   	github.com/story-engine/main-service/internal/platform/logger	[no test files]
?   	github.com/story-engine/main-service/internal/platform/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/ports/queue	[no test files]
?   	github.com/story-engine/main-service/internal/ports/repositories	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/grpcctx	[no test files]
=== RUN   TestArchetypeHandler_CreateArchetype
time=2026-01-09T20:36:49.330-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:49.330-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T20:36:49.330-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_CreateArchetype/successful_creation
time=2026-01-09T20:36:49.331-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:49.335-03:00 level=INFO msg="tenant created" tenant_id=14c1a081-3b3f-4dbc-84b6-95c551407ec6 name="Test Tenant for Archetype"
time=2026-01-09T20:36:49.335-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T20:36:49.335-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:49.338-03:00 level=INFO msg="archetype created" archetype_id=c3c6ca31-d251-4c5d-a45e-2a675c20a1be name=Warrior
time=2026-01-09T20:36:49.338-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=2
=== RUN   TestArchetypeHandler_CreateArchetype/empty_name
time=2026-01-09T20:36:49.338-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:49.339-03:00 level=INFO msg="tenant created" tenant_id=b4c8a8f8-3705-489d-8a45-ff9ef031a59c name="Test Tenant 2"
time=2026-01-09T20:36:49.339-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T20:36:49.340-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:49.340-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T20:36:49.340-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_CreateArchetype (0.51s)
    --- PASS: TestArchetypeHandler_CreateArchetype/successful_creation (0.01s)
    --- PASS: TestArchetypeHandler_CreateArchetype/empty_name (0.00s)
=== RUN   TestArchetypeHandler_GetArchetype
time=2026-01-09T20:36:49.770-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:49.770-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T20:36:49.770-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetype/existing_archetype
time=2026-01-09T20:36:49.771-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:49.777-03:00 level=INFO msg="tenant created" tenant_id=bab49801-c32f-467f-b42c-dcebda6490d8 name="Get Test Tenant"
time=2026-01-09T20:36:49.777-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-09T20:36:49.778-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:49.780-03:00 level=INFO msg="archetype created" archetype_id=71fe7400-25f4-4c85-9c58-049b21c622e1 name="Get Test Archetype"
time=2026-01-09T20:36:49.780-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=2
time=2026-01-09T20:36:49.780-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-09T20:36:49.780-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetype/non-existing_archetype
time=2026-01-09T20:36:49.780-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:49.782-03:00 level=INFO msg="tenant created" tenant_id=6fdeb50a-21f8-4ac5-885c-665cf8faa159 name="Non-existing Test Tenant"
time=2026-01-09T20:36:49.782-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:49.783-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-09T20:36:49.783-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 62ec97f2-f449-43d3-9f8a-e253821ff7f0" archetype_id=62ec97f2-f449-43d3-9f8a-e253821ff7f0
time=2026-01-09T20:36:49.783-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: 62ec97f2-f449-43d3-9f8a-e253821ff7f0"
time=2026-01-09T20:36:49.783-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetype (0.42s)
    --- PASS: TestArchetypeHandler_GetArchetype/existing_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetype/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_ListArchetypes
time=2026-01-09T20:36:50.262-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:50.262-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T20:36:50.262-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_ListArchetypes/list_archetypes
time=2026-01-09T20:36:50.264-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:50.267-03:00 level=INFO msg="tenant created" tenant_id=b937574b-bd7e-4495-b2fe-7121d0129e7a name="List Test Tenant"
time=2026-01-09T20:36:50.267-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:50.267-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:50.271-03:00 level=INFO msg="archetype created" archetype_id=bcac9678-1a1b-4373-88a0-870811114a0d name="Archetype 1"
time=2026-01-09T20:36:50.271-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=4
time=2026-01-09T20:36:50.272-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:50.272-03:00 level=INFO msg="archetype created" archetype_id=595a0431-cbe4-4ca7-8096-decefc5f5bb4 name="Archetype 2"
time=2026-01-09T20:36:50.273-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-09T20:36:50.273-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/ListArchetypes
time=2026-01-09T20:36:50.274-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/ListArchetypes duration_ms=1
time=2026-01-09T20:36:50.274-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_ListArchetypes (0.45s)
    --- PASS: TestArchetypeHandler_ListArchetypes/list_archetypes (0.01s)
=== RUN   TestArchetypeHandler_UpdateArchetype
time=2026-01-09T20:36:50.625-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:50.625-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T20:36:50.625-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_UpdateArchetype/update_archetype
time=2026-01-09T20:36:50.626-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:50.632-03:00 level=INFO msg="tenant created" tenant_id=1ec7a48b-1de5-4bee-834f-519297949c65 name="Update Test Tenant"
time=2026-01-09T20:36:50.632-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-09T20:36:50.632-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:50.634-03:00 level=INFO msg="archetype created" archetype_id=4c323454-a4cb-4c8d-8249-2dd4795ee525 name="Original Archetype"
time=2026-01-09T20:36:50.634-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T20:36:50.634-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/UpdateArchetype
time=2026-01-09T20:36:50.636-03:00 level=INFO msg="archetype updated" archetype_id=4c323454-a4cb-4c8d-8249-2dd4795ee525 name="Updated Archetype"
time=2026-01-09T20:36:50.636-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/UpdateArchetype duration_ms=1
time=2026-01-09T20:36:50.636-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_UpdateArchetype (0.43s)
    --- PASS: TestArchetypeHandler_UpdateArchetype/update_archetype (0.01s)
=== RUN   TestArchetypeHandler_DeleteArchetype
time=2026-01-09T20:36:51.274-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:51.274-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T20:36:51.274-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_DeleteArchetype/delete_archetype
time=2026-01-09T20:36:51.275-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:51.277-03:00 level=INFO msg="tenant created" tenant_id=fb6b688f-daeb-43f4-a76b-ed835435b863 name="Delete Test Tenant"
time=2026-01-09T20:36:51.277-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:51.277-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:51.278-03:00 level=INFO msg="archetype created" archetype_id=85857d9d-a059-4f4d-a3e4-d924a39ddcfa name="Archetype to Delete"
time=2026-01-09T20:36:51.278-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T20:36:51.278-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/DeleteArchetype
time=2026-01-09T20:36:51.280-03:00 level=INFO msg="archetype deleted" archetype_id=85857d9d-a059-4f4d-a3e4-d924a39ddcfa name="Archetype to Delete"
time=2026-01-09T20:36:51.280-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/DeleteArchetype duration_ms=1
time=2026-01-09T20:36:51.280-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-09T20:36:51.280-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 85857d9d-a059-4f4d-a3e4-d924a39ddcfa" archetype_id=85857d9d-a059-4f4d-a3e4-d924a39ddcfa
time=2026-01-09T20:36:51.280-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: 85857d9d-a059-4f4d-a3e4-d924a39ddcfa"
time=2026-01-09T20:36:51.280-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_DeleteArchetype (0.54s)
    --- PASS: TestArchetypeHandler_DeleteArchetype/delete_archetype (0.01s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-09T20:36:51.631-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:51.631-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T20:36:51.631-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-09T20:36:51.634-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:51.637-03:00 level=INFO msg="tenant created" tenant_id=8ba5cc5c-a9e9-4111-99e6-f8a11b2207eb name="Add Trait Test Tenant"
time=2026-01-09T20:36:51.637-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T20:36:51.637-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:51.639-03:00 level=INFO msg="archetype created" archetype_id=6a0eeba5-f0f4-4b85-a8e1-494767bb4bc7 name=Warrior
time=2026-01-09T20:36:51.639-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=2
time=2026-01-09T20:36:51.640-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:36:51.645-03:00 level=INFO msg="trait created" trait_id=d63f6983-cc29-46da-9818-4837e8291f43 name=Brave
time=2026-01-09T20:36:51.645-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=5
time=2026-01-09T20:36:51.645-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-09T20:36:51.647-03:00 level=INFO msg="trait added to archetype" archetype_id=6a0eeba5-f0f4-4b85-a8e1-494767bb4bc7 trait_id=d63f6983-cc29-46da-9818-4837e8291f43
time=2026-01-09T20:36:51.647-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-09T20:36:51.647-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_AddTrait (0.40s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.02s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-09T20:36:52.008-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:52.008-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T20:36:52.008-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-09T20:36:52.008-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:52.011-03:00 level=INFO msg="tenant created" tenant_id=4e2eb85d-a099-4956-9488-1ad8d689d629 name="Remove Trait Test Tenant"
time=2026-01-09T20:36:52.011-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:52.011-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:52.013-03:00 level=INFO msg="archetype created" archetype_id=8e3423f7-651e-4728-b9bb-3e9e8a31f6cf name=Warrior
time=2026-01-09T20:36:52.013-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T20:36:52.013-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:36:52.014-03:00 level=INFO msg="trait created" trait_id=6af4ed81-90f0-4243-b273-a8b16ce600d2 name=Brave
time=2026-01-09T20:36:52.014-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T20:36:52.014-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-09T20:36:52.016-03:00 level=INFO msg="trait added to archetype" archetype_id=8e3423f7-651e-4728-b9bb-3e9e8a31f6cf trait_id=6af4ed81-90f0-4243-b273-a8b16ce600d2
time=2026-01-09T20:36:52.016-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-09T20:36:52.016-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/RemoveTraitFromArchetype
time=2026-01-09T20:36:52.017-03:00 level=INFO msg="trait removed from archetype" archetype_id=8e3423f7-651e-4728-b9bb-3e9e8a31f6cf trait_id=6af4ed81-90f0-4243-b273-a8b16ce600d2
time=2026-01-09T20:36:52.017-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/RemoveTraitFromArchetype duration_ms=0
time=2026-01-09T20:36:52.018-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_RemoveTrait (0.45s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.01s)
=== RUN   TestArchetypeHandler_GetArchetypeTraits
time=2026-01-09T20:36:52.380-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:52.380-03:00 level=INFO msg="TraitService registered"
time=2026-01-09T20:36:52.380-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype
time=2026-01-09T20:36:52.381-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:52.383-03:00 level=INFO msg="tenant created" tenant_id=8a38393a-fe92-4588-b693-90d32ce48ed8 name="Get Traits Test Tenant"
time=2026-01-09T20:36:52.383-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:52.383-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:52.384-03:00 level=INFO msg="archetype created" archetype_id=7a8907d1-ac09-409f-8d34-0dfc68682b61 name=Warrior
time=2026-01-09T20:36:52.384-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-09T20:36:52.385-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:36:52.386-03:00 level=INFO msg="trait created" trait_id=63f261da-3a59-430d-9ac6-82a28fa9ff8b name=Brave
time=2026-01-09T20:36:52.386-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T20:36:52.386-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:36:52.387-03:00 level=INFO msg="trait created" trait_id=4be0b6d1-a7cd-4562-bc14-4d462b3228e4 name=Strong
time=2026-01-09T20:36:52.387-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-09T20:36:52.387-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-09T20:36:52.388-03:00 level=INFO msg="trait added to archetype" archetype_id=7a8907d1-ac09-409f-8d34-0dfc68682b61 trait_id=63f261da-3a59-430d-9ac6-82a28fa9ff8b
time=2026-01-09T20:36:52.388-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-09T20:36:52.388-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-09T20:36:52.389-03:00 level=INFO msg="trait added to archetype" archetype_id=7a8907d1-ac09-409f-8d34-0dfc68682b61 trait_id=4be0b6d1-a7cd-4562-bc14-4d462b3228e4
time=2026-01-09T20:36:52.389-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=0
time=2026-01-09T20:36:52.389-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-09T20:36:52.390-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits
time=2026-01-09T20:36:52.390-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:52.391-03:00 level=INFO msg="tenant created" tenant_id=403639b4-5b5d-4012-bc5b-c4a021527f21 name="Empty Traits Test Tenant"
time=2026-01-09T20:36:52.391-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:36:52.391-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-09T20:36:52.392-03:00 level=INFO msg="archetype created" archetype_id=4aa6ea5d-fa1c-434a-95bc-1ce54ca39c64 name=Mage
time=2026-01-09T20:36:52.392-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-09T20:36:52.392-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-09T20:36:52.392-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id
time=2026-01-09T20:36:52.392-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:52.393-03:00 level=INFO msg="tenant created" tenant_id=71f8b7fc-c612-4c5f-a965-80217287d137 name="Invalid ID Test Tenant"
time=2026-01-09T20:36:52.393-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:36:52.393-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-09T20:36:52.393-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid archetype_id: invalid UUID length: 12"
time=2026-01-09T20:36:52.393-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetypeTraits (0.28s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits (0.00s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id (0.00s)
=== RUN   TestArtifactHandler_CreateArtifact
time=2026-01-09T20:36:52.672-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:52.672-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:52.672-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_CreateArtifact/successful_creation
time=2026-01-09T20:36:52.673-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:52.675-03:00 level=INFO msg="tenant created" tenant_id=d8a600cb-9aca-40f1-875d-a34f910fece0 name="Test Tenant for Artifact"
time=2026-01-09T20:36:52.675-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:52.676-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:52.677-03:00 level=INFO msg="world created" world_id=b1af7d88-9e95-4392-a0fa-2879fcb00b33 name="Test World" tenant_id=d8a600cb-9aca-40f1-875d-a34f910fece0
time=2026-01-09T20:36:52.677-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:52.677-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:36:52.679-03:00 level=INFO msg="artifact created" artifact_id=80163981-5656-404b-86d8-eca4dd83a475 name="Test Artifact"
time=2026-01-09T20:36:52.679-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
=== RUN   TestArtifactHandler_CreateArtifact/empty_name
time=2026-01-09T20:36:52.679-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:52.679-03:00 level=INFO msg="tenant created" tenant_id=dc15ccbd-d226-4736-9a47-40d18fa3f2c4 name="Test Tenant 2"
time=2026-01-09T20:36:52.679-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:36:52.679-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:52.680-03:00 level=INFO msg="world created" world_id=70d95384-c540-423c-8e14-4d9708cfea54 name="Test World 2" tenant_id=dc15ccbd-d226-4736-9a47-40d18fa3f2c4
time=2026-01-09T20:36:52.680-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T20:36:52.680-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:36:52.680-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T20:36:52.680-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_CreateArtifact (0.26s)
    --- PASS: TestArtifactHandler_CreateArtifact/successful_creation (0.01s)
    --- PASS: TestArtifactHandler_CreateArtifact/empty_name (0.00s)
=== RUN   TestArtifactHandler_GetArtifact
time=2026-01-09T20:36:52.963-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:52.963-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:52.963-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_GetArtifact/existing_artifact
time=2026-01-09T20:36:52.964-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:52.966-03:00 level=INFO msg="tenant created" tenant_id=5ef1bb7e-f4ca-4465-9dcb-ecc731cb790f name="Get Test Tenant"
time=2026-01-09T20:36:52.966-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:52.966-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:52.967-03:00 level=INFO msg="world created" world_id=f6d3bee3-3d7b-49d8-960c-0f84e52d30ee name="Get Test World" tenant_id=5ef1bb7e-f4ca-4465-9dcb-ecc731cb790f
time=2026-01-09T20:36:52.967-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T20:36:52.967-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:36:52.968-03:00 level=INFO msg="artifact created" artifact_id=0a38160e-c719-4d38-9718-e2e7549184b2 name="Get Test Artifact"
time=2026-01-09T20:36:52.968-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-09T20:36:52.968-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-09T20:36:52.968-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/GetArtifact duration_ms=0
=== RUN   TestArtifactHandler_GetArtifact/non-existing_artifact
time=2026-01-09T20:36:52.968-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:52.969-03:00 level=INFO msg="tenant created" tenant_id=3cbccace-dd06-4276-bd70-af899dcdf661 name="Non-existing Test Tenant"
time=2026-01-09T20:36:52.969-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:36:52.969-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-09T20:36:52.969-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 7718792d-34e7-4114-b252-75d6bb8c519a" artifact_id=7718792d-34e7-4114-b252-75d6bb8c519a
time=2026-01-09T20:36:52.969-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 7718792d-34e7-4114-b252-75d6bb8c519a"
time=2026-01-09T20:36:52.969-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_GetArtifact (0.37s)
    --- PASS: TestArtifactHandler_GetArtifact/existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_GetArtifact/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_ListArtifacts
time=2026-01-09T20:36:53.347-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:53.347-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:53.347-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_ListArtifacts/list_artifacts
time=2026-01-09T20:36:53.348-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:53.350-03:00 level=INFO msg="tenant created" tenant_id=934d0e3b-43dd-455d-a70d-17a6ae4da423 name="List Test Tenant"
time=2026-01-09T20:36:53.350-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:53.350-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:53.352-03:00 level=INFO msg="world created" world_id=28322bdb-c2e0-4308-bf9d-7d8f1abc1303 name="List Test World" tenant_id=934d0e3b-43dd-455d-a70d-17a6ae4da423
time=2026-01-09T20:36:53.352-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:53.352-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:36:53.353-03:00 level=INFO msg="artifact created" artifact_id=d35af090-2ee3-4891-80af-5fba66d0e432 name="Artifact 1"
time=2026-01-09T20:36:53.353-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T20:36:53.353-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:36:53.354-03:00 level=INFO msg="artifact created" artifact_id=78f64031-9074-4e62-8b22-1cf61bcbe972 name="Artifact 2"
time=2026-01-09T20:36:53.354-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-09T20:36:53.354-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/ListArtifacts
time=2026-01-09T20:36:53.355-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/ListArtifacts duration_ms=0
time=2026-01-09T20:36:53.355-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_ListArtifacts (0.38s)
    --- PASS: TestArtifactHandler_ListArtifacts/list_artifacts (0.01s)
=== RUN   TestArtifactHandler_UpdateArtifact
time=2026-01-09T20:36:53.741-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:53.741-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:53.741-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_UpdateArtifact/update_artifact
time=2026-01-09T20:36:53.741-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:53.744-03:00 level=INFO msg="tenant created" tenant_id=63c7c5fd-b437-4c9b-b0f0-fd29729317d0 name="Update Test Tenant"
time=2026-01-09T20:36:53.744-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:53.744-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:53.746-03:00 level=INFO msg="world created" world_id=45a36794-bdb7-4fd9-9fd2-daf4692f1451 name="Update Test World" tenant_id=63c7c5fd-b437-4c9b-b0f0-fd29729317d0
time=2026-01-09T20:36:53.746-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:53.746-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:36:53.747-03:00 level=INFO msg="artifact created" artifact_id=f38cb008-7d8f-46bd-897c-633f2c26a8e2 name="Original Artifact"
time=2026-01-09T20:36:53.747-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T20:36:53.748-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/UpdateArtifact
time=2026-01-09T20:36:53.749-03:00 level=INFO msg="artifact updated" artifact_id=f38cb008-7d8f-46bd-897c-633f2c26a8e2 name="Updated Artifact"
time=2026-01-09T20:36:53.749-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/UpdateArtifact duration_ms=1
time=2026-01-09T20:36:53.749-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_UpdateArtifact (0.41s)
    --- PASS: TestArtifactHandler_UpdateArtifact/update_artifact (0.01s)
=== RUN   TestArtifactHandler_DeleteArtifact
time=2026-01-09T20:36:54.085-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:54.089-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:54.089-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_DeleteArtifact/delete_artifact
time=2026-01-09T20:36:54.090-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:54.095-03:00 level=INFO msg="tenant created" tenant_id=5bb24f36-9886-4705-9d9f-a18ad381806e name="Delete Test Tenant"
time=2026-01-09T20:36:54.095-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-09T20:36:54.096-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:54.097-03:00 level=INFO msg="world created" world_id=0b107f03-7f8d-40e0-9671-4a9c17a5c009 name="Delete Test World" tenant_id=5bb24f36-9886-4705-9d9f-a18ad381806e
time=2026-01-09T20:36:54.097-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:54.097-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:36:54.099-03:00 level=INFO msg="artifact created" artifact_id=2f881829-8b4b-4610-8cc1-b64fd40b8e88 name="Artifact to Delete"
time=2026-01-09T20:36:54.099-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T20:36:54.099-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/DeleteArtifact
time=2026-01-09T20:36:54.102-03:00 level=INFO msg="artifact deleted" artifact_id=2f881829-8b4b-4610-8cc1-b64fd40b8e88 name="Artifact to Delete"
time=2026-01-09T20:36:54.102-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/DeleteArtifact duration_ms=2
time=2026-01-09T20:36:54.102-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-09T20:36:54.102-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 2f881829-8b4b-4610-8cc1-b64fd40b8e88" artifact_id=2f881829-8b4b-4610-8cc1-b64fd40b8e88
time=2026-01-09T20:36:54.102-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 2f881829-8b4b-4610-8cc1-b64fd40b8e88"
time=2026-01-09T20:36:54.102-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_DeleteArtifact (0.32s)
    --- PASS: TestArtifactHandler_DeleteArtifact/delete_artifact (0.01s)
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats
time=2026-01-09T20:36:54.367-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:54.367-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:54.367-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T20:36:54.367-03:00 level=INFO msg="ArtifactRPGStatsService registered"
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation
time=2026-01-09T20:36:54.367-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:54.371-03:00 level=INFO msg="tenant created" tenant_id=c603828d-f2cc-48bd-afec-591bbda4f34c name="Test Tenant for Artifact Stats"
time=2026-01-09T20:36:54.371-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T20:36:54.371-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:54.373-03:00 level=INFO msg="world created" world_id=e7342ff6-698f-4367-8513-9755bd434531 name="Test World" tenant_id=c603828d-f2cc-48bd-afec-591bbda4f34c
time=2026-01-09T20:36:54.373-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:54.373-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:36:54.375-03:00 level=INFO msg="artifact created" artifact_id=2639504a-14e4-468f-bea3-b276b4e5bd8c name="Test Artifact"
time=2026-01-09T20:36:54.375-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T20:36:54.375-03:00 level=INFO msg="gRPC request started" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats
time=2026-01-09T20:36:54.378-03:00 level=INFO msg="artifact RPG stats created" artifact_id=2639504a-14e4-468f-bea3-b276b4e5bd8c version=1
time=2026-01-09T20:36:54.378-03:00 level=INFO msg="gRPC request completed" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats duration_ms=2
time=2026-01-09T20:36:54.378-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats (0.18s)
    --- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation (0.01s)
=== RUN   TestBeatHandler_CreateBeat
time=2026-01-09T20:36:54.654-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:54.654-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:54.654-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:54.654-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:54.654-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:54.654-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:54.654-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:54.656-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:54.659-03:00 level=INFO msg="tenant created" tenant_id=4eed23ca-2a9a-414d-92ed-5c1125220daa name="Test Tenant for Beat"
time=2026-01-09T20:36:54.659-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:54.659-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:54.660-03:00 level=INFO msg="world created" world_id=8c1feb54-73c8-4953-a6f7-d800e029ea2b name="World of Test Story" tenant_id=4eed23ca-2a9a-414d-92ed-5c1125220daa
time=2026-01-09T20:36:54.660-03:00 level=INFO msg="created implicit world for story" world_id=8c1feb54-73c8-4953-a6f7-d800e029ea2b story_title="Test Story"
time=2026-01-09T20:36:54.661-03:00 level=INFO msg="story created" story_id=ad0873ae-5799-4e46-b8ce-16b1144eb55b title="Test Story" tenant_id=4eed23ca-2a9a-414d-92ed-5c1125220daa
time=2026-01-09T20:36:54.661-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:36:54.662-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:36:54.662-03:00 level=INFO msg="scene created" scene_id=3fa5f681-50a0-4069-8a55-a07a9c45188b story_id=ad0873ae-5799-4e46-b8ce-16b1144eb55b tenant_id=4eed23ca-2a9a-414d-92ed-5c1125220daa
time=2026-01-09T20:36:54.662-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_CreateBeat/successful_creation
time=2026-01-09T20:36:54.663-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:54.664-03:00 level=INFO msg="beat created" beat_id=d3bdca64-e052-4611-9ac8-ac8711a377f0 scene_id=3fa5f681-50a0-4069-8a55-a07a9c45188b tenant_id=4eed23ca-2a9a-414d-92ed-5c1125220daa
time=2026-01-09T20:36:54.664-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/invalid_scene_id
time=2026-01-09T20:36:54.664-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:54.664-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = NotFound desc = scene not found: b0cc4847-6795-4259-a448-c10d7902a33c"
=== RUN   TestBeatHandler_CreateBeat/invalid_type
time=2026-01-09T20:36:54.664-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:54.665-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on beat: invalid beat type"
=== RUN   TestBeatHandler_CreateBeat/missing_type
time=2026-01-09T20:36:54.665-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:54.665-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on type: type is required"
=== RUN   TestBeatHandler_CreateBeat/invalid_order_num
time=2026-01-09T20:36:54.665-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:54.665-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-09T20:36:54.665-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_CreateBeat (0.31s)
    --- PASS: TestBeatHandler_CreateBeat/successful_creation (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_scene_id (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/missing_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_order_num (0.00s)
=== RUN   TestBeatHandler_GetBeat
time=2026-01-09T20:36:54.987-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:54.987-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:54.987-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:54.987-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:54.987-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:54.987-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:54.987-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:54.988-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:54.990-03:00 level=INFO msg="tenant created" tenant_id=e6c3540d-2c98-4b72-be7d-4955cf60db2a name="Test Tenant for Get Beat"
time=2026-01-09T20:36:54.990-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:54.991-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:54.992-03:00 level=INFO msg="world created" world_id=f3183a15-61dd-49c7-bb29-a1b8c33bffc2 name="World of Test Story" tenant_id=e6c3540d-2c98-4b72-be7d-4955cf60db2a
time=2026-01-09T20:36:54.992-03:00 level=INFO msg="created implicit world for story" world_id=f3183a15-61dd-49c7-bb29-a1b8c33bffc2 story_title="Test Story"
time=2026-01-09T20:36:54.994-03:00 level=INFO msg="story created" story_id=96f99523-5f24-4e60-aea0-f7b40ed2a565 title="Test Story" tenant_id=e6c3540d-2c98-4b72-be7d-4955cf60db2a
time=2026-01-09T20:36:54.994-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:36:54.994-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:36:54.996-03:00 level=INFO msg="scene created" scene_id=7e01ff91-5159-4bb2-b4cd-64746801c1fa story_id=96f99523-5f24-4e60-aea0-f7b40ed2a565 tenant_id=e6c3540d-2c98-4b72-be7d-4955cf60db2a
time=2026-01-09T20:36:54.996-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_GetBeat/existing_beat
time=2026-01-09T20:36:54.996-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:54.997-03:00 level=INFO msg="beat created" beat_id=4913855f-f780-4db8-ac11-4de1d1ca41e6 scene_id=7e01ff91-5159-4bb2-b4cd-64746801c1fa tenant_id=e6c3540d-2c98-4b72-be7d-4955cf60db2a
time=2026-01-09T20:36:54.997-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T20:36:54.997-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-09T20:36:54.998-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/GetBeat duration_ms=0
=== RUN   TestBeatHandler_GetBeat/non-existing_beat
time=2026-01-09T20:36:54.998-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-09T20:36:54.998-03:00 level=ERROR msg="failed to get beat" error="beat not found: f32999a5-de8b-4e4b-bdb9-83dd0475430b" beat_id=f32999a5-de8b-4e4b-bdb9-83dd0475430b tenant_id=e6c3540d-2c98-4b72-be7d-4955cf60db2a
time=2026-01-09T20:36:54.998-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/GetBeat duration_ms=0 error="rpc error: code = NotFound desc = beat not found: f32999a5-de8b-4e4b-bdb9-83dd0475430b"
time=2026-01-09T20:36:54.998-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_GetBeat (0.34s)
    --- PASS: TestBeatHandler_GetBeat/existing_beat (0.00s)
    --- PASS: TestBeatHandler_GetBeat/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_UpdateBeat
time=2026-01-09T20:36:55.218-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:55.218-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:55.218-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:55.218-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:55.218-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:55.218-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:55.218-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:55.219-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:55.222-03:00 level=INFO msg="tenant created" tenant_id=ff8003a2-ca85-4e50-92c4-8eb2b113349a name="Test Tenant for Update Beat"
time=2026-01-09T20:36:55.222-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:55.222-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:55.223-03:00 level=INFO msg="world created" world_id=325dd2b1-7ffe-40c3-92b6-9a9eb24cfe80 name="World of Test Story" tenant_id=ff8003a2-ca85-4e50-92c4-8eb2b113349a
time=2026-01-09T20:36:55.223-03:00 level=INFO msg="created implicit world for story" world_id=325dd2b1-7ffe-40c3-92b6-9a9eb24cfe80 story_title="Test Story"
time=2026-01-09T20:36:55.224-03:00 level=INFO msg="story created" story_id=7b053e92-e297-40ed-8b9b-76b4c718e8ba title="Test Story" tenant_id=ff8003a2-ca85-4e50-92c4-8eb2b113349a
time=2026-01-09T20:36:55.224-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:36:55.224-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:36:55.225-03:00 level=INFO msg="scene created" scene_id=d320749b-68c1-41b3-a25d-165e457e67d7 story_id=7b053e92-e297-40ed-8b9b-76b4c718e8ba tenant_id=ff8003a2-ca85-4e50-92c4-8eb2b113349a
time=2026-01-09T20:36:55.225-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_UpdateBeat/successful_update
time=2026-01-09T20:36:55.225-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:55.227-03:00 level=INFO msg="beat created" beat_id=e1ccdf21-d755-40f9-b5ff-4aee1811c876 scene_id=d320749b-68c1-41b3-a25d-165e457e67d7 tenant_id=ff8003a2-ca85-4e50-92c4-8eb2b113349a
time=2026-01-09T20:36:55.227-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-09T20:36:55.227-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/UpdateBeat
time=2026-01-09T20:36:55.228-03:00 level=INFO msg="beat updated" beat_id=e1ccdf21-d755-40f9-b5ff-4aee1811c876 tenant_id=ff8003a2-ca85-4e50-92c4-8eb2b113349a
time=2026-01-09T20:36:55.228-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/UpdateBeat duration_ms=0
time=2026-01-09T20:36:55.228-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_UpdateBeat (0.30s)
    --- PASS: TestBeatHandler_UpdateBeat/successful_update (0.00s)
=== RUN   TestBeatHandler_MoveBeat
time=2026-01-09T20:36:55.545-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:55.545-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:55.545-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:55.545-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:55.545-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:55.545-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:55.545-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:55.546-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:55.548-03:00 level=INFO msg="tenant created" tenant_id=1dd1d631-3aa8-4fed-a157-d4b10ced9a24 name="Test Tenant for Move Beat"
time=2026-01-09T20:36:55.548-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:55.548-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:55.550-03:00 level=INFO msg="world created" world_id=55b65b7a-7c69-48ab-a489-13c635122b28 name="World of Test Story" tenant_id=1dd1d631-3aa8-4fed-a157-d4b10ced9a24
time=2026-01-09T20:36:55.550-03:00 level=INFO msg="created implicit world for story" world_id=55b65b7a-7c69-48ab-a489-13c635122b28 story_title="Test Story"
time=2026-01-09T20:36:55.551-03:00 level=INFO msg="story created" story_id=768aad7e-fcd7-4e88-b6f5-f14dbee97d62 title="Test Story" tenant_id=1dd1d631-3aa8-4fed-a157-d4b10ced9a24
time=2026-01-09T20:36:55.551-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:36:55.551-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:36:55.552-03:00 level=INFO msg="scene created" scene_id=d789dc83-dcbc-4eae-8f43-dc38ddbc63c5 story_id=768aad7e-fcd7-4e88-b6f5-f14dbee97d62 tenant_id=1dd1d631-3aa8-4fed-a157-d4b10ced9a24
time=2026-01-09T20:36:55.552-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T20:36:55.552-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:36:55.553-03:00 level=INFO msg="scene created" scene_id=fc8a27a9-3f7f-4f4b-9470-7af1ac3645b7 story_id=768aad7e-fcd7-4e88-b6f5-f14dbee97d62 tenant_id=1dd1d631-3aa8-4fed-a157-d4b10ced9a24
time=2026-01-09T20:36:55.553-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_MoveBeat/move_to_different_scene
time=2026-01-09T20:36:55.553-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:55.554-03:00 level=INFO msg="beat created" beat_id=f4bf62be-51e6-49f2-8b93-53e818707ed7 scene_id=d789dc83-dcbc-4eae-8f43-dc38ddbc63c5 tenant_id=1dd1d631-3aa8-4fed-a157-d4b10ced9a24
time=2026-01-09T20:36:55.554-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T20:36:55.554-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/MoveBeat
time=2026-01-09T20:36:55.555-03:00 level=INFO msg="beat moved" beat_id=f4bf62be-51e6-49f2-8b93-53e818707ed7 new_scene_id=fc8a27a9-3f7f-4f4b-9470-7af1ac3645b7 tenant_id=1dd1d631-3aa8-4fed-a157-d4b10ced9a24
time=2026-01-09T20:36:55.555-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/MoveBeat duration_ms=0
time=2026-01-09T20:36:55.555-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_MoveBeat (0.26s)
    --- PASS: TestBeatHandler_MoveBeat/move_to_different_scene (0.00s)
=== RUN   TestBeatHandler_ListBeatsByScene
time=2026-01-09T20:36:55.826-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:55.826-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:55.826-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:55.826-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:55.826-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:55.826-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:55.826-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:55.828-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:55.830-03:00 level=INFO msg="tenant created" tenant_id=1e1c7d1b-5ead-41f0-9998-3b1be771c84e name="Test Tenant for List Beats"
time=2026-01-09T20:36:55.830-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:55.831-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:55.832-03:00 level=INFO msg="world created" world_id=c1afbcf9-b99f-427f-aa79-b926a6ea46c7 name="World of Test Story" tenant_id=1e1c7d1b-5ead-41f0-9998-3b1be771c84e
time=2026-01-09T20:36:55.832-03:00 level=INFO msg="created implicit world for story" world_id=c1afbcf9-b99f-427f-aa79-b926a6ea46c7 story_title="Test Story"
time=2026-01-09T20:36:55.834-03:00 level=INFO msg="story created" story_id=452ef874-7c69-418f-8e6e-02d4dd037444 title="Test Story" tenant_id=1e1c7d1b-5ead-41f0-9998-3b1be771c84e
time=2026-01-09T20:36:55.834-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-09T20:36:55.834-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:36:55.835-03:00 level=INFO msg="scene created" scene_id=99d8a58d-3aa3-4078-82b4-04637a18894b story_id=452ef874-7c69-418f-8e6e-02d4dd037444 tenant_id=1e1c7d1b-5ead-41f0-9998-3b1be771c84e
time=2026-01-09T20:36:55.837-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
=== RUN   TestBeatHandler_ListBeatsByScene/list_beats_by_scene
time=2026-01-09T20:36:55.838-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:55.839-03:00 level=INFO msg="beat created" beat_id=bc4343fb-376b-4703-b1fa-cd88a495e4d9 scene_id=99d8a58d-3aa3-4078-82b4-04637a18894b tenant_id=1e1c7d1b-5ead-41f0-9998-3b1be771c84e
time=2026-01-09T20:36:55.839-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T20:36:55.839-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:55.840-03:00 level=INFO msg="beat created" beat_id=e5d6a58b-3078-43fe-95f0-95502fe035b9 scene_id=99d8a58d-3aa3-4078-82b4-04637a18894b tenant_id=1e1c7d1b-5ead-41f0-9998-3b1be771c84e
time=2026-01-09T20:36:55.840-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T20:36:55.840-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:55.840-03:00 level=INFO msg="beat created" beat_id=9c5bc581-aa75-4988-bd95-c32ed43f91e7 scene_id=99d8a58d-3aa3-4078-82b4-04637a18894b tenant_id=1e1c7d1b-5ead-41f0-9998-3b1be771c84e
time=2026-01-09T20:36:55.840-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-09T20:36:55.841-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/ListBeatsByScene
time=2026-01-09T20:36:55.841-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/ListBeatsByScene duration_ms=0
time=2026-01-09T20:36:55.841-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_ListBeatsByScene (0.29s)
    --- PASS: TestBeatHandler_ListBeatsByScene/list_beats_by_scene (0.00s)
=== RUN   TestBeatHandler_DeleteBeat
time=2026-01-09T20:36:56.071-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:56.071-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:56.071-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:56.071-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:56.071-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:56.071-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:56.071-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:56.072-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:56.074-03:00 level=INFO msg="tenant created" tenant_id=3a6b9707-c59b-4b00-aa0c-de3f9ddbe11d name="Test Tenant for Delete Beat"
time=2026-01-09T20:36:56.074-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:56.074-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:56.075-03:00 level=INFO msg="world created" world_id=eafc578d-90a6-4493-8500-93096386e266 name="World of Test Story" tenant_id=3a6b9707-c59b-4b00-aa0c-de3f9ddbe11d
time=2026-01-09T20:36:56.075-03:00 level=INFO msg="created implicit world for story" world_id=eafc578d-90a6-4493-8500-93096386e266 story_title="Test Story"
time=2026-01-09T20:36:56.077-03:00 level=INFO msg="story created" story_id=9879bd7f-f496-4bfe-ab70-8b0df07ef54d title="Test Story" tenant_id=3a6b9707-c59b-4b00-aa0c-de3f9ddbe11d
time=2026-01-09T20:36:56.077-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:36:56.077-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:36:56.078-03:00 level=INFO msg="scene created" scene_id=b1f3d81e-367e-422d-a975-63ce336a7dbf story_id=9879bd7f-f496-4bfe-ab70-8b0df07ef54d tenant_id=3a6b9707-c59b-4b00-aa0c-de3f9ddbe11d
time=2026-01-09T20:36:56.078-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_DeleteBeat/successful_delete
time=2026-01-09T20:36:56.078-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-09T20:36:56.079-03:00 level=INFO msg="beat created" beat_id=9a9bab31-492d-4df4-9dc4-086624eee60e scene_id=b1f3d81e-367e-422d-a975-63ce336a7dbf tenant_id=3a6b9707-c59b-4b00-aa0c-de3f9ddbe11d
time=2026-01-09T20:36:56.079-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-09T20:36:56.079-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/DeleteBeat
time=2026-01-09T20:36:56.080-03:00 level=INFO msg="beat deleted" beat_id=9a9bab31-492d-4df4-9dc4-086624eee60e tenant_id=3a6b9707-c59b-4b00-aa0c-de3f9ddbe11d
time=2026-01-09T20:36:56.080-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/DeleteBeat duration_ms=0
time=2026-01-09T20:36:56.080-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_DeleteBeat (0.24s)
    --- PASS: TestBeatHandler_DeleteBeat/successful_delete (0.00s)
=== RUN   TestChapterHandler_CreateChapter
time=2026-01-09T20:36:56.384-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:56.384-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:56.384-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:56.384-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:56.384-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:56.384-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:56.384-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:56.385-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:56.387-03:00 level=INFO msg="tenant created" tenant_id=91abca8b-40c3-4c71-b9e8-7eda92fead17 name="Test Tenant for Chapter"
time=2026-01-09T20:36:56.387-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:56.387-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:56.388-03:00 level=INFO msg="world created" world_id=f5f95934-106d-4c8d-bb9e-ccaa694e4aaf name="World of Test Story for Chapter" tenant_id=91abca8b-40c3-4c71-b9e8-7eda92fead17
time=2026-01-09T20:36:56.388-03:00 level=INFO msg="created implicit world for story" world_id=f5f95934-106d-4c8d-bb9e-ccaa694e4aaf story_title="Test Story for Chapter"
time=2026-01-09T20:36:56.390-03:00 level=INFO msg="story created" story_id=948d9f76-82a8-476f-a71d-b33c91c15ab8 title="Test Story for Chapter" tenant_id=91abca8b-40c3-4c71-b9e8-7eda92fead17
time=2026-01-09T20:36:56.390-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_CreateChapter/successful_creation
time=2026-01-09T20:36:56.392-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:56.392-03:00 level=INFO msg="chapter created" chapter_id=3c6781f5-888c-4d56-b47b-d03277c8919a story_id=948d9f76-82a8-476f-a71d-b33c91c15ab8 tenant_id=91abca8b-40c3-4c71-b9e8-7eda92fead17
time=2026-01-09T20:36:56.392-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestChapterHandler_CreateChapter/invalid_story_id
time=2026-01-09T20:36:56.393-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:56.393-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = NotFound desc = story not found: 7199955c-e45a-46ca-82ce-0aa7efee102e"
=== RUN   TestChapterHandler_CreateChapter/invalid_number
time=2026-01-09T20:36:56.393-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:56.395-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=2 error="rpc error: code = InvalidArgument desc = validation error on number: must be greater than 0"
=== RUN   TestChapterHandler_CreateChapter/empty_title
time=2026-01-09T20:36:56.396-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:56.396-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on title: title is required"
time=2026-01-09T20:36:56.396-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_CreateChapter (0.31s)
    --- PASS: TestChapterHandler_CreateChapter/successful_creation (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_story_id (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_number (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/empty_title (0.00s)
=== RUN   TestChapterHandler_GetChapter
time=2026-01-09T20:36:56.634-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:56.634-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:56.634-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:56.634-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:56.634-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:56.634-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:56.634-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:56.635-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:56.637-03:00 level=INFO msg="tenant created" tenant_id=780525e4-7054-47a0-847f-cf0a8c76afab name="Test Tenant for Get Chapter"
time=2026-01-09T20:36:56.637-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:56.637-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:56.638-03:00 level=INFO msg="world created" world_id=f8d0f1c1-8bbc-4924-bc42-d2cbbb0a0567 name="World of Test Story" tenant_id=780525e4-7054-47a0-847f-cf0a8c76afab
time=2026-01-09T20:36:56.638-03:00 level=INFO msg="created implicit world for story" world_id=f8d0f1c1-8bbc-4924-bc42-d2cbbb0a0567 story_title="Test Story"
time=2026-01-09T20:36:56.639-03:00 level=INFO msg="story created" story_id=41b6b4c7-cd35-449c-ab40-ec6791897676 title="Test Story" tenant_id=780525e4-7054-47a0-847f-cf0a8c76afab
time=2026-01-09T20:36:56.639-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_GetChapter/existing_chapter
time=2026-01-09T20:36:56.639-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:56.640-03:00 level=INFO msg="chapter created" chapter_id=34a91af8-90a7-478c-8589-ecfbccf4055c story_id=41b6b4c7-cd35-449c-ab40-ec6791897676 tenant_id=780525e4-7054-47a0-847f-cf0a8c76afab
time=2026-01-09T20:36:56.640-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T20:36:56.641-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-09T20:36:56.641-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/GetChapter duration_ms=0
=== RUN   TestChapterHandler_GetChapter/non-existing_chapter
time=2026-01-09T20:36:56.641-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-09T20:36:56.641-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 44accacf-b6d8-4eda-a151-b65d8a03b51e" chapter_id=44accacf-b6d8-4eda-a151-b65d8a03b51e tenant_id=780525e4-7054-47a0-847f-cf0a8c76afab
time=2026-01-09T20:36:56.641-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 44accacf-b6d8-4eda-a151-b65d8a03b51e"
=== RUN   TestChapterHandler_GetChapter/invalid_ID
time=2026-01-09T20:36:56.641-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-09T20:36:56.641-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid id: invalid UUID length: 10"
time=2026-01-09T20:36:56.642-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_GetChapter (0.25s)
    --- PASS: TestChapterHandler_GetChapter/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/non-existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/invalid_ID (0.00s)
=== RUN   TestChapterHandler_UpdateChapter
time=2026-01-09T20:36:56.895-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:56.895-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:56.895-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:56.895-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:56.895-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:56.895-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:56.895-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:56.896-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:56.904-03:00 level=INFO msg="tenant created" tenant_id=245030e4-a884-4db8-ac6e-ee46a8373963 name="Test Tenant for Update Chapter"
time=2026-01-09T20:36:56.904-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=7
time=2026-01-09T20:36:56.904-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:56.920-03:00 level=INFO msg="world created" world_id=effbee1b-50f5-486b-be43-578c08e90104 name="World of Test Story" tenant_id=245030e4-a884-4db8-ac6e-ee46a8373963
time=2026-01-09T20:36:56.920-03:00 level=INFO msg="created implicit world for story" world_id=effbee1b-50f5-486b-be43-578c08e90104 story_title="Test Story"
time=2026-01-09T20:36:56.921-03:00 level=INFO msg="story created" story_id=103af0cf-1e09-49b5-bf26-99bd09ebedc7 title="Test Story" tenant_id=245030e4-a884-4db8-ac6e-ee46a8373963
time=2026-01-09T20:36:56.921-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=17
=== RUN   TestChapterHandler_UpdateChapter/successful_update
time=2026-01-09T20:36:56.923-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:56.930-03:00 level=INFO msg="chapter created" chapter_id=f4b56cc4-59bf-46d6-9ef0-2b5561653be1 story_id=103af0cf-1e09-49b5-bf26-99bd09ebedc7 tenant_id=245030e4-a884-4db8-ac6e-ee46a8373963
time=2026-01-09T20:36:56.930-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=6
time=2026-01-09T20:36:56.931-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-09T20:36:56.931-03:00 level=INFO msg="chapter updated" chapter_id=f4b56cc4-59bf-46d6-9ef0-2b5561653be1 tenant_id=245030e4-a884-4db8-ac6e-ee46a8373963
time=2026-01-09T20:36:56.932-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/UpdateChapter duration_ms=1
=== RUN   TestChapterHandler_UpdateChapter/non-existing_chapter
time=2026-01-09T20:36:56.932-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-09T20:36:56.932-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/UpdateChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: ce5a5b2e-f807-40cb-8e70-9463dadfad75"
time=2026-01-09T20:36:56.932-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_UpdateChapter (0.42s)
    --- PASS: TestChapterHandler_UpdateChapter/successful_update (0.01s)
    --- PASS: TestChapterHandler_UpdateChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_DeleteChapter
time=2026-01-09T20:36:57.357-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:57.357-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:57.357-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:57.357-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:57.357-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:57.357-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:57.357-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:57.357-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:57.359-03:00 level=INFO msg="tenant created" tenant_id=f07ce30a-a391-4967-aff9-52fbb85e0642 name="Test Tenant for Delete Chapter"
time=2026-01-09T20:36:57.359-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:57.359-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:57.361-03:00 level=INFO msg="world created" world_id=eccbe4a0-2310-4d98-82be-5db8667daddc name="World of Test Story" tenant_id=f07ce30a-a391-4967-aff9-52fbb85e0642
time=2026-01-09T20:36:57.361-03:00 level=INFO msg="created implicit world for story" world_id=eccbe4a0-2310-4d98-82be-5db8667daddc story_title="Test Story"
time=2026-01-09T20:36:57.362-03:00 level=INFO msg="story created" story_id=db1edef2-5a82-43aa-9719-e65b878f497d title="Test Story" tenant_id=f07ce30a-a391-4967-aff9-52fbb85e0642
time=2026-01-09T20:36:57.362-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_DeleteChapter/successful_delete
time=2026-01-09T20:36:57.362-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:57.363-03:00 level=INFO msg="chapter created" chapter_id=1c87dc64-2ad5-4aa6-9db7-973d55c9a236 story_id=db1edef2-5a82-43aa-9719-e65b878f497d tenant_id=f07ce30a-a391-4967-aff9-52fbb85e0642
time=2026-01-09T20:36:57.363-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T20:36:57.363-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-09T20:36:57.364-03:00 level=INFO msg="chapter deleted" chapter_id=1c87dc64-2ad5-4aa6-9db7-973d55c9a236 tenant_id=f07ce30a-a391-4967-aff9-52fbb85e0642
time=2026-01-09T20:36:57.364-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/DeleteChapter duration_ms=1
time=2026-01-09T20:36:57.364-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-09T20:36:57.365-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 1c87dc64-2ad5-4aa6-9db7-973d55c9a236" chapter_id=1c87dc64-2ad5-4aa6-9db7-973d55c9a236 tenant_id=f07ce30a-a391-4967-aff9-52fbb85e0642
time=2026-01-09T20:36:57.365-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 1c87dc64-2ad5-4aa6-9db7-973d55c9a236"
=== RUN   TestChapterHandler_DeleteChapter/non-existing_chapter
time=2026-01-09T20:36:57.365-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-09T20:36:57.365-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/DeleteChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: c27e5d52-9ed2-4572-8ffc-949cd3382434"
time=2026-01-09T20:36:57.365-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_DeleteChapter (0.29s)
    --- PASS: TestChapterHandler_DeleteChapter/successful_delete (0.00s)
    --- PASS: TestChapterHandler_DeleteChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_ListChaptersByStory
time=2026-01-09T20:36:57.621-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:57.621-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:36:57.621-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:36:57.621-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:36:57.621-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:36:57.621-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:36:57.621-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:36:57.622-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:57.625-03:00 level=INFO msg="tenant created" tenant_id=3bca6a3d-3fce-4e26-af80-c5b157ed5153 name="Test Tenant for List Chapters"
time=2026-01-09T20:36:57.625-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:57.625-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:57.627-03:00 level=INFO msg="world created" world_id=0c184cd4-8e7c-47f5-a5bb-22a02591b15d name="World of Test Story" tenant_id=3bca6a3d-3fce-4e26-af80-c5b157ed5153
time=2026-01-09T20:36:57.627-03:00 level=INFO msg="created implicit world for story" world_id=0c184cd4-8e7c-47f5-a5bb-22a02591b15d story_title="Test Story"
time=2026-01-09T20:36:57.628-03:00 level=INFO msg="story created" story_id=75f0368c-a1fc-45a1-9622-775314433716 title="Test Story" tenant_id=3bca6a3d-3fce-4e26-af80-c5b157ed5153
time=2026-01-09T20:36:57.628-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_ListChaptersByStory/list_chapters
time=2026-01-09T20:36:57.628-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:57.630-03:00 level=INFO msg="chapter created" chapter_id=bb368e35-1003-4681-b619-5e312ac1d18f story_id=75f0368c-a1fc-45a1-9622-775314433716 tenant_id=3bca6a3d-3fce-4e26-af80-c5b157ed5153
time=2026-01-09T20:36:57.630-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-09T20:36:57.630-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:57.630-03:00 level=INFO msg="chapter created" chapter_id=c89baabe-67a9-4efb-9511-4b6e3871517d story_id=75f0368c-a1fc-45a1-9622-775314433716 tenant_id=3bca6a3d-3fce-4e26-af80-c5b157ed5153
time=2026-01-09T20:36:57.630-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T20:36:57.630-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:36:57.631-03:00 level=INFO msg="chapter created" chapter_id=a42a673c-68e9-4945-8e09-d04e41e0b04a story_id=75f0368c-a1fc-45a1-9622-775314433716 tenant_id=3bca6a3d-3fce-4e26-af80-c5b157ed5153
time=2026-01-09T20:36:57.631-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-09T20:36:57.631-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-09T20:36:57.632-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
=== RUN   TestChapterHandler_ListChaptersByStory/empty_list_for_new_story
time=2026-01-09T20:36:57.632-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:36:57.633-03:00 level=INFO msg="world created" world_id=2490f453-3d00-4ffd-93c3-946684497bd4 name="World of Empty Story" tenant_id=3bca6a3d-3fce-4e26-af80-c5b157ed5153
time=2026-01-09T20:36:57.633-03:00 level=INFO msg="created implicit world for story" world_id=2490f453-3d00-4ffd-93c3-946684497bd4 story_title="Empty Story"
time=2026-01-09T20:36:57.633-03:00 level=INFO msg="story created" story_id=ecb0c15e-1583-41bd-a682-7e7423d3c2bd title="Empty Story" tenant_id=3bca6a3d-3fce-4e26-af80-c5b157ed5153
time=2026-01-09T20:36:57.633-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T20:36:57.634-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-09T20:36:57.634-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
time=2026-01-09T20:36:57.634-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_ListChaptersByStory (0.48s)
    --- PASS: TestChapterHandler_ListChaptersByStory/list_chapters (0.00s)
    --- PASS: TestChapterHandler_ListChaptersByStory/empty_list_for_new_story (0.00s)
=== RUN   TestCharacterHandler_CreateCharacter
time=2026-01-09T20:36:58.096-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:58.096-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:58.096-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_CreateCharacter/successful_creation
time=2026-01-09T20:36:58.096-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:58.099-03:00 level=INFO msg="tenant created" tenant_id=ef393f64-5d77-4b7a-b522-ae93aac86281 name="Test Tenant for Character"
time=2026-01-09T20:36:58.099-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:58.099-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:58.100-03:00 level=INFO msg="world created" world_id=c1c7c2b8-189e-4082-8349-61a685169db2 name="Test World" tenant_id=ef393f64-5d77-4b7a-b522-ae93aac86281
time=2026-01-09T20:36:58.100-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:58.100-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:58.102-03:00 level=INFO msg="character created" character_id=91dd4ce0-f600-46d3-acbf-5df66be7ebea name="Test Character"
time=2026-01-09T20:36:58.102-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestCharacterHandler_CreateCharacter/empty_name
time=2026-01-09T20:36:58.102-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:58.102-03:00 level=INFO msg="tenant created" tenant_id=e61f211b-938c-4ba3-85d8-0025be37981f name="Test Tenant 2"
time=2026-01-09T20:36:58.102-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:36:58.103-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:58.103-03:00 level=INFO msg="world created" world_id=90ca7d35-03b2-482a-b0a2-22cf28af04f9 name="Test World 2" tenant_id=e61f211b-938c-4ba3-85d8-0025be37981f
time=2026-01-09T20:36:58.103-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T20:36:58.103-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:58.103-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacter duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T20:36:58.103-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_CreateCharacter (0.27s)
    --- PASS: TestCharacterHandler_CreateCharacter/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacter/empty_name (0.00s)
=== RUN   TestCharacterHandler_GetCharacter
time=2026-01-09T20:36:58.363-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:58.363-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:58.363-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacter/existing_character
time=2026-01-09T20:36:58.364-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:58.367-03:00 level=INFO msg="tenant created" tenant_id=80617846-8a70-4872-a4f9-8f51ea812e37 name="Get Test Tenant"
time=2026-01-09T20:36:58.367-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:58.367-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:58.375-03:00 level=INFO msg="world created" world_id=f3480484-cf86-44ff-8843-8d75717913e4 name="Get Test World" tenant_id=80617846-8a70-4872-a4f9-8f51ea812e37
time=2026-01-09T20:36:58.375-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=7
time=2026-01-09T20:36:58.375-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:58.376-03:00 level=INFO msg="character created" character_id=f8266018-43cf-4cc6-a714-fce53a7265a1 name="Get Test Character"
time=2026-01-09T20:36:58.376-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:36:58.377-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-09T20:36:58.377-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacter duration_ms=0
=== RUN   TestCharacterHandler_GetCharacter/non-existing_character
time=2026-01-09T20:36:58.378-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:58.378-03:00 level=INFO msg="tenant created" tenant_id=af8fb1e0-c4e2-4ff1-8cfa-d8eb06e47d20 name="Non-existing Test Tenant"
time=2026-01-09T20:36:58.378-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:36:58.378-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-09T20:36:58.379-03:00 level=ERROR msg="failed to get character" error="character not found: 50c28f99-8a2d-44ce-a43d-005c4b6356de" character_id=50c28f99-8a2d-44ce-a43d-005c4b6356de
time=2026-01-09T20:36:58.379-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: 50c28f99-8a2d-44ce-a43d-005c4b6356de"
time=2026-01-09T20:36:58.379-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacter (0.27s)
    --- PASS: TestCharacterHandler_GetCharacter/existing_character (0.01s)
    --- PASS: TestCharacterHandler_GetCharacter/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListCharacters
time=2026-01-09T20:36:58.596-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:58.596-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:58.596-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_ListCharacters/list_characters
time=2026-01-09T20:36:58.599-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:58.601-03:00 level=INFO msg="tenant created" tenant_id=89a198ae-1de5-4889-858a-646e28a6b275 name="List Test Tenant"
time=2026-01-09T20:36:58.601-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:58.601-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:58.602-03:00 level=INFO msg="world created" world_id=90143688-0447-4a70-a552-54761de69451 name="List Test World" tenant_id=89a198ae-1de5-4889-858a-646e28a6b275
time=2026-01-09T20:36:58.602-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:58.603-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:58.604-03:00 level=INFO msg="character created" character_id=45e8f519-8a3a-4e92-918f-98a48f8c6945 name="Character 1"
time=2026-01-09T20:36:58.604-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:36:58.604-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:58.604-03:00 level=INFO msg="character created" character_id=ebd0add8-c218-448a-bff0-db62b833abb7 name="Character 2"
time=2026-01-09T20:36:58.604-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-09T20:36:58.604-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacters
time=2026-01-09T20:36:58.606-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacters duration_ms=1
time=2026-01-09T20:36:58.606-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_ListCharacters (0.22s)
    --- PASS: TestCharacterHandler_ListCharacters/list_characters (0.01s)
=== RUN   TestCharacterHandler_UpdateCharacter
time=2026-01-09T20:36:58.825-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:58.825-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:58.825-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_UpdateCharacter/update_character
time=2026-01-09T20:36:58.826-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:58.828-03:00 level=INFO msg="tenant created" tenant_id=1f11310c-863b-4bae-a71e-db2b92d18634 name="Update Test Tenant"
time=2026-01-09T20:36:58.828-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:58.828-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:58.829-03:00 level=INFO msg="world created" world_id=9adda761-a6ff-4e0a-bff4-dbe21ce2f490 name="Update Test World" tenant_id=1f11310c-863b-4bae-a71e-db2b92d18634
time=2026-01-09T20:36:58.829-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:58.829-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:58.830-03:00 level=INFO msg="character created" character_id=fedcb655-6500-4e9a-ab0f-91a54fbe1d37 name="Original Character"
time=2026-01-09T20:36:58.830-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:36:58.830-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacter
time=2026-01-09T20:36:58.832-03:00 level=INFO msg="character updated" character_id=fedcb655-6500-4e9a-ab0f-91a54fbe1d37 name="Updated Character"
time=2026-01-09T20:36:58.832-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacter duration_ms=1
time=2026-01-09T20:36:58.832-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_UpdateCharacter (0.25s)
    --- PASS: TestCharacterHandler_UpdateCharacter/update_character (0.01s)
=== RUN   TestCharacterHandler_DeleteCharacter
time=2026-01-09T20:36:59.055-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:59.056-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:59.056-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_DeleteCharacter/delete_character
time=2026-01-09T20:36:59.056-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:59.059-03:00 level=INFO msg="tenant created" tenant_id=4dc69bde-8718-4e6e-b0fc-56f54582b49d name="Delete Test Tenant"
time=2026-01-09T20:36:59.059-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:59.059-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:59.060-03:00 level=INFO msg="world created" world_id=e5f8f1c2-378b-41bd-8873-e485e710697a name="Delete Test World" tenant_id=4dc69bde-8718-4e6e-b0fc-56f54582b49d
time=2026-01-09T20:36:59.060-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:59.060-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:59.061-03:00 level=INFO msg="character created" character_id=ff0c78dc-e218-4f95-8fc2-9ee50f0d08fd name="Character to Delete"
time=2026-01-09T20:36:59.061-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:36:59.062-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/DeleteCharacter
time=2026-01-09T20:36:59.065-03:00 level=INFO msg="character deleted" character_id=ff0c78dc-e218-4f95-8fc2-9ee50f0d08fd name="Character to Delete"
time=2026-01-09T20:36:59.065-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/DeleteCharacter duration_ms=3
time=2026-01-09T20:36:59.065-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-09T20:36:59.066-03:00 level=ERROR msg="failed to get character" error="character not found: ff0c78dc-e218-4f95-8fc2-9ee50f0d08fd" character_id=ff0c78dc-e218-4f95-8fc2-9ee50f0d08fd
time=2026-01-09T20:36:59.066-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: ff0c78dc-e218-4f95-8fc2-9ee50f0d08fd"
time=2026-01-09T20:36:59.066-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_DeleteCharacter (0.27s)
    --- PASS: TestCharacterHandler_DeleteCharacter/delete_character (0.01s)
=== RUN   TestCharacterHandler_GetCharacterEvents
time=2026-01-09T20:36:59.347-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:59.347-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:59.347-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events
time=2026-01-09T20:36:59.349-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:59.352-03:00 level=INFO msg="tenant created" tenant_id=b0d8db56-6c17-433d-b77a-37e863efe5da name="Events Test Tenant"
time=2026-01-09T20:36:59.352-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:59.352-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:59.353-03:00 level=INFO msg="world created" world_id=6c15e355-b4dc-4d2f-8e31-781ebf37af61 name="Events Test World" tenant_id=b0d8db56-6c17-433d-b77a-37e863efe5da
time=2026-01-09T20:36:59.353-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:59.353-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:59.355-03:00 level=INFO msg="character created" character_id=699b4b4b-0b66-4342-8be9-ac317654ba74 name="Character With Events"
time=2026-01-09T20:36:59.355-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:36:59.355-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-09T20:36:59.355-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacterEvents duration_ms=0
=== RUN   TestCharacterHandler_GetCharacterEvents/invalid_character_id
time=2026-01-09T20:36:59.356-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:59.356-03:00 level=INFO msg="tenant created" tenant_id=d859ce81-529c-41f4-88cc-142b98f62a47 name="Invalid Events Test Tenant"
time=2026-01-09T20:36:59.356-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:36:59.356-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-09T20:36:59.356-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacterEvents duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid character_id: invalid UUID length: 12"
time=2026-01-09T20:36:59.357-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacterEvents (0.23s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events (0.01s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/invalid_character_id (0.00s)
=== RUN   TestCharacterHandler_CreateCharacterRelationship
    character_handler_test.go:417: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_CreateCharacterRelationship (0.00s)
=== RUN   TestCharacterHandler_GetCharacterRelationship
    character_handler_test.go:564: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_GetCharacterRelationship (0.00s)
=== RUN   TestCharacterHandler_ListCharacterRelationships
    character_handler_test.go:659: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_ListCharacterRelationships (0.00s)
=== RUN   TestCharacterHandler_UpdateCharacterRelationship
    character_handler_test.go:800: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_UpdateCharacterRelationship (0.00s)
=== RUN   TestCharacterHandler_DeleteCharacterRelationship
    character_handler_test.go:943: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_DeleteCharacterRelationship (0.00s)
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats
time=2026-01-09T20:36:59.587-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:59.587-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:59.587-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:36:59.587-03:00 level=INFO msg="CharacterRPGStatsService registered"
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation
time=2026-01-09T20:36:59.588-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:59.590-03:00 level=INFO msg="tenant created" tenant_id=d409a6f8-4b9c-47dd-b28e-0ce8da50b1b2 name="Test Tenant for Character Stats"
time=2026-01-09T20:36:59.590-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T20:36:59.590-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:59.592-03:00 level=INFO msg="world created" world_id=b78f1ddc-4d07-4174-9811-198a1fd8d10c name="Test World" tenant_id=d409a6f8-4b9c-47dd-b28e-0ce8da50b1b2
time=2026-01-09T20:36:59.592-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:36:59.592-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:59.593-03:00 level=INFO msg="character created" character_id=5cbc0776-509f-414b-90df-b4aa5727341b name="Test Character"
time=2026-01-09T20:36:59.593-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:36:59.593-03:00 level=INFO msg="gRPC request started" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats
time=2026-01-09T20:36:59.596-03:00 level=INFO msg="character RPG stats created" character_id=5cbc0776-509f-414b-90df-b4aa5727341b version=1
time=2026-01-09T20:36:59.596-03:00 level=INFO msg="gRPC request completed" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats duration_ms=2
time=2026-01-09T20:36:59.596-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats (0.26s)
    --- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation (0.01s)
=== RUN   TestCharacterSkillHandler_AddCharacterSkill
time=2026-01-09T20:36:59.906-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:36:59.906-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:36:59.906-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:36:59.906-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:36:59.906-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:36:59.906-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill
time=2026-01-09T20:36:59.907-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:36:59.909-03:00 level=INFO msg="tenant created" tenant_id=6edfffff-50a7-4969-be60-544d629fba99 name="Test Tenant for Character Skill"
time=2026-01-09T20:36:59.909-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:36:59.909-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:36:59.912-03:00 level=INFO msg="world created" world_id=591200d2-a827-4a8c-aba9-cf5ddddf3761 name="Test World" tenant_id=6edfffff-50a7-4969-be60-544d629fba99
time=2026-01-09T20:36:59.912-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=2
time=2026-01-09T20:36:59.912-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:36:59.913-03:00 level=INFO msg="character created" character_id=b35496fa-d1fc-4918-a3c9-5ebf7a0688ac name="Test Character"
time=2026-01-09T20:36:59.913-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:36:59.913-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:36:59.914-03:00 level=INFO msg="RPG system created" rpg_system_id=53c5f354-59dd-4cde-8378-d611c386af23 name="Test System"
time=2026-01-09T20:36:59.914-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:36:59.914-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:36:59.915-03:00 level=INFO msg="skill created" skill_id=cb67823e-0247-4fbc-83f6-aaff67dca7c7 name=Fireball
time=2026-01-09T20:36:59.915-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-09T20:36:59.915-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-09T20:36:59.918-03:00 level=INFO msg="character learned skill" character_id=b35496fa-d1fc-4918-a3c9-5ebf7a0688ac skill_id=cb67823e-0247-4fbc-83f6-aaff67dca7c7
time=2026-01-09T20:36:59.918-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-09T20:36:59.918-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_AddCharacterSkill (0.29s)
    --- PASS: TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill (0.01s)
=== RUN   TestCharacterSkillHandler_ListCharacterSkills
time=2026-01-09T20:37:00.250-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:00.250-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:00.250-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:00.250-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:00.250-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:00.250-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_ListCharacterSkills/list_character_skills
time=2026-01-09T20:37:00.252-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:00.255-03:00 level=INFO msg="tenant created" tenant_id=5adf6308-06d7-4c08-b3f5-28e06024bc40 name="List Test Tenant"
time=2026-01-09T20:37:00.255-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:00.255-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:00.256-03:00 level=INFO msg="world created" world_id=5bd01f0c-5ae8-4ba1-be67-400d17ecf2f7 name="List Test World" tenant_id=5adf6308-06d7-4c08-b3f5-28e06024bc40
time=2026-01-09T20:37:00.256-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:00.257-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:00.258-03:00 level=INFO msg="character created" character_id=226b2b9e-83e0-438e-ac59-ab0afdd23dd2 name="List Test Character"
time=2026-01-09T20:37:00.258-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:37:00.258-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:00.259-03:00 level=INFO msg="RPG system created" rpg_system_id=428c1f7f-9373-47f4-8b39-6e2ff64a426c name="List Test System"
time=2026-01-09T20:37:00.259-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:00.260-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:00.264-03:00 level=INFO msg="skill created" skill_id=df3be48f-b92b-42e9-ad53-30d811258bbd name="List Test Skill"
time=2026-01-09T20:37:00.264-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=4
time=2026-01-09T20:37:00.265-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-09T20:37:00.268-03:00 level=INFO msg="character learned skill" character_id=226b2b9e-83e0-438e-ac59-ab0afdd23dd2 skill_id=df3be48f-b92b-42e9-ad53-30d811258bbd
time=2026-01-09T20:37:00.268-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-09T20:37:00.268-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-09T20:37:00.269-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
time=2026-01-09T20:37:00.269-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_ListCharacterSkills (0.35s)
    --- PASS: TestCharacterSkillHandler_ListCharacterSkills/list_character_skills (0.02s)
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill
time=2026-01-09T20:37:00.512-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:00.512-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:00.512-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:00.512-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:00.512-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:00.512-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-09T20:37:00.513-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:00.515-03:00 level=INFO msg="tenant created" tenant_id=a053b760-f6e8-4933-8694-c42c7f2bf060 name="Update Skill Test Tenant"
time=2026-01-09T20:37:00.515-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:00.515-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:00.517-03:00 level=INFO msg="world created" world_id=6c491714-42ea-4a50-aa82-a1542a6552f9 name="Test World" tenant_id=a053b760-f6e8-4933-8694-c42c7f2bf060
time=2026-01-09T20:37:00.517-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:00.517-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:00.519-03:00 level=INFO msg="character created" character_id=93d11b29-b815-4ea4-b66e-6044a8a951f6 name="Test Character"
time=2026-01-09T20:37:00.519-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-09T20:37:00.521-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:00.522-03:00 level=INFO msg="RPG system created" rpg_system_id=18a95ab6-eec3-4def-bd69-2ff160bf19cd name="Test System"
time=2026-01-09T20:37:00.522-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:00.522-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:00.524-03:00 level=INFO msg="skill created" skill_id=5dd22c4c-2a38-4159-91f8-644033eba6a6 name=Fireball
time=2026-01-09T20:37:00.524-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/successful_update
time=2026-01-09T20:37:00.524-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-09T20:37:00.529-03:00 level=INFO msg="character learned skill" character_id=93d11b29-b815-4ea4-b66e-6044a8a951f6 skill_id=5dd22c4c-2a38-4159-91f8-644033eba6a6
time=2026-01-09T20:37:00.529-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=4
time=2026-01-09T20:37:00.529-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-09T20:37:00.530-03:00 level=INFO msg="character skill updated" id=60d16165-40c6-4f01-ba0e-4bec5e9778db character_id=93d11b29-b815-4ea4-b66e-6044a8a951f6
time=2026-01-09T20:37:00.530-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill
time=2026-01-09T20:37:00.531-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-09T20:37:00.531-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: d0848114-a0fc-4698-b9b3-2d818c2bb89b"
time=2026-01-09T20:37:00.531-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_UpdateCharacterSkill (0.26s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/successful_update (0.01s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill (0.00s)
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill
time=2026-01-09T20:37:00.868-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:00.871-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:00.871-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:00.872-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:00.872-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:00.872-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-09T20:37:00.874-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:00.877-03:00 level=INFO msg="tenant created" tenant_id=3a67a12e-5c20-4231-83a2-6a603b94bc33 name="Delete Skill Test Tenant"
time=2026-01-09T20:37:00.877-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T20:37:00.877-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:00.878-03:00 level=INFO msg="world created" world_id=00e4152d-682d-4393-94b8-70253bd37b28 name="Test World" tenant_id=3a67a12e-5c20-4231-83a2-6a603b94bc33
time=2026-01-09T20:37:00.878-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:00.878-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:00.880-03:00 level=INFO msg="character created" character_id=609950d1-09c0-4f2f-9e5d-97530807ebc1 name="Test Character"
time=2026-01-09T20:37:00.880-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:37:00.880-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:00.881-03:00 level=INFO msg="RPG system created" rpg_system_id=4cba0178-442c-4f8e-836e-c12725900b33 name="Test System"
time=2026-01-09T20:37:00.881-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:00.881-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:00.882-03:00 level=INFO msg="skill created" skill_id=0a4ab9f4-c867-4aab-bac6-72fc7544a12d name=Fireball
time=2026-01-09T20:37:00.882-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete
time=2026-01-09T20:37:00.882-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-09T20:37:00.884-03:00 level=INFO msg="character learned skill" character_id=609950d1-09c0-4f2f-9e5d-97530807ebc1 skill_id=0a4ab9f4-c867-4aab-bac6-72fc7544a12d
time=2026-01-09T20:37:00.884-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-09T20:37:00.886-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-09T20:37:00.888-03:00 level=INFO msg="character skill deleted" id=ce6f540e-da7a-4e67-8795-a8d25a0caac6
time=2026-01-09T20:37:00.888-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=1
time=2026-01-09T20:37:00.889-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-09T20:37:00.890-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill
time=2026-01-09T20:37:00.890-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-09T20:37:00.890-03:00 level=ERROR msg="failed to delete character skill" error="character_skill not found: 5b6db3ab-9903-454e-9125-cb5d93795c31" id=5b6db3ab-9903-454e-9125-cb5d93795c31
time=2026-01-09T20:37:00.890-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: 5b6db3ab-9903-454e-9125-cb5d93795c31"
time=2026-01-09T20:37:00.890-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_DeleteCharacterSkill (0.36s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete (0.01s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill (0.00s)
=== RUN   TestContentBlockHandler_CreateContentBlock
time=2026-01-09T20:37:01.129-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:01.129-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:01.129-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:01.129-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:01.129-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:01.129-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:01.129-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:01.130-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:01.133-03:00 level=INFO msg="tenant created" tenant_id=e246834f-5a38-410d-bc8d-7f5c486e5e7f name="Test Tenant for ContentBlock"
time=2026-01-09T20:37:01.133-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:01.133-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:01.134-03:00 level=INFO msg="world created" world_id=6eeef1a4-c8d6-4d58-8f62-5fbb23215480 name="World of Test Story" tenant_id=e246834f-5a38-410d-bc8d-7f5c486e5e7f
time=2026-01-09T20:37:01.134-03:00 level=INFO msg="created implicit world for story" world_id=6eeef1a4-c8d6-4d58-8f62-5fbb23215480 story_title="Test Story"
time=2026-01-09T20:37:01.136-03:00 level=INFO msg="story created" story_id=5b33c425-1b9d-45ce-b181-3531409efd0e title="Test Story" tenant_id=e246834f-5a38-410d-bc8d-7f5c486e5e7f
time=2026-01-09T20:37:01.136-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-09T20:37:01.136-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:37:01.137-03:00 level=INFO msg="chapter created" chapter_id=3d9ecdcc-e94e-4422-ae0c-38397e575ec5 story_id=5b33c425-1b9d-45ce-b181-3531409efd0e tenant_id=e246834f-5a38-410d-bc8d-7f5c486e5e7f
time=2026-01-09T20:37:01.137-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/successful_creation
time=2026-01-09T20:37:01.138-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:01.139-03:00 level=INFO msg="content block created" content_block_id=884f23a0-59af-4b80-9759-b3b1ca3f3bc1 tenant_id=e246834f-5a38-410d-bc8d-7f5c486e5e7f
time=2026-01-09T20:37:01.139-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/default_kind
time=2026-01-09T20:37:01.140-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:01.140-03:00 level=INFO msg="content block created" content_block_id=cdffec42-2765-4b39-b4fc-3951bb5fe0ef tenant_id=e246834f-5a38-410d-bc8d-7f5c486e5e7f
time=2026-01-09T20:37:01.140-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_chapter_id
time=2026-01-09T20:37:01.141-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:01.141-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 5c44e58f-e4e2-4d12-9364-4244b829b7c3"
=== RUN   TestContentBlockHandler_CreateContentBlock/empty_content
time=2026-01-09T20:37:01.141-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:01.141-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on content: content is required"
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_order_num
time=2026-01-09T20:37:01.141-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:01.142-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-09T20:37:01.142-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_CreateContentBlock (0.25s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/default_kind (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_chapter_id (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/empty_content (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_order_num (0.00s)
=== RUN   TestContentBlockHandler_GetContentBlock
time=2026-01-09T20:37:01.404-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:01.404-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:01.404-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:01.404-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:01.404-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:01.404-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:01.404-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:01.407-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:01.409-03:00 level=INFO msg="tenant created" tenant_id=29d7befe-c4b2-4fd9-9f49-66871fd18663 name="Test Tenant for Get ContentBlock"
time=2026-01-09T20:37:01.409-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:01.409-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:01.432-03:00 level=INFO msg="world created" world_id=b0b62be8-41fc-45ab-8f44-8d13b85cd537 name="World of Test Story" tenant_id=29d7befe-c4b2-4fd9-9f49-66871fd18663
time=2026-01-09T20:37:01.432-03:00 level=INFO msg="created implicit world for story" world_id=b0b62be8-41fc-45ab-8f44-8d13b85cd537 story_title="Test Story"
time=2026-01-09T20:37:01.433-03:00 level=INFO msg="story created" story_id=8d927e68-2efc-4bfa-8cf8-dd72d5b41d73 title="Test Story" tenant_id=29d7befe-c4b2-4fd9-9f49-66871fd18663
time=2026-01-09T20:37:01.433-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=24
time=2026-01-09T20:37:01.434-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:37:01.436-03:00 level=INFO msg="chapter created" chapter_id=235e5dbf-e054-4a28-b3ef-e14a4886831c story_id=8d927e68-2efc-4bfa-8cf8-dd72d5b41d73 tenant_id=29d7befe-c4b2-4fd9-9f49-66871fd18663
time=2026-01-09T20:37:01.436-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=2
=== RUN   TestContentBlockHandler_GetContentBlock/existing_content_block
time=2026-01-09T20:37:01.437-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:01.438-03:00 level=INFO msg="content block created" content_block_id=b9b8bbd9-8e08-4fc1-b418-99d2a72315b5 tenant_id=29d7befe-c4b2-4fd9-9f49-66871fd18663
time=2026-01-09T20:37:01.438-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-09T20:37:01.439-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-09T20:37:01.439-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_GetContentBlock/non-existing_content_block
time=2026-01-09T20:37:01.440-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-09T20:37:01.440-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 22654e04-28a7-4027-8f57-05685086a5f8" content_block_id=22654e04-28a7-4027-8f57-05685086a5f8 tenant_id=29d7befe-c4b2-4fd9-9f49-66871fd18663
time=2026-01-09T20:37:01.440-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: 22654e04-28a7-4027-8f57-05685086a5f8"
time=2026-01-09T20:37:01.440-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_GetContentBlock (0.33s)
    --- PASS: TestContentBlockHandler_GetContentBlock/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_GetContentBlock/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_UpdateContentBlock
time=2026-01-09T20:37:01.768-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:01.768-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:01.768-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:01.768-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:01.768-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:01.768-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:01.768-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:01.770-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:01.772-03:00 level=INFO msg="tenant created" tenant_id=a0500a04-e703-4eca-b681-1c9a157a1ebb name="Test Tenant for Update ContentBlock"
time=2026-01-09T20:37:01.772-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T20:37:01.772-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:01.773-03:00 level=INFO msg="world created" world_id=7824487f-365c-424c-8577-db31ec6de793 name="World of Test Story" tenant_id=a0500a04-e703-4eca-b681-1c9a157a1ebb
time=2026-01-09T20:37:01.773-03:00 level=INFO msg="created implicit world for story" world_id=7824487f-365c-424c-8577-db31ec6de793 story_title="Test Story"
time=2026-01-09T20:37:01.775-03:00 level=INFO msg="story created" story_id=23ee88af-84fe-4f99-a0d4-a8986b1a7ddb title="Test Story" tenant_id=a0500a04-e703-4eca-b681-1c9a157a1ebb
time=2026-01-09T20:37:01.775-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:37:01.775-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:37:01.776-03:00 level=INFO msg="chapter created" chapter_id=6f24e59c-8156-4f36-b0c3-e9efc897633d story_id=23ee88af-84fe-4f99-a0d4-a8986b1a7ddb tenant_id=a0500a04-e703-4eca-b681-1c9a157a1ebb
time=2026-01-09T20:37:01.776-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_UpdateContentBlock/successful_update
time=2026-01-09T20:37:01.776-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:01.777-03:00 level=INFO msg="content block created" content_block_id=470d3b64-030e-4d78-b767-0b491a2b9e3a tenant_id=a0500a04-e703-4eca-b681-1c9a157a1ebb
time=2026-01-09T20:37:01.777-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-09T20:37:01.777-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/UpdateContentBlock
time=2026-01-09T20:37:01.778-03:00 level=INFO msg="content block updated" content_block_id=470d3b64-030e-4d78-b767-0b491a2b9e3a tenant_id=a0500a04-e703-4eca-b681-1c9a157a1ebb
time=2026-01-09T20:37:01.778-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/UpdateContentBlock duration_ms=0
time=2026-01-09T20:37:01.778-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_UpdateContentBlock (0.31s)
    --- PASS: TestContentBlockHandler_UpdateContentBlock/successful_update (0.00s)
=== RUN   TestContentBlockHandler_DeleteContentBlock
time=2026-01-09T20:37:02.006-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:02.006-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:02.006-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:02.006-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:02.006-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:02.006-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:02.006-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:02.007-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:02.009-03:00 level=INFO msg="tenant created" tenant_id=c88bc7d2-b6ff-4d09-861e-197bc940d591 name="Test Tenant for Delete ContentBlock"
time=2026-01-09T20:37:02.009-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:02.009-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:02.010-03:00 level=INFO msg="world created" world_id=fbe337ab-fb1d-4eee-83b6-5d0e0e7b9680 name="World of Test Story" tenant_id=c88bc7d2-b6ff-4d09-861e-197bc940d591
time=2026-01-09T20:37:02.010-03:00 level=INFO msg="created implicit world for story" world_id=fbe337ab-fb1d-4eee-83b6-5d0e0e7b9680 story_title="Test Story"
time=2026-01-09T20:37:02.011-03:00 level=INFO msg="story created" story_id=11fc1de3-7f26-4612-bed0-eec960781608 title="Test Story" tenant_id=c88bc7d2-b6ff-4d09-861e-197bc940d591
time=2026-01-09T20:37:02.011-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:37:02.012-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:37:02.012-03:00 level=INFO msg="chapter created" chapter_id=46cab189-3de3-4eda-8459-be10c355c4fc story_id=11fc1de3-7f26-4612-bed0-eec960781608 tenant_id=c88bc7d2-b6ff-4d09-861e-197bc940d591
time=2026-01-09T20:37:02.012-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_DeleteContentBlock/successful_delete
time=2026-01-09T20:37:02.013-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:02.014-03:00 level=INFO msg="content block created" content_block_id=7cb42cd5-3a33-4d7a-b809-77b338108432 tenant_id=c88bc7d2-b6ff-4d09-861e-197bc940d591
time=2026-01-09T20:37:02.014-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-09T20:37:02.014-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/DeleteContentBlock
time=2026-01-09T20:37:02.015-03:00 level=INFO msg="content block deleted" content_block_id=7cb42cd5-3a33-4d7a-b809-77b338108432 tenant_id=c88bc7d2-b6ff-4d09-861e-197bc940d591
time=2026-01-09T20:37:02.015-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/DeleteContentBlock duration_ms=1
time=2026-01-09T20:37:02.015-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_DeleteContentBlock (0.23s)
    --- PASS: TestContentBlockHandler_DeleteContentBlock/successful_delete (0.00s)
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter
time=2026-01-09T20:37:02.240-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:02.240-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:02.240-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:02.240-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:02.240-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:02.240-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:02.240-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:02.241-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:02.244-03:00 level=INFO msg="tenant created" tenant_id=9a758b77-7e75-4ba2-9e7b-e17c5883d775 name="Test Tenant for List ContentBlocks"
time=2026-01-09T20:37:02.244-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:02.244-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:02.246-03:00 level=INFO msg="world created" world_id=cbe4cfe0-3574-40ed-94ca-7b228d12c703 name="World of Test Story" tenant_id=9a758b77-7e75-4ba2-9e7b-e17c5883d775
time=2026-01-09T20:37:02.246-03:00 level=INFO msg="created implicit world for story" world_id=cbe4cfe0-3574-40ed-94ca-7b228d12c703 story_title="Test Story"
time=2026-01-09T20:37:02.247-03:00 level=INFO msg="story created" story_id=f37c2cbc-c289-426b-a148-8e31650db3eb title="Test Story" tenant_id=9a758b77-7e75-4ba2-9e7b-e17c5883d775
time=2026-01-09T20:37:02.247-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:37:02.247-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:37:02.248-03:00 level=INFO msg="chapter created" chapter_id=cc6d0bc7-986c-49ef-b6a9-1d298e843db6 story_id=f37c2cbc-c289-426b-a148-8e31650db3eb tenant_id=9a758b77-7e75-4ba2-9e7b-e17c5883d775
time=2026-01-09T20:37:02.248-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter
time=2026-01-09T20:37:02.248-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:02.249-03:00 level=INFO msg="content block created" content_block_id=db80e2da-91c0-4851-87f8-c74692f7b2ef tenant_id=9a758b77-7e75-4ba2-9e7b-e17c5883d775
time=2026-01-09T20:37:02.249-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-09T20:37:02.249-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:02.250-03:00 level=INFO msg="content block created" content_block_id=48d17563-81b0-46b4-938e-1b3fcf542c48 tenant_id=9a758b77-7e75-4ba2-9e7b-e17c5883d775
time=2026-01-09T20:37:02.250-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-09T20:37:02.250-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:02.250-03:00 level=INFO msg="content block created" content_block_id=8ebf4f1a-4e51-48f2-8718-58003cc58b3b tenant_id=9a758b77-7e75-4ba2-9e7b-e17c5883d775
time=2026-01-09T20:37:02.250-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-09T20:37:02.251-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/ListContentBlocksByChapter
time=2026-01-09T20:37:02.251-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/ListContentBlocksByChapter duration_ms=0
time=2026-01-09T20:37:02.251-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_ListContentBlocksByChapter (0.24s)
    --- PASS: TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter (0.00s)
=== RUN   TestContentAnchorHandler_CreateAndList
time=2026-01-09T20:37:02.509-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:02.510-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:02.510-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:02.510-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:02.510-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:02.510-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:02.511-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:02.512-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:02.514-03:00 level=INFO msg="tenant created" tenant_id=71656be7-443e-4a9f-8306-7a3f75af77a2 name="Test Tenant for ContentAnchor"
time=2026-01-09T20:37:02.514-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:02.514-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:02.515-03:00 level=INFO msg="world created" world_id=f990c407-e082-4e0a-9009-d0b2816be620 name="World of Test Story" tenant_id=71656be7-443e-4a9f-8306-7a3f75af77a2
time=2026-01-09T20:37:02.515-03:00 level=INFO msg="created implicit world for story" world_id=f990c407-e082-4e0a-9009-d0b2816be620 story_title="Test Story"
time=2026-01-09T20:37:02.517-03:00 level=INFO msg="story created" story_id=7efa70d2-a2ef-4fcf-bded-06298c0d813c title="Test Story" tenant_id=71656be7-443e-4a9f-8306-7a3f75af77a2
time=2026-01-09T20:37:02.517-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:37:02.517-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:37:02.519-03:00 level=INFO msg="chapter created" chapter_id=8bf3a694-bbc4-4b93-acca-d16fdd65bb56 story_id=7efa70d2-a2ef-4fcf-bded-06298c0d813c tenant_id=71656be7-443e-4a9f-8306-7a3f75af77a2
time=2026-01-09T20:37:02.519-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-09T20:37:02.519-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-09T20:37:02.520-03:00 level=INFO msg="content block created" content_block_id=4a18a3d3-0815-4aee-8dd1-94d9a785ea52 tenant_id=71656be7-443e-4a9f-8306-7a3f75af77a2
time=2026-01-09T20:37:02.520-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentAnchorHandler_CreateAndList/create_and_list_anchors
time=2026-01-09T20:37:02.521-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentAnchorService/CreateContentAnchor
time=2026-01-09T20:37:02.522-03:00 level=INFO msg="content anchor created" anchor_id=cecf6e35-7213-443f-8524-f11806802218 content_block_id=4a18a3d3-0815-4aee-8dd1-94d9a785ea52 tenant_id=71656be7-443e-4a9f-8306-7a3f75af77a2
time=2026-01-09T20:37:02.522-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentAnchorService/CreateContentAnchor duration_ms=1
time=2026-01-09T20:37:02.522-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentAnchorService/ListContentAnchorsByContentBlock
time=2026-01-09T20:37:02.523-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentAnchorService/ListContentAnchorsByContentBlock duration_ms=0
time=2026-01-09T20:37:02.523-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentAnchorService/DeleteContentAnchor
time=2026-01-09T20:37:02.524-03:00 level=INFO msg="content anchor deleted" anchor_id=cecf6e35-7213-443f-8524-f11806802218 tenant_id=71656be7-443e-4a9f-8306-7a3f75af77a2
time=2026-01-09T20:37:02.524-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentAnchorService/DeleteContentAnchor duration_ms=0
=== RUN   TestContentAnchorHandler_CreateAndList/invalid_content_block_for_anchor
time=2026-01-09T20:37:02.524-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentAnchorService/CreateContentAnchor
time=2026-01-09T20:37:02.524-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentAnchorService/CreateContentAnchor duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: 91257a40-f24b-4726-9f6b-98d95bbc837a"
time=2026-01-09T20:37:02.525-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentAnchorHandler_CreateAndList (0.26s)
    --- PASS: TestContentAnchorHandler_CreateAndList/create_and_list_anchors (0.00s)
    --- PASS: TestContentAnchorHandler_CreateAndList/invalid_content_block_for_anchor (0.00s)
=== RUN   TestEventHandler_CreateEvent
time=2026-01-09T20:37:02.729-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:02.729-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:02.729-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_CreateEvent/successful_creation
time=2026-01-09T20:37:02.730-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:02.732-03:00 level=INFO msg="tenant created" tenant_id=f46697b4-a15d-4a07-ba0e-d4259407403e name="Test Tenant for Event"
time=2026-01-09T20:37:02.732-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:02.732-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:02.736-03:00 level=INFO msg="world created" world_id=567d4f95-96d1-42cc-ae22-85e38bbd8408 name="Test World" tenant_id=f46697b4-a15d-4a07-ba0e-d4259407403e
time=2026-01-09T20:37:02.736-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=3
time=2026-01-09T20:37:02.736-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T20:37:02.737-03:00 level=INFO msg="event created" event_id=b815490b-8d0c-4bf8-a7eb-3a12adc68a71 world_id=567d4f95-96d1-42cc-ae22-85e38bbd8408
time=2026-01-09T20:37:02.737-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
=== RUN   TestEventHandler_CreateEvent/empty_name
time=2026-01-09T20:37:02.737-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:02.738-03:00 level=INFO msg="tenant created" tenant_id=fbd1f985-ee5c-4d08-9347-5ce78484d71b name="Test Tenant 2"
time=2026-01-09T20:37:02.738-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:02.738-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:02.739-03:00 level=INFO msg="world created" world_id=6d790287-053a-4668-a26e-03ee2bc544c4 name="Test World 2" tenant_id=fbd1f985-ee5c-4d08-9347-5ce78484d71b
time=2026-01-09T20:37:02.739-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T20:37:02.739-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T20:37:02.739-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/CreateEvent duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T20:37:02.739-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_CreateEvent (0.22s)
    --- PASS: TestEventHandler_CreateEvent/successful_creation (0.01s)
    --- PASS: TestEventHandler_CreateEvent/empty_name (0.00s)
=== RUN   TestEventHandler_GetEvent
time=2026-01-09T20:37:02.969-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:02.969-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:02.969-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_GetEvent/existing_event
time=2026-01-09T20:37:02.969-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:02.972-03:00 level=INFO msg="tenant created" tenant_id=e707b5d3-f692-4934-b483-4f8a6dea6962 name="Get Test Tenant"
time=2026-01-09T20:37:02.972-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:02.972-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:02.973-03:00 level=INFO msg="world created" world_id=c816f032-51b2-4a67-a32d-4137306fc9c8 name="Get Test World" tenant_id=e707b5d3-f692-4934-b483-4f8a6dea6962
time=2026-01-09T20:37:02.973-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:02.973-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T20:37:02.974-03:00 level=INFO msg="event created" event_id=1dffd407-bb65-4cc0-98d9-17204350cffe world_id=c816f032-51b2-4a67-a32d-4137306fc9c8
time=2026-01-09T20:37:02.974-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-09T20:37:02.975-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-09T20:37:02.975-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/GetEvent duration_ms=0
=== RUN   TestEventHandler_GetEvent/non-existing_event
time=2026-01-09T20:37:02.975-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:02.976-03:00 level=INFO msg="tenant created" tenant_id=3250b8da-301b-4dd4-a3d9-c9f406004959 name="Non-existing Test Tenant"
time=2026-01-09T20:37:02.976-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:02.976-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-09T20:37:02.976-03:00 level=ERROR msg="failed to get event" error="event not found: f0b32462-12ee-49d5-a2eb-875968ba3a25" event_id=f0b32462-12ee-49d5-a2eb-875968ba3a25
time=2026-01-09T20:37:02.976-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: f0b32462-12ee-49d5-a2eb-875968ba3a25"
time=2026-01-09T20:37:02.976-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_GetEvent (0.25s)
    --- PASS: TestEventHandler_GetEvent/existing_event (0.01s)
    --- PASS: TestEventHandler_GetEvent/non-existing_event (0.00s)
=== RUN   TestEventHandler_ListEvents
time=2026-01-09T20:37:03.226-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:03.226-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:03.226-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_ListEvents/list_events
time=2026-01-09T20:37:03.227-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:03.229-03:00 level=INFO msg="tenant created" tenant_id=cde66a49-db2b-436e-9328-3cb767986b55 name="List Test Tenant"
time=2026-01-09T20:37:03.229-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:03.229-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:03.231-03:00 level=INFO msg="world created" world_id=5febff3e-d488-483a-abc6-04f3648382b9 name="List Test World" tenant_id=cde66a49-db2b-436e-9328-3cb767986b55
time=2026-01-09T20:37:03.231-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:03.231-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T20:37:03.232-03:00 level=INFO msg="event created" event_id=f84ddd38-b483-4370-a60d-dc941a3630f5 world_id=5febff3e-d488-483a-abc6-04f3648382b9
time=2026-01-09T20:37:03.232-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-09T20:37:03.232-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T20:37:03.233-03:00 level=INFO msg="event created" event_id=ab33195c-2c1c-4b59-9290-34b5cc9fbf52 world_id=5febff3e-d488-483a-abc6-04f3648382b9
time=2026-01-09T20:37:03.233-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=0
time=2026-01-09T20:37:03.233-03:00 level=INFO msg="gRPC request started" method=/event.EventService/ListEvents
time=2026-01-09T20:37:03.234-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/ListEvents duration_ms=0
time=2026-01-09T20:37:03.234-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_ListEvents (0.26s)
    --- PASS: TestEventHandler_ListEvents/list_events (0.01s)
=== RUN   TestEventHandler_UpdateEvent
time=2026-01-09T20:37:03.467-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:03.467-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:03.467-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_UpdateEvent/update_event
time=2026-01-09T20:37:03.469-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:03.471-03:00 level=INFO msg="tenant created" tenant_id=ac3281ce-bcf0-49c9-98aa-461e08020598 name="Update Test Tenant"
time=2026-01-09T20:37:03.471-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:03.471-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:03.472-03:00 level=INFO msg="world created" world_id=b1f7c46f-5a8d-4bf2-9964-f7cb87b860ae name="Update Test World" tenant_id=ac3281ce-bcf0-49c9-98aa-461e08020598
time=2026-01-09T20:37:03.472-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:03.473-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T20:37:03.474-03:00 level=INFO msg="event created" event_id=c11aff3e-ed5e-4a0f-8c68-fa3a91739e23 world_id=b1f7c46f-5a8d-4bf2-9964-f7cb87b860ae
time=2026-01-09T20:37:03.474-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-09T20:37:03.474-03:00 level=INFO msg="gRPC request started" method=/event.EventService/UpdateEvent
time=2026-01-09T20:37:03.475-03:00 level=INFO msg="event updated" event_id=c11aff3e-ed5e-4a0f-8c68-fa3a91739e23
time=2026-01-09T20:37:03.475-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/UpdateEvent duration_ms=1
time=2026-01-09T20:37:03.476-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_UpdateEvent (0.24s)
    --- PASS: TestEventHandler_UpdateEvent/update_event (0.01s)
=== RUN   TestEventHandler_DeleteEvent
time=2026-01-09T20:37:03.748-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:03.748-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:03.748-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_DeleteEvent/delete_event
time=2026-01-09T20:37:03.749-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:03.751-03:00 level=INFO msg="tenant created" tenant_id=6990fbe5-8ab7-4edf-8e1a-6167298c137e name="Delete Test Tenant"
time=2026-01-09T20:37:03.751-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:03.751-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:03.752-03:00 level=INFO msg="world created" world_id=e1b4116d-dae9-40cf-b277-47a3b2eca56b name="Delete Test World" tenant_id=6990fbe5-8ab7-4edf-8e1a-6167298c137e
time=2026-01-09T20:37:03.752-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:03.752-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-09T20:37:03.754-03:00 level=INFO msg="event created" event_id=54152c45-7077-47dc-9812-03695a433d4f world_id=e1b4116d-dae9-40cf-b277-47a3b2eca56b
time=2026-01-09T20:37:03.754-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-09T20:37:03.754-03:00 level=INFO msg="gRPC request started" method=/event.EventService/DeleteEvent
time=2026-01-09T20:37:03.757-03:00 level=INFO msg="event deleted" event_id=54152c45-7077-47dc-9812-03695a433d4f
time=2026-01-09T20:37:03.757-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/DeleteEvent duration_ms=2
time=2026-01-09T20:37:03.757-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-09T20:37:03.758-03:00 level=ERROR msg="failed to get event" error="event not found: 54152c45-7077-47dc-9812-03695a433d4f" event_id=54152c45-7077-47dc-9812-03695a433d4f
time=2026-01-09T20:37:03.758-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: 54152c45-7077-47dc-9812-03695a433d4f"
time=2026-01-09T20:37:03.758-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_DeleteEvent (0.27s)
    --- PASS: TestEventHandler_DeleteEvent/delete_event (0.01s)
=== RUN   TestInventoryHandler_AddItemToInventory
time=2026-01-09T20:37:04.016-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:04.016-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:04.016-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:04.016-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T20:37:04.016-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:04.016-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_AddItemToInventory/successful_add_item
time=2026-01-09T20:37:04.017-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:04.019-03:00 level=INFO msg="tenant created" tenant_id=ced7387f-5d89-4620-8f8c-0e2a4a656f6b name="Test Tenant for Inventory"
time=2026-01-09T20:37:04.019-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:04.019-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:04.021-03:00 level=INFO msg="world created" world_id=13b2c031-3413-4349-ac0d-e5f1beba7381 name="Test World" tenant_id=ced7387f-5d89-4620-8f8c-0e2a4a656f6b
time=2026-01-09T20:37:04.021-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:04.021-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:04.022-03:00 level=INFO msg="character created" character_id=4d4dda3a-04fd-477c-8f7b-c5ae1fac216a name="Test Character"
time=2026-01-09T20:37:04.022-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:37:04.022-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:04.023-03:00 level=INFO msg="RPG system created" rpg_system_id=f16c5c42-8aca-40a7-917d-4a4898694d38 name="Test System"
time=2026-01-09T20:37:04.023-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:04.024-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-09T20:37:04.027-03:00 level=INFO msg="item added to inventory" character_id=4d4dda3a-04fd-477c-8f7b-c5ae1fac216a item_id=ff1afabf-55c5-44e7-aad4-6c344244002e
time=2026-01-09T20:37:04.028-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=3
time=2026-01-09T20:37:04.028-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_AddItemToInventory (0.32s)
    --- PASS: TestInventoryHandler_AddItemToInventory/successful_add_item (0.01s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-09T20:37:04.321-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:04.321-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:04.321-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:04.322-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T20:37:04.322-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:04.322-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
time=2026-01-09T20:37:04.322-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:04.325-03:00 level=INFO msg="tenant created" tenant_id=8ebc6b5a-2d49-4457-9f5a-6facf79e39ac name="List Test Tenant"
time=2026-01-09T20:37:04.325-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:04.325-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:04.326-03:00 level=INFO msg="world created" world_id=e4f4514d-9954-417d-9faf-37acf442ccb6 name="List Test World" tenant_id=8ebc6b5a-2d49-4457-9f5a-6facf79e39ac
time=2026-01-09T20:37:04.326-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:04.326-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:04.328-03:00 level=INFO msg="character created" character_id=36ecb36e-dc4d-4be7-95be-69a58b9d9eb6 name="List Test Character"
time=2026-01-09T20:37:04.328-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:37:04.328-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:04.329-03:00 level=INFO msg="RPG system created" rpg_system_id=a1a27951-dc1b-40f3-80ed-512c1d8b9dd4 name="List Test System"
time=2026-01-09T20:37:04.329-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:04.330-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-09T20:37:04.332-03:00 level=INFO msg="item added to inventory" character_id=36ecb36e-dc4d-4be7-95be-69a58b9d9eb6 item_id=885b0246-1779-43f0-9e98-87f85666e412
time=2026-01-09T20:37:04.332-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=2
time=2026-01-09T20:37:04.333-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-09T20:37:04.333-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
time=2026-01-09T20:37:04.333-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_ListInventory (0.25s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.01s)
=== RUN   TestInventoryHandler_UpdateItemInInventory
time=2026-01-09T20:37:04.691-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:04.691-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:04.691-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:04.691-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T20:37:04.691-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:04.691-03:00 level=INFO msg="InventoryService registered"
time=2026-01-09T20:37:04.692-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:04.694-03:00 level=INFO msg="tenant created" tenant_id=f652c085-549b-4fd1-adad-488366dc42ad name="Update Item Test Tenant"
time=2026-01-09T20:37:04.694-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:04.694-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:04.695-03:00 level=INFO msg="world created" world_id=8b52e2d1-1489-4331-9100-433c12aebe82 name="Test World" tenant_id=f652c085-549b-4fd1-adad-488366dc42ad
time=2026-01-09T20:37:04.695-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:04.695-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:04.696-03:00 level=INFO msg="character created" character_id=a0b5fe35-b20f-4eeb-876c-a2265cc1ac53 name="Test Character"
time=2026-01-09T20:37:04.696-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:37:04.696-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:04.697-03:00 level=INFO msg="RPG system created" rpg_system_id=5319296e-6f8e-4b66-ac2a-d8de66d79a19 name="Test System"
time=2026-01-09T20:37:04.697-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/successful_update
time=2026-01-09T20:37:04.698-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-09T20:37:04.699-03:00 level=INFO msg="item added to inventory" character_id=a0b5fe35-b20f-4eeb-876c-a2265cc1ac53 item_id=4e0b54e3-7512-4001-b6fc-e480ac04b769
time=2026-01-09T20:37:04.699-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-09T20:37:04.700-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-09T20:37:04.700-03:00 level=INFO msg="character inventory updated" id=11d9892a-d636-4483-9913-0de69907d54c
time=2026-01-09T20:37:04.700-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/non-existing_item
time=2026-01-09T20:37:04.700-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-09T20:37:04.700-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 01635c7b-3764-487c-85cc-301f3a7dc00f"
time=2026-01-09T20:37:04.700-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_UpdateItemInInventory (0.37s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/successful_update (0.00s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/non-existing_item (0.00s)
=== RUN   TestInventoryHandler_DeleteItemFromInventory
time=2026-01-09T20:37:04.923-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:04.923-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:04.923-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:04.923-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T20:37:04.923-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:04.923-03:00 level=INFO msg="InventoryService registered"
time=2026-01-09T20:37:04.923-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:04.926-03:00 level=INFO msg="tenant created" tenant_id=2abcfeb5-06fd-4444-a548-666f697877d3 name="Delete Item Test Tenant"
time=2026-01-09T20:37:04.926-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:04.926-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:04.927-03:00 level=INFO msg="world created" world_id=4b9011d1-182a-45b6-84ed-badeb2a60c59 name="Test World" tenant_id=2abcfeb5-06fd-4444-a548-666f697877d3
time=2026-01-09T20:37:04.927-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:04.927-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:04.928-03:00 level=INFO msg="character created" character_id=3fdb575f-c0bf-4a8f-8046-3c75922a9d9f name="Test Character"
time=2026-01-09T20:37:04.928-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:37:04.928-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:04.929-03:00 level=INFO msg="RPG system created" rpg_system_id=f8b590c3-9bb8-4034-9f9f-7278c642c747 name="Test System"
time=2026-01-09T20:37:04.929-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/successful_delete
time=2026-01-09T20:37:04.930-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-09T20:37:04.932-03:00 level=INFO msg="item added to inventory" character_id=3fdb575f-c0bf-4a8f-8046-3c75922a9d9f item_id=bae57b5f-5cf6-485b-b2d7-b2af640351a5
time=2026-01-09T20:37:04.932-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=2
time=2026-01-09T20:37:04.932-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-09T20:37:04.933-03:00 level=INFO msg="item removed from inventory" id=8823654d-c028-4fca-9747-19ab07e8b9c1
time=2026-01-09T20:37:04.933-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0
time=2026-01-09T20:37:04.933-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-09T20:37:04.933-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item
time=2026-01-09T20:37:04.934-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-09T20:37:04.934-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 04538dac-1678-4597-a3cb-47a1d4abbf7e" id=04538dac-1678-4597-a3cb-47a1d4abbf7e
time=2026-01-09T20:37:04.934-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 04538dac-1678-4597-a3cb-47a1d4abbf7e"
time=2026-01-09T20:37:04.934-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_DeleteItemFromInventory (0.26s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/successful_delete (0.00s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item (0.00s)
=== RUN   TestLocationHandler_CreateLocation
time=2026-01-09T20:37:05.203-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:05.203-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:05.203-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_CreateLocation/successful_creation
time=2026-01-09T20:37:05.204-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:05.207-03:00 level=INFO msg="tenant created" tenant_id=9b0f0755-7825-40bc-9d0e-6fc2ca293e94 name="Test Tenant for Location"
time=2026-01-09T20:37:05.207-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:05.207-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:05.208-03:00 level=INFO msg="world created" world_id=f495215b-1dff-46ec-9d04-dd69195f6352 name="Test World" tenant_id=9b0f0755-7825-40bc-9d0e-6fc2ca293e94
time=2026-01-09T20:37:05.209-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:05.209-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T20:37:05.212-03:00 level=INFO msg="location created" location_id=307cfb35-756d-43cb-9d40-61eaaf564114 name="Test Location"
time=2026-01-09T20:37:05.212-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=3
=== RUN   TestLocationHandler_CreateLocation/empty_name
time=2026-01-09T20:37:05.213-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:05.219-03:00 level=INFO msg="tenant created" tenant_id=9048d362-fbbf-43c6-bb58-037c1d49af6d name="Test Tenant 2"
time=2026-01-09T20:37:05.219-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-09T20:37:05.220-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:05.221-03:00 level=INFO msg="world created" world_id=6369065a-28f6-4b6b-81be-fbda146bb254 name="Test World 2" tenant_id=9048d362-fbbf-43c6-bb58-037c1d49af6d
time=2026-01-09T20:37:05.221-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T20:37:05.221-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T20:37:05.221-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/CreateLocation duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T20:37:05.221-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_CreateLocation (0.26s)
    --- PASS: TestLocationHandler_CreateLocation/successful_creation (0.01s)
    --- PASS: TestLocationHandler_CreateLocation/empty_name (0.01s)
=== RUN   TestLocationHandler_GetLocation
time=2026-01-09T20:37:05.470-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:05.470-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:05.470-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_GetLocation/existing_location
time=2026-01-09T20:37:05.472-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:05.474-03:00 level=INFO msg="tenant created" tenant_id=0b7d1448-9040-463a-bc6e-72d7f42610cf name="Get Test Tenant"
time=2026-01-09T20:37:05.474-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:05.474-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:05.476-03:00 level=INFO msg="world created" world_id=b55e2d28-4be7-4dae-b7b7-8e84376c93ef name="Get Test World" tenant_id=0b7d1448-9040-463a-bc6e-72d7f42610cf
time=2026-01-09T20:37:05.476-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:05.476-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T20:37:05.478-03:00 level=INFO msg="location created" location_id=474b0254-4279-43a8-a0f6-c7dcc9b285bb name="Get Test Location"
time=2026-01-09T20:37:05.478-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-09T20:37:05.478-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-09T20:37:05.478-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/GetLocation duration_ms=0
=== RUN   TestLocationHandler_GetLocation/non-existing_location
time=2026-01-09T20:37:05.478-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:05.479-03:00 level=INFO msg="tenant created" tenant_id=1cc20945-d41d-4b87-9e85-2641b0e444bc name="Non-existing Test Tenant"
time=2026-01-09T20:37:05.479-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:05.479-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-09T20:37:05.479-03:00 level=ERROR msg="failed to get location" error="location not found: 653c973e-df87-4c43-a55e-88bb56f035c2" location_id=653c973e-df87-4c43-a55e-88bb56f035c2
time=2026-01-09T20:37:05.479-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: 653c973e-df87-4c43-a55e-88bb56f035c2"
time=2026-01-09T20:37:05.480-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_GetLocation (0.26s)
    --- PASS: TestLocationHandler_GetLocation/existing_location (0.01s)
    --- PASS: TestLocationHandler_GetLocation/non-existing_location (0.00s)
=== RUN   TestLocationHandler_ListLocations
time=2026-01-09T20:37:05.729-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:05.729-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:05.729-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_ListLocations/list_locations
time=2026-01-09T20:37:05.731-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:05.733-03:00 level=INFO msg="tenant created" tenant_id=f3184262-ffb9-4c73-b866-7a1e383d86f0 name="List Test Tenant"
time=2026-01-09T20:37:05.733-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:05.733-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:05.734-03:00 level=INFO msg="world created" world_id=3af4729e-4fb9-4b8f-900b-315df653eaf3 name="List Test World" tenant_id=f3184262-ffb9-4c73-b866-7a1e383d86f0
time=2026-01-09T20:37:05.734-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:05.735-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T20:37:05.737-03:00 level=INFO msg="location created" location_id=db0f1f2b-e5ff-402c-8609-c52f369c10ab name="Location 1"
time=2026-01-09T20:37:05.737-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=2
time=2026-01-09T20:37:05.737-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T20:37:05.738-03:00 level=INFO msg="location created" location_id=82144f9a-c2a9-4f41-b9e7-8be1ad7a265c name="Location 2"
time=2026-01-09T20:37:05.738-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-09T20:37:05.738-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/ListLocations
time=2026-01-09T20:37:05.739-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/ListLocations duration_ms=0
time=2026-01-09T20:37:05.739-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_ListLocations (0.27s)
    --- PASS: TestLocationHandler_ListLocations/list_locations (0.01s)
=== RUN   TestLocationHandler_UpdateLocation
time=2026-01-09T20:37:05.962-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:05.962-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:05.962-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_UpdateLocation/update_location
time=2026-01-09T20:37:05.964-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:05.967-03:00 level=INFO msg="tenant created" tenant_id=d4462ce9-298a-46d1-bf0e-5fe2302a153f name="Update Test Tenant"
time=2026-01-09T20:37:05.967-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T20:37:05.967-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:05.968-03:00 level=INFO msg="world created" world_id=7912fb10-e974-424e-be08-167908cec20f name="Update Test World" tenant_id=d4462ce9-298a-46d1-bf0e-5fe2302a153f
time=2026-01-09T20:37:05.968-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:05.969-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T20:37:05.971-03:00 level=INFO msg="location created" location_id=ccb9b2d9-564d-48e9-9dde-cb88d22619e7 name="Original Location"
time=2026-01-09T20:37:05.971-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-09T20:37:05.971-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/UpdateLocation
time=2026-01-09T20:37:05.972-03:00 level=INFO msg="location updated" location_id=ccb9b2d9-564d-48e9-9dde-cb88d22619e7 name="Updated Location"
time=2026-01-09T20:37:05.972-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/UpdateLocation duration_ms=0
time=2026-01-09T20:37:05.972-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_UpdateLocation (0.23s)
    --- PASS: TestLocationHandler_UpdateLocation/update_location (0.01s)
=== RUN   TestLocationHandler_DeleteLocation
time=2026-01-09T20:37:06.182-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:06.182-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:06.182-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_DeleteLocation/delete_location
time=2026-01-09T20:37:06.183-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:06.185-03:00 level=INFO msg="tenant created" tenant_id=696a5347-d0b1-4070-a2a8-05ea631d5d33 name="Delete Test Tenant"
time=2026-01-09T20:37:06.185-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:06.186-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:06.191-03:00 level=INFO msg="world created" world_id=f7fbd326-199a-4067-afb0-287de26e2790 name="Delete Test World" tenant_id=696a5347-d0b1-4070-a2a8-05ea631d5d33
time=2026-01-09T20:37:06.191-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=5
time=2026-01-09T20:37:06.192-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T20:37:06.199-03:00 level=INFO msg="location created" location_id=6f7ea7a7-c03e-4351-99ff-765c5653f5be name="Location to Delete"
time=2026-01-09T20:37:06.199-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=7
time=2026-01-09T20:37:06.199-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/DeleteLocation
time=2026-01-09T20:37:06.204-03:00 level=INFO msg="location deleted" location_id=6f7ea7a7-c03e-4351-99ff-765c5653f5be name="Location to Delete"
time=2026-01-09T20:37:06.204-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/DeleteLocation duration_ms=4
time=2026-01-09T20:37:06.204-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-09T20:37:06.204-03:00 level=ERROR msg="failed to get location" error="location not found: 6f7ea7a7-c03e-4351-99ff-765c5653f5be" location_id=6f7ea7a7-c03e-4351-99ff-765c5653f5be
time=2026-01-09T20:37:06.204-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: 6f7ea7a7-c03e-4351-99ff-765c5653f5be"
time=2026-01-09T20:37:06.205-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_DeleteLocation (0.24s)
    --- PASS: TestLocationHandler_DeleteLocation/delete_location (0.02s)
=== RUN   TestRPGClassHandler_CreateRPGClass
time=2026-01-09T20:37:06.405-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:06.405-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:06.405-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:06.405-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_CreateRPGClass/successful_creation
time=2026-01-09T20:37:06.406-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:06.410-03:00 level=INFO msg="tenant created" tenant_id=297f3b46-080f-4be2-a9c5-eae0609d2f7e name="Test Tenant for RPG Class"
time=2026-01-09T20:37:06.410-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T20:37:06.411-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:06.413-03:00 level=INFO msg="RPG system created" rpg_system_id=2b791fa8-4207-436b-9905-b9b2c1ed2192 name="Test System"
time=2026-01-09T20:37:06.413-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:06.413-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:06.414-03:00 level=INFO msg="RPG class created" class_id=3d8e4a1c-f589-4f89-a63c-f342d118dcb4 name=Warrior
time=2026-01-09T20:37:06.414-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_CreateRPGClass/empty_name
time=2026-01-09T20:37:06.415-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:06.416-03:00 level=INFO msg="tenant created" tenant_id=89635f4a-8498-49ab-9b8d-914de0b3745f name="Test Tenant 2"
time=2026-01-09T20:37:06.416-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:06.416-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:06.416-03:00 level=INFO msg="RPG system created" rpg_system_id=b2f24e10-ada0-4fff-8a8e-c5da2ac120a4 name="Test System 2"
time=2026-01-09T20:37:06.416-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:06.416-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:06.416-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T20:37:06.417-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_CreateRPGClass (0.20s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/successful_creation (0.01s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/empty_name (0.00s)
=== RUN   TestRPGClassHandler_GetRPGClass
time=2026-01-09T20:37:06.697-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:06.697-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:06.697-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:06.697-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_GetRPGClass/existing_RPG_class
time=2026-01-09T20:37:06.699-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:06.702-03:00 level=INFO msg="tenant created" tenant_id=71644637-e8f7-4421-8e9a-7792e506f344 name="Get Test Tenant"
time=2026-01-09T20:37:06.702-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:06.702-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:06.703-03:00 level=INFO msg="RPG system created" rpg_system_id=d0ee7cbc-b4f6-406e-b7f6-6ab502977918 name="Get Test System"
time=2026-01-09T20:37:06.703-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:06.703-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:06.704-03:00 level=INFO msg="RPG class created" class_id=fbb4f7f8-615c-4308-ba8b-594f82a71614 name="Get Test Class"
time=2026-01-09T20:37:06.704-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-09T20:37:06.705-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-09T20:37:06.705-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0
=== RUN   TestRPGClassHandler_GetRPGClass/non-existing_RPG_class
time=2026-01-09T20:37:06.705-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:06.706-03:00 level=INFO msg="tenant created" tenant_id=b1924854-dacf-474d-b030-ea2dc72afa1e name="Non-existing Test Tenant"
time=2026-01-09T20:37:06.706-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:06.706-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-09T20:37:06.706-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: ea7b5b2f-28da-46de-ab99-5881591bec85" class_id=ea7b5b2f-28da-46de-ab99-5881591bec85
time=2026-01-09T20:37:06.706-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: ea7b5b2f-28da-46de-ab99-5881591bec85"
time=2026-01-09T20:37:06.706-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_GetRPGClass (0.44s)
    --- PASS: TestRPGClassHandler_GetRPGClass/existing_RPG_class (0.01s)
    --- PASS: TestRPGClassHandler_GetRPGClass/non-existing_RPG_class (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClasses
time=2026-01-09T20:37:07.187-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:07.187-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:07.187-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:07.187-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_ListRPGClasses/list_RPG_classes
time=2026-01-09T20:37:07.188-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:07.190-03:00 level=INFO msg="tenant created" tenant_id=ac6aee5e-e7f2-40cb-b73e-a8354d5be21d name="List Test Tenant"
time=2026-01-09T20:37:07.190-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:07.190-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:07.191-03:00 level=INFO msg="RPG system created" rpg_system_id=7480da67-6ed6-4dbb-abe1-263e111b82f8 name="List Test System"
time=2026-01-09T20:37:07.191-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:07.191-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:07.192-03:00 level=INFO msg="RPG class created" class_id=e1df045c-b7c5-4ec1-b236-c39e62e0864b name="Class 1"
time=2026-01-09T20:37:07.192-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-09T20:37:07.192-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:07.193-03:00 level=INFO msg="RPG class created" class_id=d2700a55-c5a8-404a-a1c1-f58f53d17b36 name="Class 2"
time=2026-01-09T20:37:07.193-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-09T20:37:07.193-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClasses
time=2026-01-09T20:37:07.193-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClasses duration_ms=0
time=2026-01-09T20:37:07.194-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClasses (0.34s)
    --- PASS: TestRPGClassHandler_ListRPGClasses/list_RPG_classes (0.01s)
=== RUN   TestRPGClassHandler_UpdateRPGClass
time=2026-01-09T20:37:07.460-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:07.460-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:07.460-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:07.460-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_UpdateRPGClass/update_RPG_class
time=2026-01-09T20:37:07.461-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:07.463-03:00 level=INFO msg="tenant created" tenant_id=e8961a79-a2a0-408d-8f42-2f4abb1ad071 name="Update Test Tenant"
time=2026-01-09T20:37:07.463-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:07.463-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:07.464-03:00 level=INFO msg="RPG system created" rpg_system_id=8abed052-0134-4768-9c16-2afdd9fad8f9 name="Update Test System"
time=2026-01-09T20:37:07.464-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:07.464-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:07.466-03:00 level=INFO msg="RPG class created" class_id=8948aacb-20b1-4fe9-ae86-5e08a3d6dbfd name="Original Class"
time=2026-01-09T20:37:07.466-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=2
time=2026-01-09T20:37:07.468-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/UpdateRPGClass
time=2026-01-09T20:37:07.469-03:00 level=INFO msg="RPG class updated" class_id=8948aacb-20b1-4fe9-ae86-5e08a3d6dbfd
time=2026-01-09T20:37:07.469-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/UpdateRPGClass duration_ms=0
time=2026-01-09T20:37:07.469-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_UpdateRPGClass (0.27s)
    --- PASS: TestRPGClassHandler_UpdateRPGClass/update_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_DeleteRPGClass
time=2026-01-09T20:37:07.739-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:07.739-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:07.739-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:07.739-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_DeleteRPGClass/delete_RPG_class
time=2026-01-09T20:37:07.739-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:07.741-03:00 level=INFO msg="tenant created" tenant_id=a15feb7d-5d92-478f-a9e7-7924ed1dd503 name="Delete Test Tenant"
time=2026-01-09T20:37:07.741-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:07.742-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:07.743-03:00 level=INFO msg="RPG system created" rpg_system_id=3c18a62f-2fa6-4a0f-a76a-593c28a3d621 name="Delete Test System"
time=2026-01-09T20:37:07.743-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:07.743-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:07.745-03:00 level=INFO msg="RPG class created" class_id=b04c7548-dea2-4155-89db-f37e74833222 name="Class to Delete"
time=2026-01-09T20:37:07.745-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=2
time=2026-01-09T20:37:07.746-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/DeleteRPGClass
time=2026-01-09T20:37:07.748-03:00 level=INFO msg="RPG class deleted" class_id=b04c7548-dea2-4155-89db-f37e74833222
time=2026-01-09T20:37:07.748-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/DeleteRPGClass duration_ms=2
time=2026-01-09T20:37:07.748-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-09T20:37:07.749-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: b04c7548-dea2-4155-89db-f37e74833222" class_id=b04c7548-dea2-4155-89db-f37e74833222
time=2026-01-09T20:37:07.749-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: b04c7548-dea2-4155-89db-f37e74833222"
time=2026-01-09T20:37:07.750-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_DeleteRPGClass (0.29s)
    --- PASS: TestRPGClassHandler_DeleteRPGClass/delete_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_AddSkillToClass
time=2026-01-09T20:37:08.029-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:08.029-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:08.029-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:08.029-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_AddSkillToClass/add_skill_to_class
time=2026-01-09T20:37:08.030-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:08.034-03:00 level=INFO msg="tenant created" tenant_id=e6d142f2-5efd-4378-8232-3abdfa0a6245 name="Add Skill Test Tenant"
time=2026-01-09T20:37:08.034-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-09T20:37:08.036-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:08.038-03:00 level=INFO msg="RPG system created" rpg_system_id=5c4446e4-ab2e-48cc-addd-f3c45bff897e name="Add Skill Test System"
time=2026-01-09T20:37:08.038-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:08.038-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:08.040-03:00 level=INFO msg="RPG class created" class_id=3e88c3d1-d4cf-46df-ab97-1022a7589572 name=Warrior
time=2026-01-09T20:37:08.040-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-09T20:37:08.040-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:08.041-03:00 level=INFO msg="skill created" skill_id=dd3b7a3c-e87f-4329-ad4a-86a0c90c9dc8 name="Sword Mastery"
time=2026-01-09T20:37:08.041-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-09T20:37:08.041-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T20:37:08.043-03:00 level=INFO msg="skill added to class" class_id=3e88c3d1-d4cf-46df-ab97-1022a7589572 skill_id=dd3b7a3c-e87f-4329-ad4a-86a0c90c9dc8
time=2026-01-09T20:37:08.043-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-09T20:37:08.043-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_AddSkillToClass (0.28s)
    --- PASS: TestRPGClassHandler_AddSkillToClass/add_skill_to_class (0.01s)
=== RUN   TestRPGClassHandler_RemoveSkillFromClass
time=2026-01-09T20:37:08.249-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:08.249-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:08.249-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:08.249-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-09T20:37:08.250-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:08.257-03:00 level=INFO msg="tenant created" tenant_id=76eabe18-4456-491f-a43c-59a669e8f26f name="Remove Skill Test Tenant"
time=2026-01-09T20:37:08.257-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=7
time=2026-01-09T20:37:08.257-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:08.262-03:00 level=INFO msg="RPG system created" rpg_system_id=41a42a8c-b7ee-41d0-b60f-a275453e2140 name="Remove Skill Test System"
time=2026-01-09T20:37:08.262-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=4
time=2026-01-09T20:37:08.262-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:08.263-03:00 level=INFO msg="RPG class created" class_id=01ed7663-ccb3-4c71-b7da-532487c966fe name=Warrior
time=2026-01-09T20:37:08.263-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-09T20:37:08.263-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:08.264-03:00 level=INFO msg="skill created" skill_id=15030a92-84ec-416e-aa5a-234b7a66ca69 name="Sword Mastery"
time=2026-01-09T20:37:08.264-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/successful_remove
time=2026-01-09T20:37:08.264-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T20:37:08.266-03:00 level=INFO msg="skill added to class" class_id=01ed7663-ccb3-4c71-b7da-532487c966fe skill_id=15030a92-84ec-416e-aa5a-234b7a66ca69
time=2026-01-09T20:37:08.266-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-09T20:37:08.266-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-09T20:37:08.267-03:00 level=INFO msg="skill removed from class" class_id=01ed7663-ccb3-4c71-b7da-532487c966fe skill_id=15030a92-84ec-416e-aa5a-234b7a66ca69
time=2026-01-09T20:37:08.267-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0
time=2026-01-09T20:37:08.267-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-09T20:37:08.268-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill
time=2026-01-09T20:37:08.268-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-09T20:37:08.268-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class_skill not found: 01ed7663-ccb3-4c71-b7da-532487c966fe/14269a6b-5246-4abe-9c2e-280d4de005e1"
time=2026-01-09T20:37:08.268-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_RemoveSkillFromClass (0.24s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/successful_remove (0.00s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClassSkills
time=2026-01-09T20:37:08.574-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:08.574-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:08.574-03:00 level=INFO msg="SkillService registered"
time=2026-01-09T20:37:08.574-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-09T20:37:08.575-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:08.580-03:00 level=INFO msg="tenant created" tenant_id=ec359d82-a3c6-493e-a46b-0a1edf7a1dba name="List Skills Test Tenant"
time=2026-01-09T20:37:08.580-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-09T20:37:08.581-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:08.582-03:00 level=INFO msg="RPG system created" rpg_system_id=bdd65168-8fad-402d-ab78-937ce0090f87 name="List Skills Test System"
time=2026-01-09T20:37:08.582-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:08.582-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:08.583-03:00 level=INFO msg="RPG class created" class_id=d6649b3c-2a28-43ff-9992-804255311388 name=Warrior
time=2026-01-09T20:37:08.583-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills
time=2026-01-09T20:37:08.584-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:08.587-03:00 level=INFO msg="skill created" skill_id=26be183e-96f5-4421-b67e-3a51e6c3e7fe name="Sword Mastery"
time=2026-01-09T20:37:08.587-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=2
time=2026-01-09T20:37:08.587-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:08.587-03:00 level=INFO msg="skill created" skill_id=dda4d8f7-a46b-43e8-9d0a-6d3eff1b9248 name="Shield Defense"
time=2026-01-09T20:37:08.587-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-09T20:37:08.588-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:08.588-03:00 level=INFO msg="skill created" skill_id=c424de2d-e349-4d27-8686-38ce45a7f6d5 name="Combat Tactics"
time=2026-01-09T20:37:08.588-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-09T20:37:08.588-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T20:37:08.590-03:00 level=INFO msg="skill added to class" class_id=d6649b3c-2a28-43ff-9992-804255311388 skill_id=26be183e-96f5-4421-b67e-3a51e6c3e7fe
time=2026-01-09T20:37:08.590-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-09T20:37:08.590-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T20:37:08.591-03:00 level=INFO msg="skill added to class" class_id=d6649b3c-2a28-43ff-9992-804255311388 skill_id=dda4d8f7-a46b-43e8-9d0a-6d3eff1b9248
time=2026-01-09T20:37:08.591-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-09T20:37:08.592-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-09T20:37:08.592-03:00 level=INFO msg="skill added to class" class_id=d6649b3c-2a28-43ff-9992-804255311388 skill_id=c424de2d-e349-4d27-8686-38ce45a7f6d5
time=2026-01-09T20:37:08.592-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-09T20:37:08.592-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-09T20:37:08.593-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class
time=2026-01-09T20:37:08.593-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-09T20:37:08.593-03:00 level=INFO msg="RPG class created" class_id=8a1b3da7-e0e7-4d55-a11d-83c3940b4aeb name=Mage
time=2026-01-09T20:37:08.593-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-09T20:37:08.594-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-09T20:37:08.594-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
time=2026-01-09T20:37:08.594-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClassSkills (0.31s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills (0.01s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class (0.00s)
=== RUN   TestRPGSystemHandler_CreateRPGSystem
time=2026-01-09T20:37:08.849-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:08.849-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/successful_creation
time=2026-01-09T20:37:08.851-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:08.853-03:00 level=INFO msg="tenant created" tenant_id=0120739e-9e47-4851-a7fd-58c6a73fc5b3 name="Test Tenant for RPG System"
time=2026-01-09T20:37:08.853-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:08.853-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:08.855-03:00 level=INFO msg="RPG system created" rpg_system_id=a8af02f4-623c-49a2-8b9f-1bd96cdb50f8 name="D&D 5e"
time=2026-01-09T20:37:08.855-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_name
time=2026-01-09T20:37:08.855-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:08.856-03:00 level=INFO msg="tenant created" tenant_id=784a77d4-adcc-44b7-8453-9dfabb33312f name="Test Tenant 2"
time=2026-01-09T20:37:08.856-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:08.856-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:08.856-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema
time=2026-01-09T20:37:08.856-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:08.857-03:00 level=INFO msg="tenant created" tenant_id=eddb4e26-2826-4279-b7cf-f7bceb9c4d37 name="Test Tenant 3"
time=2026-01-09T20:37:08.857-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:08.857-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:08.857-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = base_stats_schema is required"
time=2026-01-09T20:37:08.857-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_CreateRPGSystem (0.29s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_name (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema (0.00s)
=== RUN   TestRPGSystemHandler_GetRPGSystem
time=2026-01-09T20:37:09.161-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:09.161-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_GetRPGSystem/existing_RPG_system
time=2026-01-09T20:37:09.162-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:09.173-03:00 level=INFO msg="tenant created" tenant_id=eac38573-7d1b-4028-abc2-c2ce79ecc5d3 name="Get Test Tenant"
time=2026-01-09T20:37:09.173-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=10
time=2026-01-09T20:37:09.173-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:09.175-03:00 level=INFO msg="RPG system created" rpg_system_id=107acf01-736c-444f-9dcc-408db424f52c name="Get Test System"
time=2026-01-09T20:37:09.175-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:09.175-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-09T20:37:09.175-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0
=== RUN   TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system
time=2026-01-09T20:37:09.175-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:09.178-03:00 level=INFO msg="tenant created" tenant_id=78ed761d-d2f5-4a94-9767-6d6261f37b9a name="Non-existing Test Tenant"
time=2026-01-09T20:37:09.178-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T20:37:09.179-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-09T20:37:09.181-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 3f30c243-29b3-4be8-968e-741d032d61d5" rpg_system_id=3f30c243-29b3-4be8-968e-741d032d61d5
time=2026-01-09T20:37:09.181-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=1 error="rpc error: code = NotFound desc = rpg_system not found: 3f30c243-29b3-4be8-968e-741d032d61d5"
time=2026-01-09T20:37:09.181-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_GetRPGSystem (0.32s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/existing_RPG_system (0.01s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system (0.01s)
=== RUN   TestRPGSystemHandler_ListRPGSystems
time=2026-01-09T20:37:09.461-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:09.461-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_ListRPGSystems/list_RPG_systems
time=2026-01-09T20:37:09.463-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:09.465-03:00 level=INFO msg="tenant created" tenant_id=aab7acc9-b3ce-4731-9ab9-61cf74eab8e8 name="List Test Tenant"
time=2026-01-09T20:37:09.465-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:09.466-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:09.469-03:00 level=INFO msg="RPG system created" rpg_system_id=8236963c-79b1-40c4-9f68-1aa2874e1165 name="System 1"
time=2026-01-09T20:37:09.469-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=3
time=2026-01-09T20:37:09.469-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:09.470-03:00 level=INFO msg="RPG system created" rpg_system_id=0918c308-beae-4a77-81e1-b0fcc8679d82 name="System 2"
time=2026-01-09T20:37:09.470-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:09.470-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/ListRPGSystems
time=2026-01-09T20:37:09.470-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/ListRPGSystems duration_ms=0
time=2026-01-09T20:37:09.471-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_ListRPGSystems (0.28s)
    --- PASS: TestRPGSystemHandler_ListRPGSystems/list_RPG_systems (0.01s)
=== RUN   TestRPGSystemHandler_UpdateRPGSystem
time=2026-01-09T20:37:09.699-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:09.699-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system
time=2026-01-09T20:37:09.700-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:09.702-03:00 level=INFO msg="tenant created" tenant_id=9cc62557-b727-4c49-ba84-0a6061caecc7 name="Update Test Tenant"
time=2026-01-09T20:37:09.702-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:09.702-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:09.703-03:00 level=INFO msg="RPG system created" rpg_system_id=c9faf7d1-a8ec-4452-80d9-41ea8a195e8f name="Original System"
time=2026-01-09T20:37:09.703-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:09.703-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/UpdateRPGSystem
time=2026-01-09T20:37:09.704-03:00 level=INFO msg="RPG system updated" rpg_system_id=c9faf7d1-a8ec-4452-80d9-41ea8a195e8f
time=2026-01-09T20:37:09.704-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/UpdateRPGSystem duration_ms=0
time=2026-01-09T20:37:09.704-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_UpdateRPGSystem (0.22s)
    --- PASS: TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system (0.01s)
=== RUN   TestRPGSystemHandler_DeleteRPGSystem
time=2026-01-09T20:37:09.929-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:09.929-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system
time=2026-01-09T20:37:09.930-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:09.932-03:00 level=INFO msg="tenant created" tenant_id=0079a636-8656-45ba-9767-b30167d5acdb name="Delete Test Tenant"
time=2026-01-09T20:37:09.932-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:09.932-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:09.933-03:00 level=INFO msg="RPG system created" rpg_system_id=a9a6de3c-5495-43f3-8652-3bd433c875af name="System to Delete"
time=2026-01-09T20:37:09.933-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:09.934-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/DeleteRPGSystem
time=2026-01-09T20:37:09.936-03:00 level=INFO msg="RPG system deleted" rpg_system_id=a9a6de3c-5495-43f3-8652-3bd433c875af
time=2026-01-09T20:37:09.936-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/DeleteRPGSystem duration_ms=2
time=2026-01-09T20:37:09.937-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-09T20:37:09.937-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: a9a6de3c-5495-43f3-8652-3bd433c875af" rpg_system_id=a9a6de3c-5495-43f3-8652-3bd433c875af
time=2026-01-09T20:37:09.937-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: a9a6de3c-5495-43f3-8652-3bd433c875af"
time=2026-01-09T20:37:09.937-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_DeleteRPGSystem (0.26s)
    --- PASS: TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system (0.01s)
=== RUN   TestSceneHandler_CreateScene
time=2026-01-09T20:37:10.307-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:10.307-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:10.307-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:10.307-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:10.307-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:10.307-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:10.307-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:10.309-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:10.314-03:00 level=INFO msg="tenant created" tenant_id=22353e5d-7c4e-4a92-bc28-288476038f10 name="Test Tenant for Scene"
time=2026-01-09T20:37:10.314-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-09T20:37:10.314-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:10.315-03:00 level=INFO msg="world created" world_id=65996169-126a-456f-88a8-209b8c2c7f27 name="World of Test Story" tenant_id=22353e5d-7c4e-4a92-bc28-288476038f10
time=2026-01-09T20:37:10.315-03:00 level=INFO msg="created implicit world for story" world_id=65996169-126a-456f-88a8-209b8c2c7f27 story_title="Test Story"
time=2026-01-09T20:37:10.317-03:00 level=INFO msg="story created" story_id=ac6bdd1d-06c2-481d-9c33-048f9418bdd2 title="Test Story" tenant_id=22353e5d-7c4e-4a92-bc28-288476038f10
time=2026-01-09T20:37:10.317-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:37:10.317-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:37:10.318-03:00 level=INFO msg="chapter created" chapter_id=8fcd9c80-f63b-4b1b-b1a0-37dad07f703e story_id=ac6bdd1d-06c2-481d-9c33-048f9418bdd2 tenant_id=22353e5d-7c4e-4a92-bc28-288476038f10
time=2026-01-09T20:37:10.318-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_CreateScene/successful_creation_with_chapter
time=2026-01-09T20:37:10.318-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:10.320-03:00 level=INFO msg="scene created" scene_id=70e7be16-3ea4-443a-9e8f-1e26891767ec story_id=ac6bdd1d-06c2-481d-9c33-048f9418bdd2 tenant_id=22353e5d-7c4e-4a92-bc28-288476038f10
time=2026-01-09T20:37:10.320-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_CreateScene/successful_creation_without_chapter
time=2026-01-09T20:37:10.320-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:10.320-03:00 level=INFO msg="scene created" scene_id=50535502-c748-4bf3-9331-aa2800828ca8 story_id=ac6bdd1d-06c2-481d-9c33-048f9418bdd2 tenant_id=22353e5d-7c4e-4a92-bc28-288476038f10
time=2026-01-09T20:37:10.320-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_CreateScene/invalid_story_id
time=2026-01-09T20:37:10.321-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:10.321-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = NotFound desc = story not found: b357a572-a517-4f5b-a1be-4d537eedcf96"
=== RUN   TestSceneHandler_CreateScene/invalid_order_num
time=2026-01-09T20:37:10.321-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:10.321-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-09T20:37:10.321-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_CreateScene (0.41s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_with_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_without_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_story_id (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_order_num (0.00s)
=== RUN   TestSceneHandler_GetScene
time=2026-01-09T20:37:10.617-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:10.617-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:10.617-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:10.617-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:10.617-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:10.617-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:10.617-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:10.618-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:10.620-03:00 level=INFO msg="tenant created" tenant_id=a7c0fe78-9f03-4841-b8eb-0ad8972f697f name="Test Tenant for Get Scene"
time=2026-01-09T20:37:10.620-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:10.621-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:10.622-03:00 level=INFO msg="world created" world_id=c6efabe8-552f-43f6-aa6b-056605477b23 name="World of Test Story" tenant_id=a7c0fe78-9f03-4841-b8eb-0ad8972f697f
time=2026-01-09T20:37:10.622-03:00 level=INFO msg="created implicit world for story" world_id=c6efabe8-552f-43f6-aa6b-056605477b23 story_title="Test Story"
time=2026-01-09T20:37:10.623-03:00 level=INFO msg="story created" story_id=3289c09f-6df2-4a8d-9b61-3aedf3a48474 title="Test Story" tenant_id=a7c0fe78-9f03-4841-b8eb-0ad8972f697f
time=2026-01-09T20:37:10.623-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_GetScene/existing_scene
time=2026-01-09T20:37:10.623-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:10.624-03:00 level=INFO msg="scene created" scene_id=a8027584-a2d1-4fb0-b129-c99dff510d24 story_id=3289c09f-6df2-4a8d-9b61-3aedf3a48474 tenant_id=a7c0fe78-9f03-4841-b8eb-0ad8972f697f
time=2026-01-09T20:37:10.624-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T20:37:10.625-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-09T20:37:10.625-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetScene duration_ms=0
=== RUN   TestSceneHandler_GetScene/non-existing_scene
time=2026-01-09T20:37:10.625-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-09T20:37:10.626-03:00 level=ERROR msg="failed to get scene" error="scene not found: 0ac5476b-2f33-43fd-8f9b-4a8eb42cf957" scene_id=0ac5476b-2f33-43fd-8f9b-4a8eb42cf957 tenant_id=a7c0fe78-9f03-4841-b8eb-0ad8972f697f
time=2026-01-09T20:37:10.626-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetScene duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 0ac5476b-2f33-43fd-8f9b-4a8eb42cf957"
time=2026-01-09T20:37:10.626-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetScene (0.26s)
    --- PASS: TestSceneHandler_GetScene/existing_scene (0.00s)
    --- PASS: TestSceneHandler_GetScene/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_UpdateScene
time=2026-01-09T20:37:10.941-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:10.941-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:10.941-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:10.941-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:10.941-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:10.941-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:10.941-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:10.942-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:10.944-03:00 level=INFO msg="tenant created" tenant_id=e6ba262c-05c6-4a11-b488-0eebb1b1573b name="Test Tenant for Update Scene"
time=2026-01-09T20:37:10.944-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:10.945-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:10.946-03:00 level=INFO msg="world created" world_id=d692e82f-9dd6-49db-8d47-69f02adceb27 name="World of Test Story" tenant_id=e6ba262c-05c6-4a11-b488-0eebb1b1573b
time=2026-01-09T20:37:10.946-03:00 level=INFO msg="created implicit world for story" world_id=d692e82f-9dd6-49db-8d47-69f02adceb27 story_title="Test Story"
time=2026-01-09T20:37:10.948-03:00 level=INFO msg="story created" story_id=665e35d5-e6c0-4a6b-880d-df1b710d2ecf title="Test Story" tenant_id=e6ba262c-05c6-4a11-b488-0eebb1b1573b
time=2026-01-09T20:37:10.948-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestSceneHandler_UpdateScene/successful_update
time=2026-01-09T20:37:10.949-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:10.950-03:00 level=INFO msg="scene created" scene_id=d13d2cc7-af46-47b8-a451-c9b07334f38c story_id=665e35d5-e6c0-4a6b-880d-df1b710d2ecf tenant_id=e6ba262c-05c6-4a11-b488-0eebb1b1573b
time=2026-01-09T20:37:10.950-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T20:37:10.950-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/UpdateScene
time=2026-01-09T20:37:10.951-03:00 level=INFO msg="scene updated" scene_id=d13d2cc7-af46-47b8-a451-c9b07334f38c tenant_id=e6ba262c-05c6-4a11-b488-0eebb1b1573b
time=2026-01-09T20:37:10.951-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/UpdateScene duration_ms=1
time=2026-01-09T20:37:10.952-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_UpdateScene (0.33s)
    --- PASS: TestSceneHandler_UpdateScene/successful_update (0.00s)
=== RUN   TestSceneHandler_MoveScene
time=2026-01-09T20:37:11.217-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:11.217-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:11.217-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:11.217-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:11.218-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:11.218-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:11.218-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:11.219-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:11.222-03:00 level=INFO msg="tenant created" tenant_id=342e2c5c-924f-4dd9-92de-1f2a4f21a1b0 name="Test Tenant for Move Scene"
time=2026-01-09T20:37:11.222-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:11.222-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:11.224-03:00 level=INFO msg="world created" world_id=9a535e52-2ee0-461c-89c7-9dc2a7265786 name="World of Test Story" tenant_id=342e2c5c-924f-4dd9-92de-1f2a4f21a1b0
time=2026-01-09T20:37:11.224-03:00 level=INFO msg="created implicit world for story" world_id=9a535e52-2ee0-461c-89c7-9dc2a7265786 story_title="Test Story"
time=2026-01-09T20:37:11.225-03:00 level=INFO msg="story created" story_id=d61c0b0c-32c5-4552-9fd6-ed65be6351c1 title="Test Story" tenant_id=342e2c5c-924f-4dd9-92de-1f2a4f21a1b0
time=2026-01-09T20:37:11.225-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-09T20:37:11.225-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:37:11.227-03:00 level=INFO msg="chapter created" chapter_id=87b22233-ef29-4d1a-a289-467bfa9156d0 story_id=d61c0b0c-32c5-4552-9fd6-ed65be6351c1 tenant_id=342e2c5c-924f-4dd9-92de-1f2a4f21a1b0
time=2026-01-09T20:37:11.227-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=2
time=2026-01-09T20:37:11.228-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-09T20:37:11.228-03:00 level=INFO msg="chapter created" chapter_id=ca556830-4c7e-4c4a-98af-83aa318baa78 story_id=d61c0b0c-32c5-4552-9fd6-ed65be6351c1 tenant_id=342e2c5c-924f-4dd9-92de-1f2a4f21a1b0
time=2026-01-09T20:37:11.228-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_different_chapter
time=2026-01-09T20:37:11.228-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:11.229-03:00 level=INFO msg="scene created" scene_id=107e35aa-c84b-4428-99bb-5648a2213307 story_id=d61c0b0c-32c5-4552-9fd6-ed65be6351c1 tenant_id=342e2c5c-924f-4dd9-92de-1f2a4f21a1b0
time=2026-01-09T20:37:11.229-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T20:37:11.230-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-09T20:37:11.231-03:00 level=INFO msg="scene moved" scene_id=107e35aa-c84b-4428-99bb-5648a2213307 new_chapter_id=ca556830-4c7e-4c4a-98af-83aa318baa78 tenant_id=342e2c5c-924f-4dd9-92de-1f2a4f21a1b0
time=2026-01-09T20:37:11.231-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_no_chapter
time=2026-01-09T20:37:11.231-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:11.231-03:00 level=INFO msg="scene created" scene_id=35f39dac-153a-464b-9d69-6c649cf2e479 story_id=d61c0b0c-32c5-4552-9fd6-ed65be6351c1 tenant_id=342e2c5c-924f-4dd9-92de-1f2a4f21a1b0
time=2026-01-09T20:37:11.232-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T20:37:11.232-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-09T20:37:11.232-03:00 level=INFO msg="scene moved" scene_id=35f39dac-153a-464b-9d69-6c649cf2e479 new_chapter_id=<nil> tenant_id=342e2c5c-924f-4dd9-92de-1f2a4f21a1b0
time=2026-01-09T20:37:11.232-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
time=2026-01-09T20:37:11.232-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_MoveScene (0.28s)
    --- PASS: TestSceneHandler_MoveScene/move_to_different_chapter (0.00s)
    --- PASS: TestSceneHandler_MoveScene/move_to_no_chapter (0.00s)
=== RUN   TestSceneHandler_ListScenesByStory
time=2026-01-09T20:37:11.499-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:11.499-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:11.499-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:11.499-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:11.499-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:11.499-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:11.499-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:11.500-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:11.507-03:00 level=INFO msg="tenant created" tenant_id=a708283d-12a8-4949-9424-386ef07caf35 name="Test Tenant for List Scenes"
time=2026-01-09T20:37:11.507-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-09T20:37:11.507-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:11.508-03:00 level=INFO msg="world created" world_id=67203e63-1700-4d7d-8eca-c2f0c1cc7d40 name="World of Test Story" tenant_id=a708283d-12a8-4949-9424-386ef07caf35
time=2026-01-09T20:37:11.508-03:00 level=INFO msg="created implicit world for story" world_id=67203e63-1700-4d7d-8eca-c2f0c1cc7d40 story_title="Test Story"
time=2026-01-09T20:37:11.510-03:00 level=INFO msg="story created" story_id=80ebdc20-d5c7-41e5-abcb-418a2b84c7f5 title="Test Story" tenant_id=a708283d-12a8-4949-9424-386ef07caf35
time=2026-01-09T20:37:11.510-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_ListScenesByStory/list_scenes_by_story
time=2026-01-09T20:37:11.510-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:11.511-03:00 level=INFO msg="scene created" scene_id=b0c6de7e-4c5b-461d-9bca-1f8c5f1d10d7 story_id=80ebdc20-d5c7-41e5-abcb-418a2b84c7f5 tenant_id=a708283d-12a8-4949-9424-386ef07caf35
time=2026-01-09T20:37:11.511-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-09T20:37:11.511-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:11.512-03:00 level=INFO msg="scene created" scene_id=f6a19f63-6a4a-4d47-8b98-1522dd776d4c story_id=80ebdc20-d5c7-41e5-abcb-418a2b84c7f5 tenant_id=a708283d-12a8-4949-9424-386ef07caf35
time=2026-01-09T20:37:11.512-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T20:37:11.512-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:11.512-03:00 level=INFO msg="scene created" scene_id=a2592a33-48f0-40ff-9771-61b03f1b455e story_id=80ebdc20-d5c7-41e5-abcb-418a2b84c7f5 tenant_id=a708283d-12a8-4949-9424-386ef07caf35
time=2026-01-09T20:37:11.512-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T20:37:11.512-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/ListScenesByStory
time=2026-01-09T20:37:11.513-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/ListScenesByStory duration_ms=0
time=2026-01-09T20:37:11.514-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_ListScenesByStory (0.30s)
    --- PASS: TestSceneHandler_ListScenesByStory/list_scenes_by_story (0.00s)
=== RUN   TestSceneHandler_DeleteScene
time=2026-01-09T20:37:11.800-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:11.800-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:11.800-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:11.800-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:11.800-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:11.800-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:11.800-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-09T20:37:11.802-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:11.804-03:00 level=INFO msg="tenant created" tenant_id=36280b5d-e5f8-4cad-b712-adac528ebc3a name="Test Tenant for Delete Scene"
time=2026-01-09T20:37:11.804-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:11.805-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:11.807-03:00 level=INFO msg="world created" world_id=dc7102a4-08b3-4796-b359-ac275f03e077 name="World of Test Story" tenant_id=36280b5d-e5f8-4cad-b712-adac528ebc3a
time=2026-01-09T20:37:11.807-03:00 level=INFO msg="created implicit world for story" world_id=dc7102a4-08b3-4796-b359-ac275f03e077 story_title="Test Story"
time=2026-01-09T20:37:11.808-03:00 level=INFO msg="story created" story_id=ef5269d6-b8c5-4f55-9e9c-f2513baa55b0 title="Test Story" tenant_id=36280b5d-e5f8-4cad-b712-adac528ebc3a
time=2026-01-09T20:37:11.808-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestSceneHandler_DeleteScene/successful_delete
time=2026-01-09T20:37:11.809-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:11.811-03:00 level=INFO msg="scene created" scene_id=be05091b-37d6-49e5-8ca0-7edac373a5a0 story_id=ef5269d6-b8c5-4f55-9e9c-f2513baa55b0 tenant_id=36280b5d-e5f8-4cad-b712-adac528ebc3a
time=2026-01-09T20:37:11.811-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
time=2026-01-09T20:37:11.811-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/DeleteScene
time=2026-01-09T20:37:11.814-03:00 level=INFO msg="scene deleted" scene_id=be05091b-37d6-49e5-8ca0-7edac373a5a0 tenant_id=36280b5d-e5f8-4cad-b712-adac528ebc3a
time=2026-01-09T20:37:11.814-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/DeleteScene duration_ms=2
time=2026-01-09T20:37:11.814-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_DeleteScene (0.28s)
    --- PASS: TestSceneHandler_DeleteScene/successful_delete (0.01s)
=== RUN   TestSceneHandler_AddSceneReference
time=2026-01-09T20:37:12.095-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:12.095-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:12.095-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:12.095-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:12.095-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:12.095-03:00 level=INFO msg="LocationService registered"
time=2026-01-09T20:37:12.095-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:12.095-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T20:37:12.097-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:12.101-03:00 level=INFO msg="tenant created" tenant_id=73d82882-7473-405f-9b2d-9f529f04a66d name="Test Tenant for Scene References"
time=2026-01-09T20:37:12.101-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T20:37:12.101-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:12.104-03:00 level=INFO msg="world created" world_id=78e81825-f48b-4dd4-97e3-20247594689f name="Test World" tenant_id=73d82882-7473-405f-9b2d-9f529f04a66d
time=2026-01-09T20:37:12.104-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=3
time=2026-01-09T20:37:12.105-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:12.105-03:00 level=INFO msg="world created" world_id=8a034fb2-6ae5-4fdb-b025-f38514de4d8e name="World of Test Story" tenant_id=73d82882-7473-405f-9b2d-9f529f04a66d
time=2026-01-09T20:37:12.105-03:00 level=INFO msg="created implicit world for story" world_id=8a034fb2-6ae5-4fdb-b025-f38514de4d8e story_title="Test Story"
time=2026-01-09T20:37:12.106-03:00 level=INFO msg="story created" story_id=51aff48e-7afd-4b2d-9d6f-81e5148e8c78 title="Test Story" tenant_id=73d82882-7473-405f-9b2d-9f529f04a66d
time=2026-01-09T20:37:12.106-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T20:37:12.107-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:12.108-03:00 level=INFO msg="scene created" scene_id=5f8ce93c-6e21-4940-98cd-c6f9e7abbbff story_id=51aff48e-7afd-4b2d-9d6f-81e5148e8c78 tenant_id=73d82882-7473-405f-9b2d-9f529f04a66d
time=2026-01-09T20:37:12.108-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_character_reference
time=2026-01-09T20:37:12.108-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:12.109-03:00 level=INFO msg="character created" character_id=2d7d7c33-ddd9-4bce-ab18-d7c6eca9fa62 name="Test Character"
time=2026-01-09T20:37:12.109-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:37:12.109-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T20:37:12.112-03:00 level=INFO msg="relation created" relation_id=ea352e36-7cbf-4fb5-9959-9c5a677acc30 source_id=5f8ce93c-6e21-4940-98cd-c6f9e7abbbff target_id=2d7d7c33-ddd9-4bce-ab18-d7c6eca9fa62
time=2026-01-09T20:37:12.112-03:00 level=INFO msg="scene reference added" scene_id=5f8ce93c-6e21-4940-98cd-c6f9e7abbbff entity_type=character entity_id=2d7d7c33-ddd9-4bce-ab18-d7c6eca9fa62 story_id=51aff48e-7afd-4b2d-9d6f-81e5148e8c78
time=2026-01-09T20:37:12.112-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
=== RUN   TestSceneHandler_AddSceneReference/add_location_reference
time=2026-01-09T20:37:12.112-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T20:37:12.113-03:00 level=INFO msg="location created" location_id=a59b26d2-50d0-490c-82b2-78849ae00f82 name="Test Location"
time=2026-01-09T20:37:12.113-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-09T20:37:12.113-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T20:37:12.114-03:00 level=INFO msg="relation created" relation_id=a2380b65-e53d-40e1-977d-bace5d1c8130 source_id=5f8ce93c-6e21-4940-98cd-c6f9e7abbbff target_id=a59b26d2-50d0-490c-82b2-78849ae00f82
time=2026-01-09T20:37:12.114-03:00 level=INFO msg="scene reference added" scene_id=5f8ce93c-6e21-4940-98cd-c6f9e7abbbff entity_type=location entity_id=a59b26d2-50d0-490c-82b2-78849ae00f82 story_id=51aff48e-7afd-4b2d-9d6f-81e5148e8c78
time=2026-01-09T20:37:12.114-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_artifact_reference
time=2026-01-09T20:37:12.115-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:37:12.116-03:00 level=INFO msg="artifact created" artifact_id=3407349f-05de-4890-9b5b-03a4aa01b7ff name="Test Artifact"
time=2026-01-09T20:37:12.116-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-09T20:37:12.116-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T20:37:12.118-03:00 level=INFO msg="relation created" relation_id=731d6daf-217c-4124-b62e-d038f643c11f source_id=5f8ce93c-6e21-4940-98cd-c6f9e7abbbff target_id=3407349f-05de-4890-9b5b-03a4aa01b7ff
time=2026-01-09T20:37:12.118-03:00 level=INFO msg="scene reference added" scene_id=5f8ce93c-6e21-4940-98cd-c6f9e7abbbff entity_type=artifact entity_id=3407349f-05de-4890-9b5b-03a4aa01b7ff story_id=51aff48e-7afd-4b2d-9d6f-81e5148e8c78
time=2026-01-09T20:37:12.118-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/invalid_entity_type
time=2026-01-09T20:37:12.118-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T20:37:12.118-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = InvalidArgument desc = entity_type must be 'character', 'location', or 'artifact'"
=== RUN   TestSceneHandler_AddSceneReference/invalid_scene_id
time=2026-01-09T20:37:12.118-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T20:37:12.119-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 4923ac3f-d8cb-47f6-81e5-b898e132ea77"
time=2026-01-09T20:37:12.119-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_AddSceneReference (0.36s)
    --- PASS: TestSceneHandler_AddSceneReference/add_character_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_location_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_artifact_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_entity_type (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_scene_id (0.00s)
=== RUN   TestSceneHandler_RemoveSceneReference
time=2026-01-09T20:37:12.541-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:12.541-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:12.541-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:12.541-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:12.541-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:12.541-03:00 level=INFO msg="LocationService registered"
time=2026-01-09T20:37:12.541-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:12.541-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T20:37:12.543-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:12.546-03:00 level=INFO msg="tenant created" tenant_id=9ba7f4be-0811-4aa2-a265-939725a8d139 name="Test Tenant for Remove Reference"
time=2026-01-09T20:37:12.546-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:12.546-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:12.547-03:00 level=INFO msg="world created" world_id=afdfec19-5c08-4b2e-ac73-2baabca06ba3 name="Test World" tenant_id=9ba7f4be-0811-4aa2-a265-939725a8d139
time=2026-01-09T20:37:12.547-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:12.547-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:12.548-03:00 level=INFO msg="world created" world_id=eb98f103-3a13-4d82-9b29-7aac4a4a456f name="World of Test Story" tenant_id=9ba7f4be-0811-4aa2-a265-939725a8d139
time=2026-01-09T20:37:12.548-03:00 level=INFO msg="created implicit world for story" world_id=eb98f103-3a13-4d82-9b29-7aac4a4a456f story_title="Test Story"
time=2026-01-09T20:37:12.549-03:00 level=INFO msg="story created" story_id=6034b747-17bf-4e7a-b657-e4ecef42f8b9 title="Test Story" tenant_id=9ba7f4be-0811-4aa2-a265-939725a8d139
time=2026-01-09T20:37:12.549-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T20:37:12.549-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:12.550-03:00 level=INFO msg="scene created" scene_id=cbaf4650-28ef-4fcf-b672-fe0d477c9dfa story_id=6034b747-17bf-4e7a-b657-e4ecef42f8b9 tenant_id=9ba7f4be-0811-4aa2-a265-939725a8d139
time=2026-01-09T20:37:12.550-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T20:37:12.550-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:12.551-03:00 level=INFO msg="character created" character_id=986b751d-8bab-4ccb-b627-6cbf15af87cc name="Test Character"
time=2026-01-09T20:37:12.551-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/successful_remove
time=2026-01-09T20:37:12.551-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T20:37:12.554-03:00 level=INFO msg="relation created" relation_id=2f88d1b2-72e0-46f5-bb04-bb4610af1341 source_id=cbaf4650-28ef-4fcf-b672-fe0d477c9dfa target_id=986b751d-8bab-4ccb-b627-6cbf15af87cc
time=2026-01-09T20:37:12.554-03:00 level=INFO msg="scene reference added" scene_id=cbaf4650-28ef-4fcf-b672-fe0d477c9dfa entity_type=character entity_id=986b751d-8bab-4ccb-b627-6cbf15af87cc story_id=6034b747-17bf-4e7a-b657-e4ecef42f8b9
time=2026-01-09T20:37:12.554-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-09T20:37:12.554-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-09T20:37:12.555-03:00 level=INFO msg="relation deleted" relation_id=2f88d1b2-72e0-46f5-bb04-bb4610af1341
time=2026-01-09T20:37:12.555-03:00 level=INFO msg="scene reference removed" scene_id=cbaf4650-28ef-4fcf-b672-fe0d477c9dfa entity_type=character entity_id=986b751d-8bab-4ccb-b627-6cbf15af87cc
time=2026-01-09T20:37:12.555-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/RemoveSceneReference duration_ms=0
time=2026-01-09T20:37:12.555-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-09T20:37:12.556-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/remove_non-existing_reference
time=2026-01-09T20:37:12.556-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-09T20:37:12.556-03:00 level=INFO msg="scene reference not found" scene_id=cbaf4650-28ef-4fcf-b672-fe0d477c9dfa entity_type=character entity_id=7f34475f-2d76-4ee8-b817-5ae0b71f06fc
time=2026-01-09T20:37:12.556-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/RemoveSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene_reference not found: scene:cbaf4650-28ef-4fcf-b672-fe0d477c9dfa-character:7f34475f-2d76-4ee8-b817-5ae0b71f06fc"
time=2026-01-09T20:37:12.556-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_RemoveSceneReference (0.40s)
    --- PASS: TestSceneHandler_RemoveSceneReference/successful_remove (0.00s)
    --- PASS: TestSceneHandler_RemoveSceneReference/remove_non-existing_reference (0.00s)
=== RUN   TestSceneHandler_GetSceneReferences
time=2026-01-09T20:37:12.886-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:12.886-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:12.886-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:12.886-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:12.886-03:00 level=INFO msg="WorldService registered"
time=2026-01-09T20:37:12.886-03:00 level=INFO msg="LocationService registered"
time=2026-01-09T20:37:12.886-03:00 level=INFO msg="CharacterService registered"
time=2026-01-09T20:37:12.886-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-09T20:37:12.887-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:12.889-03:00 level=INFO msg="tenant created" tenant_id=379d5f31-f739-463c-9e61-30768ca113e2 name="Test Tenant for Get References"
time=2026-01-09T20:37:12.889-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:12.890-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:12.891-03:00 level=INFO msg="world created" world_id=a87295f4-53cc-4b0f-b48b-8dad5848e6a7 name="Test World" tenant_id=379d5f31-f739-463c-9e61-30768ca113e2
time=2026-01-09T20:37:12.891-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:12.891-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:12.892-03:00 level=INFO msg="world created" world_id=676e0591-5654-4e08-ae93-3a11a5283404 name="World of Test Story" tenant_id=379d5f31-f739-463c-9e61-30768ca113e2
time=2026-01-09T20:37:12.892-03:00 level=INFO msg="created implicit world for story" world_id=676e0591-5654-4e08-ae93-3a11a5283404 story_title="Test Story"
time=2026-01-09T20:37:12.894-03:00 level=INFO msg="story created" story_id=798d36ca-7cef-4c81-9164-b06ff64eae5b title="Test Story" tenant_id=379d5f31-f739-463c-9e61-30768ca113e2
time=2026-01-09T20:37:12.894-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:37:12.894-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:12.895-03:00 level=INFO msg="scene created" scene_id=80a09536-30a3-48d3-89d5-c880f3d60fd2 story_id=798d36ca-7cef-4c81-9164-b06ff64eae5b tenant_id=379d5f31-f739-463c-9e61-30768ca113e2
time=2026-01-09T20:37:12.895-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_GetSceneReferences/get_multiple_references
time=2026-01-09T20:37:12.896-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-09T20:37:12.897-03:00 level=INFO msg="character created" character_id=266003ee-e9b3-4ab1-a7b1-2760c8356cb9 name="Test Character"
time=2026-01-09T20:37:12.897-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-09T20:37:12.897-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-09T20:37:12.898-03:00 level=INFO msg="location created" location_id=6c182d2c-2ff4-47e8-b612-7130984d505a name="Test Location"
time=2026-01-09T20:37:12.898-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-09T20:37:12.898-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-09T20:37:12.899-03:00 level=INFO msg="artifact created" artifact_id=f7327367-04c2-40a1-99c6-27ec450641bd name="Test Artifact"
time=2026-01-09T20:37:12.899-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-09T20:37:12.900-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T20:37:12.903-03:00 level=INFO msg="relation created" relation_id=794607f1-695d-42a1-b032-5e563d528aeb source_id=80a09536-30a3-48d3-89d5-c880f3d60fd2 target_id=266003ee-e9b3-4ab1-a7b1-2760c8356cb9
time=2026-01-09T20:37:12.903-03:00 level=INFO msg="scene reference added" scene_id=80a09536-30a3-48d3-89d5-c880f3d60fd2 entity_type=character entity_id=266003ee-e9b3-4ab1-a7b1-2760c8356cb9 story_id=798d36ca-7cef-4c81-9164-b06ff64eae5b
time=2026-01-09T20:37:12.903-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=3
time=2026-01-09T20:37:12.903-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T20:37:12.905-03:00 level=INFO msg="relation created" relation_id=db5b922d-095e-460e-9142-23e204f41bb1 source_id=80a09536-30a3-48d3-89d5-c880f3d60fd2 target_id=6c182d2c-2ff4-47e8-b612-7130984d505a
time=2026-01-09T20:37:12.905-03:00 level=INFO msg="scene reference added" scene_id=80a09536-30a3-48d3-89d5-c880f3d60fd2 entity_type=location entity_id=6c182d2c-2ff4-47e8-b612-7130984d505a story_id=798d36ca-7cef-4c81-9164-b06ff64eae5b
time=2026-01-09T20:37:12.905-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-09T20:37:12.905-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-09T20:37:12.906-03:00 level=INFO msg="relation created" relation_id=6f9510bd-86c2-471e-a892-f91870e5f9a3 source_id=80a09536-30a3-48d3-89d5-c880f3d60fd2 target_id=f7327367-04c2-40a1-99c6-27ec450641bd
time=2026-01-09T20:37:12.906-03:00 level=INFO msg="scene reference added" scene_id=80a09536-30a3-48d3-89d5-c880f3d60fd2 entity_type=artifact entity_id=f7327367-04c2-40a1-99c6-27ec450641bd story_id=798d36ca-7cef-4c81-9164-b06ff64eae5b
time=2026-01-09T20:37:12.906-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-09T20:37:12.906-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-09T20:37:12.907-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_empty_references
time=2026-01-09T20:37:12.907-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-09T20:37:12.907-03:00 level=INFO msg="scene created" scene_id=738f0154-4e0e-4f18-8a37-5168241c6665 story_id=798d36ca-7cef-4c81-9164-b06ff64eae5b tenant_id=379d5f31-f739-463c-9e61-30768ca113e2
time=2026-01-09T20:37:12.907-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-09T20:37:12.907-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-09T20:37:12.907-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/invalid_scene_id
time=2026-01-09T20:37:12.908-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-09T20:37:12.908-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetSceneReferences duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid scene_id: invalid UUID length: 10"
time=2026-01-09T20:37:12.908-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetSceneReferences (0.33s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_multiple_references (0.01s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_empty_references (0.00s)
    --- PASS: TestSceneHandler_GetSceneReferences/invalid_scene_id (0.00s)
=== RUN   TestSkillHandler_CreateSkill
time=2026-01-09T20:37:13.115-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:13.115-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:13.115-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_CreateSkill/successful_creation
time=2026-01-09T20:37:13.121-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:13.124-03:00 level=INFO msg="tenant created" tenant_id=f9258072-27fc-4e62-bab4-8edb31c74f64 name="Test Tenant for Skill"
time=2026-01-09T20:37:13.124-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:13.124-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:13.125-03:00 level=INFO msg="RPG system created" rpg_system_id=7ddaacdd-c06f-4438-9cfe-c0a48284d7e8 name="Test System"
time=2026-01-09T20:37:13.125-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:13.126-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:13.129-03:00 level=INFO msg="skill created" skill_id=c49bcc8b-981c-46e8-9091-abbb77f701b0 name=Fireball
time=2026-01-09T20:37:13.129-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=3
=== RUN   TestSkillHandler_CreateSkill/empty_name
time=2026-01-09T20:37:13.130-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:13.130-03:00 level=INFO msg="tenant created" tenant_id=fc068ec7-95a2-4f16-8c68-cb9e2e707b19 name="Test Tenant 2"
time=2026-01-09T20:37:13.130-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:13.130-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:13.131-03:00 level=INFO msg="RPG system created" rpg_system_id=3fb11987-3961-4406-834d-122aa2783f9f name="Test System 2"
time=2026-01-09T20:37:13.131-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-09T20:37:13.131-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:13.131-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/CreateSkill duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T20:37:13.131-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_CreateSkill (0.22s)
    --- PASS: TestSkillHandler_CreateSkill/successful_creation (0.01s)
    --- PASS: TestSkillHandler_CreateSkill/empty_name (0.00s)
=== RUN   TestSkillHandler_GetSkill
time=2026-01-09T20:37:13.408-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:13.409-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:13.409-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_GetSkill/existing_skill
time=2026-01-09T20:37:13.409-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:13.411-03:00 level=INFO msg="tenant created" tenant_id=6f558cd4-9da6-484e-9129-b3b1406fccea name="Get Test Tenant"
time=2026-01-09T20:37:13.411-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:13.412-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:13.413-03:00 level=INFO msg="RPG system created" rpg_system_id=24039d57-a8a8-44ec-8477-3ada4d5ce2ff name="Get Test System"
time=2026-01-09T20:37:13.413-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:13.413-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:13.417-03:00 level=INFO msg="skill created" skill_id=939f41d4-5c5e-47f0-b571-06214c6e5141 name="Get Test Skill"
time=2026-01-09T20:37:13.417-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=4
time=2026-01-09T20:37:13.418-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-09T20:37:13.418-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/GetSkill duration_ms=0
=== RUN   TestSkillHandler_GetSkill/non-existing_skill
time=2026-01-09T20:37:13.418-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:13.419-03:00 level=INFO msg="tenant created" tenant_id=9e61d520-a5f8-43da-93b0-40c346a91d76 name="Non-existing Test Tenant"
time=2026-01-09T20:37:13.419-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:13.419-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-09T20:37:13.419-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: acfd8b95-163c-4aa9-909a-08cee03774c2" skill_id=acfd8b95-163c-4aa9-909a-08cee03774c2
time=2026-01-09T20:37:13.419-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: acfd8b95-163c-4aa9-909a-08cee03774c2"
time=2026-01-09T20:37:13.419-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_GetSkill (0.29s)
    --- PASS: TestSkillHandler_GetSkill/existing_skill (0.01s)
    --- PASS: TestSkillHandler_GetSkill/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_ListSkills
time=2026-01-09T20:37:13.697-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:13.697-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:13.697-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_ListSkills/list_skills
time=2026-01-09T20:37:13.698-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:13.700-03:00 level=INFO msg="tenant created" tenant_id=21e5ea61-2da0-4c0f-b271-cd79293cd0bd name="List Test Tenant"
time=2026-01-09T20:37:13.700-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:13.701-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:13.702-03:00 level=INFO msg="RPG system created" rpg_system_id=62ad60ba-04d0-4488-b60c-f2ef26b088e7 name="List Test System"
time=2026-01-09T20:37:13.702-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:13.702-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:13.703-03:00 level=INFO msg="skill created" skill_id=1fe095d6-81cb-49bb-b6bc-0bfba6120dc7 name="Skill 1"
time=2026-01-09T20:37:13.703-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-09T20:37:13.703-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:13.703-03:00 level=INFO msg="skill created" skill_id=5a12cc2d-1ec3-4e95-841e-5ed6fd47fe88 name="Skill 2"
time=2026-01-09T20:37:13.703-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-09T20:37:13.704-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/ListSkills
time=2026-01-09T20:37:13.704-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/ListSkills duration_ms=0
time=2026-01-09T20:37:13.704-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_ListSkills (0.30s)
    --- PASS: TestSkillHandler_ListSkills/list_skills (0.01s)
=== RUN   TestSkillHandler_UpdateSkill
time=2026-01-09T20:37:13.996-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:13.996-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:13.996-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_UpdateSkill/update_skill
time=2026-01-09T20:37:13.997-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:13.999-03:00 level=INFO msg="tenant created" tenant_id=5ec17a53-67d0-459d-952b-f2982470156e name="Update Test Tenant"
time=2026-01-09T20:37:13.999-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:13.999-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:14.000-03:00 level=INFO msg="RPG system created" rpg_system_id=d3cfdc0f-7975-464c-8883-4791e518288b name="Update Test System"
time=2026-01-09T20:37:14.000-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:14.000-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:14.002-03:00 level=INFO msg="skill created" skill_id=c4afb1fd-c896-4f1a-be47-bcb6c32a2d25 name="Original Skill"
time=2026-01-09T20:37:14.002-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-09T20:37:14.002-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/UpdateSkill
time=2026-01-09T20:37:14.003-03:00 level=INFO msg="skill updated" skill_id=c4afb1fd-c896-4f1a-be47-bcb6c32a2d25
time=2026-01-09T20:37:14.003-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/UpdateSkill duration_ms=0
time=2026-01-09T20:37:14.003-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_UpdateSkill (0.29s)
    --- PASS: TestSkillHandler_UpdateSkill/update_skill (0.01s)
=== RUN   TestSkillHandler_DeleteSkill
time=2026-01-09T20:37:14.307-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:14.307-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-09T20:37:14.307-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_DeleteSkill/delete_skill
time=2026-01-09T20:37:14.308-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:14.314-03:00 level=INFO msg="tenant created" tenant_id=8e20f30f-d3f2-4987-9fea-05b8a8c5f948 name="Delete Test Tenant"
time=2026-01-09T20:37:14.314-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-09T20:37:14.314-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-09T20:37:14.315-03:00 level=INFO msg="RPG system created" rpg_system_id=282611f8-e2d0-43e9-a6bc-bdf3833c42df name="Delete Test System"
time=2026-01-09T20:37:14.315-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-09T20:37:14.316-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-09T20:37:14.319-03:00 level=INFO msg="skill created" skill_id=07eb287a-5053-4f14-9294-bada43b006f9 name="Skill to Delete"
time=2026-01-09T20:37:14.319-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=3
time=2026-01-09T20:37:14.324-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/DeleteSkill
time=2026-01-09T20:37:14.325-03:00 level=INFO msg="skill deleted" skill_id=07eb287a-5053-4f14-9294-bada43b006f9
time=2026-01-09T20:37:14.325-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/DeleteSkill duration_ms=1
time=2026-01-09T20:37:14.325-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-09T20:37:14.326-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 07eb287a-5053-4f14-9294-bada43b006f9" skill_id=07eb287a-5053-4f14-9294-bada43b006f9
time=2026-01-09T20:37:14.326-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 07eb287a-5053-4f14-9294-bada43b006f9"
time=2026-01-09T20:37:14.326-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_DeleteSkill (0.33s)
    --- PASS: TestSkillHandler_DeleteSkill/delete_skill (0.02s)
=== RUN   TestStoryHandler_CreateStory
time=2026-01-09T20:37:14.544-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:14.544-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:14.544-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:14.544-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:14.544-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:14.544-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:14.544-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata
time=2026-01-09T20:37:14.545-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:14.547-03:00 level=INFO msg="tenant created" tenant_id=1d332f74-02ab-41f8-97dd-a2280599167c name="Test Tenant for Story"
time=2026-01-09T20:37:14.547-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:14.547-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:14.549-03:00 level=INFO msg="world created" world_id=cbb460e6-2db7-4719-bdd9-6140ab0edb66 name="World of Test Story" tenant_id=1d332f74-02ab-41f8-97dd-a2280599167c
time=2026-01-09T20:37:14.549-03:00 level=INFO msg="created implicit world for story" world_id=cbb460e6-2db7-4719-bdd9-6140ab0edb66 story_title="Test Story"
time=2026-01-09T20:37:14.550-03:00 level=INFO msg="story created" story_id=15fde7ce-ab8f-4f1f-b0d4-d6fe6e3bcd70 title="Test Story" tenant_id=1d332f74-02ab-41f8-97dd-a2280599167c
time=2026-01-09T20:37:14.550-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request
time=2026-01-09T20:37:14.550-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:14.551-03:00 level=INFO msg="tenant created" tenant_id=97d46c0a-2c23-4abf-8c8c-3209864bcb09 name="Test Tenant for Story 2"
time=2026-01-09T20:37:14.551-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T20:37:14.551-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:14.552-03:00 level=INFO msg="world created" world_id=ed42031d-fdcd-415c-ba66-094d5e788ac2 name="World of Test Story 2" tenant_id=97d46c0a-2c23-4abf-8c8c-3209864bcb09
time=2026-01-09T20:37:14.552-03:00 level=INFO msg="created implicit world for story" world_id=ed42031d-fdcd-415c-ba66-094d5e788ac2 story_title="Test Story 2"
time=2026-01-09T20:37:14.553-03:00 level=INFO msg="story created" story_id=d254fd1a-6e4f-4d2d-948f-13baca66dadf title="Test Story 2" tenant_id=97d46c0a-2c23-4abf-8c8c-3209864bcb09
time=2026-01-09T20:37:14.553-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
=== RUN   TestStoryHandler_CreateStory/without_tenant_id
time=2026-01-09T20:37:14.554-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:14.554-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
=== RUN   TestStoryHandler_CreateStory/with_invalid_tenant
time=2026-01-09T20:37:14.554-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:14.554-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: 866a343e-eda1-4513-a701-7378afeed827"
=== RUN   TestStoryHandler_CreateStory/empty_title
time=2026-01-09T20:37:14.554-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:14.555-03:00 level=INFO msg="tenant created" tenant_id=865502c0-2e06-4288-b23e-7f6c6242440b name="Test Tenant for Empty Title"
time=2026-01-09T20:37:14.555-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:14.555-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:14.555-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = title is required"
time=2026-01-09T20:37:14.555-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CreateStory (0.23s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata (0.01s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestStoryHandler_CreateStory/without_tenant_id (0.00s)
    --- PASS: TestStoryHandler_CreateStory/with_invalid_tenant (0.00s)
    --- PASS: TestStoryHandler_CreateStory/empty_title (0.00s)
=== RUN   TestStoryHandler_GetStory
time=2026-01-09T20:37:14.826-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:14.826-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:14.826-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:14.826-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:14.826-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:14.826-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:14.826-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_GetStory/existing_story
time=2026-01-09T20:37:14.829-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:14.831-03:00 level=INFO msg="tenant created" tenant_id=43c19631-8887-4b01-969c-2f9555ab6cd6 name="Test Tenant for Get"
time=2026-01-09T20:37:14.831-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:14.831-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:14.832-03:00 level=INFO msg="world created" world_id=572ee872-04ed-4c27-a60e-709b245371e9 name="World of Get Test Story" tenant_id=43c19631-8887-4b01-969c-2f9555ab6cd6
time=2026-01-09T20:37:14.832-03:00 level=INFO msg="created implicit world for story" world_id=572ee872-04ed-4c27-a60e-709b245371e9 story_title="Get Test Story"
time=2026-01-09T20:37:14.834-03:00 level=INFO msg="story created" story_id=4bef1a42-8847-46e6-a589-19921630a9db title="Get Test Story" tenant_id=43c19631-8887-4b01-969c-2f9555ab6cd6
time=2026-01-09T20:37:14.834-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
    story_handler_test.go:160: Created story ID: '4bef1a42-8847-46e6-a589-19921630a9db' (length: 36)
time=2026-01-09T20:37:14.836-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-09T20:37:14.836-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/GetStory duration_ms=0
=== RUN   TestStoryHandler_GetStory/non-existing_story
time=2026-01-09T20:37:14.837-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:14.837-03:00 level=INFO msg="tenant created" tenant_id=32f4a67b-041e-4647-82a7-3122d08b1b6e name="Test Tenant for Non-existing"
time=2026-01-09T20:37:14.837-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:14.838-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-09T20:37:14.838-03:00 level=ERROR msg="failed to get story" error="story not found: f23a59cb-c602-4261-94b9-6334f3b9e239" story_id=f23a59cb-c602-4261-94b9-6334f3b9e239 tenant_id=32f4a67b-041e-4647-82a7-3122d08b1b6e
time=2026-01-09T20:37:14.838-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: f23a59cb-c602-4261-94b9-6334f3b9e239"
=== RUN   TestStoryHandler_GetStory/invalid_story_ID
time=2026-01-09T20:37:14.838-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:14.839-03:00 level=INFO msg="tenant created" tenant_id=358463ad-ec56-4f23-9758-15c9c281f546 name="Test Tenant for Invalid ID"
time=2026-01-09T20:37:14.839-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T20:37:14.839-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-09T20:37:14.839-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-09T20:37:14.840-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_GetStory (0.27s)
    --- PASS: TestStoryHandler_GetStory/existing_story (0.01s)
    --- PASS: TestStoryHandler_GetStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_GetStory/invalid_story_ID (0.00s)
=== RUN   TestStoryHandler_ListStories
time=2026-01-09T20:37:15.111-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:15.112-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:15.112-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:15.112-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:15.112-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:15.112-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:15.112-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_ListStories/with_pagination
time=2026-01-09T20:37:15.112-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:15.115-03:00 level=INFO msg="tenant created" tenant_id=41c069e9-433d-4399-b295-6c6d8c16b46c name="Test Tenant for List"
time=2026-01-09T20:37:15.115-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:15.115-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:15.117-03:00 level=INFO msg="world created" world_id=69778471-ed7f-43aa-8982-a352a1071603 name="World of List Test Story 1" tenant_id=41c069e9-433d-4399-b295-6c6d8c16b46c
time=2026-01-09T20:37:15.117-03:00 level=INFO msg="created implicit world for story" world_id=69778471-ed7f-43aa-8982-a352a1071603 story_title="List Test Story 1"
time=2026-01-09T20:37:15.119-03:00 level=INFO msg="story created" story_id=eb833ed3-85df-4b93-8860-51fc7b15d650 title="List Test Story 1" tenant_id=41c069e9-433d-4399-b295-6c6d8c16b46c
time=2026-01-09T20:37:15.119-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-09T20:37:15.119-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:15.120-03:00 level=INFO msg="world created" world_id=8e202b3c-4549-4ae7-825b-24ec3545267f name="World of List Test Story 2" tenant_id=41c069e9-433d-4399-b295-6c6d8c16b46c
time=2026-01-09T20:37:15.120-03:00 level=INFO msg="created implicit world for story" world_id=8e202b3c-4549-4ae7-825b-24ec3545267f story_title="List Test Story 2"
time=2026-01-09T20:37:15.121-03:00 level=INFO msg="story created" story_id=005c3f68-8937-43a1-b1eb-65d1ba683918 title="List Test Story 2" tenant_id=41c069e9-433d-4399-b295-6c6d8c16b46c
time=2026-01-09T20:37:15.121-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:37:15.121-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:15.123-03:00 level=INFO msg="world created" world_id=4a27ab4d-e449-4f74-afae-07d3c9fa3aae name="World of List Test Story 3" tenant_id=41c069e9-433d-4399-b295-6c6d8c16b46c
time=2026-01-09T20:37:15.123-03:00 level=INFO msg="created implicit world for story" world_id=4a27ab4d-e449-4f74-afae-07d3c9fa3aae story_title="List Test Story 3"
time=2026-01-09T20:37:15.123-03:00 level=INFO msg="story created" story_id=d72603ff-538c-4de6-b60a-4ebcaa01ddae title="List Test Story 3" tenant_id=41c069e9-433d-4399-b295-6c6d8c16b46c
time=2026-01-09T20:37:15.123-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T20:37:15.123-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-09T20:37:15.124-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStories duration_ms=0
=== RUN   TestStoryHandler_ListStories/without_tenant_id
time=2026-01-09T20:37:15.124-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-09T20:37:15.124-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/ListStories duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
time=2026-01-09T20:37:15.125-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStories (0.30s)
    --- PASS: TestStoryHandler_ListStories/with_pagination (0.01s)
    --- PASS: TestStoryHandler_ListStories/without_tenant_id (0.00s)
=== RUN   TestStoryHandler_CloneStory
time=2026-01-09T20:37:15.401-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:15.401-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:15.401-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:15.401-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:15.401-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:15.401-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:15.401-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_CloneStory/successful_clone
time=2026-01-09T20:37:15.402-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:15.406-03:00 level=INFO msg="tenant created" tenant_id=bb9546b7-ba82-4074-8230-cfecf9d67093 name="Test Tenant for Clone"
time=2026-01-09T20:37:15.406-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-09T20:37:15.406-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:15.409-03:00 level=INFO msg="world created" world_id=e8fc57a9-3655-4b28-9328-b56b4f185c04 name="World of Clone Test Story" tenant_id=bb9546b7-ba82-4074-8230-cfecf9d67093
time=2026-01-09T20:37:15.409-03:00 level=INFO msg="created implicit world for story" world_id=e8fc57a9-3655-4b28-9328-b56b4f185c04 story_title="Clone Test Story"
time=2026-01-09T20:37:15.410-03:00 level=INFO msg="story created" story_id=1606f5c0-8655-4045-8a8d-aca5e5aa02b2 title="Clone Test Story" tenant_id=bb9546b7-ba82-4074-8230-cfecf9d67093
time=2026-01-09T20:37:15.410-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-09T20:37:15.410-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-09T20:37:15.413-03:00 level=INFO msg="story cloned" source_story_id=1606f5c0-8655-4045-8a8d-aca5e5aa02b2 new_story_id=da4e6bed-f7ed-4764-a7a7-6fff68755121 version_number=2
time=2026-01-09T20:37:15.413-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
=== RUN   TestStoryHandler_CloneStory/non-existing_source_story
time=2026-01-09T20:37:15.413-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:15.414-03:00 level=INFO msg="tenant created" tenant_id=9fa15799-4fe6-4eec-99f6-0e57cfa0ad19 name="Test Tenant for Non-existing Clone"
time=2026-01-09T20:37:15.414-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:15.414-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-09T20:37:15.414-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CloneStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 641c0a71-7220-4c1d-aaf0-6a92ea4792d7"
time=2026-01-09T20:37:15.415-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CloneStory (0.28s)
    --- PASS: TestStoryHandler_CloneStory/successful_clone (0.01s)
    --- PASS: TestStoryHandler_CloneStory/non-existing_source_story (0.00s)
=== RUN   TestStoryHandler_ListStoryVersions
time=2026-01-09T20:37:15.617-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:15.617-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:15.617-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:15.617-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:15.617-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:15.617-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:15.617-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_ListStoryVersions/list_versions
time=2026-01-09T20:37:15.619-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:15.621-03:00 level=INFO msg="tenant created" tenant_id=3bbeeb9e-6f8c-4b2d-bb1d-45215919f93b name="Test Tenant for Versions"
time=2026-01-09T20:37:15.621-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:15.621-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:15.623-03:00 level=INFO msg="world created" world_id=13fc3a0e-1df6-4804-8316-7c1604c33936 name="World of Version Test Story" tenant_id=3bbeeb9e-6f8c-4b2d-bb1d-45215919f93b
time=2026-01-09T20:37:15.623-03:00 level=INFO msg="created implicit world for story" world_id=13fc3a0e-1df6-4804-8316-7c1604c33936 story_title="Version Test Story"
time=2026-01-09T20:37:15.625-03:00 level=INFO msg="story created" story_id=920746a6-d6e6-461f-901b-70ea2a8c533c title="Version Test Story" tenant_id=3bbeeb9e-6f8c-4b2d-bb1d-45215919f93b
time=2026-01-09T20:37:15.625-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-09T20:37:15.625-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-09T20:37:15.627-03:00 level=INFO msg="story cloned" source_story_id=920746a6-d6e6-461f-901b-70ea2a8c533c new_story_id=668cf48b-a9e8-4bde-8300-c6708f60d404 version_number=2
time=2026-01-09T20:37:15.628-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
time=2026-01-09T20:37:15.628-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-09T20:37:15.629-03:00 level=INFO msg="story cloned" source_story_id=668cf48b-a9e8-4bde-8300-c6708f60d404 new_story_id=d2602773-80df-4802-b131-f337287296ab version_number=3
time=2026-01-09T20:37:15.629-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=1
time=2026-01-09T20:37:15.630-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-09T20:37:15.630-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
=== RUN   TestStoryHandler_ListStoryVersions/non-existing_root_story
time=2026-01-09T20:37:15.630-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:15.631-03:00 level=INFO msg="tenant created" tenant_id=4dc13f4b-0573-4217-86a1-dd2dd7b6a0c2 name="Test Tenant for Non-existing Root"
time=2026-01-09T20:37:15.631-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:15.631-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-09T20:37:15.631-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
time=2026-01-09T20:37:15.631-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStoryVersions (0.24s)
    --- PASS: TestStoryHandler_ListStoryVersions/list_versions (0.01s)
    --- PASS: TestStoryHandler_ListStoryVersions/non-existing_root_story (0.00s)
=== RUN   TestStoryHandler_UpdateStory
time=2026-01-09T20:37:15.945-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:15.945-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:15.945-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:15.945-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:15.945-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:15.945-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:15.945-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_UpdateStory/successful_update_title
time=2026-01-09T20:37:15.945-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:15.947-03:00 level=INFO msg="tenant created" tenant_id=832af4a9-9113-4dca-bd76-802900a936a9 name="Test Tenant for Update Story"
time=2026-01-09T20:37:15.948-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:15.948-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:15.949-03:00 level=INFO msg="world created" world_id=4bac8528-50de-45b7-934e-6831998dd112 name="World of Original Title" tenant_id=832af4a9-9113-4dca-bd76-802900a936a9
time=2026-01-09T20:37:15.949-03:00 level=INFO msg="created implicit world for story" world_id=4bac8528-50de-45b7-934e-6831998dd112 story_title="Original Title"
time=2026-01-09T20:37:15.950-03:00 level=INFO msg="story created" story_id=17243d34-ff0f-4e38-af32-667588b53a64 title="Original Title" tenant_id=832af4a9-9113-4dca-bd76-802900a936a9
time=2026-01-09T20:37:15.950-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-09T20:37:15.950-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-09T20:37:15.951-03:00 level=INFO msg="story updated" story_id=17243d34-ff0f-4e38-af32-667588b53a64 tenant_id=832af4a9-9113-4dca-bd76-802900a936a9
time=2026-01-09T20:37:15.951-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/successful_update_status
time=2026-01-09T20:37:15.951-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:15.951-03:00 level=INFO msg="tenant created" tenant_id=1de6caa6-d361-4be5-ad90-023ed8557c28 name="Test Tenant for Update Story Status"
time=2026-01-09T20:37:15.951-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:15.952-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-09T20:37:15.952-03:00 level=INFO msg="world created" world_id=6f900a30-069c-470f-a7f4-75608d8c8250 name="World of Test Story" tenant_id=1de6caa6-d361-4be5-ad90-023ed8557c28
time=2026-01-09T20:37:15.952-03:00 level=INFO msg="created implicit world for story" world_id=6f900a30-069c-470f-a7f4-75608d8c8250 story_title="Test Story"
time=2026-01-09T20:37:15.953-03:00 level=INFO msg="story created" story_id=dfa57613-6bb4-4919-aaae-d731d596c416 title="Test Story" tenant_id=1de6caa6-d361-4be5-ad90-023ed8557c28
time=2026-01-09T20:37:15.953-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-09T20:37:15.953-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-09T20:37:15.953-03:00 level=INFO msg="story updated" story_id=dfa57613-6bb4-4919-aaae-d731d596c416 tenant_id=1de6caa6-d361-4be5-ad90-023ed8557c28
time=2026-01-09T20:37:15.953-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/non-existing_story
time=2026-01-09T20:37:15.953-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:15.954-03:00 level=INFO msg="tenant created" tenant_id=b0f2a402-a174-49d5-8a32-eb55799dd050 name="Test Tenant for Non-existing Update"
time=2026-01-09T20:37:15.954-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:15.954-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-09T20:37:15.954-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 71abcd2e-c16c-4b48-adea-222c4bc8f1be"
=== RUN   TestStoryHandler_UpdateStory/invalid_story_ID
time=2026-01-09T20:37:15.954-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:15.955-03:00 level=INFO msg="tenant created" tenant_id=c5dbd369-7aba-4c02-9815-cf8827a80e87 name="Test Tenant for Invalid Update ID"
time=2026-01-09T20:37:15.955-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:15.955-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-09T20:37:15.955-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-09T20:37:15.955-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_UpdateStory (0.31s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_title (0.01s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_status (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/invalid_story_ID (0.00s)
=== RUN   TestTenantHandler_CreateTenant
time=2026-01-09T20:37:16.173-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:16.173-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:16.173-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:16.173-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:16.173-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:16.173-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:16.173-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestTenantHandler_CreateTenant/successful_creation
time=2026-01-09T20:37:16.174-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.176-03:00 level=INFO msg="tenant created" tenant_id=08871086-bd7a-49cc-91bf-511294d66962 name="Test Tenant"
time=2026-01-09T20:37:16.177-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
=== RUN   TestTenantHandler_CreateTenant/duplicate_name
time=2026-01-09T20:37:16.177-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.177-03:00 level=INFO msg="tenant created" tenant_id=25664db0-ccb9-4713-bc1c-2b0da09e5fa4 name="Duplicate Tenant"
time=2026-01-09T20:37:16.177-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:16.178-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.178-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = AlreadyExists desc = tenant already exists with name: Duplicate Tenant"
=== RUN   TestTenantHandler_CreateTenant/empty_name
time=2026-01-09T20:37:16.178-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.178-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T20:37:16.178-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_CreateTenant (0.22s)
    --- PASS: TestTenantHandler_CreateTenant/successful_creation (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/empty_name (0.00s)
=== RUN   TestTenantHandler_GetTenant
time=2026-01-09T20:37:16.412-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:16.412-03:00 level=INFO msg="StoryService registered"
time=2026-01-09T20:37:16.412-03:00 level=INFO msg="ChapterService registered"
time=2026-01-09T20:37:16.412-03:00 level=INFO msg="SceneService registered"
time=2026-01-09T20:37:16.412-03:00 level=INFO msg="BeatService registered"
time=2026-01-09T20:37:16.412-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-09T20:37:16.412-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestTenantHandler_GetTenant/existing_tenant
time=2026-01-09T20:37:16.413-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.416-03:00 level=INFO msg="tenant created" tenant_id=6f8df6f9-c2ac-4235-bf1f-1e0ff19e9aeb name="Get Test Tenant"
time=2026-01-09T20:37:16.416-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:16.416-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-09T20:37:16.416-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/GetTenant duration_ms=0
=== RUN   TestTenantHandler_GetTenant/non-existing_tenant
time=2026-01-09T20:37:16.416-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-09T20:37:16.417-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: e9eed459-a833-445f-9443-f9e97a24726a"
=== RUN   TestTenantHandler_GetTenant/invalid_tenant_ID
time=2026-01-09T20:37:16.417-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-09T20:37:16.417-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant id: invalid UUID length: 10"
time=2026-01-09T20:37:16.417-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_GetTenant (0.24s)
    --- PASS: TestTenantHandler_GetTenant/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/non-existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/invalid_tenant_ID (0.00s)
=== RUN   TestTraitHandler_CreateTrait
time=2026-01-09T20:37:16.604-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:16.604-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_CreateTrait/successful_creation
time=2026-01-09T20:37:16.605-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.608-03:00 level=INFO msg="tenant created" tenant_id=06568a23-631a-4068-9fa9-ab3d35bff0de name="Test Tenant for Trait"
time=2026-01-09T20:37:16.608-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:16.608-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:37:16.609-03:00 level=INFO msg="trait created" trait_id=e5133428-f62d-45b0-8a29-43bcbb95713f name=Brave
time=2026-01-09T20:37:16.609-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
=== RUN   TestTraitHandler_CreateTrait/empty_name
time=2026-01-09T20:37:16.609-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.610-03:00 level=INFO msg="tenant created" tenant_id=5a7bf146-4e41-48e8-9b22-eefc7f0749eb name="Test Tenant 2"
time=2026-01-09T20:37:16.610-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:16.610-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:37:16.610-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/CreateTrait duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-09T20:37:16.611-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_CreateTrait (0.15s)
    --- PASS: TestTraitHandler_CreateTrait/successful_creation (0.00s)
    --- PASS: TestTraitHandler_CreateTrait/empty_name (0.00s)
=== RUN   TestTraitHandler_GetTrait
time=2026-01-09T20:37:16.762-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:16.762-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_GetTrait/existing_trait
time=2026-01-09T20:37:16.763-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.765-03:00 level=INFO msg="tenant created" tenant_id=46a204bc-35d0-489b-95e5-8eb1541a329a name="Get Test Tenant"
time=2026-01-09T20:37:16.765-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-09T20:37:16.765-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:37:16.766-03:00 level=INFO msg="trait created" trait_id=1b19c381-1be0-41d7-8098-44c558356106 name="Get Test Trait"
time=2026-01-09T20:37:16.766-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T20:37:16.766-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-09T20:37:16.767-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/GetTrait duration_ms=0
=== RUN   TestTraitHandler_GetTrait/non-existing_trait
time=2026-01-09T20:37:16.767-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.768-03:00 level=INFO msg="tenant created" tenant_id=a9fadcad-6fb0-4886-b879-698d38ed5594 name="Non-existing Test Tenant"
time=2026-01-09T20:37:16.768-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:16.768-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-09T20:37:16.768-03:00 level=ERROR msg="failed to get trait" error="trait not found: 6354a3a7-5157-4cd1-a9c9-32addd72a774" trait_id=6354a3a7-5157-4cd1-a9c9-32addd72a774
time=2026-01-09T20:37:16.768-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 6354a3a7-5157-4cd1-a9c9-32addd72a774"
time=2026-01-09T20:37:16.768-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_GetTrait (0.15s)
    --- PASS: TestTraitHandler_GetTrait/existing_trait (0.00s)
    --- PASS: TestTraitHandler_GetTrait/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_ListTraits
time=2026-01-09T20:37:16.914-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:16.914-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_ListTraits/list_traits
time=2026-01-09T20:37:16.915-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:16.917-03:00 level=INFO msg="tenant created" tenant_id=030487d1-0870-4274-bd82-fa2c0ddd3b92 name="List Test Tenant"
time=2026-01-09T20:37:16.917-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:16.918-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:37:16.919-03:00 level=INFO msg="trait created" trait_id=89ad3f9e-a7eb-48ab-a8de-d5a037717f75 name="Trait 1"
time=2026-01-09T20:37:16.920-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T20:37:16.920-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:37:16.920-03:00 level=INFO msg="trait created" trait_id=e9ceaec9-155f-45f6-8916-6a9fe544e6b0 name="Trait 2"
time=2026-01-09T20:37:16.920-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-09T20:37:16.921-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/ListTraits
time=2026-01-09T20:37:16.921-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/ListTraits duration_ms=0
time=2026-01-09T20:37:16.922-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_ListTraits (0.15s)
    --- PASS: TestTraitHandler_ListTraits/list_traits (0.01s)
=== RUN   TestTraitHandler_UpdateTrait
time=2026-01-09T20:37:17.070-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:17.070-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_UpdateTrait/update_trait
time=2026-01-09T20:37:17.071-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:17.073-03:00 level=INFO msg="tenant created" tenant_id=0fa06a67-0ebc-4a58-bfe2-0458c9436249 name="Update Test Tenant"
time=2026-01-09T20:37:17.073-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:17.073-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:37:17.074-03:00 level=INFO msg="trait created" trait_id=10abcb24-29fc-4468-93e4-18748b81c89b name="Original Trait"
time=2026-01-09T20:37:17.074-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T20:37:17.074-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/UpdateTrait
time=2026-01-09T20:37:17.076-03:00 level=INFO msg="trait updated" trait_id=10abcb24-29fc-4468-93e4-18748b81c89b name="Updated Trait"
time=2026-01-09T20:37:17.076-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/UpdateTrait duration_ms=1
time=2026-01-09T20:37:17.076-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_UpdateTrait (0.16s)
    --- PASS: TestTraitHandler_UpdateTrait/update_trait (0.01s)
=== RUN   TestTraitHandler_DeleteTrait
time=2026-01-09T20:37:17.283-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:17.283-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_DeleteTrait/delete_trait
time=2026-01-09T20:37:17.288-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:17.290-03:00 level=INFO msg="tenant created" tenant_id=ae1b991c-1fc1-4130-ab64-e5f754e0abc7 name="Delete Test Tenant"
time=2026-01-09T20:37:17.290-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:17.290-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-09T20:37:17.291-03:00 level=INFO msg="trait created" trait_id=585d5430-5f3c-4746-b966-adbecfe571c5 name="Trait to Delete"
time=2026-01-09T20:37:17.291-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-09T20:37:17.291-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/DeleteTrait
time=2026-01-09T20:37:17.294-03:00 level=INFO msg="trait deleted" trait_id=585d5430-5f3c-4746-b966-adbecfe571c5 name="Trait to Delete"
time=2026-01-09T20:37:17.294-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/DeleteTrait duration_ms=2
time=2026-01-09T20:37:17.295-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-09T20:37:17.295-03:00 level=ERROR msg="failed to get trait" error="trait not found: 585d5430-5f3c-4746-b966-adbecfe571c5" trait_id=585d5430-5f3c-4746-b966-adbecfe571c5
time=2026-01-09T20:37:17.295-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 585d5430-5f3c-4746-b966-adbecfe571c5"
time=2026-01-09T20:37:17.295-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_DeleteTrait (0.22s)
    --- PASS: TestTraitHandler_DeleteTrait/delete_trait (0.01s)
=== RUN   TestWorldHandler_CreateWorld
time=2026-01-09T20:37:17.604-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:17.604-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata
time=2026-01-09T20:37:17.605-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:17.608-03:00 level=INFO msg="tenant created" tenant_id=c94ac528-0889-401c-bb39-dfa9530004a2 name="Test Tenant for World"
time=2026-01-09T20:37:17.608-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:17.608-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:17.610-03:00 level=INFO msg="world created" world_id=dad64ebf-3c66-4518-b3cb-b60bfe9285ce name="Test World" tenant_id=c94ac528-0889-401c-bb39-dfa9530004a2
time=2026-01-09T20:37:17.610-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request
time=2026-01-09T20:37:17.610-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:17.611-03:00 level=INFO msg="tenant created" tenant_id=39ad0d31-dc2e-484b-9672-53b2390abe1a name="Test Tenant 2"
time=2026-01-09T20:37:17.611-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:17.611-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:17.612-03:00 level=INFO msg="world created" world_id=5517c4f1-7b5f-45f6-a12b-87c979cbb359 name="Test World 2" tenant_id=39ad0d31-dc2e-484b-9672-53b2390abe1a
time=2026-01-09T20:37:17.612-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
=== RUN   TestWorldHandler_CreateWorld/empty_name
time=2026-01-09T20:37:17.612-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:17.613-03:00 level=INFO msg="tenant created" tenant_id=d432f7ec-dd9f-49c5-9782-6eab00ae2a69 name="Test Tenant 3"
time=2026-01-09T20:37:17.613-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:17.613-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:17.613-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestWorldHandler_CreateWorld/invalid_tenant_id
time=2026-01-09T20:37:17.613-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:17.613-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant_id: invalid UUID length: 10"
time=2026-01-09T20:37:17.613-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_CreateWorld (0.46s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata (0.01s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/empty_name (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/invalid_tenant_id (0.00s)
=== RUN   TestWorldHandler_GetWorld
time=2026-01-09T20:37:18.303-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:18.303-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_GetWorld/existing_world
time=2026-01-09T20:37:18.304-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:18.309-03:00 level=INFO msg="tenant created" tenant_id=509c238a-13ab-44b4-8c25-f6988c53b3a1 name="Get Test Tenant"
time=2026-01-09T20:37:18.309-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-09T20:37:18.310-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:18.311-03:00 level=INFO msg="world created" world_id=ad07d8aa-f0a7-4a8a-9f88-29ec8fe6f404 name="Get Test World" tenant_id=509c238a-13ab-44b4-8c25-f6988c53b3a1
time=2026-01-09T20:37:18.311-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:18.311-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-09T20:37:18.312-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/GetWorld duration_ms=0
=== RUN   TestWorldHandler_GetWorld/non-existing_world
time=2026-01-09T20:37:18.312-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:18.313-03:00 level=INFO msg="tenant created" tenant_id=f500ed95-ce07-481b-bd25-42fe6248fa6e name="Non-existing Test Tenant"
time=2026-01-09T20:37:18.313-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:18.313-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-09T20:37:18.314-03:00 level=ERROR msg="failed to get world" error="world not found: 3a07e701-3dc2-449e-a8e4-6ccb38f266bc" world_id=3a07e701-3dc2-449e-a8e4-6ccb38f266bc
time=2026-01-09T20:37:18.314-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 3a07e701-3dc2-449e-a8e4-6ccb38f266bc"
=== RUN   TestWorldHandler_GetWorld/invalid_world_ID
time=2026-01-09T20:37:18.314-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:18.315-03:00 level=INFO msg="tenant created" tenant_id=42bdbd80-d6c8-4336-9b6d-1b441f8cbbf5 name="Invalid ID Test Tenant"
time=2026-01-09T20:37:18.315-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:18.315-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-09T20:37:18.315-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid world id: invalid UUID length: 10"
time=2026-01-09T20:37:18.315-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_GetWorld (0.61s)
    --- PASS: TestWorldHandler_GetWorld/existing_world (0.01s)
    --- PASS: TestWorldHandler_GetWorld/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_GetWorld/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_ListWorlds
time=2026-01-09T20:37:18.610-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:18.610-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_ListWorlds/list_worlds_for_tenant
time=2026-01-09T20:37:18.610-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:18.613-03:00 level=INFO msg="tenant created" tenant_id=90e8b4e2-aa1f-4422-a53c-cb18c87a0ee2 name="List Test Tenant"
time=2026-01-09T20:37:18.613-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:18.613-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:18.614-03:00 level=INFO msg="world created" world_id=985c5cca-e6bf-472f-89c4-30c9e54d91f9 name="World 1" tenant_id=90e8b4e2-aa1f-4422-a53c-cb18c87a0ee2
time=2026-01-09T20:37:18.614-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:18.614-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:18.615-03:00 level=INFO msg="world created" world_id=10e9f53a-f4a7-4c12-885b-69ca8d67d566 name="World 2" tenant_id=90e8b4e2-aa1f-4422-a53c-cb18c87a0ee2
time=2026-01-09T20:37:18.615-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-09T20:37:18.615-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/ListWorlds
time=2026-01-09T20:37:18.616-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/ListWorlds duration_ms=0
time=2026-01-09T20:37:18.616-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_ListWorlds (0.30s)
    --- PASS: TestWorldHandler_ListWorlds/list_worlds_for_tenant (0.01s)
=== RUN   TestWorldHandler_UpdateWorld
time=2026-01-09T20:37:18.853-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:18.853-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_UpdateWorld/update_world_name
time=2026-01-09T20:37:18.854-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:18.857-03:00 level=INFO msg="tenant created" tenant_id=22b62c44-e605-441b-92d6-83522b842157 name="Update Test Tenant"
time=2026-01-09T20:37:18.857-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:18.857-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:18.858-03:00 level=INFO msg="world created" world_id=f0afbabe-0171-456c-98a9-390c6ba65757 name="Original World" tenant_id=22b62c44-e605-441b-92d6-83522b842157
time=2026-01-09T20:37:18.858-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:18.858-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-09T20:37:18.859-03:00 level=INFO msg="world updated" world_id=f0afbabe-0171-456c-98a9-390c6ba65757 name="Updated World"
time=2026-01-09T20:37:18.859-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/UpdateWorld duration_ms=1
=== RUN   TestWorldHandler_UpdateWorld/non-existing_world
time=2026-01-09T20:37:18.859-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:18.860-03:00 level=INFO msg="tenant created" tenant_id=f0f0d360-443b-4ab9-8436-b3b7a9892b47 name="Update Test Tenant 2"
time=2026-01-09T20:37:18.860-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:18.860-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-09T20:37:18.860-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/UpdateWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 6c9c0403-2567-4707-b150-13d3a739df97"
time=2026-01-09T20:37:18.860-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_UpdateWorld (0.20s)
    --- PASS: TestWorldHandler_UpdateWorld/update_world_name (0.01s)
    --- PASS: TestWorldHandler_UpdateWorld/non-existing_world (0.00s)
=== RUN   TestWorldHandler_DeleteWorld
time=2026-01-09T20:37:19.041-03:00 level=INFO msg="TenantService registered"
time=2026-01-09T20:37:19.041-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_DeleteWorld/delete_existing_world
time=2026-01-09T20:37:19.049-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:19.051-03:00 level=INFO msg="tenant created" tenant_id=f6805d4c-6520-41eb-afcb-f7f924237de8 name="Delete Test Tenant"
time=2026-01-09T20:37:19.051-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-09T20:37:19.051-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-09T20:37:19.052-03:00 level=INFO msg="world created" world_id=71bdb7af-eef7-48cc-9982-52c08234e976 name="World to Delete" tenant_id=f6805d4c-6520-41eb-afcb-f7f924237de8
time=2026-01-09T20:37:19.052-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-09T20:37:19.052-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-09T20:37:19.055-03:00 level=INFO msg="world deleted" world_id=71bdb7af-eef7-48cc-9982-52c08234e976 name="World to Delete"
time=2026-01-09T20:37:19.055-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/DeleteWorld duration_ms=2
time=2026-01-09T20:37:19.056-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-09T20:37:19.056-03:00 level=ERROR msg="failed to get world" error="world not found: 71bdb7af-eef7-48cc-9982-52c08234e976" world_id=71bdb7af-eef7-48cc-9982-52c08234e976
time=2026-01-09T20:37:19.056-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 71bdb7af-eef7-48cc-9982-52c08234e976"
=== RUN   TestWorldHandler_DeleteWorld/delete_non-existing_world
time=2026-01-09T20:37:19.056-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-09T20:37:19.057-03:00 level=INFO msg="tenant created" tenant_id=a6ea1d8f-4c2a-408b-b1f2-3e021b0bc9f3 name="Delete Test Tenant 2"
time=2026-01-09T20:37:19.057-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-09T20:37:19.057-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-09T20:37:19.057-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/DeleteWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: c51702c5-3f20-4889-a914-98be14b022d7"
time=2026-01-09T20:37:19.057-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_DeleteWorld (0.19s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_existing_world (0.01s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/grpc/handlers	(cached)
?   	github.com/story-engine/main-service/internal/transport/grpc/interceptors	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/mappers	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/testing	[no test files]
=== RUN   TestArchetypeHandler_Create
time=2026-01-09T20:36:49.501-03:00 level=INFO msg="tenant created" tenant_id=0215ccab-2359-4d1a-be1d-6d69b067685c name="Test Tenant"
=== RUN   TestArchetypeHandler_Create/successful_creation
time=2026-01-09T20:36:49.503-03:00 level=INFO msg="archetype created" archetype_id=fd1008e2-bee5-4b30-a9a2-c8706521f90c name=Warrior
=== RUN   TestArchetypeHandler_Create/missing_tenant_id
=== RUN   TestArchetypeHandler_Create/empty_name
--- PASS: TestArchetypeHandler_Create (0.36s)
    --- PASS: TestArchetypeHandler_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArchetypeHandler_Create/empty_name (0.00s)
=== RUN   TestArchetypeHandler_Get
time=2026-01-09T20:36:49.878-03:00 level=INFO msg="tenant created" tenant_id=a9d19391-721e-4252-b4ec-38dd27916614 name="Test Tenant"
time=2026-01-09T20:36:49.880-03:00 level=INFO msg="archetype created" archetype_id=c022cf17-60cf-484f-960f-141ada54e7a9 name="Get Test Archetype"
=== RUN   TestArchetypeHandler_Get/existing_archetype
=== RUN   TestArchetypeHandler_Get/non-existing_archetype
time=2026-01-09T20:36:49.880-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 00000000-0000-0000-0000-000000000000" archetype_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArchetypeHandler_Get (0.42s)
    --- PASS: TestArchetypeHandler_Get/existing_archetype (0.00s)
    --- PASS: TestArchetypeHandler_Get/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_List
time=2026-01-09T20:36:50.324-03:00 level=INFO msg="tenant created" tenant_id=93892286-9852-4d30-bf29-156052b6525a name="Test Tenant"
time=2026-01-09T20:36:50.326-03:00 level=INFO msg="archetype created" archetype_id=24b4fdf9-5abe-4b0c-b710-36dbac6d4fbd name="Archetype 1"
time=2026-01-09T20:36:50.327-03:00 level=INFO msg="archetype created" archetype_id=e863a016-6130-4ba1-884d-8707e922d6b8 name="Archetype 2"
time=2026-01-09T20:36:50.327-03:00 level=INFO msg="archetype created" archetype_id=cc0e4565-41a4-4da5-a307-2f5217df0dde name="Archetype 3"
=== RUN   TestArchetypeHandler_List/list_archetypes
--- PASS: TestArchetypeHandler_List (0.51s)
    --- PASS: TestArchetypeHandler_List/list_archetypes (0.00s)
=== RUN   TestArchetypeHandler_Update
time=2026-01-09T20:36:50.727-03:00 level=INFO msg="tenant created" tenant_id=8d399550-3c37-4593-8bd4-ef24e7d97083 name="Test Tenant"
time=2026-01-09T20:36:50.728-03:00 level=INFO msg="archetype created" archetype_id=779a4f6e-9c68-4472-9b35-340f95e9d1c7 name="Original Archetype"
=== RUN   TestArchetypeHandler_Update/update_archetype
time=2026-01-09T20:36:50.730-03:00 level=INFO msg="archetype updated" archetype_id=779a4f6e-9c68-4472-9b35-340f95e9d1c7 name="Updated Archetype"
--- PASS: TestArchetypeHandler_Update (0.30s)
    --- PASS: TestArchetypeHandler_Update/update_archetype (0.00s)
=== RUN   TestArchetypeHandler_Delete
time=2026-01-09T20:36:51.267-03:00 level=INFO msg="tenant created" tenant_id=66ae1c84-7dbe-4c6b-b92f-9cc1b29645ef name="Test Tenant"
time=2026-01-09T20:36:51.269-03:00 level=INFO msg="archetype created" archetype_id=59814fff-763e-41be-91de-e563cfaf49d5 name="Archetype to Delete"
=== RUN   TestArchetypeHandler_Delete/delete_archetype
time=2026-01-09T20:36:51.272-03:00 level=INFO msg="archetype deleted" archetype_id=59814fff-763e-41be-91de-e563cfaf49d5 name="Archetype to Delete"
--- PASS: TestArchetypeHandler_Delete (0.48s)
    --- PASS: TestArchetypeHandler_Delete/delete_archetype (0.00s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-09T20:36:51.543-03:00 level=INFO msg="tenant created" tenant_id=95e6331f-6803-43ee-b16a-9e6021c98ed3 name="Test Tenant"
time=2026-01-09T20:36:51.546-03:00 level=INFO msg="archetype created" archetype_id=ae9d852c-f7f4-45f0-b332-86d2c2bce72a name=Warrior
time=2026-01-09T20:36:51.547-03:00 level=INFO msg="trait created" trait_id=0411b526-4f96-436f-a5d5-3414f1471015 name=Brave
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-09T20:36:51.550-03:00 level=INFO msg="trait added to archetype" archetype_id=ae9d852c-f7f4-45f0-b332-86d2c2bce72a trait_id=0411b526-4f96-436f-a5d5-3414f1471015
--- PASS: TestArchetypeHandler_AddTrait (0.41s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.00s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-09T20:36:51.926-03:00 level=INFO msg="tenant created" tenant_id=c33e2bb8-1385-4ef3-baa1-4502d51701c2 name="Test Tenant"
time=2026-01-09T20:36:51.929-03:00 level=INFO msg="archetype created" archetype_id=97a3c243-6d96-447c-a1f4-a1353d691411 name=Warrior
time=2026-01-09T20:36:51.931-03:00 level=INFO msg="trait created" trait_id=bf819996-5bff-4d69-bbe4-b9ca763543b0 name=Brave
time=2026-01-09T20:36:51.933-03:00 level=INFO msg="trait added to archetype" archetype_id=97a3c243-6d96-447c-a1f4-a1353d691411 trait_id=bf819996-5bff-4d69-bbe4-b9ca763543b0
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-09T20:36:51.933-03:00 level=INFO msg="trait removed from archetype" archetype_id=97a3c243-6d96-447c-a1f4-a1353d691411 trait_id=bf819996-5bff-4d69-bbe4-b9ca763543b0
--- PASS: TestArchetypeHandler_RemoveTrait (0.37s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.00s)
=== RUN   TestArtifactHandler_Create
time=2026-01-09T20:36:52.309-03:00 level=INFO msg="tenant created" tenant_id=86335239-06e4-402d-9653-593c94089383 name="Test Tenant"
time=2026-01-09T20:36:52.312-03:00 level=INFO msg="world created" world_id=abb57ad5-e783-4a0c-9b82-2997396cb885 name="Test World" tenant_id=86335239-06e4-402d-9653-593c94089383
=== RUN   TestArtifactHandler_Create/successful_creation
time=2026-01-09T20:36:52.313-03:00 level=INFO msg="artifact created" artifact_id=143a4145-7207-4c24-9008-33210615670c name="Test Artifact"
=== RUN   TestArtifactHandler_Create/missing_tenant_id
=== RUN   TestArtifactHandler_Create/empty_name
--- PASS: TestArtifactHandler_Create (0.35s)
    --- PASS: TestArtifactHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArtifactHandler_Create/empty_name (0.00s)
=== RUN   TestArtifactHandler_Get
time=2026-01-09T20:36:52.640-03:00 level=INFO msg="tenant created" tenant_id=6122fe88-e739-48e8-bfbe-7e49b29ce48f name="Test Tenant"
time=2026-01-09T20:36:52.642-03:00 level=INFO msg="world created" world_id=d6fe29fb-887e-4516-bc59-9f5baa244fd4 name="Test World" tenant_id=6122fe88-e739-48e8-bfbe-7e49b29ce48f
time=2026-01-09T20:36:52.653-03:00 level=INFO msg="artifact created" artifact_id=6f776542-a6fe-419c-9a8f-05f736c06fc0 name="Get Test Artifact"
=== RUN   TestArtifactHandler_Get/existing_artifact
=== RUN   TestArtifactHandler_Get/non-existing_artifact
time=2026-01-09T20:36:52.653-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 00000000-0000-0000-0000-000000000000" artifact_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArtifactHandler_Get (0.26s)
    --- PASS: TestArtifactHandler_Get/existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Get/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_List
time=2026-01-09T20:36:52.907-03:00 level=INFO msg="tenant created" tenant_id=cdd6f829-b44b-4ff9-a092-a1bc45a76ea7 name="Test Tenant"
time=2026-01-09T20:36:52.909-03:00 level=INFO msg="world created" world_id=c221e206-1805-4bef-8f5a-507e6c8b0f61 name="Test World" tenant_id=cdd6f829-b44b-4ff9-a092-a1bc45a76ea7
time=2026-01-09T20:36:52.911-03:00 level=INFO msg="artifact created" artifact_id=56d49a70-56de-4aa4-9f85-be5ff235274f name="Artifact 1"
time=2026-01-09T20:36:52.918-03:00 level=INFO msg="artifact created" artifact_id=3dc53b5e-ec08-4651-b134-a68a4ab27df2 name="Artifact 2"
time=2026-01-09T20:36:52.919-03:00 level=INFO msg="artifact created" artifact_id=2ce89e0d-41e1-4db7-b155-6284a6c14896 name="Artifact 3"
=== RUN   TestArtifactHandler_List/list_artifacts
--- PASS: TestArtifactHandler_List (0.38s)
    --- PASS: TestArtifactHandler_List/list_artifacts (0.00s)
=== RUN   TestArtifactHandler_Update
time=2026-01-09T20:36:53.303-03:00 level=INFO msg="tenant created" tenant_id=141ada0c-721a-4e79-9e08-69d3fd2479d4 name="Test Tenant"
time=2026-01-09T20:36:53.304-03:00 level=INFO msg="world created" world_id=aa5b80d3-f7c8-4eb2-9c59-d3ccf60dafa8 name="Test World" tenant_id=141ada0c-721a-4e79-9e08-69d3fd2479d4
time=2026-01-09T20:36:53.306-03:00 level=INFO msg="artifact created" artifact_id=2fde2c77-8935-443d-896b-6ba08f032a94 name="Original Artifact"
=== RUN   TestArtifactHandler_Update/update_artifact_name
time=2026-01-09T20:36:53.307-03:00 level=INFO msg="artifact updated" artifact_id=2fde2c77-8935-443d-896b-6ba08f032a94 name="Updated Artifact"
=== RUN   TestArtifactHandler_Update/non-existing_artifact
--- PASS: TestArtifactHandler_Update (0.39s)
    --- PASS: TestArtifactHandler_Update/update_artifact_name (0.00s)
    --- PASS: TestArtifactHandler_Update/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_Delete
time=2026-01-09T20:36:53.665-03:00 level=INFO msg="tenant created" tenant_id=da1c5151-3c25-457e-aaf9-0ac053050c91 name="Test Tenant"
time=2026-01-09T20:36:53.666-03:00 level=INFO msg="world created" world_id=c97ae9bb-f510-4e7e-a3dc-c799f7fa8fde name="Test World" tenant_id=da1c5151-3c25-457e-aaf9-0ac053050c91
time=2026-01-09T20:36:53.668-03:00 level=INFO msg="artifact created" artifact_id=dad70e51-2a85-44a0-bf37-16efc2fd0374 name="Artifact to Delete"
=== RUN   TestArtifactHandler_Delete/delete_existing_artifact
time=2026-01-09T20:36:53.671-03:00 level=INFO msg="artifact deleted" artifact_id=dad70e51-2a85-44a0-bf37-16efc2fd0374 name="Artifact to Delete"
time=2026-01-09T20:36:53.671-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: dad70e51-2a85-44a0-bf37-16efc2fd0374" artifact_id=dad70e51-2a85-44a0-bf37-16efc2fd0374
=== RUN   TestArtifactHandler_Delete/delete_non-existing_artifact
--- PASS: TestArtifactHandler_Delete (0.36s)
    --- PASS: TestArtifactHandler_Delete/delete_existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Delete/delete_non-existing_artifact (0.00s)
=== RUN   TestArtifactRPGStatsHandler_Create
time=2026-01-09T20:36:53.999-03:00 level=INFO msg="tenant created" tenant_id=057e3d67-a08b-41f4-b4b8-6e81172c7c84 name="Test Tenant"
time=2026-01-09T20:36:54.000-03:00 level=INFO msg="world created" world_id=dd10a45a-7726-4826-b929-0b697440bda8 name="Test World" tenant_id=057e3d67-a08b-41f4-b4b8-6e81172c7c84
time=2026-01-09T20:36:54.002-03:00 level=INFO msg="artifact created" artifact_id=720b3351-16c2-449f-8ef7-b4126a6fd2c1 name="Test Artifact"
=== RUN   TestArtifactRPGStatsHandler_Create/successful_creation
time=2026-01-09T20:36:54.008-03:00 level=INFO msg="artifact RPG stats created" artifact_id=720b3351-16c2-449f-8ef7-b4126a6fd2c1 version=1
=== RUN   TestArtifactRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestArtifactRPGStatsHandler_Create (0.32s)
    --- PASS: TestArtifactRPGStatsHandler_Create/successful_creation (0.01s)
    --- PASS: TestArtifactRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestArtifactRPGStatsHandler_GetActive
time=2026-01-09T20:36:54.289-03:00 level=INFO msg="tenant created" tenant_id=b11901a4-82be-4ea9-acab-0042658eb4a3 name="Test Tenant"
time=2026-01-09T20:36:54.293-03:00 level=INFO msg="world created" world_id=67e1282c-9cb3-4e6d-a427-76f48d682a60 name="Test World" tenant_id=b11901a4-82be-4ea9-acab-0042658eb4a3
time=2026-01-09T20:36:54.295-03:00 level=INFO msg="artifact created" artifact_id=79d13276-f600-4c0e-87fd-fe3937fa562b name="Test Artifact"
time=2026-01-09T20:36:54.299-03:00 level=INFO msg="artifact RPG stats created" artifact_id=79d13276-f600-4c0e-87fd-fe3937fa562b version=1
=== RUN   TestArtifactRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestArtifactRPGStatsHandler_GetActive (0.28s)
    --- PASS: TestArtifactRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestBeatHandler_Create
time=2026-01-09T20:36:54.658-03:00 level=INFO msg="tenant created" tenant_id=4c6d1adb-49a6-425e-a202-30fb8c560edb name="Test Tenant"
time=2026-01-09T20:36:54.659-03:00 level=INFO msg="world created" world_id=2287b5b3-a6c3-4e6b-9b2e-a4a4a17315b6 name="World of Test Story" tenant_id=4c6d1adb-49a6-425e-a202-30fb8c560edb
time=2026-01-09T20:36:54.659-03:00 level=INFO msg="created implicit world for story" world_id=2287b5b3-a6c3-4e6b-9b2e-a4a4a17315b6 story_title="Test Story"
time=2026-01-09T20:36:54.660-03:00 level=INFO msg="story created" story_id=5f2d458f-3104-42cf-99e7-7c2513a47507 title="Test Story" tenant_id=4c6d1adb-49a6-425e-a202-30fb8c560edb
time=2026-01-09T20:36:54.661-03:00 level=INFO msg="scene created" scene_id=2828aaff-0ca8-4e90-9f1c-19de478cab59 story_id=5f2d458f-3104-42cf-99e7-7c2513a47507 tenant_id=4c6d1adb-49a6-425e-a202-30fb8c560edb
=== RUN   TestBeatHandler_Create/successful_creation
time=2026-01-09T20:36:54.662-03:00 level=INFO msg="beat created" beat_id=11780e0d-c9b4-4e2d-bcf5-7f33cd282e55 scene_id=2828aaff-0ca8-4e90-9f1c-19de478cab59 tenant_id=4c6d1adb-49a6-425e-a202-30fb8c560edb
=== RUN   TestBeatHandler_Create/missing_tenant_id
--- PASS: TestBeatHandler_Create (0.26s)
    --- PASS: TestBeatHandler_Create/successful_creation (0.00s)
    --- PASS: TestBeatHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestBeatHandler_Get
time=2026-01-09T20:36:54.950-03:00 level=INFO msg="tenant created" tenant_id=f9aeecb7-de84-41b5-9bb7-f52863d43c76 name="Test Tenant"
time=2026-01-09T20:36:54.952-03:00 level=INFO msg="world created" world_id=c1d01bfe-1bfc-4988-aa5c-d237e3ba538e name="World of Test Story" tenant_id=f9aeecb7-de84-41b5-9bb7-f52863d43c76
time=2026-01-09T20:36:54.953-03:00 level=INFO msg="created implicit world for story" world_id=c1d01bfe-1bfc-4988-aa5c-d237e3ba538e story_title="Test Story"
time=2026-01-09T20:36:54.954-03:00 level=INFO msg="story created" story_id=52337d98-73c1-444a-b4c4-e0c54f30200c title="Test Story" tenant_id=f9aeecb7-de84-41b5-9bb7-f52863d43c76
time=2026-01-09T20:36:54.955-03:00 level=INFO msg="scene created" scene_id=efe6f2f6-4f73-4bef-85eb-3698140c9b0a story_id=52337d98-73c1-444a-b4c4-e0c54f30200c tenant_id=f9aeecb7-de84-41b5-9bb7-f52863d43c76
time=2026-01-09T20:36:54.957-03:00 level=INFO msg="beat created" beat_id=5c61e3ea-1bef-4dad-836c-5d8949fdaf01 scene_id=efe6f2f6-4f73-4bef-85eb-3698140c9b0a tenant_id=f9aeecb7-de84-41b5-9bb7-f52863d43c76
=== RUN   TestBeatHandler_Get/existing_beat
=== RUN   TestBeatHandler_Get/non-existing_beat
time=2026-01-09T20:36:54.959-03:00 level=ERROR msg="failed to get beat" error="beat not found: 00000000-0000-0000-0000-000000000000" beat_id=00000000-0000-0000-0000-000000000000 tenant_id=f9aeecb7-de84-41b5-9bb7-f52863d43c76
--- PASS: TestBeatHandler_Get (0.34s)
    --- PASS: TestBeatHandler_Get/existing_beat (0.00s)
    --- PASS: TestBeatHandler_Get/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_List
time=2026-01-09T20:36:55.178-03:00 level=INFO msg="tenant created" tenant_id=083653cc-d98a-4c85-b285-7dce21ec2e59 name="Test Tenant"
time=2026-01-09T20:36:55.180-03:00 level=INFO msg="world created" world_id=8503759f-b832-4ede-9ea1-01d561646336 name="World of Test Story" tenant_id=083653cc-d98a-4c85-b285-7dce21ec2e59
time=2026-01-09T20:36:55.180-03:00 level=INFO msg="created implicit world for story" world_id=8503759f-b832-4ede-9ea1-01d561646336 story_title="Test Story"
time=2026-01-09T20:36:55.181-03:00 level=INFO msg="story created" story_id=1744f4c6-31c4-4c27-85db-bce2cc6405bd title="Test Story" tenant_id=083653cc-d98a-4c85-b285-7dce21ec2e59
time=2026-01-09T20:36:55.182-03:00 level=INFO msg="scene created" scene_id=6a3916d0-c21e-43df-a458-63e2475c1496 story_id=1744f4c6-31c4-4c27-85db-bce2cc6405bd tenant_id=083653cc-d98a-4c85-b285-7dce21ec2e59
time=2026-01-09T20:36:55.183-03:00 level=INFO msg="beat created" beat_id=2eb7ea85-26e9-4d89-a77e-de67e105c564 scene_id=6a3916d0-c21e-43df-a458-63e2475c1496 tenant_id=083653cc-d98a-4c85-b285-7dce21ec2e59
time=2026-01-09T20:36:55.184-03:00 level=INFO msg="beat created" beat_id=970286d4-05d8-405f-a21e-f499ef2a08f8 scene_id=6a3916d0-c21e-43df-a458-63e2475c1496 tenant_id=083653cc-d98a-4c85-b285-7dce21ec2e59
time=2026-01-09T20:36:55.184-03:00 level=INFO msg="beat created" beat_id=3e915f88-1259-4026-97a2-80337e056651 scene_id=6a3916d0-c21e-43df-a458-63e2475c1496 tenant_id=083653cc-d98a-4c85-b285-7dce21ec2e59
=== RUN   TestBeatHandler_List/list_beats
--- PASS: TestBeatHandler_List (0.25s)
    --- PASS: TestBeatHandler_List/list_beats (0.00s)
=== RUN   TestBeatHandler_Update
time=2026-01-09T20:36:55.505-03:00 level=INFO msg="tenant created" tenant_id=74fb17c3-5b63-47f6-ab0d-ae75f4aef426 name="Test Tenant"
time=2026-01-09T20:36:55.507-03:00 level=INFO msg="world created" world_id=76ee03ff-4efd-44b1-9130-435d10bfa73c name="World of Test Story" tenant_id=74fb17c3-5b63-47f6-ab0d-ae75f4aef426
time=2026-01-09T20:36:55.507-03:00 level=INFO msg="created implicit world for story" world_id=76ee03ff-4efd-44b1-9130-435d10bfa73c story_title="Test Story"
time=2026-01-09T20:36:55.508-03:00 level=INFO msg="story created" story_id=f7be98ca-910f-4f76-86d5-662366466810 title="Test Story" tenant_id=74fb17c3-5b63-47f6-ab0d-ae75f4aef426
time=2026-01-09T20:36:55.509-03:00 level=INFO msg="scene created" scene_id=cdcfff19-449c-4627-a2b2-ce13b8a61944 story_id=f7be98ca-910f-4f76-86d5-662366466810 tenant_id=74fb17c3-5b63-47f6-ab0d-ae75f4aef426
time=2026-01-09T20:36:55.514-03:00 level=INFO msg="beat created" beat_id=49fc91ff-dc1c-4540-a410-28146fff5b5b scene_id=cdcfff19-449c-4627-a2b2-ce13b8a61944 tenant_id=74fb17c3-5b63-47f6-ab0d-ae75f4aef426
=== RUN   TestBeatHandler_Update/update_beat_intent
time=2026-01-09T20:36:55.515-03:00 level=INFO msg="beat updated" beat_id=49fc91ff-dc1c-4540-a410-28146fff5b5b tenant_id=74fb17c3-5b63-47f6-ab0d-ae75f4aef426
=== RUN   TestBeatHandler_Update/non-existing_beat
--- PASS: TestBeatHandler_Update (0.31s)
    --- PASS: TestBeatHandler_Update/update_beat_intent (0.00s)
    --- PASS: TestBeatHandler_Update/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_Delete
time=2026-01-09T20:36:55.774-03:00 level=INFO msg="tenant created" tenant_id=c9b6de80-50f8-4218-bda7-3f5d76e2f0a5 name="Test Tenant"
time=2026-01-09T20:36:55.775-03:00 level=INFO msg="world created" world_id=820b6d29-83c8-4eef-996b-322cd0d6aa08 name="World of Test Story" tenant_id=c9b6de80-50f8-4218-bda7-3f5d76e2f0a5
time=2026-01-09T20:36:55.775-03:00 level=INFO msg="created implicit world for story" world_id=820b6d29-83c8-4eef-996b-322cd0d6aa08 story_title="Test Story"
time=2026-01-09T20:36:55.776-03:00 level=INFO msg="story created" story_id=e43aa221-0443-4712-a21d-8b322285b5ee title="Test Story" tenant_id=c9b6de80-50f8-4218-bda7-3f5d76e2f0a5
time=2026-01-09T20:36:55.786-03:00 level=INFO msg="scene created" scene_id=bde71eea-a04a-4147-8110-bb035d261641 story_id=e43aa221-0443-4712-a21d-8b322285b5ee tenant_id=c9b6de80-50f8-4218-bda7-3f5d76e2f0a5
time=2026-01-09T20:36:55.787-03:00 level=INFO msg="beat created" beat_id=fdc6ecb3-afb9-4da4-8a3b-706872b9bc82 scene_id=bde71eea-a04a-4147-8110-bb035d261641 tenant_id=c9b6de80-50f8-4218-bda7-3f5d76e2f0a5
=== RUN   TestBeatHandler_Delete/delete_existing_beat
time=2026-01-09T20:36:55.788-03:00 level=INFO msg="beat deleted" beat_id=fdc6ecb3-afb9-4da4-8a3b-706872b9bc82 tenant_id=c9b6de80-50f8-4218-bda7-3f5d76e2f0a5
time=2026-01-09T20:36:55.788-03:00 level=ERROR msg="failed to get beat" error="beat not found: fdc6ecb3-afb9-4da4-8a3b-706872b9bc82" beat_id=fdc6ecb3-afb9-4da4-8a3b-706872b9bc82 tenant_id=c9b6de80-50f8-4218-bda7-3f5d76e2f0a5
=== RUN   TestBeatHandler_Delete/delete_non-existing_beat
--- PASS: TestBeatHandler_Delete (0.29s)
    --- PASS: TestBeatHandler_Delete/delete_existing_beat (0.00s)
    --- PASS: TestBeatHandler_Delete/delete_non-existing_beat (0.00s)
=== RUN   TestChapterHandler_Create
time=2026-01-09T20:36:56.036-03:00 level=INFO msg="tenant created" tenant_id=b3f58625-b96e-4a29-bbfb-5d7b2a2340c7 name="Test Tenant"
time=2026-01-09T20:36:56.037-03:00 level=INFO msg="world created" world_id=ab35bf66-08ad-4200-8e6f-1b02b7949537 name="World of Test Story" tenant_id=b3f58625-b96e-4a29-bbfb-5d7b2a2340c7
time=2026-01-09T20:36:56.037-03:00 level=INFO msg="created implicit world for story" world_id=ab35bf66-08ad-4200-8e6f-1b02b7949537 story_title="Test Story"
time=2026-01-09T20:36:56.038-03:00 level=INFO msg="story created" story_id=bfb166d8-42cf-42c4-85ad-c95b6f037906 title="Test Story" tenant_id=b3f58625-b96e-4a29-bbfb-5d7b2a2340c7
=== RUN   TestChapterHandler_Create/successful_creation
time=2026-01-09T20:36:56.039-03:00 level=INFO msg="chapter created" chapter_id=d5ae3c2d-c4dd-4133-850d-bd076feb1c9f story_id=bfb166d8-42cf-42c4-85ad-c95b6f037906 tenant_id=b3f58625-b96e-4a29-bbfb-5d7b2a2340c7
=== RUN   TestChapterHandler_Create/missing_tenant_id
--- PASS: TestChapterHandler_Create (0.24s)
    --- PASS: TestChapterHandler_Create/successful_creation (0.00s)
    --- PASS: TestChapterHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestChapterHandler_Get
time=2026-01-09T20:36:56.348-03:00 level=INFO msg="tenant created" tenant_id=5e3f5712-b80f-4c22-99cc-a93994137eab name="Test Tenant"
time=2026-01-09T20:36:56.349-03:00 level=INFO msg="world created" world_id=f3fbb804-3a6c-43d8-a744-c28787224ea4 name="World of Test Story" tenant_id=5e3f5712-b80f-4c22-99cc-a93994137eab
time=2026-01-09T20:36:56.349-03:00 level=INFO msg="created implicit world for story" world_id=f3fbb804-3a6c-43d8-a744-c28787224ea4 story_title="Test Story"
time=2026-01-09T20:36:56.351-03:00 level=INFO msg="story created" story_id=4da530c4-7bee-4dd1-854f-717063e2627d title="Test Story" tenant_id=5e3f5712-b80f-4c22-99cc-a93994137eab
time=2026-01-09T20:36:56.354-03:00 level=INFO msg="chapter created" chapter_id=1aa31883-330a-480b-ad8b-b4c2dad2dcea story_id=4da530c4-7bee-4dd1-854f-717063e2627d tenant_id=5e3f5712-b80f-4c22-99cc-a93994137eab
=== RUN   TestChapterHandler_Get/existing_chapter
=== RUN   TestChapterHandler_Get/non-existing_chapter
time=2026-01-09T20:36:56.355-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 00000000-0000-0000-0000-000000000000" chapter_id=00000000-0000-0000-0000-000000000000 tenant_id=5e3f5712-b80f-4c22-99cc-a93994137eab
--- PASS: TestChapterHandler_Get (0.32s)
    --- PASS: TestChapterHandler_Get/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Get/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_List
time=2026-01-09T20:36:56.589-03:00 level=INFO msg="tenant created" tenant_id=6721f4a9-fd05-43b4-9d6a-b3973ae1640c name="Test Tenant"
time=2026-01-09T20:36:56.591-03:00 level=INFO msg="world created" world_id=fd3bb445-fc93-4c06-8519-94409d01dbf1 name="World of Test Story" tenant_id=6721f4a9-fd05-43b4-9d6a-b3973ae1640c
time=2026-01-09T20:36:56.591-03:00 level=INFO msg="created implicit world for story" world_id=fd3bb445-fc93-4c06-8519-94409d01dbf1 story_title="Test Story"
time=2026-01-09T20:36:56.592-03:00 level=INFO msg="story created" story_id=f9491391-b56c-456c-b05e-cfbfeabe51b9 title="Test Story" tenant_id=6721f4a9-fd05-43b4-9d6a-b3973ae1640c
time=2026-01-09T20:36:56.593-03:00 level=INFO msg="chapter created" chapter_id=c0e0ea20-b1f1-44ff-8dcf-df0cebad4c66 story_id=f9491391-b56c-456c-b05e-cfbfeabe51b9 tenant_id=6721f4a9-fd05-43b4-9d6a-b3973ae1640c
time=2026-01-09T20:36:56.594-03:00 level=INFO msg="chapter created" chapter_id=d18ff39c-0e8f-4bfe-b7c6-66dea1f7acd0 story_id=f9491391-b56c-456c-b05e-cfbfeabe51b9 tenant_id=6721f4a9-fd05-43b4-9d6a-b3973ae1640c
time=2026-01-09T20:36:56.594-03:00 level=INFO msg="chapter created" chapter_id=198ee871-a65c-43bc-a218-957703be714c story_id=f9491391-b56c-456c-b05e-cfbfeabe51b9 tenant_id=6721f4a9-fd05-43b4-9d6a-b3973ae1640c
=== RUN   TestChapterHandler_List/list_chapters
--- PASS: TestChapterHandler_List (0.25s)
    --- PASS: TestChapterHandler_List/list_chapters (0.00s)
=== RUN   TestChapterHandler_Update
time=2026-01-09T20:36:56.868-03:00 level=INFO msg="tenant created" tenant_id=39e22a16-7187-4eb5-9830-9fbc70bbe036 name="Test Tenant"
time=2026-01-09T20:36:56.874-03:00 level=INFO msg="world created" world_id=b786368a-2597-4634-b7c4-e4fa3067660b name="World of Test Story" tenant_id=39e22a16-7187-4eb5-9830-9fbc70bbe036
time=2026-01-09T20:36:56.874-03:00 level=INFO msg="created implicit world for story" world_id=b786368a-2597-4634-b7c4-e4fa3067660b story_title="Test Story"
time=2026-01-09T20:36:56.875-03:00 level=INFO msg="story created" story_id=e48d19cc-b584-4a65-8b18-a70efa363eb8 title="Test Story" tenant_id=39e22a16-7187-4eb5-9830-9fbc70bbe036
time=2026-01-09T20:36:56.880-03:00 level=INFO msg="chapter created" chapter_id=0c903ffb-7c60-49a8-b7e4-c0c8db4dbaee story_id=e48d19cc-b584-4a65-8b18-a70efa363eb8 tenant_id=39e22a16-7187-4eb5-9830-9fbc70bbe036
=== RUN   TestChapterHandler_Update/update_chapter_title
time=2026-01-09T20:36:56.881-03:00 level=INFO msg="chapter updated" chapter_id=0c903ffb-7c60-49a8-b7e4-c0c8db4dbaee tenant_id=39e22a16-7187-4eb5-9830-9fbc70bbe036
=== RUN   TestChapterHandler_Update/non-existing_chapter
--- PASS: TestChapterHandler_Update (0.29s)
    --- PASS: TestChapterHandler_Update/update_chapter_title (0.00s)
    --- PASS: TestChapterHandler_Update/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_Delete
time=2026-01-09T20:36:57.313-03:00 level=INFO msg="tenant created" tenant_id=420824cf-1194-4de8-bd23-de1607349939 name="Test Tenant"
time=2026-01-09T20:36:57.315-03:00 level=INFO msg="world created" world_id=f838827c-7e53-4a01-a967-226e592cc118 name="World of Test Story" tenant_id=420824cf-1194-4de8-bd23-de1607349939
time=2026-01-09T20:36:57.315-03:00 level=INFO msg="created implicit world for story" world_id=f838827c-7e53-4a01-a967-226e592cc118 story_title="Test Story"
time=2026-01-09T20:36:57.316-03:00 level=INFO msg="story created" story_id=da7d579a-1810-4b7b-a063-90d80ce402e3 title="Test Story" tenant_id=420824cf-1194-4de8-bd23-de1607349939
time=2026-01-09T20:36:57.318-03:00 level=INFO msg="chapter created" chapter_id=4ec0f73f-d6f9-4efe-8f9d-c9b489df985c story_id=da7d579a-1810-4b7b-a063-90d80ce402e3 tenant_id=420824cf-1194-4de8-bd23-de1607349939
=== RUN   TestChapterHandler_Delete/delete_existing_chapter
time=2026-01-09T20:36:57.320-03:00 level=INFO msg="chapter deleted" chapter_id=4ec0f73f-d6f9-4efe-8f9d-c9b489df985c tenant_id=420824cf-1194-4de8-bd23-de1607349939
time=2026-01-09T20:36:57.320-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 4ec0f73f-d6f9-4efe-8f9d-c9b489df985c" chapter_id=4ec0f73f-d6f9-4efe-8f9d-c9b489df985c tenant_id=420824cf-1194-4de8-bd23-de1607349939
=== RUN   TestChapterHandler_Delete/delete_non-existing_chapter
--- PASS: TestChapterHandler_Delete (0.43s)
    --- PASS: TestChapterHandler_Delete/delete_existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Delete/delete_non-existing_chapter (0.00s)
=== RUN   TestCharacterHandler_Create
time=2026-01-09T20:36:57.574-03:00 level=INFO msg="tenant created" tenant_id=4fe2fc3b-d3c0-4bd6-86b7-5833d3435f09 name="Test Tenant"
time=2026-01-09T20:36:57.575-03:00 level=INFO msg="world created" world_id=eaf2365e-a5a1-474f-b13a-4e5bf8f416a1 name="Test World" tenant_id=4fe2fc3b-d3c0-4bd6-86b7-5833d3435f09
=== RUN   TestCharacterHandler_Create/successful_creation
time=2026-01-09T20:36:57.579-03:00 level=INFO msg="character created" character_id=50ab8f66-173d-4c5f-8461-fe3eab83e125 name="Test Character"
=== RUN   TestCharacterHandler_Create/missing_tenant_id
=== RUN   TestCharacterHandler_Create/empty_name
--- PASS: TestCharacterHandler_Create (0.44s)
    --- PASS: TestCharacterHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestCharacterHandler_Create/empty_name (0.00s)
=== RUN   TestCharacterHandler_Get
time=2026-01-09T20:36:58.061-03:00 level=INFO msg="tenant created" tenant_id=d5c6b7c2-0240-4b82-8847-fb10eb10c945 name="Test Tenant"
time=2026-01-09T20:36:58.062-03:00 level=INFO msg="world created" world_id=66c7966c-e607-4dea-b9de-93bcaf419783 name="Test World" tenant_id=d5c6b7c2-0240-4b82-8847-fb10eb10c945
time=2026-01-09T20:36:58.063-03:00 level=INFO msg="character created" character_id=857e5212-797d-4668-8bd8-353f537dea76 name="Get Test Character"
=== RUN   TestCharacterHandler_Get/existing_character
=== RUN   TestCharacterHandler_Get/non-existing_character
time=2026-01-09T20:36:58.064-03:00 level=ERROR msg="failed to get character" error="character not found: 00000000-0000-0000-0000-000000000000" character_id=00000000-0000-0000-0000-000000000000
=== RUN   TestCharacterHandler_Get/invalid_character_ID
--- PASS: TestCharacterHandler_Get (0.31s)
    --- PASS: TestCharacterHandler_Get/existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/non-existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/invalid_character_ID (0.00s)
=== RUN   TestCharacterHandler_List
time=2026-01-09T20:36:58.308-03:00 level=INFO msg="tenant created" tenant_id=1be24740-0b07-465e-a913-3d2ec9376d75 name="Test Tenant"
time=2026-01-09T20:36:58.309-03:00 level=INFO msg="world created" world_id=77fb8754-48d7-443f-a5e3-19a9102cc448 name="Test World" tenant_id=1be24740-0b07-465e-a913-3d2ec9376d75
time=2026-01-09T20:36:58.310-03:00 level=INFO msg="character created" character_id=44e11615-39e7-4ed3-9158-8e9f9ecc0de4 name="Character 1"
time=2026-01-09T20:36:58.311-03:00 level=INFO msg="character created" character_id=14f23dfc-4658-4188-b870-bb0968d15145 name="Character 2"
time=2026-01-09T20:36:58.312-03:00 level=INFO msg="character created" character_id=bac8099b-88a6-466d-b23f-4cdbd73e9829 name="Character 3"
=== RUN   TestCharacterHandler_List/list_characters
=== RUN   TestCharacterHandler_List/missing_tenant_id
--- PASS: TestCharacterHandler_List (0.27s)
    --- PASS: TestCharacterHandler_List/list_characters (0.00s)
    --- PASS: TestCharacterHandler_List/missing_tenant_id (0.00s)
=== RUN   TestCharacterHandler_Update
time=2026-01-09T20:36:58.558-03:00 level=INFO msg="tenant created" tenant_id=7b1b8089-6a78-4a10-8072-80fe2c4e3c8a name="Test Tenant"
time=2026-01-09T20:36:58.559-03:00 level=INFO msg="world created" world_id=20701351-4775-47d5-b570-a00fb41a12e3 name="Test World" tenant_id=7b1b8089-6a78-4a10-8072-80fe2c4e3c8a
time=2026-01-09T20:36:58.560-03:00 level=INFO msg="character created" character_id=6fdeb185-e513-4add-9633-5b7f60a3a515 name="Original Character"
=== RUN   TestCharacterHandler_Update/update_character_name
time=2026-01-09T20:36:58.562-03:00 level=INFO msg="character updated" character_id=6fdeb185-e513-4add-9633-5b7f60a3a515 name="Updated Character"
=== RUN   TestCharacterHandler_Update/non-existing_character
--- PASS: TestCharacterHandler_Update (0.22s)
    --- PASS: TestCharacterHandler_Update/update_character_name (0.00s)
    --- PASS: TestCharacterHandler_Update/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_Delete
time=2026-01-09T20:36:58.798-03:00 level=INFO msg="tenant created" tenant_id=c01b3b67-9256-4adc-a8cf-ea7afeb5bc4b name="Test Tenant"
time=2026-01-09T20:36:58.800-03:00 level=INFO msg="world created" world_id=af79ddaf-82e7-42a5-9227-115bb9ab98ac name="Test World" tenant_id=c01b3b67-9256-4adc-a8cf-ea7afeb5bc4b
time=2026-01-09T20:36:58.805-03:00 level=INFO msg="character created" character_id=df721743-9117-4a3e-a5ed-65638d5171a9 name="Character to Delete"
=== RUN   TestCharacterHandler_Delete/delete_existing_character
time=2026-01-09T20:36:58.808-03:00 level=INFO msg="character deleted" character_id=df721743-9117-4a3e-a5ed-65638d5171a9 name="Character to Delete"
time=2026-01-09T20:36:58.809-03:00 level=ERROR msg="failed to get character" error="character not found: df721743-9117-4a3e-a5ed-65638d5171a9" character_id=df721743-9117-4a3e-a5ed-65638d5171a9
=== RUN   TestCharacterHandler_Delete/delete_non-existing_character
--- PASS: TestCharacterHandler_Delete (0.25s)
    --- PASS: TestCharacterHandler_Delete/delete_existing_character (0.00s)
    --- PASS: TestCharacterHandler_Delete/delete_non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListRelationships
time=2026-01-09T20:36:59.021-03:00 level=INFO msg="tenant created" tenant_id=8e1b2e4b-3515-40f3-8844-d5419bb5a81d name="Test Tenant"
time=2026-01-09T20:36:59.022-03:00 level=INFO msg="world created" world_id=a2bf54c9-c2d3-475f-a9b3-44cc41820b6d name="Test World" tenant_id=8e1b2e4b-3515-40f3-8844-d5419bb5a81d
time=2026-01-09T20:36:59.024-03:00 level=INFO msg="character created" character_id=53254520-dd60-4313-b69a-611294342ed0 name="Character 1"
time=2026-01-09T20:36:59.024-03:00 level=INFO msg="character created" character_id=5a379c81-fbd0-4a43-9d13-2c864be955c9 name="Character 2"
time=2026-01-09T20:36:59.027-03:00 level=INFO msg="relation created" relation_id=9916dbf0-d05b-4424-b51c-3faa469693fe source_id=53254520-dd60-4313-b69a-611294342ed0 target_id=5a379c81-fbd0-4a43-9d13-2c864be955c9
=== RUN   TestCharacterHandler_ListRelationships/list_relationships
=== RUN   TestCharacterHandler_ListRelationships/list_relationships_for_character_with_no_relationships
--- PASS: TestCharacterHandler_ListRelationships (0.27s)
    --- PASS: TestCharacterHandler_ListRelationships/list_relationships (0.00s)
    --- PASS: TestCharacterHandler_ListRelationships/list_relationships_for_character_with_no_relationships (0.00s)
=== RUN   TestCharacterHandler_CreateRelationship
time=2026-01-09T20:36:59.298-03:00 level=INFO msg="tenant created" tenant_id=8bb34e5a-d044-4a14-940c-c384cef662a4 name="Test Tenant"
time=2026-01-09T20:36:59.299-03:00 level=INFO msg="world created" world_id=9db4d39e-c491-4d2f-910e-238ef4678203 name="Test World" tenant_id=8bb34e5a-d044-4a14-940c-c384cef662a4
time=2026-01-09T20:36:59.300-03:00 level=INFO msg="character created" character_id=3e5f8ec3-04d8-4309-8a1d-18ea93f36732 name="Character 1"
time=2026-01-09T20:36:59.301-03:00 level=INFO msg="character created" character_id=c2d8c58e-5a48-401c-a695-f79a51d96371 name="Character 2"
=== RUN   TestCharacterHandler_CreateRelationship/create_relationship
time=2026-01-09T20:36:59.305-03:00 level=INFO msg="relation created" relation_id=a2736945-c82b-4ee7-845e-71d6b225e342 source_id=3e5f8ec3-04d8-4309-8a1d-18ea93f36732 target_id=c2d8c58e-5a48-401c-a695-f79a51d96371
=== RUN   TestCharacterHandler_CreateRelationship/create_relationship_with_self
=== RUN   TestCharacterHandler_CreateRelationship/create_relationship_missing_relationship_type
--- PASS: TestCharacterHandler_CreateRelationship (0.23s)
    --- PASS: TestCharacterHandler_CreateRelationship/create_relationship (0.00s)
    --- PASS: TestCharacterHandler_CreateRelationship/create_relationship_with_self (0.00s)
    --- PASS: TestCharacterHandler_CreateRelationship/create_relationship_missing_relationship_type (0.00s)
=== RUN   TestCharacterRPGStatsHandler_Create
time=2026-01-09T20:36:59.550-03:00 level=INFO msg="tenant created" tenant_id=00cbd2fd-8166-4312-8082-cd064dd873c2 name="Test Tenant"
time=2026-01-09T20:36:59.551-03:00 level=INFO msg="world created" world_id=67557204-4d92-4e02-8554-567ba294cda6 name="Test World" tenant_id=00cbd2fd-8166-4312-8082-cd064dd873c2
time=2026-01-09T20:36:59.552-03:00 level=INFO msg="character created" character_id=d4cd8f3b-1330-4134-ab59-a1d42218cde6 name="Test Character"
=== RUN   TestCharacterRPGStatsHandler_Create/successful_creation
time=2026-01-09T20:36:59.555-03:00 level=INFO msg="character RPG stats created" character_id=d4cd8f3b-1330-4134-ab59-a1d42218cde6 version=1
=== RUN   TestCharacterRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestCharacterRPGStatsHandler_Create (0.27s)
    --- PASS: TestCharacterRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestCharacterRPGStatsHandler_GetActive
time=2026-01-09T20:36:59.874-03:00 level=INFO msg="tenant created" tenant_id=a97a93fb-cce3-45c6-aee3-586e98db6450 name="Test Tenant"
time=2026-01-09T20:36:59.875-03:00 level=INFO msg="world created" world_id=972988ef-a70b-467e-ac23-fd7fa73ccd14 name="Test World" tenant_id=a97a93fb-cce3-45c6-aee3-586e98db6450
time=2026-01-09T20:36:59.876-03:00 level=INFO msg="character created" character_id=e05e1937-806a-4755-831e-328593851511 name="Test Character"
time=2026-01-09T20:36:59.879-03:00 level=INFO msg="character RPG stats created" character_id=e05e1937-806a-4755-831e-328593851511 version=1
=== RUN   TestCharacterRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestCharacterRPGStatsHandler_GetActive (0.29s)
    --- PASS: TestCharacterRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestCharacterSkillHandler_Learn
time=2026-01-09T20:37:00.197-03:00 level=INFO msg="tenant created" tenant_id=6585fe77-e130-467f-9131-962227915561 name="Test Tenant"
time=2026-01-09T20:37:00.198-03:00 level=INFO msg="world created" world_id=1c840b69-fe77-4ade-9a72-c6cebff40754 name="Test World" tenant_id=6585fe77-e130-467f-9131-962227915561
time=2026-01-09T20:37:00.200-03:00 level=INFO msg="character created" character_id=5aa32dc6-b619-4fe7-a3f9-971d8ecbe8bf name="Test Character"
time=2026-01-09T20:37:00.201-03:00 level=INFO msg="RPG system created" rpg_system_id=134258b6-1e78-495f-ae29-447edccfd0ac name="Test RPG System"
time=2026-01-09T20:37:00.203-03:00 level=INFO msg="skill created" skill_id=71ea43e0-8c7e-4811-8692-57605641236e name="Test Skill"
=== RUN   TestCharacterSkillHandler_Learn/successful_learning
time=2026-01-09T20:37:00.206-03:00 level=INFO msg="character learned skill" character_id=5aa32dc6-b619-4fe7-a3f9-971d8ecbe8bf skill_id=71ea43e0-8c7e-4811-8692-57605641236e
=== RUN   TestCharacterSkillHandler_Learn/missing_tenant_id
--- PASS: TestCharacterSkillHandler_Learn (0.35s)
    --- PASS: TestCharacterSkillHandler_Learn/successful_learning (0.00s)
    --- PASS: TestCharacterSkillHandler_Learn/missing_tenant_id (0.00s)
=== RUN   TestCharacterSkillHandler_List
time=2026-01-09T20:37:00.489-03:00 level=INFO msg="tenant created" tenant_id=57926501-9eb1-4785-abd9-e9b739a583d8 name="Test Tenant"
time=2026-01-09T20:37:00.490-03:00 level=INFO msg="world created" world_id=5bf458f9-3cab-4b95-990a-bfe6c4046967 name="Test World" tenant_id=57926501-9eb1-4785-abd9-e9b739a583d8
time=2026-01-09T20:37:00.491-03:00 level=INFO msg="character created" character_id=cf86b872-d711-4311-beac-1a429cea6e20 name="Test Character"
=== RUN   TestCharacterSkillHandler_List/list_skills
--- PASS: TestCharacterSkillHandler_List (0.26s)
    --- PASS: TestCharacterSkillHandler_List/list_skills (0.00s)
=== RUN   TestContentAnchorHandler_Create
time=2026-01-09T20:37:00.704-03:00 level=INFO msg="tenant created" tenant_id=e3695c6d-7d7f-4ced-a65c-b42bf58a83cf name="Test Tenant"
time=2026-01-09T20:37:00.706-03:00 level=INFO msg="world created" world_id=52df4f6f-1adc-436f-af59-054f6b29d01b name="World of Test Story" tenant_id=e3695c6d-7d7f-4ced-a65c-b42bf58a83cf
time=2026-01-09T20:37:00.706-03:00 level=INFO msg="created implicit world for story" world_id=52df4f6f-1adc-436f-af59-054f6b29d01b story_title="Test Story"
time=2026-01-09T20:37:00.708-03:00 level=INFO msg="story created" story_id=4f31d360-de1f-46d6-a6c1-7b856ad2653c title="Test Story" tenant_id=e3695c6d-7d7f-4ced-a65c-b42bf58a83cf
time=2026-01-09T20:37:00.724-03:00 level=INFO msg="chapter created" chapter_id=a8a65a42-b526-43fa-8935-31bd20520fc4 story_id=4f31d360-de1f-46d6-a6c1-7b856ad2653c tenant_id=e3695c6d-7d7f-4ced-a65c-b42bf58a83cf
time=2026-01-09T20:37:00.725-03:00 level=INFO msg="content block created" content_block_id=3ecbf9e4-bd6f-4c6a-9d56-0e3c03516fbf tenant_id=e3695c6d-7d7f-4ced-a65c-b42bf58a83cf
=== RUN   TestContentAnchorHandler_Create/successful_creation
time=2026-01-09T20:37:00.726-03:00 level=INFO msg="world created" world_id=4fd9091e-dcbf-4333-9e76-b16aef3ed341 name="Test World" tenant_id=e3695c6d-7d7f-4ced-a65c-b42bf58a83cf
time=2026-01-09T20:37:00.728-03:00 level=INFO msg="character created" character_id=e07f5d51-2ebc-4647-a33c-c107ab2093d1 name="Test Character"
time=2026-01-09T20:37:00.729-03:00 level=INFO msg="content anchor created" anchor_id=0f2b5c08-0de5-462d-977d-b9763aaa9f38 content_block_id=3ecbf9e4-bd6f-4c6a-9d56-0e3c03516fbf tenant_id=e3695c6d-7d7f-4ced-a65c-b42bf58a83cf
=== RUN   TestContentAnchorHandler_Create/missing_tenant_id
--- PASS: TestContentAnchorHandler_Create (0.36s)
    --- PASS: TestContentAnchorHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentAnchorHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentAnchorHandler_ListByContentBlock
time=2026-01-09T20:37:01.097-03:00 level=INFO msg="tenant created" tenant_id=81b737ed-37ff-4e7e-8248-37231c1337b9 name="Test Tenant"
time=2026-01-09T20:37:01.099-03:00 level=INFO msg="world created" world_id=9b6df44b-ec6d-4067-8c32-ce34fed6f879 name="World of Test Story" tenant_id=81b737ed-37ff-4e7e-8248-37231c1337b9
time=2026-01-09T20:37:01.099-03:00 level=INFO msg="created implicit world for story" world_id=9b6df44b-ec6d-4067-8c32-ce34fed6f879 story_title="Test Story"
time=2026-01-09T20:37:01.100-03:00 level=INFO msg="story created" story_id=758702e6-060d-415a-a821-70e4fa8bcdcd title="Test Story" tenant_id=81b737ed-37ff-4e7e-8248-37231c1337b9
time=2026-01-09T20:37:01.101-03:00 level=INFO msg="chapter created" chapter_id=1eebe5a9-2309-42b2-8f44-7c22ff91bd18 story_id=758702e6-060d-415a-a821-70e4fa8bcdcd tenant_id=81b737ed-37ff-4e7e-8248-37231c1337b9
time=2026-01-09T20:37:01.104-03:00 level=INFO msg="content block created" content_block_id=83169088-a2e8-4c6d-ace1-f9aee52d7115 tenant_id=81b737ed-37ff-4e7e-8248-37231c1337b9
=== RUN   TestContentAnchorHandler_ListByContentBlock/list_anchors
--- PASS: TestContentAnchorHandler_ListByContentBlock (0.25s)
    --- PASS: TestContentAnchorHandler_ListByContentBlock/list_anchors (0.00s)
=== RUN   TestContentBlockHandler_Create
time=2026-01-09T20:37:01.366-03:00 level=INFO msg="tenant created" tenant_id=29cfa8e9-0baa-42b5-909f-6b8ec3f483cc name="Test Tenant"
time=2026-01-09T20:37:01.368-03:00 level=INFO msg="world created" world_id=38e20a8d-c6dd-4176-a30c-1a5caee089f0 name="World of Test Story" tenant_id=29cfa8e9-0baa-42b5-909f-6b8ec3f483cc
time=2026-01-09T20:37:01.368-03:00 level=INFO msg="created implicit world for story" world_id=38e20a8d-c6dd-4176-a30c-1a5caee089f0 story_title="Test Story"
time=2026-01-09T20:37:01.384-03:00 level=INFO msg="story created" story_id=78f9b550-e995-4b54-8bfc-6ec05663d529 title="Test Story" tenant_id=29cfa8e9-0baa-42b5-909f-6b8ec3f483cc
time=2026-01-09T20:37:01.391-03:00 level=INFO msg="chapter created" chapter_id=5cb897dc-3c10-457b-b319-f1c10eec351b story_id=78f9b550-e995-4b54-8bfc-6ec05663d529 tenant_id=29cfa8e9-0baa-42b5-909f-6b8ec3f483cc
=== RUN   TestContentBlockHandler_Create/successful_creation
time=2026-01-09T20:37:01.397-03:00 level=INFO msg="content block created" content_block_id=6fb20eb9-8c47-4660-b56c-d0e834a26c67 tenant_id=29cfa8e9-0baa-42b5-909f-6b8ec3f483cc
=== RUN   TestContentBlockHandler_Create/missing_tenant_id
--- PASS: TestContentBlockHandler_Create (0.33s)
    --- PASS: TestContentBlockHandler_Create/successful_creation (0.01s)
    --- PASS: TestContentBlockHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockHandler_Get
time=2026-01-09T20:37:01.766-03:00 level=INFO msg="tenant created" tenant_id=05d2be29-8925-41f2-8f2b-57c34d1e39b5 name="Test Tenant"
time=2026-01-09T20:37:01.767-03:00 level=INFO msg="world created" world_id=1726ad1f-3dd7-44c1-bf8a-9abd12e8db50 name="World of Test Story" tenant_id=05d2be29-8925-41f2-8f2b-57c34d1e39b5
time=2026-01-09T20:37:01.767-03:00 level=INFO msg="created implicit world for story" world_id=1726ad1f-3dd7-44c1-bf8a-9abd12e8db50 story_title="Test Story"
time=2026-01-09T20:37:01.769-03:00 level=INFO msg="story created" story_id=23fceb4c-2dfd-4102-9288-e8316e7ca676 title="Test Story" tenant_id=05d2be29-8925-41f2-8f2b-57c34d1e39b5
time=2026-01-09T20:37:01.771-03:00 level=INFO msg="chapter created" chapter_id=b0027f4f-3d01-4c44-93cb-20ce6a720068 story_id=23fceb4c-2dfd-4102-9288-e8316e7ca676 tenant_id=05d2be29-8925-41f2-8f2b-57c34d1e39b5
time=2026-01-09T20:37:01.772-03:00 level=INFO msg="content block created" content_block_id=ee90545e-11b0-45a3-ab59-bffe7d9ed6b1 tenant_id=05d2be29-8925-41f2-8f2b-57c34d1e39b5
=== RUN   TestContentBlockHandler_Get/existing_content_block
=== RUN   TestContentBlockHandler_Get/non-existing_content_block
time=2026-01-09T20:37:01.773-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 00000000-0000-0000-0000-000000000000" content_block_id=00000000-0000-0000-0000-000000000000 tenant_id=05d2be29-8925-41f2-8f2b-57c34d1e39b5
--- PASS: TestContentBlockHandler_Get (0.30s)
    --- PASS: TestContentBlockHandler_Get/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Get/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_List
time=2026-01-09T20:37:01.982-03:00 level=INFO msg="tenant created" tenant_id=f07a9577-667f-4ec0-b12c-b2af3a9ac58b name="Test Tenant"
time=2026-01-09T20:37:01.983-03:00 level=INFO msg="world created" world_id=d6c38a45-d031-45bc-8fb5-183608c738da name="World of Test Story" tenant_id=f07a9577-667f-4ec0-b12c-b2af3a9ac58b
time=2026-01-09T20:37:01.983-03:00 level=INFO msg="created implicit world for story" world_id=d6c38a45-d031-45bc-8fb5-183608c738da story_title="Test Story"
time=2026-01-09T20:37:01.985-03:00 level=INFO msg="story created" story_id=824566f8-6401-4fd5-a264-0602c612e3c3 title="Test Story" tenant_id=f07a9577-667f-4ec0-b12c-b2af3a9ac58b
time=2026-01-09T20:37:01.986-03:00 level=INFO msg="chapter created" chapter_id=7a9106a3-a628-4c05-b24a-3a5d1d7651ac story_id=824566f8-6401-4fd5-a264-0602c612e3c3 tenant_id=f07a9577-667f-4ec0-b12c-b2af3a9ac58b
time=2026-01-09T20:37:01.987-03:00 level=INFO msg="content block created" content_block_id=6bfab9a9-b289-4244-979f-7841e43d8a32 tenant_id=f07a9577-667f-4ec0-b12c-b2af3a9ac58b
time=2026-01-09T20:37:01.988-03:00 level=INFO msg="content block created" content_block_id=b78e06ba-067a-4462-955b-e7c2d035af2d tenant_id=f07a9577-667f-4ec0-b12c-b2af3a9ac58b
time=2026-01-09T20:37:01.988-03:00 level=INFO msg="content block created" content_block_id=bd38bcfb-140f-42db-a7e2-0eb6fdc1a20f tenant_id=f07a9577-667f-4ec0-b12c-b2af3a9ac58b
=== RUN   TestContentBlockHandler_List/list_content_blocks
--- PASS: TestContentBlockHandler_List (0.24s)
    --- PASS: TestContentBlockHandler_List/list_content_blocks (0.00s)
=== RUN   TestContentBlockHandler_Update
time=2026-01-09T20:37:02.186-03:00 level=INFO msg="tenant created" tenant_id=470c1e57-33be-451b-ba3b-a82919d730f6 name="Test Tenant"
time=2026-01-09T20:37:02.187-03:00 level=INFO msg="world created" world_id=99034048-ae5e-462c-bc6b-de924add7af2 name="World of Test Story" tenant_id=470c1e57-33be-451b-ba3b-a82919d730f6
time=2026-01-09T20:37:02.187-03:00 level=INFO msg="created implicit world for story" world_id=99034048-ae5e-462c-bc6b-de924add7af2 story_title="Test Story"
time=2026-01-09T20:37:02.188-03:00 level=INFO msg="story created" story_id=9291caa7-5290-461b-88c0-9ea734f6b655 title="Test Story" tenant_id=470c1e57-33be-451b-ba3b-a82919d730f6
time=2026-01-09T20:37:02.190-03:00 level=INFO msg="chapter created" chapter_id=88a5470a-0359-492f-94d9-49fd4d2510db story_id=9291caa7-5290-461b-88c0-9ea734f6b655 tenant_id=470c1e57-33be-451b-ba3b-a82919d730f6
time=2026-01-09T20:37:02.191-03:00 level=INFO msg="content block created" content_block_id=47babcd8-060e-4a7e-9311-ac2c754af656 tenant_id=470c1e57-33be-451b-ba3b-a82919d730f6
=== RUN   TestContentBlockHandler_Update/update_content_block_content
time=2026-01-09T20:37:02.193-03:00 level=INFO msg="content block updated" content_block_id=47babcd8-060e-4a7e-9311-ac2c754af656 tenant_id=470c1e57-33be-451b-ba3b-a82919d730f6
=== RUN   TestContentBlockHandler_Update/non-existing_content_block
--- PASS: TestContentBlockHandler_Update (0.24s)
    --- PASS: TestContentBlockHandler_Update/update_content_block_content (0.00s)
    --- PASS: TestContentBlockHandler_Update/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_Delete
time=2026-01-09T20:37:02.447-03:00 level=INFO msg="tenant created" tenant_id=4bc1600f-ae75-418f-913f-737d2cba3fc4 name="Test Tenant"
time=2026-01-09T20:37:02.449-03:00 level=INFO msg="world created" world_id=505e97e5-4cad-4dc6-8b79-f224a429ac40 name="World of Test Story" tenant_id=4bc1600f-ae75-418f-913f-737d2cba3fc4
time=2026-01-09T20:37:02.449-03:00 level=INFO msg="created implicit world for story" world_id=505e97e5-4cad-4dc6-8b79-f224a429ac40 story_title="Test Story"
time=2026-01-09T20:37:02.451-03:00 level=INFO msg="story created" story_id=12fdb1b0-e3fb-4106-ba5f-16de57a04c05 title="Test Story" tenant_id=4bc1600f-ae75-418f-913f-737d2cba3fc4
time=2026-01-09T20:37:02.452-03:00 level=INFO msg="chapter created" chapter_id=4997adf3-1990-4a09-ac88-396236bea860 story_id=12fdb1b0-e3fb-4106-ba5f-16de57a04c05 tenant_id=4bc1600f-ae75-418f-913f-737d2cba3fc4
time=2026-01-09T20:37:02.453-03:00 level=INFO msg="content block created" content_block_id=bf44b401-3dc6-4f55-9f2f-bf875d0b0a30 tenant_id=4bc1600f-ae75-418f-913f-737d2cba3fc4
=== RUN   TestContentBlockHandler_Delete/delete_existing_content_block
time=2026-01-09T20:37:02.455-03:00 level=INFO msg="content block deleted" content_block_id=bf44b401-3dc6-4f55-9f2f-bf875d0b0a30 tenant_id=4bc1600f-ae75-418f-913f-737d2cba3fc4
time=2026-01-09T20:37:02.455-03:00 level=ERROR msg="failed to get content block" error="content_block not found: bf44b401-3dc6-4f55-9f2f-bf875d0b0a30" content_block_id=bf44b401-3dc6-4f55-9f2f-bf875d0b0a30 tenant_id=4bc1600f-ae75-418f-913f-737d2cba3fc4
=== RUN   TestContentBlockHandler_Delete/delete_non-existing_content_block
--- PASS: TestContentBlockHandler_Delete (0.27s)
    --- PASS: TestContentBlockHandler_Delete/delete_existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Delete/delete_non-existing_content_block (0.00s)
=== RUN   TestEventHandler_Create
time=2026-01-09T20:37:02.700-03:00 level=INFO msg="tenant created" tenant_id=a8749698-2c73-4087-9d3d-690633ff47b7 name="Test Tenant"
time=2026-01-09T20:37:02.701-03:00 level=INFO msg="world created" world_id=1adcfb5e-c8c7-4368-9879-0e3a5328bd9d name="Test World" tenant_id=a8749698-2c73-4087-9d3d-690633ff47b7
time=2026-01-09T20:37:02.704-03:00 level=INFO msg="world created" world_id=617e66b9-bca4-4b04-9553-e9306e10e2af name="World of Test Story" tenant_id=a8749698-2c73-4087-9d3d-690633ff47b7
time=2026-01-09T20:37:02.704-03:00 level=INFO msg="created implicit world for story" world_id=617e66b9-bca4-4b04-9553-e9306e10e2af story_title="Test Story"
time=2026-01-09T20:37:02.705-03:00 level=INFO msg="story created" story_id=c69462aa-5e4f-4c5a-bb89-f73eed845364 title="Test Story" tenant_id=a8749698-2c73-4087-9d3d-690633ff47b7
time=2026-01-09T20:37:02.706-03:00 level=INFO msg="chapter created" chapter_id=c1a16e24-e186-49a6-834e-f29c8359d53c story_id=c69462aa-5e4f-4c5a-bb89-f73eed845364 tenant_id=a8749698-2c73-4087-9d3d-690633ff47b7
time=2026-01-09T20:37:02.708-03:00 level=INFO msg="scene created" scene_id=c79d14fd-9e71-4103-a559-827efa19d9de story_id=c69462aa-5e4f-4c5a-bb89-f73eed845364 tenant_id=a8749698-2c73-4087-9d3d-690633ff47b7
=== RUN   TestEventHandler_Create/successful_creation
time=2026-01-09T20:37:02.711-03:00 level=INFO msg="event created" event_id=ad77084b-d058-4309-9f9c-5f2c3d426e9f world_id=1adcfb5e-c8c7-4368-9879-0e3a5328bd9d
=== RUN   TestEventHandler_Create/empty_name
=== RUN   TestEventHandler_Create/missing_tenant_id
--- PASS: TestEventHandler_Create (0.22s)
    --- PASS: TestEventHandler_Create/successful_creation (0.00s)
    --- PASS: TestEventHandler_Create/empty_name (0.00s)
    --- PASS: TestEventHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestEventHandler_Get
time=2026-01-09T20:37:02.915-03:00 level=INFO msg="tenant created" tenant_id=6b6b2fa2-61a6-4518-9ae4-303d54fd9ca5 name="Test Tenant"
time=2026-01-09T20:37:02.916-03:00 level=INFO msg="world created" world_id=184940e7-cc11-478e-a8e1-65fa2549f41b name="Test World" tenant_id=6b6b2fa2-61a6-4518-9ae4-303d54fd9ca5
time=2026-01-09T20:37:02.918-03:00 level=INFO msg="world created" world_id=00dac79d-f1d7-4333-8c2b-7a6c5a3716e2 name="World of Test Story" tenant_id=6b6b2fa2-61a6-4518-9ae4-303d54fd9ca5
time=2026-01-09T20:37:02.918-03:00 level=INFO msg="created implicit world for story" world_id=00dac79d-f1d7-4333-8c2b-7a6c5a3716e2 story_title="Test Story"
time=2026-01-09T20:37:02.921-03:00 level=INFO msg="story created" story_id=2abd39ca-3b88-4e4e-a5e6-5118058d6be5 title="Test Story" tenant_id=6b6b2fa2-61a6-4518-9ae4-303d54fd9ca5
time=2026-01-09T20:37:02.922-03:00 level=INFO msg="chapter created" chapter_id=9de14375-81fd-415c-8016-fceceac3aa50 story_id=2abd39ca-3b88-4e4e-a5e6-5118058d6be5 tenant_id=6b6b2fa2-61a6-4518-9ae4-303d54fd9ca5
time=2026-01-09T20:37:02.923-03:00 level=INFO msg="scene created" scene_id=098ead00-a504-4bfe-9e54-9dfc21db0e29 story_id=2abd39ca-3b88-4e4e-a5e6-5118058d6be5 tenant_id=6b6b2fa2-61a6-4518-9ae4-303d54fd9ca5
time=2026-01-09T20:37:02.924-03:00 level=INFO msg="event created" event_id=24eaa662-c16c-438d-9fa7-a22e33dbe9ea world_id=184940e7-cc11-478e-a8e1-65fa2549f41b
=== RUN   TestEventHandler_Get/get_existing_event
=== RUN   TestEventHandler_Get/get_non-existing_event
time=2026-01-09T20:37:02.925-03:00 level=ERROR msg="failed to get event" error="event not found: 00000000-0000-0000-0000-000000000000" event_id=00000000-0000-0000-0000-000000000000
--- PASS: TestEventHandler_Get (0.24s)
    --- PASS: TestEventHandler_Get/get_existing_event (0.00s)
    --- PASS: TestEventHandler_Get/get_non-existing_event (0.00s)
=== RUN   TestFactionHandler_Create
time=2026-01-09T20:37:03.174-03:00 level=INFO msg="tenant created" tenant_id=695b9f7d-6075-492c-b192-89c693c17519 name="Test Tenant"
time=2026-01-09T20:37:03.175-03:00 level=INFO msg="world created" world_id=869a9ffc-a362-4819-8554-92a4ddc2efb4 name="Test World" tenant_id=695b9f7d-6075-492c-b192-89c693c17519
=== RUN   TestFactionHandler_Create/successful_creation
time=2026-01-09T20:37:03.176-03:00 level=INFO msg="faction created" faction_id=b3b23d1f-dd8f-4674-b899-7ce4df240da2 name="Guild of Mages"
=== RUN   TestFactionHandler_Create/empty_name
--- PASS: TestFactionHandler_Create (0.26s)
    --- PASS: TestFactionHandler_Create/successful_creation (0.00s)
    --- PASS: TestFactionHandler_Create/empty_name (0.00s)
=== RUN   TestFactionHandler_AddReference
time=2026-01-09T20:37:03.433-03:00 level=INFO msg="tenant created" tenant_id=02751149-c56f-4930-81a8-8c90f687b879 name="Test Tenant"
time=2026-01-09T20:37:03.433-03:00 level=INFO msg="world created" world_id=f233924c-ca26-4a24-aa49-0fa3b96266fe name="Test World" tenant_id=02751149-c56f-4930-81a8-8c90f687b879
time=2026-01-09T20:37:03.435-03:00 level=INFO msg="faction created" faction_id=83a7760a-685e-4855-9e0c-52bd38df85d4 name="Guild of Mages"
time=2026-01-09T20:37:03.436-03:00 level=INFO msg="character created" character_id=0d84179d-25e6-486c-b9bd-b4ad8808e01f name="Test Character"
=== RUN   TestFactionHandler_AddReference/add_character_reference
time=2026-01-09T20:37:03.438-03:00 level=INFO msg="relation created" relation_id=46d485c5-a9e4-43cb-9b9f-98512e32d50d source_id=83a7760a-685e-4855-9e0c-52bd38df85d4 target_id=0d84179d-25e6-486c-b9bd-b4ad8808e01f
time=2026-01-09T20:37:03.438-03:00 level=INFO msg="faction reference added" faction_id=83a7760a-685e-4855-9e0c-52bd38df85d4 entity_type=character entity_id=0d84179d-25e6-486c-b9bd-b4ad8808e01f
=== RUN   TestFactionHandler_AddReference/get_references
--- PASS: TestFactionHandler_AddReference (0.24s)
    --- PASS: TestFactionHandler_AddReference/add_character_reference (0.00s)
    --- PASS: TestFactionHandler_AddReference/get_references (0.00s)
=== RUN   TestInventoryHandler_AddItem
time=2026-01-09T20:37:03.698-03:00 level=INFO msg="tenant created" tenant_id=24a755b9-2ffe-4297-9a37-5d112f9e9219 name="Test Tenant"
time=2026-01-09T20:37:03.699-03:00 level=INFO msg="world created" world_id=f24936c3-e93b-4ce3-8621-aa943418f41b name="Test World" tenant_id=24a755b9-2ffe-4297-9a37-5d112f9e9219
time=2026-01-09T20:37:03.701-03:00 level=INFO msg="character created" character_id=be60f1d7-e8db-474d-af9a-97324ca9a964 name="Test Character"
time=2026-01-09T20:37:03.707-03:00 level=INFO msg="RPG system created" rpg_system_id=6855c223-117b-41ee-bc39-b6cd75230624 name="Test RPG System"
time=2026-01-09T20:37:03.717-03:00 level=INFO msg="inventory item created" item_id=da4cdcd6-5cd7-41db-8681-63b8491b42b1 name="Test Item"
=== RUN   TestInventoryHandler_AddItem/successful_add_item
time=2026-01-09T20:37:03.720-03:00 level=INFO msg="item added to inventory" character_id=be60f1d7-e8db-474d-af9a-97324ca9a964 item_id=da4cdcd6-5cd7-41db-8681-63b8491b42b1
=== RUN   TestInventoryHandler_AddItem/missing_tenant_id
--- PASS: TestInventoryHandler_AddItem (0.26s)
    --- PASS: TestInventoryHandler_AddItem/successful_add_item (0.00s)
    --- PASS: TestInventoryHandler_AddItem/missing_tenant_id (0.00s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-09T20:37:03.976-03:00 level=INFO msg="tenant created" tenant_id=e33252cf-c2d3-44c8-af19-2a9c4d6bfc21 name="Test Tenant"
time=2026-01-09T20:37:03.977-03:00 level=INFO msg="world created" world_id=6418d9fd-f1c8-42a5-9e90-bd43446691ff name="Test World" tenant_id=e33252cf-c2d3-44c8-af19-2a9c4d6bfc21
time=2026-01-09T20:37:03.978-03:00 level=INFO msg="character created" character_id=19ed833d-01d6-4cdf-b366-2843e3da0a56 name="Test Character"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
--- PASS: TestInventoryHandler_ListInventory (0.27s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.00s)
=== RUN   TestInventoryHandler_DeleteInventory
time=2026-01-09T20:37:04.282-03:00 level=INFO msg="tenant created" tenant_id=49903481-386f-456c-aa7a-4ff2888f784c name="Test Tenant"
time=2026-01-09T20:37:04.283-03:00 level=INFO msg="world created" world_id=2a45dd95-790f-40d2-a33e-858d969a9c69 name="Test World" tenant_id=49903481-386f-456c-aa7a-4ff2888f784c
time=2026-01-09T20:37:04.284-03:00 level=INFO msg="character created" character_id=0618cb49-90aa-4ce2-a290-0e9caff432ee name="Test Character"
time=2026-01-09T20:37:04.286-03:00 level=INFO msg="RPG system created" rpg_system_id=05e1a6fa-eebe-4028-9d68-929217d25acf name="Test RPG System"
time=2026-01-09T20:37:04.287-03:00 level=INFO msg="inventory item created" item_id=e66416a0-b2fa-46ba-8f65-df30579248a9 name="Test Item"
time=2026-01-09T20:37:04.289-03:00 level=INFO msg="item added to inventory" character_id=0618cb49-90aa-4ce2-a290-0e9caff432ee item_id=e66416a0-b2fa-46ba-8f65-df30579248a9
=== RUN   TestInventoryHandler_DeleteInventory/delete_existing_inventory_item
time=2026-01-09T20:37:04.290-03:00 level=INFO msg="item removed from inventory" id=4a37049a-82fb-4be6-865a-7507ab2e0fd4
=== RUN   TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item
time=2026-01-09T20:37:04.290-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 00000000-0000-0000-0000-000000000000" id=00000000-0000-0000-0000-000000000000
--- PASS: TestInventoryHandler_DeleteInventory (0.31s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_existing_inventory_item (0.00s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item (0.00s)
=== RUN   TestLocationHandler_Create
time=2026-01-09T20:37:04.647-03:00 level=INFO msg="tenant created" tenant_id=029ae4ac-715b-4f47-a872-a039a4ccbebe name="Test Tenant"
time=2026-01-09T20:37:04.648-03:00 level=INFO msg="world created" world_id=4bfe46fa-958c-41cf-9979-1bce91c3556a name="Test World" tenant_id=029ae4ac-715b-4f47-a872-a039a4ccbebe
=== RUN   TestLocationHandler_Create/successful_creation
time=2026-01-09T20:37:04.649-03:00 level=INFO msg="location created" location_id=e0cbfec3-9dd5-4498-bc68-943d74f4cc8a name="Test Location"
=== RUN   TestLocationHandler_Create/missing_tenant_id
=== RUN   TestLocationHandler_Create/empty_name
--- PASS: TestLocationHandler_Create (0.37s)
    --- PASS: TestLocationHandler_Create/successful_creation (0.00s)
    --- PASS: TestLocationHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestLocationHandler_Create/empty_name (0.00s)
=== RUN   TestLocationHandler_Get
time=2026-01-09T20:37:04.882-03:00 level=INFO msg="tenant created" tenant_id=5daa1a5e-ba29-4234-a5f8-ce89ee3b6c5c name="Test Tenant"
time=2026-01-09T20:37:04.883-03:00 level=INFO msg="world created" world_id=7d18900d-fd17-4597-b701-25bc2b38bf25 name="Test World" tenant_id=5daa1a5e-ba29-4234-a5f8-ce89ee3b6c5c
time=2026-01-09T20:37:04.884-03:00 level=INFO msg="location created" location_id=03131b91-c396-4c45-ae30-e5fbe48bd713 name="Get Test Location"
=== RUN   TestLocationHandler_Get/existing_location
=== RUN   TestLocationHandler_Get/non-existing_location
time=2026-01-09T20:37:04.885-03:00 level=ERROR msg="failed to get location" error="location not found: 00000000-0000-0000-0000-000000000000" location_id=00000000-0000-0000-0000-000000000000
=== RUN   TestLocationHandler_Get/invalid_location_ID
--- PASS: TestLocationHandler_Get (0.25s)
    --- PASS: TestLocationHandler_Get/existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/non-existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/invalid_location_ID (0.00s)
=== RUN   TestLocationHandler_List
time=2026-01-09T20:37:05.154-03:00 level=INFO msg="tenant created" tenant_id=c873aac2-9778-47fb-b169-0b59a06d1688 name="Test Tenant"
time=2026-01-09T20:37:05.155-03:00 level=INFO msg="world created" world_id=81dbdbaf-2ab4-4098-a8aa-068b6e190f2d name="Test World" tenant_id=c873aac2-9778-47fb-b169-0b59a06d1688
time=2026-01-09T20:37:05.157-03:00 level=INFO msg="location created" location_id=ad6b2f92-e606-47f0-a003-1a6a8e653744 name="Location 1"
time=2026-01-09T20:37:05.159-03:00 level=INFO msg="location created" location_id=20a183f9-3f96-4679-91b7-a7bcba53b882 name="Location 2"
time=2026-01-09T20:37:05.160-03:00 level=INFO msg="location created" location_id=719ac4af-d842-4427-9104-d9600bfefeeb name="Location 3"
=== RUN   TestLocationHandler_List/list_locations
=== RUN   TestLocationHandler_List/missing_tenant_id
--- PASS: TestLocationHandler_List (0.27s)
    --- PASS: TestLocationHandler_List/list_locations (0.00s)
    --- PASS: TestLocationHandler_List/missing_tenant_id (0.00s)
=== RUN   TestLocationHandler_Update
time=2026-01-09T20:37:05.433-03:00 level=INFO msg="tenant created" tenant_id=5691eae1-19f4-4f89-b87b-3a18b5e13c8b name="Test Tenant"
time=2026-01-09T20:37:05.435-03:00 level=INFO msg="world created" world_id=f84aeb89-b03a-40e4-9236-ab64213412bf name="Test World" tenant_id=5691eae1-19f4-4f89-b87b-3a18b5e13c8b
time=2026-01-09T20:37:05.437-03:00 level=INFO msg="location created" location_id=f0760b38-b741-41b5-a846-4a11c6108c3d name="Original Location"
=== RUN   TestLocationHandler_Update/update_location_name
time=2026-01-09T20:37:05.441-03:00 level=INFO msg="location updated" location_id=f0760b38-b741-41b5-a846-4a11c6108c3d name="Updated Location"
=== RUN   TestLocationHandler_Update/non-existing_location
--- PASS: TestLocationHandler_Update (0.26s)
    --- PASS: TestLocationHandler_Update/update_location_name (0.00s)
    --- PASS: TestLocationHandler_Update/non-existing_location (0.00s)
=== RUN   TestLocationHandler_Delete
time=2026-01-09T20:37:05.699-03:00 level=INFO msg="tenant created" tenant_id=1bcf2c7e-0903-4646-b7f6-799fdac84832 name="Test Tenant"
time=2026-01-09T20:37:05.700-03:00 level=INFO msg="world created" world_id=67fb7114-6e81-4f91-97e6-8486ef5807c9 name="Test World" tenant_id=1bcf2c7e-0903-4646-b7f6-799fdac84832
time=2026-01-09T20:37:05.702-03:00 level=INFO msg="location created" location_id=41c3c200-6f7c-4d3a-983a-8d0618838251 name="Location to Delete"
=== RUN   TestLocationHandler_Delete/delete_existing_location
time=2026-01-09T20:37:05.704-03:00 level=INFO msg="location deleted" location_id=41c3c200-6f7c-4d3a-983a-8d0618838251 name="Location to Delete"
time=2026-01-09T20:37:05.704-03:00 level=ERROR msg="failed to get location" error="location not found: 41c3c200-6f7c-4d3a-983a-8d0618838251" location_id=41c3c200-6f7c-4d3a-983a-8d0618838251
=== RUN   TestLocationHandler_Delete/delete_non-existing_location
--- PASS: TestLocationHandler_Delete (0.26s)
    --- PASS: TestLocationHandler_Delete/delete_existing_location (0.00s)
    --- PASS: TestLocationHandler_Delete/delete_non-existing_location (0.00s)
=== RUN   TestLoreHandler_Create
time=2026-01-09T20:37:05.924-03:00 level=INFO msg="tenant created" tenant_id=e86a8e3d-b8af-482d-8046-894cf01aec34 name="Test Tenant"
time=2026-01-09T20:37:05.930-03:00 level=INFO msg="world created" world_id=41a753fe-74d6-4166-899a-50f822ea1adb name="Test World" tenant_id=e86a8e3d-b8af-482d-8046-894cf01aec34
=== RUN   TestLoreHandler_Create/successful_creation
time=2026-01-09T20:37:05.933-03:00 level=INFO msg="lore created" lore_id=8880ca1c-5961-474a-8c31-4dbca4a02bf5 name="Fire Magic"
=== RUN   TestLoreHandler_Create/empty_name
--- PASS: TestLoreHandler_Create (0.23s)
    --- PASS: TestLoreHandler_Create/successful_creation (0.00s)
    --- PASS: TestLoreHandler_Create/empty_name (0.00s)
=== RUN   TestLoreHandler_AddReference
time=2026-01-09T20:37:06.156-03:00 level=INFO msg="tenant created" tenant_id=668288f0-b573-4b81-81bf-2cf992c683ac name="Test Tenant"
time=2026-01-09T20:37:06.162-03:00 level=INFO msg="world created" world_id=96e95b4b-6a80-4c48-845e-37f9313a0f1c name="Test World" tenant_id=668288f0-b573-4b81-81bf-2cf992c683ac
time=2026-01-09T20:37:06.170-03:00 level=INFO msg="lore created" lore_id=35f746fd-c7fc-4727-b4d9-cbf0dbe82626 name="Fire Magic"
time=2026-01-09T20:37:06.172-03:00 level=INFO msg="character created" character_id=b460d536-b355-4095-9c49-8489c068df91 name="Test Character"
=== RUN   TestLoreHandler_AddReference/add_character_reference
time=2026-01-09T20:37:06.184-03:00 level=INFO msg="relation created" relation_id=4fc5cb5c-9502-44b1-abc1-d248ec76d38c source_id=35f746fd-c7fc-4727-b4d9-cbf0dbe82626 target_id=b460d536-b355-4095-9c49-8489c068df91
time=2026-01-09T20:37:06.184-03:00 level=INFO msg="lore reference added" lore_id=35f746fd-c7fc-4727-b4d9-cbf0dbe82626 entity_type=character entity_id=b460d536-b355-4095-9c49-8489c068df91
=== RUN   TestLoreHandler_AddReference/get_references
--- PASS: TestLoreHandler_AddReference (0.24s)
    --- PASS: TestLoreHandler_AddReference/add_character_reference (0.01s)
    --- PASS: TestLoreHandler_AddReference/get_references (0.00s)
=== RUN   TestRPGClassHandler_Create
time=2026-01-09T20:37:06.367-03:00 level=INFO msg="tenant created" tenant_id=0a420e9c-2838-4138-a61f-b903f34182f5 name="Test Tenant"
time=2026-01-09T20:37:06.376-03:00 level=INFO msg="RPG system created" rpg_system_id=6185c47d-1e9c-4907-b313-414fa6400214 name="Test RPG System"
=== RUN   TestRPGClassHandler_Create/successful_creation
time=2026-01-09T20:37:06.378-03:00 level=INFO msg="RPG class created" class_id=5f77558e-3916-4d05-92d2-b586a9f4fd09 name="Test Class"
=== RUN   TestRPGClassHandler_Create/missing_tenant_id
--- PASS: TestRPGClassHandler_Create (0.21s)
    --- PASS: TestRPGClassHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGClassHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGClassHandler_Get
time=2026-01-09T20:37:06.670-03:00 level=INFO msg="tenant created" tenant_id=06885740-d12e-44b4-8346-6829d642669a name="Test Tenant"
time=2026-01-09T20:37:06.671-03:00 level=INFO msg="RPG system created" rpg_system_id=b7dabb23-d870-4f62-8a47-6c3af2c6b4da name="Test RPG System"
time=2026-01-09T20:37:06.673-03:00 level=INFO msg="RPG class created" class_id=0b37ef8a-2b7d-40d4-8001-aa931fd7cfca name="Get Test Class"
=== RUN   TestRPGClassHandler_Get/existing_rpg_class
=== RUN   TestRPGClassHandler_Get/non-existing_rpg_class
time=2026-01-09T20:37:06.673-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Get (0.30s)
    --- PASS: TestRPGClassHandler_Get/existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Get/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_List
time=2026-01-09T20:37:07.152-03:00 level=INFO msg="tenant created" tenant_id=ef7fbe72-caec-4051-bea8-04c1a34656e7 name="Test Tenant"
time=2026-01-09T20:37:07.153-03:00 level=INFO msg="RPG system created" rpg_system_id=73d2f645-265c-4bd0-b7b2-dd9a91b1a208 name="Test RPG System"
time=2026-01-09T20:37:07.154-03:00 level=INFO msg="RPG class created" class_id=8352f85e-571b-41f6-98f3-4392060d12a8 name="Class 1"
time=2026-01-09T20:37:07.155-03:00 level=INFO msg="RPG class created" class_id=6a5665e9-758e-4d3c-9d95-3cdac9899c7f name="Class 2"
time=2026-01-09T20:37:07.155-03:00 level=INFO msg="RPG class created" class_id=3082a11a-f953-40d9-a3bd-7d35ea304e78 name="Class 3"
=== RUN   TestRPGClassHandler_List/list_rpg_classes
--- PASS: TestRPGClassHandler_List (0.47s)
    --- PASS: TestRPGClassHandler_List/list_rpg_classes (0.00s)
=== RUN   TestRPGClassHandler_Update
time=2026-01-09T20:37:07.424-03:00 level=INFO msg="tenant created" tenant_id=65387dd4-b3b0-409e-8b3f-125b79517a07 name="Test Tenant"
time=2026-01-09T20:37:07.425-03:00 level=INFO msg="RPG system created" rpg_system_id=0d15eba7-deed-4dcc-bd05-97ca8201371d name="Test RPG System"
time=2026-01-09T20:37:07.428-03:00 level=INFO msg="RPG class created" class_id=e4e267db-4908-40c7-bcb2-5ff479da6ac3 name="Original Class"
=== RUN   TestRPGClassHandler_Update/update_rpg_class_name
time=2026-01-09T20:37:07.428-03:00 level=INFO msg="RPG class updated" class_id=e4e267db-4908-40c7-bcb2-5ff479da6ac3
=== RUN   TestRPGClassHandler_Update/non-existing_rpg_class
--- PASS: TestRPGClassHandler_Update (0.28s)
    --- PASS: TestRPGClassHandler_Update/update_rpg_class_name (0.00s)
    --- PASS: TestRPGClassHandler_Update/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_Delete
time=2026-01-09T20:37:07.701-03:00 level=INFO msg="tenant created" tenant_id=a11d852b-690c-4772-aef8-d05a9682e0ac name="Test Tenant"
time=2026-01-09T20:37:07.704-03:00 level=INFO msg="RPG system created" rpg_system_id=1ef7cdae-f86e-4b93-81b7-62ef53717105 name="Test RPG System"
time=2026-01-09T20:37:07.705-03:00 level=INFO msg="RPG class created" class_id=9458e8fd-4370-4057-bba1-f54a59a6bf99 name="Class to Delete"
=== RUN   TestRPGClassHandler_Delete/delete_existing_rpg_class
time=2026-01-09T20:37:07.706-03:00 level=INFO msg="RPG class deleted" class_id=9458e8fd-4370-4057-bba1-f54a59a6bf99
time=2026-01-09T20:37:07.706-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 9458e8fd-4370-4057-bba1-f54a59a6bf99" class_id=9458e8fd-4370-4057-bba1-f54a59a6bf99
=== RUN   TestRPGClassHandler_Delete/delete_non-existing_rpg_class
time=2026-01-09T20:37:07.706-03:00 level=ERROR msg="failed to delete RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Delete (0.29s)
    --- PASS: TestRPGClassHandler_Delete/delete_existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Delete/delete_non-existing_rpg_class (0.00s)
=== RUN   TestRPGSystemHandler_Create
time=2026-01-09T20:37:07.988-03:00 level=INFO msg="tenant created" tenant_id=abe000d6-2288-4fa1-89ab-025ba2578f09 name="Test Tenant"
=== RUN   TestRPGSystemHandler_Create/successful_creation
time=2026-01-09T20:37:07.989-03:00 level=INFO msg="RPG system created" rpg_system_id=bef26731-9c5c-4bb1-b699-79997f6a7c9b name="Test RPG System"
=== RUN   TestRPGSystemHandler_Create/missing_tenant_id
--- PASS: TestRPGSystemHandler_Create (0.28s)
    --- PASS: TestRPGSystemHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGSystemHandler_Get
time=2026-01-09T20:37:08.201-03:00 level=INFO msg="tenant created" tenant_id=7777d4f9-276e-4834-b139-99d3ac9c0136 name="Test Tenant"
time=2026-01-09T20:37:08.202-03:00 level=INFO msg="RPG system created" rpg_system_id=afe15c97-1b99-47bc-acf9-02a73f21fa9a name="Get Test RPG System"
=== RUN   TestRPGSystemHandler_Get/existing_rpg_system
=== RUN   TestRPGSystemHandler_Get/non-existing_rpg_system
time=2026-01-09T20:37:08.202-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 00000000-0000-0000-0000-000000000000" rpg_system_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGSystemHandler_Get (0.24s)
    --- PASS: TestRPGSystemHandler_Get/existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Get/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_List
time=2026-01-09T20:37:08.540-03:00 level=INFO msg="tenant created" tenant_id=b7e24c59-3dee-42d5-8741-24b8e885855d name="Test Tenant"
time=2026-01-09T20:37:08.541-03:00 level=INFO msg="RPG system created" rpg_system_id=dc41201d-cbce-46d5-b1ba-3fccfce038fc name="RPG System 1"
time=2026-01-09T20:37:08.541-03:00 level=INFO msg="RPG system created" rpg_system_id=6c3c0768-26da-407e-a0f1-555081d60d8b name="RPG System 2"
time=2026-01-09T20:37:08.541-03:00 level=INFO msg="RPG system created" rpg_system_id=959bd764-e754-4262-a110-502c95b99ce5 name="RPG System 3"
=== RUN   TestRPGSystemHandler_List/list_rpg_systems
--- PASS: TestRPGSystemHandler_List (0.31s)
    --- PASS: TestRPGSystemHandler_List/list_rpg_systems (0.00s)
=== RUN   TestRPGSystemHandler_Update
time=2026-01-09T20:37:08.788-03:00 level=INFO msg="tenant created" tenant_id=ef71de71-84a0-4677-a891-a0ebe2cbde48 name="Test Tenant"
time=2026-01-09T20:37:08.789-03:00 level=INFO msg="RPG system created" rpg_system_id=bd6d5921-fa83-4f4f-b90d-e51b4f75e2e1 name="Original RPG System"
=== RUN   TestRPGSystemHandler_Update/update_rpg_system_name
time=2026-01-09T20:37:08.790-03:00 level=INFO msg="RPG system updated" rpg_system_id=bd6d5921-fa83-4f4f-b90d-e51b4f75e2e1
=== RUN   TestRPGSystemHandler_Update/non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Update (0.27s)
    --- PASS: TestRPGSystemHandler_Update/update_rpg_system_name (0.00s)
    --- PASS: TestRPGSystemHandler_Update/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_Delete
time=2026-01-09T20:37:09.107-03:00 level=INFO msg="tenant created" tenant_id=36f2a9e8-40f4-4c86-9b70-11d6c20f74e0 name="Test Tenant"
time=2026-01-09T20:37:09.108-03:00 level=INFO msg="RPG system created" rpg_system_id=7a5bc086-5df6-41cb-8b29-92c93fbc11c8 name="RPG System to Delete"
=== RUN   TestRPGSystemHandler_Delete/delete_existing_rpg_system
time=2026-01-09T20:37:09.111-03:00 level=INFO msg="RPG system deleted" rpg_system_id=7a5bc086-5df6-41cb-8b29-92c93fbc11c8
time=2026-01-09T20:37:09.111-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 7a5bc086-5df6-41cb-8b29-92c93fbc11c8" rpg_system_id=7a5bc086-5df6-41cb-8b29-92c93fbc11c8
=== RUN   TestRPGSystemHandler_Delete/delete_non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Delete (0.33s)
    --- PASS: TestRPGSystemHandler_Delete/delete_existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Delete/delete_non-existing_rpg_system (0.00s)
=== RUN   TestSceneHandler_Create
time=2026-01-09T20:37:09.385-03:00 level=INFO msg="tenant created" tenant_id=7116d7c7-99c2-4711-924d-17cbd89c3f5f name="Test Tenant"
time=2026-01-09T20:37:09.404-03:00 level=INFO msg="world created" world_id=8f79c151-77a0-4345-b82d-10873995984c name="World of Test Story" tenant_id=7116d7c7-99c2-4711-924d-17cbd89c3f5f
time=2026-01-09T20:37:09.404-03:00 level=INFO msg="created implicit world for story" world_id=8f79c151-77a0-4345-b82d-10873995984c story_title="Test Story"
time=2026-01-09T20:37:09.405-03:00 level=INFO msg="story created" story_id=6cf2f0fc-f261-48b2-a5f7-6415b616b2bb title="Test Story" tenant_id=7116d7c7-99c2-4711-924d-17cbd89c3f5f
=== RUN   TestSceneHandler_Create/successful_creation
time=2026-01-09T20:37:09.406-03:00 level=INFO msg="scene created" scene_id=9c840f7e-2755-4e07-b7ea-6e75f1e63865 story_id=6cf2f0fc-f261-48b2-a5f7-6415b616b2bb tenant_id=7116d7c7-99c2-4711-924d-17cbd89c3f5f
=== RUN   TestSceneHandler_Create/missing_tenant_id
--- PASS: TestSceneHandler_Create (0.28s)
    --- PASS: TestSceneHandler_Create/successful_creation (0.00s)
    --- PASS: TestSceneHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSceneHandler_Get
time=2026-01-09T20:37:09.665-03:00 level=INFO msg="tenant created" tenant_id=0f3e8774-7d5d-4f8f-bbce-9b8460768298 name="Test Tenant"
time=2026-01-09T20:37:09.667-03:00 level=INFO msg="world created" world_id=231a0581-e8b8-477b-8ae4-1e2291e60db4 name="World of Test Story" tenant_id=0f3e8774-7d5d-4f8f-bbce-9b8460768298
time=2026-01-09T20:37:09.667-03:00 level=INFO msg="created implicit world for story" world_id=231a0581-e8b8-477b-8ae4-1e2291e60db4 story_title="Test Story"
time=2026-01-09T20:37:09.673-03:00 level=INFO msg="story created" story_id=0e28c403-f960-42ec-843c-7dd4e4d3446b title="Test Story" tenant_id=0f3e8774-7d5d-4f8f-bbce-9b8460768298
time=2026-01-09T20:37:09.674-03:00 level=INFO msg="scene created" scene_id=93d158c0-7686-4fbd-a90a-6cbd57c2c367 story_id=0e28c403-f960-42ec-843c-7dd4e4d3446b tenant_id=0f3e8774-7d5d-4f8f-bbce-9b8460768298
=== RUN   TestSceneHandler_Get/existing_scene
=== RUN   TestSceneHandler_Get/non-existing_scene
time=2026-01-09T20:37:09.675-03:00 level=ERROR msg="failed to get scene" error="scene not found: 00000000-0000-0000-0000-000000000000" scene_id=00000000-0000-0000-0000-000000000000 tenant_id=0f3e8774-7d5d-4f8f-bbce-9b8460768298
--- PASS: TestSceneHandler_Get (0.24s)
    --- PASS: TestSceneHandler_Get/existing_scene (0.00s)
    --- PASS: TestSceneHandler_Get/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_List
time=2026-01-09T20:37:09.884-03:00 level=INFO msg="tenant created" tenant_id=c6804a7b-c425-449e-966e-da4cf28949ae name="Test Tenant"
time=2026-01-09T20:37:09.886-03:00 level=INFO msg="world created" world_id=68e959db-8ef4-4564-aa40-30865a0f7723 name="World of Test Story" tenant_id=c6804a7b-c425-449e-966e-da4cf28949ae
time=2026-01-09T20:37:09.886-03:00 level=INFO msg="created implicit world for story" world_id=68e959db-8ef4-4564-aa40-30865a0f7723 story_title="Test Story"
time=2026-01-09T20:37:09.889-03:00 level=INFO msg="story created" story_id=87dfb55c-bc87-4c16-8f94-8f3192326659 title="Test Story" tenant_id=c6804a7b-c425-449e-966e-da4cf28949ae
time=2026-01-09T20:37:09.890-03:00 level=INFO msg="scene created" scene_id=7233a68b-80bd-49a2-9415-a10a624f445f story_id=87dfb55c-bc87-4c16-8f94-8f3192326659 tenant_id=c6804a7b-c425-449e-966e-da4cf28949ae
time=2026-01-09T20:37:09.890-03:00 level=INFO msg="scene created" scene_id=fdc245d7-f09b-4b89-8d7f-4f483fac3be6 story_id=87dfb55c-bc87-4c16-8f94-8f3192326659 tenant_id=c6804a7b-c425-449e-966e-da4cf28949ae
time=2026-01-09T20:37:09.891-03:00 level=INFO msg="scene created" scene_id=61c06741-4197-4d9d-bc35-2ad75ff7b4c7 story_id=87dfb55c-bc87-4c16-8f94-8f3192326659 tenant_id=c6804a7b-c425-449e-966e-da4cf28949ae
=== RUN   TestSceneHandler_List/list_scenes
--- PASS: TestSceneHandler_List (0.23s)
    --- PASS: TestSceneHandler_List/list_scenes (0.00s)
=== RUN   TestSceneHandler_Update
time=2026-01-09T20:37:10.271-03:00 level=INFO msg="tenant created" tenant_id=7cfeb3b7-28be-4c97-b2c4-d7abfa6bd05e name="Test Tenant"
time=2026-01-09T20:37:10.273-03:00 level=INFO msg="world created" world_id=8c38d50a-fb64-4e53-be07-c4a55bedf93f name="World of Test Story" tenant_id=7cfeb3b7-28be-4c97-b2c4-d7abfa6bd05e
time=2026-01-09T20:37:10.273-03:00 level=INFO msg="created implicit world for story" world_id=8c38d50a-fb64-4e53-be07-c4a55bedf93f story_title="Test Story"
time=2026-01-09T20:37:10.274-03:00 level=INFO msg="story created" story_id=d59bc9db-68ba-42e5-8334-6f6a10ae809e title="Test Story" tenant_id=7cfeb3b7-28be-4c97-b2c4-d7abfa6bd05e
time=2026-01-09T20:37:10.276-03:00 level=INFO msg="scene created" scene_id=eb4fbd7d-7ec7-41d0-9648-ae734d4121bf story_id=d59bc9db-68ba-42e5-8334-6f6a10ae809e tenant_id=7cfeb3b7-28be-4c97-b2c4-d7abfa6bd05e
=== RUN   TestSceneHandler_Update/update_scene_goal
time=2026-01-09T20:37:10.277-03:00 level=INFO msg="scene updated" scene_id=eb4fbd7d-7ec7-41d0-9648-ae734d4121bf tenant_id=7cfeb3b7-28be-4c97-b2c4-d7abfa6bd05e
=== RUN   TestSceneHandler_Update/non-existing_scene
--- PASS: TestSceneHandler_Update (0.42s)
    --- PASS: TestSceneHandler_Update/update_scene_goal (0.00s)
    --- PASS: TestSceneHandler_Update/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_Delete
time=2026-01-09T20:37:10.572-03:00 level=INFO msg="tenant created" tenant_id=1622f56b-a2ce-4b11-87fb-d3ad666d6903 name="Test Tenant"
time=2026-01-09T20:37:10.575-03:00 level=INFO msg="world created" world_id=92a08e78-ba86-470a-bc3a-942ab7018380 name="World of Test Story" tenant_id=1622f56b-a2ce-4b11-87fb-d3ad666d6903
time=2026-01-09T20:37:10.575-03:00 level=INFO msg="created implicit world for story" world_id=92a08e78-ba86-470a-bc3a-942ab7018380 story_title="Test Story"
time=2026-01-09T20:37:10.576-03:00 level=INFO msg="story created" story_id=f13a27b1-a150-4cff-a368-7027af393104 title="Test Story" tenant_id=1622f56b-a2ce-4b11-87fb-d3ad666d6903
time=2026-01-09T20:37:10.578-03:00 level=INFO msg="scene created" scene_id=9788725c-831e-48cc-b103-92031d8a1004 story_id=f13a27b1-a150-4cff-a368-7027af393104 tenant_id=1622f56b-a2ce-4b11-87fb-d3ad666d6903
=== RUN   TestSceneHandler_Delete/delete_existing_scene
time=2026-01-09T20:37:10.580-03:00 level=INFO msg="scene deleted" scene_id=9788725c-831e-48cc-b103-92031d8a1004 tenant_id=1622f56b-a2ce-4b11-87fb-d3ad666d6903
time=2026-01-09T20:37:10.580-03:00 level=ERROR msg="failed to get scene" error="scene not found: 9788725c-831e-48cc-b103-92031d8a1004" scene_id=9788725c-831e-48cc-b103-92031d8a1004 tenant_id=1622f56b-a2ce-4b11-87fb-d3ad666d6903
=== RUN   TestSceneHandler_Delete/delete_non-existing_scene
--- PASS: TestSceneHandler_Delete (0.26s)
    --- PASS: TestSceneHandler_Delete/delete_existing_scene (0.00s)
    --- PASS: TestSceneHandler_Delete/delete_non-existing_scene (0.00s)
=== RUN   TestSkillHandler_Create
time=2026-01-09T20:37:10.897-03:00 level=INFO msg="tenant created" tenant_id=4ee238c9-f556-4de9-808f-94dbc12f19d9 name="Test Tenant"
time=2026-01-09T20:37:10.899-03:00 level=INFO msg="RPG system created" rpg_system_id=8d505a9c-345d-44f1-b742-0af9626f1c23 name="Test RPG System"
=== RUN   TestSkillHandler_Create/successful_creation
time=2026-01-09T20:37:10.901-03:00 level=INFO msg="skill created" skill_id=6aca1015-7a3c-4d32-b141-c3eed0804ed5 name="Test Skill"
=== RUN   TestSkillHandler_Create/missing_tenant_id
--- PASS: TestSkillHandler_Create (0.33s)
    --- PASS: TestSkillHandler_Create/successful_creation (0.00s)
    --- PASS: TestSkillHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSkillHandler_Get
time=2026-01-09T20:37:11.156-03:00 level=INFO msg="tenant created" tenant_id=035ed0d3-9c73-44b0-9a38-2702691dd9bf name="Test Tenant"
time=2026-01-09T20:37:11.159-03:00 level=INFO msg="RPG system created" rpg_system_id=70a149f1-3676-46d9-b093-f21fbc65c1b7 name="Test RPG System"
time=2026-01-09T20:37:11.161-03:00 level=INFO msg="skill created" skill_id=c897c943-260c-4bf7-b059-14813d4daa2e name="Get Test Skill"
=== RUN   TestSkillHandler_Get/existing_skill
=== RUN   TestSkillHandler_Get/non-existing_skill
time=2026-01-09T20:37:11.161-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Get (0.28s)
    --- PASS: TestSkillHandler_Get/existing_skill (0.00s)
    --- PASS: TestSkillHandler_Get/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_List
time=2026-01-09T20:37:11.440-03:00 level=INFO msg="tenant created" tenant_id=afd3db46-5425-4a5d-9487-b63569f42b91 name="Test Tenant"
time=2026-01-09T20:37:11.441-03:00 level=INFO msg="RPG system created" rpg_system_id=0b4bda66-bdc5-4924-a151-0638f1ce0e01 name="Test RPG System"
time=2026-01-09T20:37:11.442-03:00 level=INFO msg="skill created" skill_id=4091c0a3-6bcc-4621-bae3-757c8145d7a1 name="Skill 1"
time=2026-01-09T20:37:11.443-03:00 level=INFO msg="skill created" skill_id=eee0d17e-620f-4a0a-a87c-bfd36d7b435e name="Skill 2"
time=2026-01-09T20:37:11.444-03:00 level=INFO msg="skill created" skill_id=11c306b9-2e5e-4a0e-8358-aad239164c1c name="Skill 3"
=== RUN   TestSkillHandler_List/list_skills
--- PASS: TestSkillHandler_List (0.30s)
    --- PASS: TestSkillHandler_List/list_skills (0.00s)
=== RUN   TestSkillHandler_Update
time=2026-01-09T20:37:11.739-03:00 level=INFO msg="tenant created" tenant_id=c5deb4b9-c259-44d7-82b8-d2db9ea3e4fc name="Test Tenant"
time=2026-01-09T20:37:11.740-03:00 level=INFO msg="RPG system created" rpg_system_id=a4010739-adef-444e-a537-a2d7b8a01e64 name="Test RPG System"
time=2026-01-09T20:37:11.742-03:00 level=INFO msg="skill created" skill_id=8dc279ee-066e-4877-ac01-b50adbc508dc name="Original Skill"
=== RUN   TestSkillHandler_Update/update_skill_name
time=2026-01-09T20:37:11.743-03:00 level=INFO msg="skill updated" skill_id=8dc279ee-066e-4877-ac01-b50adbc508dc
=== RUN   TestSkillHandler_Update/non-existing_skill
--- PASS: TestSkillHandler_Update (0.29s)
    --- PASS: TestSkillHandler_Update/update_skill_name (0.00s)
    --- PASS: TestSkillHandler_Update/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_Delete
time=2026-01-09T20:37:12.040-03:00 level=INFO msg="tenant created" tenant_id=66b32f5c-8f5a-4816-b9de-5fcf629e6fc5 name="Test Tenant"
time=2026-01-09T20:37:12.042-03:00 level=INFO msg="RPG system created" rpg_system_id=c67049df-8c87-4d39-9ca3-9e499af7d975 name="Test RPG System"
time=2026-01-09T20:37:12.047-03:00 level=INFO msg="skill created" skill_id=8ce99b19-0b6f-4851-a10b-246dfa5fb055 name="Skill to Delete"
=== RUN   TestSkillHandler_Delete/delete_existing_skill
time=2026-01-09T20:37:12.048-03:00 level=INFO msg="skill deleted" skill_id=8ce99b19-0b6f-4851-a10b-246dfa5fb055
time=2026-01-09T20:37:12.049-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 8ce99b19-0b6f-4851-a10b-246dfa5fb055" skill_id=8ce99b19-0b6f-4851-a10b-246dfa5fb055
=== RUN   TestSkillHandler_Delete/delete_non-existing_skill
time=2026-01-09T20:37:12.049-03:00 level=ERROR msg="failed to delete skill" error="skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Delete (0.35s)
    --- PASS: TestSkillHandler_Delete/delete_existing_skill (0.00s)
    --- PASS: TestSkillHandler_Delete/delete_non-existing_skill (0.00s)
=== RUN   TestStoryHandler_Create
time=2026-01-09T20:37:12.473-03:00 level=INFO msg="tenant created" tenant_id=498feb3d-2826-4a7b-a10f-e5844ff303fb name="Test Tenant"
=== RUN   TestStoryHandler_Create/successful_creation
time=2026-01-09T20:37:12.475-03:00 level=INFO msg="world created" world_id=7f9f8445-5318-4380-b3ef-eeb781003b65 name="World of Test Story" tenant_id=498feb3d-2826-4a7b-a10f-e5844ff303fb
time=2026-01-09T20:37:12.475-03:00 level=INFO msg="created implicit world for story" world_id=7f9f8445-5318-4380-b3ef-eeb781003b65 story_title="Test Story"
time=2026-01-09T20:37:12.477-03:00 level=INFO msg="story created" story_id=8a82af36-1e35-4267-91c5-d7a6d28f2fd2 title="Test Story" tenant_id=498feb3d-2826-4a7b-a10f-e5844ff303fb
=== RUN   TestStoryHandler_Create/missing_tenant_id
=== RUN   TestStoryHandler_Create/empty_title
--- PASS: TestStoryHandler_Create (0.40s)
    --- PASS: TestStoryHandler_Create/successful_creation (0.00s)
    --- PASS: TestStoryHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestStoryHandler_Create/empty_title (0.00s)
=== RUN   TestStoryHandler_Get
time=2026-01-09T20:37:12.842-03:00 level=INFO msg="tenant created" tenant_id=29e5a47e-9aaa-4b5e-8972-81eb02e2b292 name="Test Tenant"
time=2026-01-09T20:37:12.843-03:00 level=INFO msg="world created" world_id=7af54617-3206-4b3c-8165-6ea64229b6b8 name="World of Get Test Story" tenant_id=29e5a47e-9aaa-4b5e-8972-81eb02e2b292
time=2026-01-09T20:37:12.843-03:00 level=INFO msg="created implicit world for story" world_id=7af54617-3206-4b3c-8165-6ea64229b6b8 story_title="Get Test Story"
time=2026-01-09T20:37:12.844-03:00 level=INFO msg="story created" story_id=81039450-6a16-408b-b9df-eff008ca6353 title="Get Test Story" tenant_id=29e5a47e-9aaa-4b5e-8972-81eb02e2b292
=== RUN   TestStoryHandler_Get/existing_story
=== RUN   TestStoryHandler_Get/non-existing_story
time=2026-01-09T20:37:12.844-03:00 level=ERROR msg="failed to get story" error="story not found: 00000000-0000-0000-0000-000000000000" story_id=00000000-0000-0000-0000-000000000000 tenant_id=29e5a47e-9aaa-4b5e-8972-81eb02e2b292
--- PASS: TestStoryHandler_Get (0.34s)
    --- PASS: TestStoryHandler_Get/existing_story (0.00s)
    --- PASS: TestStoryHandler_Get/non-existing_story (0.00s)
=== RUN   TestStoryHandler_List
time=2026-01-09T20:37:13.083-03:00 level=INFO msg="tenant created" tenant_id=48faebaf-e6a9-4767-82f3-d62dcd2cc899 name="Test Tenant"
time=2026-01-09T20:37:13.085-03:00 level=INFO msg="world created" world_id=9e17122c-d093-46b0-9dc6-c08c27bc3e31 name="World of Story 1" tenant_id=48faebaf-e6a9-4767-82f3-d62dcd2cc899
time=2026-01-09T20:37:13.085-03:00 level=INFO msg="created implicit world for story" world_id=9e17122c-d093-46b0-9dc6-c08c27bc3e31 story_title="Story 1"
time=2026-01-09T20:37:13.087-03:00 level=INFO msg="story created" story_id=d211c3b0-189d-4bf1-a6cc-181c7701283b title="Story 1" tenant_id=48faebaf-e6a9-4767-82f3-d62dcd2cc899
time=2026-01-09T20:37:13.088-03:00 level=INFO msg="world created" world_id=6b7c8d69-32e5-494c-85cb-215e0732f26d name="World of Story 2" tenant_id=48faebaf-e6a9-4767-82f3-d62dcd2cc899
time=2026-01-09T20:37:13.088-03:00 level=INFO msg="created implicit world for story" world_id=6b7c8d69-32e5-494c-85cb-215e0732f26d story_title="Story 2"
time=2026-01-09T20:37:13.088-03:00 level=INFO msg="story created" story_id=2bbe00d3-fb01-4e13-97f8-637efa6222b8 title="Story 2" tenant_id=48faebaf-e6a9-4767-82f3-d62dcd2cc899
time=2026-01-09T20:37:13.089-03:00 level=INFO msg="world created" world_id=a61f7175-109d-42df-aef3-94fcff0dbf9c name="World of Story 3" tenant_id=48faebaf-e6a9-4767-82f3-d62dcd2cc899
time=2026-01-09T20:37:13.089-03:00 level=INFO msg="created implicit world for story" world_id=a61f7175-109d-42df-aef3-94fcff0dbf9c story_title="Story 3"
time=2026-01-09T20:37:13.089-03:00 level=INFO msg="story created" story_id=015921b4-fe49-4f72-89ed-b7054d96670f title="Story 3" tenant_id=48faebaf-e6a9-4767-82f3-d62dcd2cc899
=== RUN   TestStoryHandler_List/list_stories
=== RUN   TestStoryHandler_List/missing_tenant_id
--- PASS: TestStoryHandler_List (0.23s)
    --- PASS: TestStoryHandler_List/list_stories (0.00s)
    --- PASS: TestStoryHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTenantHandler_Create
=== RUN   TestTenantHandler_Create/successful_creation
time=2026-01-09T20:37:13.388-03:00 level=INFO msg="tenant created" tenant_id=a6a994bc-594f-45dd-98b3-368d4febdea0 name="Test Tenant"
=== RUN   TestTenantHandler_Create/duplicate_name
time=2026-01-09T20:37:13.389-03:00 level=INFO msg="tenant created" tenant_id=7c3a3837-fb63-4978-b1d3-1e4e69c3e01f name="Duplicate Tenant"
=== RUN   TestTenantHandler_Create/empty_name
=== RUN   TestTenantHandler_Create/invalid_JSON
--- PASS: TestTenantHandler_Create (0.28s)
    --- PASS: TestTenantHandler_Create/successful_creation (0.01s)
    --- PASS: TestTenantHandler_Create/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_Create/empty_name (0.00s)
    --- PASS: TestTenantHandler_Create/invalid_JSON (0.00s)
=== RUN   TestTenantHandler_Get
time=2026-01-09T20:37:13.655-03:00 level=INFO msg="tenant created" tenant_id=257e598d-2dc5-4df6-a63d-af55157f3f2f name="Get Test Tenant"
=== RUN   TestTenantHandler_Get/existing_tenant
=== RUN   TestTenantHandler_Get/invalid_UUID
=== RUN   TestTenantHandler_Get/non-existing_tenant
--- PASS: TestTenantHandler_Get (0.29s)
    --- PASS: TestTenantHandler_Get/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_Get/invalid_UUID (0.00s)
    --- PASS: TestTenantHandler_Get/non-existing_tenant (0.00s)
=== RUN   TestTraitHandler_Create
time=2026-01-09T20:37:13.950-03:00 level=INFO msg="tenant created" tenant_id=61702c84-3806-4c27-b179-d1a679397336 name="Test Tenant"
=== RUN   TestTraitHandler_Create/successful_creation
time=2026-01-09T20:37:13.957-03:00 level=INFO msg="trait created" trait_id=2621a0cf-422a-451f-826f-240702fafa5d name=Brave
=== RUN   TestTraitHandler_Create/missing_tenant_id
=== RUN   TestTraitHandler_Create/empty_name
--- PASS: TestTraitHandler_Create (0.30s)
    --- PASS: TestTraitHandler_Create/successful_creation (0.01s)
    --- PASS: TestTraitHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestTraitHandler_Create/empty_name (0.00s)
=== RUN   TestTraitHandler_Get
time=2026-01-09T20:37:14.232-03:00 level=INFO msg="tenant created" tenant_id=22eaba53-59f8-4cb0-ba0f-d6f1391b2b8f name="Test Tenant"
time=2026-01-09T20:37:14.234-03:00 level=INFO msg="trait created" trait_id=fc8164b0-ae15-493e-b56b-ed5e0697e8ba name="Get Test Trait"
=== RUN   TestTraitHandler_Get/existing_trait
=== RUN   TestTraitHandler_Get/non-existing_trait
time=2026-01-09T20:37:14.234-03:00 level=ERROR msg="failed to get trait" error="trait not found: 00000000-0000-0000-0000-000000000000" trait_id=00000000-0000-0000-0000-000000000000
=== RUN   TestTraitHandler_Get/invalid_trait_ID
--- PASS: TestTraitHandler_Get (0.32s)
    --- PASS: TestTraitHandler_Get/existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/non-existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/invalid_trait_ID (0.00s)
=== RUN   TestTraitHandler_List
time=2026-01-09T20:37:14.496-03:00 level=INFO msg="tenant created" tenant_id=3274b393-d01a-44a4-929b-c6f13ca871ef name="Test Tenant"
time=2026-01-09T20:37:14.497-03:00 level=INFO msg="trait created" trait_id=d92af257-0e8e-47e1-9d5b-42fad9eb8aed name="Trait 1"
time=2026-01-09T20:37:14.498-03:00 level=INFO msg="trait created" trait_id=99e60d04-99e9-4b27-ad8a-a0959bc06136 name="Trait 2"
time=2026-01-09T20:37:14.499-03:00 level=INFO msg="trait created" trait_id=51e08751-e78b-435d-9784-a111591b8af8 name="Trait 3"
=== RUN   TestTraitHandler_List/list_traits
=== RUN   TestTraitHandler_List/missing_tenant_id
--- PASS: TestTraitHandler_List (0.23s)
    --- PASS: TestTraitHandler_List/list_traits (0.00s)
    --- PASS: TestTraitHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTraitHandler_Update
time=2026-01-09T20:37:14.794-03:00 level=INFO msg="tenant created" tenant_id=79f50365-0208-424e-a160-a718f7abaeeb name="Test Tenant"
time=2026-01-09T20:37:14.797-03:00 level=INFO msg="trait created" trait_id=60f4bd26-0fbf-4faa-841b-2c7590a3e19a name="Original Trait"
=== RUN   TestTraitHandler_Update/update_trait_name
time=2026-01-09T20:37:14.798-03:00 level=INFO msg="trait updated" trait_id=60f4bd26-0fbf-4faa-841b-2c7590a3e19a name="Updated Trait"
=== RUN   TestTraitHandler_Update/non-existing_trait
--- PASS: TestTraitHandler_Update (0.28s)
    --- PASS: TestTraitHandler_Update/update_trait_name (0.00s)
    --- PASS: TestTraitHandler_Update/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_Delete
time=2026-01-09T20:37:15.081-03:00 level=INFO msg="tenant created" tenant_id=351839d9-fa59-4555-a81c-99994d7e3367 name="Test Tenant"
time=2026-01-09T20:37:15.083-03:00 level=INFO msg="trait created" trait_id=9c5bc6d5-b430-409d-801f-bf7a3b164015 name="Trait to Delete"
=== RUN   TestTraitHandler_Delete/delete_existing_trait
time=2026-01-09T20:37:15.086-03:00 level=INFO msg="trait deleted" trait_id=9c5bc6d5-b430-409d-801f-bf7a3b164015 name="Trait to Delete"
time=2026-01-09T20:37:15.086-03:00 level=ERROR msg="failed to get trait" error="trait not found: 9c5bc6d5-b430-409d-801f-bf7a3b164015" trait_id=9c5bc6d5-b430-409d-801f-bf7a3b164015
=== RUN   TestTraitHandler_Delete/delete_non-existing_trait
--- PASS: TestTraitHandler_Delete (0.29s)
    --- PASS: TestTraitHandler_Delete/delete_existing_trait (0.00s)
    --- PASS: TestTraitHandler_Delete/delete_non-existing_trait (0.00s)
=== RUN   TestWorldHandler_Create
time=2026-01-09T20:37:15.361-03:00 level=INFO msg="tenant created" tenant_id=6d3a37eb-2e41-4bb1-a8a5-5e46ee5824bc name="Test Tenant"
=== RUN   TestWorldHandler_Create/successful_creation
time=2026-01-09T20:37:15.362-03:00 level=INFO msg="world created" world_id=c4cc4b5b-c7de-4090-a236-ad97bf0cd90e name="Test World" tenant_id=6d3a37eb-2e41-4bb1-a8a5-5e46ee5824bc
=== RUN   TestWorldHandler_Create/missing_tenant_id
=== RUN   TestWorldHandler_Create/empty_name
--- PASS: TestWorldHandler_Create (0.28s)
    --- PASS: TestWorldHandler_Create/successful_creation (0.00s)
    --- PASS: TestWorldHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestWorldHandler_Create/empty_name (0.00s)
=== RUN   TestWorldHandler_Get
time=2026-01-09T20:37:15.585-03:00 level=INFO msg="tenant created" tenant_id=a475b495-2e55-460f-9a7b-5009288e836a name="Test Tenant"
time=2026-01-09T20:37:15.587-03:00 level=INFO msg="world created" world_id=3c0fd78e-d653-423c-ad53-4e1748962c3f name="Get Test World" tenant_id=a475b495-2e55-460f-9a7b-5009288e836a
=== RUN   TestWorldHandler_Get/existing_world
=== RUN   TestWorldHandler_Get/non-existing_world
time=2026-01-09T20:37:15.588-03:00 level=ERROR msg="failed to get world" error="world not found: 00000000-0000-0000-0000-000000000000" world_id=00000000-0000-0000-0000-000000000000
=== RUN   TestWorldHandler_Get/invalid_world_ID
--- PASS: TestWorldHandler_Get (0.23s)
    --- PASS: TestWorldHandler_Get/existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_List
time=2026-01-09T20:37:15.822-03:00 level=INFO msg="tenant created" tenant_id=74febfa1-bf9c-475b-b329-a5055c56600a name="Test Tenant"
time=2026-01-09T20:37:15.823-03:00 level=INFO msg="world created" world_id=b00a7619-6e3a-4dcd-a62b-e75c749eb3d9 name="World 1" tenant_id=74febfa1-bf9c-475b-b329-a5055c56600a
time=2026-01-09T20:37:15.824-03:00 level=INFO msg="world created" world_id=796d3f5a-3dea-4cf5-9844-5d7923cee543 name="World 2" tenant_id=74febfa1-bf9c-475b-b329-a5055c56600a
time=2026-01-09T20:37:15.825-03:00 level=INFO msg="world created" world_id=c83e1be1-b6d9-4008-abca-0dc73a9be240 name="World 3" tenant_id=74febfa1-bf9c-475b-b329-a5055c56600a
=== RUN   TestWorldHandler_List/list_worlds
=== RUN   TestWorldHandler_List/missing_tenant_id
--- PASS: TestWorldHandler_List (0.31s)
    --- PASS: TestWorldHandler_List/list_worlds (0.00s)
    --- PASS: TestWorldHandler_List/missing_tenant_id (0.00s)
=== RUN   TestWorldHandler_Update
time=2026-01-09T20:37:16.132-03:00 level=INFO msg="tenant created" tenant_id=428ab9de-edee-4257-9468-334010b29da7 name="Test Tenant"
time=2026-01-09T20:37:16.134-03:00 level=INFO msg="world created" world_id=96964754-c9ec-47db-8eb3-a8d8c793207a name="Original World" tenant_id=428ab9de-edee-4257-9468-334010b29da7
=== RUN   TestWorldHandler_Update/update_world_name
time=2026-01-09T20:37:16.135-03:00 level=INFO msg="world updated" world_id=96964754-c9ec-47db-8eb3-a8d8c793207a name="Updated World"
=== RUN   TestWorldHandler_Update/non-existing_world
--- PASS: TestWorldHandler_Update (0.22s)
    --- PASS: TestWorldHandler_Update/update_world_name (0.00s)
    --- PASS: TestWorldHandler_Update/non-existing_world (0.00s)
=== RUN   TestWorldHandler_Delete
time=2026-01-09T20:37:16.371-03:00 level=INFO msg="tenant created" tenant_id=59a9e150-8fe3-46c5-a496-327f32c33cdf name="Test Tenant"
time=2026-01-09T20:37:16.373-03:00 level=INFO msg="world created" world_id=c00e9092-da7f-4313-a529-a5ae8edbe9c2 name="World to Delete" tenant_id=59a9e150-8fe3-46c5-a496-327f32c33cdf
=== RUN   TestWorldHandler_Delete/delete_existing_world
time=2026-01-09T20:37:16.377-03:00 level=INFO msg="world deleted" world_id=c00e9092-da7f-4313-a529-a5ae8edbe9c2 name="World to Delete"
time=2026-01-09T20:37:16.377-03:00 level=ERROR msg="failed to get world" error="world not found: c00e9092-da7f-4313-a529-a5ae8edbe9c2" world_id=c00e9092-da7f-4313-a529-a5ae8edbe9c2
=== RUN   TestWorldHandler_Delete/delete_non-existing_world
--- PASS: TestWorldHandler_Delete (0.25s)
    --- PASS: TestWorldHandler_Delete/delete_existing_world (0.00s)
    --- PASS: TestWorldHandler_Delete/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/http/handlers	(cached)
?   	github.com/story-engine/main-service/internal/transport/http/middleware	[no test files]
?   	github.com/story-engine/main-service/proto/archetype	[no test files]
?   	github.com/story-engine/main-service/proto/artifact	[no test files]
?   	github.com/story-engine/main-service/proto/artifact_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/beat	[no test files]
?   	github.com/story-engine/main-service/proto/chapter	[no test files]
?   	github.com/story-engine/main-service/proto/character	[no test files]
?   	github.com/story-engine/main-service/proto/character_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/character_skill	[no test files]
?   	github.com/story-engine/main-service/proto/common	[no test files]
?   	github.com/story-engine/main-service/proto/content_block	[no test files]
?   	github.com/story-engine/main-service/proto/entity_relation	[no test files]
?   	github.com/story-engine/main-service/proto/event	[no test files]
?   	github.com/story-engine/main-service/proto/faction	[no test files]
?   	github.com/story-engine/main-service/proto/inventory	[no test files]
?   	github.com/story-engine/main-service/proto/location	[no test files]
?   	github.com/story-engine/main-service/proto/lore	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_class	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_system	[no test files]
?   	github.com/story-engine/main-service/proto/scene	[no test files]
?   	github.com/story-engine/main-service/proto/skill	[no test files]
?   	github.com/story-engine/main-service/proto/story	[no test files]
?   	github.com/story-engine/main-service/proto/tenant	[no test files]
?   	github.com/story-engine/main-service/proto/trait	[no test files]
?   	github.com/story-engine/main-service/proto/world	[no test files]
