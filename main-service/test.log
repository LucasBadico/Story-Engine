Checking if PostgreSQL is running locally...
PostgreSQL is ready!
Creating database if it doesn't exist...
Database 'storyengine' already exists
Running integration tests with database cloning...
go test -v -tags=integration ./... 2>&1 | tee /tmp/gotest-integration.log
?   	github.com/story-engine/main-service/cmd/api-grpc	[no test files]
?   	github.com/story-engine/main-service/cmd/api-http	[no test files]
?   	github.com/story-engine/main-service/cmd/api-offline	[no test files]
=== RUN   TestMembershipRepository_Create
=== RUN   TestMembershipRepository_Create/successful_creation
=== RUN   TestMembershipRepository_Create/duplicate_tenant-user_constraint
--- PASS: TestMembershipRepository_Create (0.53s)
    --- PASS: TestMembershipRepository_Create/successful_creation (0.00s)
    --- PASS: TestMembershipRepository_Create/duplicate_tenant-user_constraint (0.00s)
=== RUN   TestMembershipRepository_GetByID
=== RUN   TestMembershipRepository_GetByID/existing_membership
=== RUN   TestMembershipRepository_GetByID/non-existing_membership
--- PASS: TestMembershipRepository_GetByID (0.27s)
    --- PASS: TestMembershipRepository_GetByID/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByID/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_GetByTenantAndUser
=== RUN   TestMembershipRepository_GetByTenantAndUser/existing_membership
=== RUN   TestMembershipRepository_GetByTenantAndUser/non-existing_membership
--- PASS: TestMembershipRepository_GetByTenantAndUser (0.49s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_ListByTenant
--- PASS: TestMembershipRepository_ListByTenant (0.26s)
=== RUN   TestMembershipRepository_ListByUser
--- PASS: TestMembershipRepository_ListByUser (0.27s)
=== RUN   TestMembershipRepository_Update
--- PASS: TestMembershipRepository_Update (0.37s)
=== RUN   TestMembershipRepository_Delete
--- PASS: TestMembershipRepository_Delete (0.25s)
=== RUN   TestMembershipRepository_CountOwnersByTenant
--- PASS: TestMembershipRepository_CountOwnersByTenant (0.24s)
=== RUN   TestUserRepository_Create
=== RUN   TestUserRepository_Create/successful_creation
=== RUN   TestUserRepository_Create/duplicate_email_constraint
--- PASS: TestUserRepository_Create (0.30s)
    --- PASS: TestUserRepository_Create/successful_creation (0.00s)
    --- PASS: TestUserRepository_Create/duplicate_email_constraint (0.00s)
=== RUN   TestUserRepository_GetByID
=== RUN   TestUserRepository_GetByID/existing_user
=== RUN   TestUserRepository_GetByID/non-existing_user
--- PASS: TestUserRepository_GetByID (0.25s)
    --- PASS: TestUserRepository_GetByID/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByID/non-existing_user (0.00s)
=== RUN   TestUserRepository_GetByEmail
=== RUN   TestUserRepository_GetByEmail/existing_user
=== RUN   TestUserRepository_GetByEmail/non-existing_email
--- PASS: TestUserRepository_GetByEmail (0.27s)
    --- PASS: TestUserRepository_GetByEmail/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByEmail/non-existing_email (0.00s)
=== RUN   TestUserRepository_Update
--- PASS: TestUserRepository_Update (0.26s)
=== RUN   TestUserRepository_Delete
--- PASS: TestUserRepository_Delete (0.25s)
=== RUN   TestUserRepository_List
=== RUN   TestUserRepository_List/list_with_limit
=== RUN   TestUserRepository_List/list_with_offset
=== RUN   TestUserRepository_List/list_all
--- PASS: TestUserRepository_List (0.25s)
    --- PASS: TestUserRepository_List/list_with_limit (0.00s)
    --- PASS: TestUserRepository_List/list_with_offset (0.00s)
    --- PASS: TestUserRepository_List/list_all (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/postgres	(cached)
=== RUN   TestArchetypeRepository_Create
=== RUN   TestArchetypeRepository_Create/successful_creation
=== RUN   TestArchetypeRepository_Create/creation_with_description
--- PASS: TestArchetypeRepository_Create (0.01s)
    --- PASS: TestArchetypeRepository_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeRepository_Create/creation_with_description (0.00s)
=== RUN   TestArchetypeRepository_GetByID
=== RUN   TestArchetypeRepository_GetByID/existing_archetype
=== RUN   TestArchetypeRepository_GetByID/non-existent_archetype
--- PASS: TestArchetypeRepository_GetByID (0.01s)
    --- PASS: TestArchetypeRepository_GetByID/existing_archetype (0.00s)
    --- PASS: TestArchetypeRepository_GetByID/non-existent_archetype (0.00s)
=== RUN   TestArchetypeRepository_ListByTenant
=== RUN   TestArchetypeRepository_ListByTenant/empty_list
=== RUN   TestArchetypeRepository_ListByTenant/list_with_archetypes
=== RUN   TestArchetypeRepository_ListByTenant/pagination
=== RUN   TestArchetypeRepository_ListByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_ListByTenant (0.01s)
    --- PASS: TestArchetypeRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/list_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeRepository_Update
=== RUN   TestArchetypeRepository_Update/successful_update
--- PASS: TestArchetypeRepository_Update (0.01s)
    --- PASS: TestArchetypeRepository_Update/successful_update (0.00s)
=== RUN   TestArchetypeRepository_Delete
=== RUN   TestArchetypeRepository_Delete/successful_delete
--- PASS: TestArchetypeRepository_Delete (0.01s)
    --- PASS: TestArchetypeRepository_Delete/successful_delete (0.00s)
=== RUN   TestArchetypeRepository_CountByTenant
=== RUN   TestArchetypeRepository_CountByTenant/empty_count
=== RUN   TestArchetypeRepository_CountByTenant/count_with_archetypes
=== RUN   TestArchetypeRepository_CountByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_CountByTenant (0.01s)
    --- PASS: TestArchetypeRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/count_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeTraitRepository_Create
=== RUN   TestArchetypeTraitRepository_Create/successful_creation
--- PASS: TestArchetypeTraitRepository_Create (0.01s)
    --- PASS: TestArchetypeTraitRepository_Create/successful_creation (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByArchetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/empty_list
--- PASS: TestArchetypeTraitRepository_GetByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype (0.00s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/empty_list (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByTrait
=== RUN   TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait
--- PASS: TestArchetypeTraitRepository_GetByTrait (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait (0.00s)
=== RUN   TestArchetypeTraitRepository_Delete
=== RUN   TestArchetypeTraitRepository_Delete/delete_specific_relationship
--- PASS: TestArchetypeTraitRepository_Delete (0.01s)
    --- PASS: TestArchetypeTraitRepository_Delete/delete_specific_relationship (0.00s)
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype
--- PASS: TestArchetypeTraitRepository_DeleteByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype (0.00s)
=== RUN   TestArtifactReferenceRepository_Create
=== RUN   TestArtifactReferenceRepository_Create/successful_creation_with_character
=== RUN   TestArtifactReferenceRepository_Create/successful_creation_with_location
--- PASS: TestArtifactReferenceRepository_Create (0.01s)
    --- PASS: TestArtifactReferenceRepository_Create/successful_creation_with_character (0.00s)
    --- PASS: TestArtifactReferenceRepository_Create/successful_creation_with_location (0.00s)
=== RUN   TestArtifactReferenceRepository_GetByID
=== RUN   TestArtifactReferenceRepository_GetByID/existing_artifact_reference
=== RUN   TestArtifactReferenceRepository_GetByID/non-existent_artifact_reference
--- PASS: TestArtifactReferenceRepository_GetByID (0.01s)
    --- PASS: TestArtifactReferenceRepository_GetByID/existing_artifact_reference (0.00s)
    --- PASS: TestArtifactReferenceRepository_GetByID/non-existent_artifact_reference (0.00s)
=== RUN   TestArtifactReferenceRepository_ListByArtifact
=== RUN   TestArtifactReferenceRepository_ListByArtifact/empty_list
=== RUN   TestArtifactReferenceRepository_ListByArtifact/list_with_references
--- PASS: TestArtifactReferenceRepository_ListByArtifact (0.03s)
    --- PASS: TestArtifactReferenceRepository_ListByArtifact/empty_list (0.00s)
    --- PASS: TestArtifactReferenceRepository_ListByArtifact/list_with_references (0.02s)
=== RUN   TestArtifactReferenceRepository_ListByEntity
=== RUN   TestArtifactReferenceRepository_ListByEntity/list_by_character
=== RUN   TestArtifactReferenceRepository_ListByEntity/list_by_location
=== RUN   TestArtifactReferenceRepository_ListByEntity/empty_list
--- PASS: TestArtifactReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestArtifactReferenceRepository_ListByEntity/list_by_character (0.00s)
    --- PASS: TestArtifactReferenceRepository_ListByEntity/list_by_location (0.00s)
    --- PASS: TestArtifactReferenceRepository_ListByEntity/empty_list (0.00s)
=== RUN   TestArtifactReferenceRepository_Delete
=== RUN   TestArtifactReferenceRepository_Delete/successful_delete
--- PASS: TestArtifactReferenceRepository_Delete (0.01s)
    --- PASS: TestArtifactReferenceRepository_Delete/successful_delete (0.00s)
=== RUN   TestArtifactReferenceRepository_DeleteByArtifact
=== RUN   TestArtifactReferenceRepository_DeleteByArtifact/delete_all_references_for_artifact
--- PASS: TestArtifactReferenceRepository_DeleteByArtifact (0.01s)
    --- PASS: TestArtifactReferenceRepository_DeleteByArtifact/delete_all_references_for_artifact (0.00s)
=== RUN   TestArtifactReferenceRepository_DeleteByArtifactAndEntity
=== RUN   TestArtifactReferenceRepository_DeleteByArtifactAndEntity/delete_specific_artifact-entity_reference
--- PASS: TestArtifactReferenceRepository_DeleteByArtifactAndEntity (0.01s)
    --- PASS: TestArtifactReferenceRepository_DeleteByArtifactAndEntity/delete_specific_artifact-entity_reference (0.00s)
=== RUN   TestArtifactRepository_Create
=== RUN   TestArtifactRepository_Create/successful_creation
=== RUN   TestArtifactRepository_Create/successful_creation_with_description
=== RUN   TestArtifactRepository_Create/successful_creation_with_rarity
--- PASS: TestArtifactRepository_Create (0.01s)
    --- PASS: TestArtifactRepository_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_rarity (0.00s)
=== RUN   TestArtifactRepository_GetByID
=== RUN   TestArtifactRepository_GetByID/existing_artifact
=== RUN   TestArtifactRepository_GetByID/non-existent_artifact
--- PASS: TestArtifactRepository_GetByID (0.01s)
    --- PASS: TestArtifactRepository_GetByID/existing_artifact (0.00s)
    --- PASS: TestArtifactRepository_GetByID/non-existent_artifact (0.00s)
=== RUN   TestArtifactRepository_ListByWorld
=== RUN   TestArtifactRepository_ListByWorld/empty_list
=== RUN   TestArtifactRepository_ListByWorld/list_with_artifacts
=== RUN   TestArtifactRepository_ListByWorld/pagination
--- PASS: TestArtifactRepository_ListByWorld (0.09s)
    --- PASS: TestArtifactRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestArtifactRepository_ListByWorld/list_with_artifacts (0.03s)
    --- PASS: TestArtifactRepository_ListByWorld/pagination (0.05s)
=== RUN   TestArtifactRepository_Update
=== RUN   TestArtifactRepository_Update/successful_update
--- PASS: TestArtifactRepository_Update (0.01s)
    --- PASS: TestArtifactRepository_Update/successful_update (0.00s)
=== RUN   TestArtifactRepository_Delete
=== RUN   TestArtifactRepository_Delete/successful_delete
--- PASS: TestArtifactRepository_Delete (0.01s)
    --- PASS: TestArtifactRepository_Delete/successful_delete (0.00s)
=== RUN   TestArtifactRepository_CountByWorld
=== RUN   TestArtifactRepository_CountByWorld/empty_count
=== RUN   TestArtifactRepository_CountByWorld/count_with_artifacts
--- PASS: TestArtifactRepository_CountByWorld (0.01s)
    --- PASS: TestArtifactRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestArtifactRepository_CountByWorld/count_with_artifacts (0.00s)
=== RUN   TestBeatRepository_Create
=== RUN   TestBeatRepository_Create/successful_creation
=== RUN   TestBeatRepository_Create/creation_with_intent_and_outcome
--- PASS: TestBeatRepository_Create (0.01s)
    --- PASS: TestBeatRepository_Create/successful_creation (0.00s)
    --- PASS: TestBeatRepository_Create/creation_with_intent_and_outcome (0.00s)
=== RUN   TestBeatRepository_GetByID
=== RUN   TestBeatRepository_GetByID/existing_beat
=== RUN   TestBeatRepository_GetByID/non-existent_beat
--- PASS: TestBeatRepository_GetByID (0.01s)
    --- PASS: TestBeatRepository_GetByID/existing_beat (0.00s)
    --- PASS: TestBeatRepository_GetByID/non-existent_beat (0.00s)
=== RUN   TestBeatRepository_ListByScene
=== RUN   TestBeatRepository_ListByScene/list_with_beats
=== RUN   TestBeatRepository_ListByScene/empty_list
--- PASS: TestBeatRepository_ListByScene (0.01s)
    --- PASS: TestBeatRepository_ListByScene/list_with_beats (0.00s)
    --- PASS: TestBeatRepository_ListByScene/empty_list (0.00s)
=== RUN   TestBeatRepository_ListBySceneOrdered
=== RUN   TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num
--- PASS: TestBeatRepository_ListBySceneOrdered (0.01s)
    --- PASS: TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestBeatRepository_ListByStory
=== RUN   TestBeatRepository_ListByStory/list_by_story
--- PASS: TestBeatRepository_ListByStory (0.01s)
    --- PASS: TestBeatRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestBeatRepository_Update
=== RUN   TestBeatRepository_Update/successful_update
--- PASS: TestBeatRepository_Update (0.01s)
    --- PASS: TestBeatRepository_Update/successful_update (0.00s)
=== RUN   TestBeatRepository_Delete
=== RUN   TestBeatRepository_Delete/successful_delete
--- PASS: TestBeatRepository_Delete (0.01s)
    --- PASS: TestBeatRepository_Delete/successful_delete (0.00s)
=== RUN   TestBeatRepository_DeleteByScene
=== RUN   TestBeatRepository_DeleteByScene/delete_all_beats_for_scene
--- PASS: TestBeatRepository_DeleteByScene (0.01s)
    --- PASS: TestBeatRepository_DeleteByScene/delete_all_beats_for_scene (0.00s)
=== RUN   TestChapterRepository_Create
=== RUN   TestChapterRepository_Create/successful_creation
=== RUN   TestChapterRepository_Create/creation_without_title
--- PASS: TestChapterRepository_Create (0.01s)
    --- PASS: TestChapterRepository_Create/successful_creation (0.00s)
    --- PASS: TestChapterRepository_Create/creation_without_title (0.00s)
=== RUN   TestChapterRepository_GetByID
=== RUN   TestChapterRepository_GetByID/existing_chapter
=== RUN   TestChapterRepository_GetByID/non-existent_chapter
--- PASS: TestChapterRepository_GetByID (0.01s)
    --- PASS: TestChapterRepository_GetByID/existing_chapter (0.00s)
    --- PASS: TestChapterRepository_GetByID/non-existent_chapter (0.00s)
=== RUN   TestChapterRepository_ListByStory
=== RUN   TestChapterRepository_ListByStory/empty_list
=== RUN   TestChapterRepository_ListByStory/list_with_chapters
--- PASS: TestChapterRepository_ListByStory (0.01s)
    --- PASS: TestChapterRepository_ListByStory/empty_list (0.00s)
    --- PASS: TestChapterRepository_ListByStory/list_with_chapters (0.00s)
=== RUN   TestChapterRepository_ListByStoryOrdered
=== RUN   TestChapterRepository_ListByStoryOrdered/list_ordered_by_number
--- PASS: TestChapterRepository_ListByStoryOrdered (0.01s)
    --- PASS: TestChapterRepository_ListByStoryOrdered/list_ordered_by_number (0.00s)
=== RUN   TestChapterRepository_Update
=== RUN   TestChapterRepository_Update/successful_update
--- PASS: TestChapterRepository_Update (0.01s)
    --- PASS: TestChapterRepository_Update/successful_update (0.00s)
=== RUN   TestChapterRepository_Delete
=== RUN   TestChapterRepository_Delete/successful_delete
--- PASS: TestChapterRepository_Delete (0.01s)
    --- PASS: TestChapterRepository_Delete/successful_delete (0.00s)
=== RUN   TestChapterRepository_DeleteByStory
=== RUN   TestChapterRepository_DeleteByStory/delete_all_chapters_for_story
--- PASS: TestChapterRepository_DeleteByStory (0.01s)
    --- PASS: TestChapterRepository_DeleteByStory/delete_all_chapters_for_story (0.00s)
=== RUN   TestCharacterRepository_Create
=== RUN   TestCharacterRepository_Create/successful_creation
=== RUN   TestCharacterRepository_Create/successful_creation_with_archetype
=== RUN   TestCharacterRepository_Create/successful_creation_with_class
=== RUN   TestCharacterRepository_Create/successful_creation_with_description
--- PASS: TestCharacterRepository_Create (0.01s)
    --- PASS: TestCharacterRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_archetype (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_class (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_description (0.00s)
=== RUN   TestCharacterRepository_GetByID
=== RUN   TestCharacterRepository_GetByID/existing_character
=== RUN   TestCharacterRepository_GetByID/non-existent_character
--- PASS: TestCharacterRepository_GetByID (0.01s)
    --- PASS: TestCharacterRepository_GetByID/existing_character (0.00s)
    --- PASS: TestCharacterRepository_GetByID/non-existent_character (0.00s)
=== RUN   TestCharacterRepository_ListByWorld
=== RUN   TestCharacterRepository_ListByWorld/empty_list
=== RUN   TestCharacterRepository_ListByWorld/list_with_characters
=== RUN   TestCharacterRepository_ListByWorld/pagination
--- PASS: TestCharacterRepository_ListByWorld (0.09s)
    --- PASS: TestCharacterRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestCharacterRepository_ListByWorld/list_with_characters (0.03s)
    --- PASS: TestCharacterRepository_ListByWorld/pagination (0.06s)
=== RUN   TestCharacterRepository_Update
=== RUN   TestCharacterRepository_Update/successful_update
=== RUN   TestCharacterRepository_Update/update_archetype
=== RUN   TestCharacterRepository_Update/update_class
--- PASS: TestCharacterRepository_Update (0.01s)
    --- PASS: TestCharacterRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterRepository_Update/update_archetype (0.00s)
    --- PASS: TestCharacterRepository_Update/update_class (0.00s)
=== RUN   TestCharacterRepository_Delete
=== RUN   TestCharacterRepository_Delete/successful_delete
--- PASS: TestCharacterRepository_Delete (0.01s)
    --- PASS: TestCharacterRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterRepository_CountByWorld
=== RUN   TestCharacterRepository_CountByWorld/empty_count
=== RUN   TestCharacterRepository_CountByWorld/count_with_characters
--- PASS: TestCharacterRepository_CountByWorld (0.01s)
    --- PASS: TestCharacterRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestCharacterRepository_CountByWorld/count_with_characters (0.00s)
=== RUN   TestCharacterTraitRepository_Create
=== RUN   TestCharacterTraitRepository_Create/successful_creation
=== RUN   TestCharacterTraitRepository_Create/successful_creation_with_notes
=== RUN   TestCharacterTraitRepository_Create/trait_snapshot_copied
--- PASS: TestCharacterTraitRepository_Create (0.01s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation_with_notes (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/trait_snapshot_copied (0.00s)
=== RUN   TestCharacterTraitRepository_GetByID
=== RUN   TestCharacterTraitRepository_GetByID/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByID/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByID (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByID/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByID/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_GetByCharacter
=== RUN   TestCharacterTraitRepository_GetByCharacter/empty_list
=== RUN   TestCharacterTraitRepository_GetByCharacter/list_with_character-traits
--- PASS: TestCharacterTraitRepository_GetByCharacter (0.03s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/empty_list (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/list_with_character-traits (0.02s)
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_Update
=== RUN   TestCharacterTraitRepository_Update/successful_update
=== RUN   TestCharacterTraitRepository_Update/update_trait_snapshot
--- PASS: TestCharacterTraitRepository_Update (0.01s)
    --- PASS: TestCharacterTraitRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterTraitRepository_Update/update_trait_snapshot (0.00s)
=== RUN   TestCharacterTraitRepository_Delete
=== RUN   TestCharacterTraitRepository_Delete/successful_delete
--- PASS: TestCharacterTraitRepository_Delete (0.01s)
    --- PASS: TestCharacterTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterTraitRepository_DeleteByCharacter
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits
--- PASS: TestCharacterTraitRepository_DeleteByCharacter (0.01s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character (0.00s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits (0.00s)
=== RUN   TestContentBlockReferenceRepository_Create
=== RUN   TestContentBlockReferenceRepository_Create/create_with_character
=== RUN   TestContentBlockReferenceRepository_Create/create_with_location
=== RUN   TestContentBlockReferenceRepository_Create/create_with_artifact
--- PASS: TestContentBlockReferenceRepository_Create (0.01s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_location (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_artifact (0.00s)
=== RUN   TestContentBlockReferenceRepository_GetByID
=== RUN   TestContentBlockReferenceRepository_GetByID/existing_content_block_reference
=== RUN   TestContentBlockReferenceRepository_GetByID/non-existent_content_block_reference
--- PASS: TestContentBlockReferenceRepository_GetByID (0.01s)
    --- PASS: TestContentBlockReferenceRepository_GetByID/existing_content_block_reference (0.00s)
    --- PASS: TestContentBlockReferenceRepository_GetByID/non-existent_content_block_reference (0.00s)
=== RUN   TestContentBlockReferenceRepository_ListByContentBlock
=== RUN   TestContentBlockReferenceRepository_ListByContentBlock/list_by_content_block
--- PASS: TestContentBlockReferenceRepository_ListByContentBlock (0.01s)
    --- PASS: TestContentBlockReferenceRepository_ListByContentBlock/list_by_content_block (0.00s)
=== RUN   TestContentBlockReferenceRepository_ListByEntity
=== RUN   TestContentBlockReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestContentBlockReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestContentBlockReferenceRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestContentBlockReferenceRepository_Delete
=== RUN   TestContentBlockReferenceRepository_Delete/delete_by_id
=== RUN   TestContentBlockReferenceRepository_Delete/delete_by_content_block
--- PASS: TestContentBlockReferenceRepository_Delete (0.01s)
    --- PASS: TestContentBlockReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Delete/delete_by_content_block (0.00s)
=== RUN   TestContentBlockRepository_Create
=== RUN   TestContentBlockRepository_Create/successful_creation
=== RUN   TestContentBlockRepository_Create/creation_without_chapter
--- PASS: TestContentBlockRepository_Create (0.01s)
    --- PASS: TestContentBlockRepository_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockRepository_Create/creation_without_chapter (0.00s)
=== RUN   TestContentBlockRepository_GetByID
=== RUN   TestContentBlockRepository_GetByID/existing_content_block
=== RUN   TestContentBlockRepository_GetByID/non-existent_content_block
--- PASS: TestContentBlockRepository_GetByID (0.01s)
    --- PASS: TestContentBlockRepository_GetByID/existing_content_block (0.00s)
    --- PASS: TestContentBlockRepository_GetByID/non-existent_content_block (0.00s)
=== RUN   TestContentBlockRepository_ListByChapter
=== RUN   TestContentBlockRepository_ListByChapter/list_with_content_blocks
=== RUN   TestContentBlockRepository_ListByChapter/empty_list
--- PASS: TestContentBlockRepository_ListByChapter (0.01s)
    --- PASS: TestContentBlockRepository_ListByChapter/list_with_content_blocks (0.00s)
    --- PASS: TestContentBlockRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestContentBlockRepository_GetByChapterAndKind
=== RUN   TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind
--- PASS: TestContentBlockRepository_GetByChapterAndKind (0.01s)
    --- PASS: TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind (0.00s)
=== RUN   TestContentBlockRepository_Update
=== RUN   TestContentBlockRepository_Update/successful_update
--- PASS: TestContentBlockRepository_Update (0.01s)
    --- PASS: TestContentBlockRepository_Update/successful_update (0.00s)
=== RUN   TestContentBlockRepository_Delete
=== RUN   TestContentBlockRepository_Delete/successful_delete
--- PASS: TestContentBlockRepository_Delete (0.01s)
    --- PASS: TestContentBlockRepository_Delete/successful_delete (0.00s)
=== RUN   TestContentBlockRepository_DeleteByChapter
=== RUN   TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter
--- PASS: TestContentBlockRepository_DeleteByChapter (0.01s)
    --- PASS: TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter (0.00s)
=== RUN   TestEventArtifactRepository_Create
=== RUN   TestEventArtifactRepository_Create/successful_creation
=== RUN   TestEventArtifactRepository_Create/successful_creation_with_role
--- PASS: TestEventArtifactRepository_Create (0.01s)
    --- PASS: TestEventArtifactRepository_Create/successful_creation (0.00s)
    --- PASS: TestEventArtifactRepository_Create/successful_creation_with_role (0.00s)
=== RUN   TestEventArtifactRepository_GetByID
=== RUN   TestEventArtifactRepository_GetByID/existing_event-artifact
=== RUN   TestEventArtifactRepository_GetByID/non-existent_event-artifact
--- PASS: TestEventArtifactRepository_GetByID (0.01s)
    --- PASS: TestEventArtifactRepository_GetByID/existing_event-artifact (0.00s)
    --- PASS: TestEventArtifactRepository_GetByID/non-existent_event-artifact (0.00s)
=== RUN   TestEventArtifactRepository_ListByEvent
=== RUN   TestEventArtifactRepository_ListByEvent/empty_list
=== RUN   TestEventArtifactRepository_ListByEvent/list_with_event-artifacts
--- PASS: TestEventArtifactRepository_ListByEvent (0.03s)
    --- PASS: TestEventArtifactRepository_ListByEvent/empty_list (0.00s)
    --- PASS: TestEventArtifactRepository_ListByEvent/list_with_event-artifacts (0.02s)
=== RUN   TestEventArtifactRepository_ListByArtifact
=== RUN   TestEventArtifactRepository_ListByArtifact/empty_list
=== RUN   TestEventArtifactRepository_ListByArtifact/list_with_event-artifacts
--- PASS: TestEventArtifactRepository_ListByArtifact (0.01s)
    --- PASS: TestEventArtifactRepository_ListByArtifact/empty_list (0.00s)
    --- PASS: TestEventArtifactRepository_ListByArtifact/list_with_event-artifacts (0.00s)
=== RUN   TestEventArtifactRepository_Delete
=== RUN   TestEventArtifactRepository_Delete/successful_delete
--- PASS: TestEventArtifactRepository_Delete (0.01s)
    --- PASS: TestEventArtifactRepository_Delete/successful_delete (0.00s)
=== RUN   TestEventArtifactRepository_DeleteByEvent
=== RUN   TestEventArtifactRepository_DeleteByEvent/delete_all_event-artifacts_for_event
--- PASS: TestEventArtifactRepository_DeleteByEvent (0.01s)
    --- PASS: TestEventArtifactRepository_DeleteByEvent/delete_all_event-artifacts_for_event (0.00s)
=== RUN   TestEventArtifactRepository_DeleteByEventAndArtifact
=== RUN   TestEventArtifactRepository_DeleteByEventAndArtifact/delete_specific_event-artifact
--- PASS: TestEventArtifactRepository_DeleteByEventAndArtifact (0.01s)
    --- PASS: TestEventArtifactRepository_DeleteByEventAndArtifact/delete_specific_event-artifact (0.00s)
=== RUN   TestEventCharacterRepository_Create
=== RUN   TestEventCharacterRepository_Create/successful_creation
=== RUN   TestEventCharacterRepository_Create/successful_creation_with_role
--- PASS: TestEventCharacterRepository_Create (0.01s)
    --- PASS: TestEventCharacterRepository_Create/successful_creation (0.00s)
    --- PASS: TestEventCharacterRepository_Create/successful_creation_with_role (0.00s)
=== RUN   TestEventCharacterRepository_GetByID
=== RUN   TestEventCharacterRepository_GetByID/existing_event-character
=== RUN   TestEventCharacterRepository_GetByID/non-existent_event-character
--- PASS: TestEventCharacterRepository_GetByID (0.01s)
    --- PASS: TestEventCharacterRepository_GetByID/existing_event-character (0.00s)
    --- PASS: TestEventCharacterRepository_GetByID/non-existent_event-character (0.00s)
=== RUN   TestEventCharacterRepository_ListByEvent
=== RUN   TestEventCharacterRepository_ListByEvent/empty_list
=== RUN   TestEventCharacterRepository_ListByEvent/list_with_event-characters
--- PASS: TestEventCharacterRepository_ListByEvent (0.03s)
    --- PASS: TestEventCharacterRepository_ListByEvent/empty_list (0.00s)
    --- PASS: TestEventCharacterRepository_ListByEvent/list_with_event-characters (0.02s)
=== RUN   TestEventCharacterRepository_ListByCharacter
=== RUN   TestEventCharacterRepository_ListByCharacter/empty_list
=== RUN   TestEventCharacterRepository_ListByCharacter/list_with_event-characters
--- PASS: TestEventCharacterRepository_ListByCharacter (0.01s)
    --- PASS: TestEventCharacterRepository_ListByCharacter/empty_list (0.00s)
    --- PASS: TestEventCharacterRepository_ListByCharacter/list_with_event-characters (0.00s)
=== RUN   TestEventCharacterRepository_Delete
=== RUN   TestEventCharacterRepository_Delete/successful_delete
--- PASS: TestEventCharacterRepository_Delete (0.01s)
    --- PASS: TestEventCharacterRepository_Delete/successful_delete (0.00s)
=== RUN   TestEventCharacterRepository_DeleteByEvent
=== RUN   TestEventCharacterRepository_DeleteByEvent/delete_all_event-characters_for_event
--- PASS: TestEventCharacterRepository_DeleteByEvent (0.01s)
    --- PASS: TestEventCharacterRepository_DeleteByEvent/delete_all_event-characters_for_event (0.00s)
=== RUN   TestEventCharacterRepository_DeleteByEventAndCharacter
=== RUN   TestEventCharacterRepository_DeleteByEventAndCharacter/delete_specific_event-character
--- PASS: TestEventCharacterRepository_DeleteByEventAndCharacter (0.01s)
    --- PASS: TestEventCharacterRepository_DeleteByEventAndCharacter/delete_specific_event-character (0.00s)
=== RUN   TestEventLocationRepository_Create
=== RUN   TestEventLocationRepository_Create/successful_creation
=== RUN   TestEventLocationRepository_Create/successful_creation_with_significance
--- PASS: TestEventLocationRepository_Create (0.01s)
    --- PASS: TestEventLocationRepository_Create/successful_creation (0.00s)
    --- PASS: TestEventLocationRepository_Create/successful_creation_with_significance (0.00s)
=== RUN   TestEventLocationRepository_GetByID
=== RUN   TestEventLocationRepository_GetByID/existing_event-location
=== RUN   TestEventLocationRepository_GetByID/non-existent_event-location
--- PASS: TestEventLocationRepository_GetByID (0.01s)
    --- PASS: TestEventLocationRepository_GetByID/existing_event-location (0.00s)
    --- PASS: TestEventLocationRepository_GetByID/non-existent_event-location (0.00s)
=== RUN   TestEventLocationRepository_ListByEvent
=== RUN   TestEventLocationRepository_ListByEvent/empty_list
=== RUN   TestEventLocationRepository_ListByEvent/list_with_event-locations
--- PASS: TestEventLocationRepository_ListByEvent (0.03s)
    --- PASS: TestEventLocationRepository_ListByEvent/empty_list (0.00s)
    --- PASS: TestEventLocationRepository_ListByEvent/list_with_event-locations (0.02s)
=== RUN   TestEventLocationRepository_ListByLocation
=== RUN   TestEventLocationRepository_ListByLocation/empty_list
=== RUN   TestEventLocationRepository_ListByLocation/list_with_event-locations
--- PASS: TestEventLocationRepository_ListByLocation (0.01s)
    --- PASS: TestEventLocationRepository_ListByLocation/empty_list (0.00s)
    --- PASS: TestEventLocationRepository_ListByLocation/list_with_event-locations (0.00s)
=== RUN   TestEventLocationRepository_Delete
=== RUN   TestEventLocationRepository_Delete/successful_delete
--- PASS: TestEventLocationRepository_Delete (0.01s)
    --- PASS: TestEventLocationRepository_Delete/successful_delete (0.00s)
=== RUN   TestEventLocationRepository_DeleteByEvent
=== RUN   TestEventLocationRepository_DeleteByEvent/delete_all_event-locations_for_event
--- PASS: TestEventLocationRepository_DeleteByEvent (0.01s)
    --- PASS: TestEventLocationRepository_DeleteByEvent/delete_all_event-locations_for_event (0.00s)
=== RUN   TestEventLocationRepository_DeleteByEventAndLocation
=== RUN   TestEventLocationRepository_DeleteByEventAndLocation/delete_specific_event-location
--- PASS: TestEventLocationRepository_DeleteByEventAndLocation (0.01s)
    --- PASS: TestEventLocationRepository_DeleteByEventAndLocation/delete_specific_event-location (0.00s)
=== RUN   TestEventRepository_Create
=== RUN   TestEventRepository_Create/successful_creation
=== RUN   TestEventRepository_Create/successful_creation_with_type
=== RUN   TestEventRepository_Create/successful_creation_with_description
=== RUN   TestEventRepository_Create/successful_creation_with_timeline
=== RUN   TestEventRepository_Create/successful_creation_with_importance
--- PASS: TestEventRepository_Create (0.01s)
    --- PASS: TestEventRepository_Create/successful_creation (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_type (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_timeline (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_importance (0.00s)
=== RUN   TestEventRepository_GetByID
=== RUN   TestEventRepository_GetByID/existing_event
=== RUN   TestEventRepository_GetByID/non-existent_event
--- PASS: TestEventRepository_GetByID (0.01s)
    --- PASS: TestEventRepository_GetByID/existing_event (0.00s)
    --- PASS: TestEventRepository_GetByID/non-existent_event (0.00s)
=== RUN   TestEventRepository_ListByWorld
=== RUN   TestEventRepository_ListByWorld/empty_list
=== RUN   TestEventRepository_ListByWorld/list_with_events
--- PASS: TestEventRepository_ListByWorld (0.04s)
    --- PASS: TestEventRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestEventRepository_ListByWorld/list_with_events (0.03s)
=== RUN   TestEventRepository_Update
=== RUN   TestEventRepository_Update/successful_update
=== RUN   TestEventRepository_Update/update_nullable_fields_to_nil
--- PASS: TestEventRepository_Update (0.01s)
    --- PASS: TestEventRepository_Update/successful_update (0.00s)
    --- PASS: TestEventRepository_Update/update_nullable_fields_to_nil (0.00s)
=== RUN   TestEventRepository_Delete
=== RUN   TestEventRepository_Delete/successful_delete
--- PASS: TestEventRepository_Delete (0.01s)
    --- PASS: TestEventRepository_Delete/successful_delete (0.00s)
=== RUN   TestFactionReferenceRepository_Create
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_character
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_location
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_role
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_notes
--- PASS: TestFactionReferenceRepository_Create (0.01s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_character (0.00s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_location (0.00s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_role (0.00s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_notes (0.00s)
=== RUN   TestFactionReferenceRepository_GetByID
=== RUN   TestFactionReferenceRepository_GetByID/existing_faction-reference
=== RUN   TestFactionReferenceRepository_GetByID/non-existent_faction-reference
--- PASS: TestFactionReferenceRepository_GetByID (0.01s)
    --- PASS: TestFactionReferenceRepository_GetByID/existing_faction-reference (0.00s)
    --- PASS: TestFactionReferenceRepository_GetByID/non-existent_faction-reference (0.00s)
=== RUN   TestFactionReferenceRepository_ListByFaction
=== RUN   TestFactionReferenceRepository_ListByFaction/empty_list
=== RUN   TestFactionReferenceRepository_ListByFaction/list_with_references
--- PASS: TestFactionReferenceRepository_ListByFaction (0.03s)
    --- PASS: TestFactionReferenceRepository_ListByFaction/empty_list (0.00s)
    --- PASS: TestFactionReferenceRepository_ListByFaction/list_with_references (0.02s)
=== RUN   TestFactionReferenceRepository_ListByEntity
=== RUN   TestFactionReferenceRepository_ListByEntity/list_by_character
=== RUN   TestFactionReferenceRepository_ListByEntity/list_by_location
=== RUN   TestFactionReferenceRepository_ListByEntity/empty_list
--- PASS: TestFactionReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestFactionReferenceRepository_ListByEntity/list_by_character (0.00s)
    --- PASS: TestFactionReferenceRepository_ListByEntity/list_by_location (0.00s)
    --- PASS: TestFactionReferenceRepository_ListByEntity/empty_list (0.00s)
=== RUN   TestFactionReferenceRepository_Update
=== RUN   TestFactionReferenceRepository_Update/successful_update
=== RUN   TestFactionReferenceRepository_Update/update_role_to_nil
--- PASS: TestFactionReferenceRepository_Update (0.01s)
    --- PASS: TestFactionReferenceRepository_Update/successful_update (0.00s)
    --- PASS: TestFactionReferenceRepository_Update/update_role_to_nil (0.00s)
=== RUN   TestFactionReferenceRepository_Delete
=== RUN   TestFactionReferenceRepository_Delete/successful_delete
--- PASS: TestFactionReferenceRepository_Delete (0.01s)
    --- PASS: TestFactionReferenceRepository_Delete/successful_delete (0.00s)
=== RUN   TestFactionReferenceRepository_DeleteByFaction
=== RUN   TestFactionReferenceRepository_DeleteByFaction/delete_all_references_for_faction
--- PASS: TestFactionReferenceRepository_DeleteByFaction (0.01s)
    --- PASS: TestFactionReferenceRepository_DeleteByFaction/delete_all_references_for_faction (0.00s)
=== RUN   TestFactionReferenceRepository_DeleteByFactionAndEntity
=== RUN   TestFactionReferenceRepository_DeleteByFactionAndEntity/delete_specific_faction-entity_reference
--- PASS: TestFactionReferenceRepository_DeleteByFactionAndEntity (0.01s)
    --- PASS: TestFactionReferenceRepository_DeleteByFactionAndEntity/delete_specific_faction-entity_reference (0.00s)
=== RUN   TestFactionRepository_Create
=== RUN   TestFactionRepository_Create/successful_creation_root_faction
=== RUN   TestFactionRepository_Create/successful_creation_with_parent
=== RUN   TestFactionRepository_Create/creation_with_type_and_fields
--- PASS: TestFactionRepository_Create (0.01s)
    --- PASS: TestFactionRepository_Create/successful_creation_root_faction (0.00s)
    --- PASS: TestFactionRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestFactionRepository_Create/creation_with_type_and_fields (0.00s)
=== RUN   TestFactionRepository_GetByID
=== RUN   TestFactionRepository_GetByID/existing_faction
=== RUN   TestFactionRepository_GetByID/non-existent_faction
--- PASS: TestFactionRepository_GetByID (0.01s)
    --- PASS: TestFactionRepository_GetByID/existing_faction (0.00s)
    --- PASS: TestFactionRepository_GetByID/non-existent_faction (0.00s)
=== RUN   TestFactionRepository_ListByWorld
=== RUN   TestFactionRepository_ListByWorld/empty_list
=== RUN   TestFactionRepository_ListByWorld/list_with_factions
--- PASS: TestFactionRepository_ListByWorld (0.04s)
    --- PASS: TestFactionRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestFactionRepository_ListByWorld/list_with_factions (0.03s)
=== RUN   TestFactionRepository_GetChildren
=== RUN   TestFactionRepository_GetChildren/get_direct_children
=== RUN   TestFactionRepository_GetChildren/no_children
--- PASS: TestFactionRepository_GetChildren (0.01s)
    --- PASS: TestFactionRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestFactionRepository_GetChildren/no_children (0.00s)
=== RUN   TestFactionRepository_Update
=== RUN   TestFactionRepository_Update/successful_update
=== RUN   TestFactionRepository_Update/update_parent
--- PASS: TestFactionRepository_Update (0.01s)
    --- PASS: TestFactionRepository_Update/successful_update (0.00s)
    --- PASS: TestFactionRepository_Update/update_parent (0.00s)
=== RUN   TestFactionRepository_Delete
=== RUN   TestFactionRepository_Delete/successful_delete
--- PASS: TestFactionRepository_Delete (0.01s)
    --- PASS: TestFactionRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_Create
=== RUN   TestLocationRepository_Create/successful_creation_root_location
=== RUN   TestLocationRepository_Create/successful_creation_with_parent
=== RUN   TestLocationRepository_Create/creation_with_type_and_description
--- PASS: TestLocationRepository_Create (0.01s)
    --- PASS: TestLocationRepository_Create/successful_creation_root_location (0.00s)
    --- PASS: TestLocationRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLocationRepository_Create/creation_with_type_and_description (0.00s)
=== RUN   TestLocationRepository_GetByID
=== RUN   TestLocationRepository_GetByID/existing_location
=== RUN   TestLocationRepository_GetByID/non-existent_location
--- PASS: TestLocationRepository_GetByID (0.01s)
    --- PASS: TestLocationRepository_GetByID/existing_location (0.00s)
    --- PASS: TestLocationRepository_GetByID/non-existent_location (0.00s)
=== RUN   TestLocationRepository_ListByWorld
=== RUN   TestLocationRepository_ListByWorld/empty_list
=== RUN   TestLocationRepository_ListByWorld/list_with_locations
=== RUN   TestLocationRepository_ListByWorld/pagination
--- PASS: TestLocationRepository_ListByWorld (0.09s)
    --- PASS: TestLocationRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLocationRepository_ListByWorld/list_with_locations (0.03s)
    --- PASS: TestLocationRepository_ListByWorld/pagination (0.05s)
=== RUN   TestLocationRepository_ListByWorldTree
=== RUN   TestLocationRepository_ListByWorldTree/tree_structure
--- PASS: TestLocationRepository_ListByWorldTree (0.01s)
    --- PASS: TestLocationRepository_ListByWorldTree/tree_structure (0.00s)
=== RUN   TestLocationRepository_GetChildren
=== RUN   TestLocationRepository_GetChildren/get_direct_children
=== RUN   TestLocationRepository_GetChildren/no_children
--- PASS: TestLocationRepository_GetChildren (0.01s)
    --- PASS: TestLocationRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLocationRepository_GetChildren/no_children (0.00s)
=== RUN   TestLocationRepository_GetAncestors
=== RUN   TestLocationRepository_GetAncestors/get_ancestors
=== RUN   TestLocationRepository_GetAncestors/root_has_no_ancestors
--- PASS: TestLocationRepository_GetAncestors (0.01s)
    --- PASS: TestLocationRepository_GetAncestors/get_ancestors (0.00s)
    --- PASS: TestLocationRepository_GetAncestors/root_has_no_ancestors (0.00s)
=== RUN   TestLocationRepository_GetDescendants
=== RUN   TestLocationRepository_GetDescendants/get_descendants
=== RUN   TestLocationRepository_GetDescendants/no_descendants
--- PASS: TestLocationRepository_GetDescendants (0.01s)
    --- PASS: TestLocationRepository_GetDescendants/get_descendants (0.00s)
    --- PASS: TestLocationRepository_GetDescendants/no_descendants (0.00s)
=== RUN   TestLocationRepository_Update
=== RUN   TestLocationRepository_Update/successful_update
=== RUN   TestLocationRepository_Update/update_parent
--- PASS: TestLocationRepository_Update (0.01s)
    --- PASS: TestLocationRepository_Update/successful_update (0.00s)
    --- PASS: TestLocationRepository_Update/update_parent (0.00s)
=== RUN   TestLocationRepository_Delete
=== RUN   TestLocationRepository_Delete/successful_delete
--- PASS: TestLocationRepository_Delete (0.01s)
    --- PASS: TestLocationRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_CountByWorld
=== RUN   TestLocationRepository_CountByWorld/empty_count
=== RUN   TestLocationRepository_CountByWorld/count_with_locations
--- PASS: TestLocationRepository_CountByWorld (0.01s)
    --- PASS: TestLocationRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestLocationRepository_CountByWorld/count_with_locations (0.00s)
=== RUN   TestLoreReferenceRepository_Create
=== RUN   TestLoreReferenceRepository_Create/create_with_character
=== RUN   TestLoreReferenceRepository_Create/create_with_location
--- PASS: TestLoreReferenceRepository_Create (0.01s)
    --- PASS: TestLoreReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestLoreReferenceRepository_Create/create_with_location (0.00s)
=== RUN   TestLoreReferenceRepository_GetByID
=== RUN   TestLoreReferenceRepository_GetByID/existing_lore_reference
=== RUN   TestLoreReferenceRepository_GetByID/non-existent_lore_reference
--- PASS: TestLoreReferenceRepository_GetByID (0.01s)
    --- PASS: TestLoreReferenceRepository_GetByID/existing_lore_reference (0.00s)
    --- PASS: TestLoreReferenceRepository_GetByID/non-existent_lore_reference (0.00s)
=== RUN   TestLoreReferenceRepository_ListByLore
=== RUN   TestLoreReferenceRepository_ListByLore/list_by_lore
--- PASS: TestLoreReferenceRepository_ListByLore (0.01s)
    --- PASS: TestLoreReferenceRepository_ListByLore/list_by_lore (0.00s)
=== RUN   TestLoreReferenceRepository_ListByEntity
=== RUN   TestLoreReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestLoreReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestLoreReferenceRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestLoreReferenceRepository_Update
=== RUN   TestLoreReferenceRepository_Update/update_notes_and_relationship_type
--- PASS: TestLoreReferenceRepository_Update (0.01s)
    --- PASS: TestLoreReferenceRepository_Update/update_notes_and_relationship_type (0.00s)
=== RUN   TestLoreReferenceRepository_Delete
=== RUN   TestLoreReferenceRepository_Delete/delete_by_id
=== RUN   TestLoreReferenceRepository_Delete/delete_by_lore
=== RUN   TestLoreReferenceRepository_Delete/delete_by_lore_and_entity
--- PASS: TestLoreReferenceRepository_Delete (0.01s)
    --- PASS: TestLoreReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestLoreReferenceRepository_Delete/delete_by_lore (0.00s)
    --- PASS: TestLoreReferenceRepository_Delete/delete_by_lore_and_entity (0.00s)
=== RUN   TestLoreRepository_Create
=== RUN   TestLoreRepository_Create/successful_creation_root_lore
=== RUN   TestLoreRepository_Create/successful_creation_with_parent
=== RUN   TestLoreRepository_Create/creation_with_category_and_fields
--- PASS: TestLoreRepository_Create (0.01s)
    --- PASS: TestLoreRepository_Create/successful_creation_root_lore (0.00s)
    --- PASS: TestLoreRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLoreRepository_Create/creation_with_category_and_fields (0.00s)
=== RUN   TestLoreRepository_GetByID
=== RUN   TestLoreRepository_GetByID/existing_lore
=== RUN   TestLoreRepository_GetByID/non-existent_lore
--- PASS: TestLoreRepository_GetByID (0.05s)
    --- PASS: TestLoreRepository_GetByID/existing_lore (0.00s)
    --- PASS: TestLoreRepository_GetByID/non-existent_lore (0.00s)
=== RUN   TestLoreRepository_ListByWorld
=== RUN   TestLoreRepository_ListByWorld/empty_list
=== RUN   TestLoreRepository_ListByWorld/list_with_lores
--- PASS: TestLoreRepository_ListByWorld (0.09s)
    --- PASS: TestLoreRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLoreRepository_ListByWorld/list_with_lores (0.04s)
=== RUN   TestLoreRepository_GetChildren
=== RUN   TestLoreRepository_GetChildren/get_direct_children
=== RUN   TestLoreRepository_GetChildren/no_children
--- PASS: TestLoreRepository_GetChildren (0.04s)
    --- PASS: TestLoreRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLoreRepository_GetChildren/no_children (0.00s)
=== RUN   TestLoreRepository_Update
=== RUN   TestLoreRepository_Update/successful_update
=== RUN   TestLoreRepository_Update/update_parent
--- PASS: TestLoreRepository_Update (0.01s)
    --- PASS: TestLoreRepository_Update/successful_update (0.00s)
    --- PASS: TestLoreRepository_Update/update_parent (0.00s)
=== RUN   TestLoreRepository_Delete
=== RUN   TestLoreRepository_Delete/successful_delete
--- PASS: TestLoreRepository_Delete (0.02s)
    --- PASS: TestLoreRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneReferenceRepository_Create
=== RUN   TestSceneReferenceRepository_Create/create_with_character
=== RUN   TestSceneReferenceRepository_Create/create_with_location
=== RUN   TestSceneReferenceRepository_Create/create_with_artifact
--- PASS: TestSceneReferenceRepository_Create (0.02s)
    --- PASS: TestSceneReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestSceneReferenceRepository_Create/create_with_location (0.00s)
    --- PASS: TestSceneReferenceRepository_Create/create_with_artifact (0.00s)
=== RUN   TestSceneReferenceRepository_GetByID
=== RUN   TestSceneReferenceRepository_GetByID/existing_scene_reference
=== RUN   TestSceneReferenceRepository_GetByID/non-existent_scene_reference
--- PASS: TestSceneReferenceRepository_GetByID (0.04s)
    --- PASS: TestSceneReferenceRepository_GetByID/existing_scene_reference (0.00s)
    --- PASS: TestSceneReferenceRepository_GetByID/non-existent_scene_reference (0.00s)
=== RUN   TestSceneReferenceRepository_ListByScene
=== RUN   TestSceneReferenceRepository_ListByScene/list_by_scene
--- PASS: TestSceneReferenceRepository_ListByScene (0.07s)
    --- PASS: TestSceneReferenceRepository_ListByScene/list_by_scene (0.00s)
=== RUN   TestSceneReferenceRepository_ListByEntity
=== RUN   TestSceneReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestSceneReferenceRepository_ListByEntity (0.16s)
    --- PASS: TestSceneReferenceRepository_ListByEntity/list_by_entity (0.04s)
=== RUN   TestSceneReferenceRepository_Delete
=== RUN   TestSceneReferenceRepository_Delete/delete_by_id
=== RUN   TestSceneReferenceRepository_Delete/delete_by_scene
=== RUN   TestSceneReferenceRepository_Delete/delete_by_scene_and_entity
--- PASS: TestSceneReferenceRepository_Delete (0.14s)
    --- PASS: TestSceneReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestSceneReferenceRepository_Delete/delete_by_scene (0.00s)
    --- PASS: TestSceneReferenceRepository_Delete/delete_by_scene_and_entity (0.00s)
=== RUN   TestSceneRepository_Create
=== RUN   TestSceneRepository_Create/successful_creation
=== RUN   TestSceneRepository_Create/creation_with_chapter
--- PASS: TestSceneRepository_Create (0.06s)
    --- PASS: TestSceneRepository_Create/successful_creation (0.00s)
    --- PASS: TestSceneRepository_Create/creation_with_chapter (0.00s)
=== RUN   TestSceneRepository_GetByID
=== RUN   TestSceneRepository_GetByID/existing_scene
=== RUN   TestSceneRepository_GetByID/non-existent_scene
--- PASS: TestSceneRepository_GetByID (0.12s)
    --- PASS: TestSceneRepository_GetByID/existing_scene (0.00s)
    --- PASS: TestSceneRepository_GetByID/non-existent_scene (0.00s)
=== RUN   TestSceneRepository_ListByChapter
=== RUN   TestSceneRepository_ListByChapter/list_with_scenes
=== RUN   TestSceneRepository_ListByChapter/empty_list
--- PASS: TestSceneRepository_ListByChapter (0.09s)
    --- PASS: TestSceneRepository_ListByChapter/list_with_scenes (0.00s)
    --- PASS: TestSceneRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestSceneRepository_ListByChapterOrdered
=== RUN   TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num
--- PASS: TestSceneRepository_ListByChapterOrdered (0.04s)
    --- PASS: TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestSceneRepository_ListByStory
=== RUN   TestSceneRepository_ListByStory/list_by_story
--- PASS: TestSceneRepository_ListByStory (0.13s)
    --- PASS: TestSceneRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestSceneRepository_Update
=== RUN   TestSceneRepository_Update/successful_update
--- PASS: TestSceneRepository_Update (0.31s)
    --- PASS: TestSceneRepository_Update/successful_update (0.00s)
=== RUN   TestSceneRepository_Delete
=== RUN   TestSceneRepository_Delete/successful_delete
--- PASS: TestSceneRepository_Delete (0.44s)
    --- PASS: TestSceneRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneRepository_DeleteByChapter
=== RUN   TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter
--- PASS: TestSceneRepository_DeleteByChapter (0.05s)
    --- PASS: TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter (0.00s)
=== RUN   TestSceneRepository_DeleteByStory
=== RUN   TestSceneRepository_DeleteByStory/delete_all_scenes_for_story
--- PASS: TestSceneRepository_DeleteByStory (0.05s)
    --- PASS: TestSceneRepository_DeleteByStory/delete_all_scenes_for_story (0.00s)
=== RUN   TestStoryRepository_Create
=== RUN   TestStoryRepository_Create/successful_creation_root_story
=== RUN   TestStoryRepository_Create/creation_with_world_and_user
--- PASS: TestStoryRepository_Create (0.02s)
    --- PASS: TestStoryRepository_Create/successful_creation_root_story (0.00s)
    --- PASS: TestStoryRepository_Create/creation_with_world_and_user (0.00s)
=== RUN   TestStoryRepository_GetByID
=== RUN   TestStoryRepository_GetByID/existing_story
=== RUN   TestStoryRepository_GetByID/non-existent_story
--- PASS: TestStoryRepository_GetByID (0.05s)
    --- PASS: TestStoryRepository_GetByID/existing_story (0.00s)
    --- PASS: TestStoryRepository_GetByID/non-existent_story (0.00s)
=== RUN   TestStoryRepository_ListByTenant
=== RUN   TestStoryRepository_ListByTenant/empty_list
=== RUN   TestStoryRepository_ListByTenant/list_with_stories
=== RUN   TestStoryRepository_ListByTenant/pagination
--- PASS: TestStoryRepository_ListByTenant (0.03s)
    --- PASS: TestStoryRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/list_with_stories (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/pagination (0.00s)
=== RUN   TestStoryRepository_ListVersionsByRoot
=== RUN   TestStoryRepository_ListVersionsByRoot/list_versions
=== RUN   TestStoryRepository_ListVersionsByRoot/single_version
--- PASS: TestStoryRepository_ListVersionsByRoot (0.05s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/list_versions (0.00s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/single_version (0.00s)
=== RUN   TestStoryRepository_GetVersionGraph
=== RUN   TestStoryRepository_GetVersionGraph/get_version_graph
--- PASS: TestStoryRepository_GetVersionGraph (0.02s)
    --- PASS: TestStoryRepository_GetVersionGraph/get_version_graph (0.00s)
=== RUN   TestStoryRepository_Update
=== RUN   TestStoryRepository_Update/successful_update
--- PASS: TestStoryRepository_Update (0.03s)
    --- PASS: TestStoryRepository_Update/successful_update (0.00s)
=== RUN   TestStoryRepository_Delete
=== RUN   TestStoryRepository_Delete/successful_delete
--- PASS: TestStoryRepository_Delete (0.04s)
    --- PASS: TestStoryRepository_Delete/successful_delete (0.00s)
=== RUN   TestStoryRepository_CountByTenant
=== RUN   TestStoryRepository_CountByTenant/empty_count
=== RUN   TestStoryRepository_CountByTenant/count_with_stories
--- PASS: TestStoryRepository_CountByTenant (0.06s)
    --- PASS: TestStoryRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestStoryRepository_CountByTenant/count_with_stories (0.00s)
=== RUN   TestTenantRepository_Create
=== RUN   TestTenantRepository_Create/successful_creation
=== RUN   TestTenantRepository_Create/duplicate_name_constraint
--- PASS: TestTenantRepository_Create (0.01s)
    --- PASS: TestTenantRepository_Create/successful_creation (0.00s)
    --- PASS: TestTenantRepository_Create/duplicate_name_constraint (0.00s)
=== RUN   TestTenantRepository_GetByID
=== RUN   TestTenantRepository_GetByID/existing_tenant
=== RUN   TestTenantRepository_GetByID/non-existent_tenant
--- PASS: TestTenantRepository_GetByID (0.01s)
    --- PASS: TestTenantRepository_GetByID/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByID/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_GetByName
=== RUN   TestTenantRepository_GetByName/existing_tenant
=== RUN   TestTenantRepository_GetByName/non-existent_tenant
--- PASS: TestTenantRepository_GetByName (0.01s)
    --- PASS: TestTenantRepository_GetByName/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByName/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_Update
=== RUN   TestTenantRepository_Update/successful_update
--- PASS: TestTenantRepository_Update (0.01s)
    --- PASS: TestTenantRepository_Update/successful_update (0.00s)
=== RUN   TestTenantRepository_Delete
=== RUN   TestTenantRepository_Delete/successful_delete
--- PASS: TestTenantRepository_Delete (0.01s)
    --- PASS: TestTenantRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_Create
=== RUN   TestTraitRepository_Create/successful_creation
=== RUN   TestTraitRepository_Create/creation_with_category_and_description
--- PASS: TestTraitRepository_Create (0.01s)
    --- PASS: TestTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestTraitRepository_Create/creation_with_category_and_description (0.00s)
=== RUN   TestTraitRepository_GetByID
=== RUN   TestTraitRepository_GetByID/existing_trait
=== RUN   TestTraitRepository_GetByID/non-existent_trait
--- PASS: TestTraitRepository_GetByID (0.01s)
    --- PASS: TestTraitRepository_GetByID/existing_trait (0.00s)
    --- PASS: TestTraitRepository_GetByID/non-existent_trait (0.00s)
=== RUN   TestTraitRepository_ListByTenant
=== RUN   TestTraitRepository_ListByTenant/empty_list
=== RUN   TestTraitRepository_ListByTenant/list_with_traits
=== RUN   TestTraitRepository_ListByTenant/pagination
=== RUN   TestTraitRepository_ListByTenant/tenant_isolation
--- PASS: TestTraitRepository_ListByTenant (0.02s)
    --- PASS: TestTraitRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/list_with_traits (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestTraitRepository_Update
=== RUN   TestTraitRepository_Update/successful_update
--- PASS: TestTraitRepository_Update (0.01s)
    --- PASS: TestTraitRepository_Update/successful_update (0.00s)
=== RUN   TestTraitRepository_Delete
=== RUN   TestTraitRepository_Delete/successful_delete
--- PASS: TestTraitRepository_Delete (0.01s)
    --- PASS: TestTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_CountByTenant
=== RUN   TestTraitRepository_CountByTenant/empty_count
=== RUN   TestTraitRepository_CountByTenant/count_with_traits
=== RUN   TestTraitRepository_CountByTenant/tenant_isolation
--- PASS: TestTraitRepository_CountByTenant (0.01s)
    --- PASS: TestTraitRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/count_with_traits (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Create
=== RUN   TestWorldRepository_Create/successful_creation
=== RUN   TestWorldRepository_Create/successful_creation_with_RPG_system
=== RUN   TestWorldRepository_Create/successful_creation_with_implicit_flag
--- PASS: TestWorldRepository_Create (0.01s)
    --- PASS: TestWorldRepository_Create/successful_creation (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_RPG_system (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_implicit_flag (0.00s)
=== RUN   TestWorldRepository_GetByID
=== RUN   TestWorldRepository_GetByID/existing_world
=== RUN   TestWorldRepository_GetByID/non-existent_world
=== RUN   TestWorldRepository_GetByID/wrong_tenant
--- PASS: TestWorldRepository_GetByID (0.01s)
    --- PASS: TestWorldRepository_GetByID/existing_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/non-existent_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/wrong_tenant (0.00s)
=== RUN   TestWorldRepository_ListByTenant
=== RUN   TestWorldRepository_ListByTenant/empty_list
=== RUN   TestWorldRepository_ListByTenant/list_with_worlds
=== RUN   TestWorldRepository_ListByTenant/pagination
=== RUN   TestWorldRepository_ListByTenant/tenant_isolation
--- PASS: TestWorldRepository_ListByTenant (0.09s)
    --- PASS: TestWorldRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestWorldRepository_ListByTenant/list_with_worlds (0.03s)
    --- PASS: TestWorldRepository_ListByTenant/pagination (0.06s)
    --- PASS: TestWorldRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Update
=== RUN   TestWorldRepository_Update/successful_update
=== RUN   TestWorldRepository_Update/update_RPG_system
--- PASS: TestWorldRepository_Update (0.01s)
    --- PASS: TestWorldRepository_Update/successful_update (0.00s)
    --- PASS: TestWorldRepository_Update/update_RPG_system (0.00s)
=== RUN   TestWorldRepository_Delete
=== RUN   TestWorldRepository_Delete/successful_delete
=== RUN   TestWorldRepository_Delete/delete_non-existent_world
--- PASS: TestWorldRepository_Delete (0.01s)
    --- PASS: TestWorldRepository_Delete/successful_delete (0.00s)
    --- PASS: TestWorldRepository_Delete/delete_non-existent_world (0.00s)
=== RUN   TestWorldRepository_CountByTenant
=== RUN   TestWorldRepository_CountByTenant/empty_count
=== RUN   TestWorldRepository_CountByTenant/count_with_worlds
=== RUN   TestWorldRepository_CountByTenant/tenant_isolation
--- PASS: TestWorldRepository_CountByTenant (0.01s)
    --- PASS: TestWorldRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/count_with_worlds (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/tenant_isolation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/sqlite	4.155s
?   	github.com/story-engine/main-service/internal/application/rpg/artifact_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_inventory	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_skill	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_item	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_slot	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_class	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_system	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/skill	[no test files]
=== RUN   TestCloneStoryUseCase_Execute
time=2026-01-04T14:09:38.390-03:00 level=INFO msg="tenant created" tenant_id=1cc40be5-9f0d-4850-9410-f5e01fcb0d00 name="Test Tenant"
time=2026-01-04T14:09:38.392-03:00 level=INFO msg="world created" world_id=e5358d0f-ce5c-4f3e-94b2-20a2e3bb5c93 name="World of Test Story" tenant_id=1cc40be5-9f0d-4850-9410-f5e01fcb0d00
time=2026-01-04T14:09:38.392-03:00 level=INFO msg="created implicit world for story" world_id=e5358d0f-ce5c-4f3e-94b2-20a2e3bb5c93 story_title="Test Story"
time=2026-01-04T14:09:38.431-03:00 level=INFO msg="story created" story_id=1c41247a-cba4-465e-a623-8bf13dda9692 title="Test Story" tenant_id=1cc40be5-9f0d-4850-9410-f5e01fcb0d00
=== RUN   TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters)
time=2026-01-04T14:09:38.434-03:00 level=INFO msg="story cloned" source_story_id=1c41247a-cba4-465e-a623-8bf13dda9692 new_story_id=1cd767e0-642a-4526-9a43-f8d6c635e121 version_number=2
=== RUN   TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy
time=2026-01-04T14:09:38.536-03:00 level=INFO msg="story cloned" source_story_id=64079179-ca24-4b51-913f-0d1d8e942c2c new_story_id=695989c5-34bc-4415-96ef-3a3ca574e95c version_number=2
--- PASS: TestCloneStoryUseCase_Execute (1.07s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters) (0.00s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy (0.10s)
=== RUN   TestCreateStoryUseCase_Execute
time=2026-01-04T14:09:39.280-03:00 level=INFO msg="tenant created" tenant_id=9b1f85ff-d625-41af-bbe7-ca33431c64e0 name="Test Tenant"
=== RUN   TestCreateStoryUseCase_Execute/successful_creation
time=2026-01-04T14:09:39.281-03:00 level=INFO msg="world created" world_id=39883f31-348b-4edc-8cb7-ad4cb12701ab name="World of Test Story" tenant_id=9b1f85ff-d625-41af-bbe7-ca33431c64e0
time=2026-01-04T14:09:39.281-03:00 level=INFO msg="created implicit world for story" world_id=39883f31-348b-4edc-8cb7-ad4cb12701ab story_title="Test Story"
time=2026-01-04T14:09:39.283-03:00 level=INFO msg="story created" story_id=89efaf85-121c-47e9-963b-26afb27535c1 title="Test Story" tenant_id=9b1f85ff-d625-41af-bbe7-ca33431c64e0
=== RUN   TestCreateStoryUseCase_Execute/multi-tenant_isolation
time=2026-01-04T14:09:39.284-03:00 level=INFO msg="tenant created" tenant_id=7cb4ee6b-b103-462e-8da3-bafee257b7de name="Test Tenant 2"
time=2026-01-04T14:09:39.285-03:00 level=INFO msg="world created" world_id=f3edb66c-869d-4799-9474-e1cb5d813dac name="World of Test Story 2" tenant_id=7cb4ee6b-b103-462e-8da3-bafee257b7de
time=2026-01-04T14:09:39.285-03:00 level=INFO msg="created implicit world for story" world_id=f3edb66c-869d-4799-9474-e1cb5d813dac story_title="Test Story 2"
time=2026-01-04T14:09:39.285-03:00 level=INFO msg="story created" story_id=ba0c741a-c765-4258-9487-1ae1b87d8332 title="Test Story 2" tenant_id=7cb4ee6b-b103-462e-8da3-bafee257b7de
=== RUN   TestCreateStoryUseCase_Execute/invalid_tenant
=== RUN   TestCreateStoryUseCase_Execute/empty_title_validation
--- PASS: TestCreateStoryUseCase_Execute (0.50s)
    --- PASS: TestCreateStoryUseCase_Execute/successful_creation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/multi-tenant_isolation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/invalid_tenant (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/empty_title_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story	(cached)
?   	github.com/story-engine/main-service/internal/application/story/beat	[no test files]
?   	github.com/story-engine/main-service/internal/application/story/chapter	[no test files]
?   	github.com/story-engine/main-service/internal/application/story/content_block	[no test files]
?   	github.com/story-engine/main-service/internal/application/story/scene	[no test files]
=== RUN   TestCreateTenantUseCase_Execute
=== RUN   TestCreateTenantUseCase_Execute/successful_creation
time=2026-01-04T14:09:38.927-03:00 level=INFO msg="tenant created" tenant_id=d7755b71-11bd-478b-b2bc-444f5a02c1cb name="Test Tenant"
=== RUN   TestCreateTenantUseCase_Execute/duplicate_name_validation
=== RUN   TestCreateTenantUseCase_Execute/empty_name_validation
--- PASS: TestCreateTenantUseCase_Execute (1.24s)
    --- PASS: TestCreateTenantUseCase_Execute/successful_creation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/duplicate_name_validation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/empty_name_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/tenant	(cached)
?   	github.com/story-engine/main-service/internal/application/world	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/archetype	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/artifact	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/faction	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/location	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/lore	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/trait	[no test files]
?   	github.com/story-engine/main-service/internal/core/audit	[no test files]
?   	github.com/story-engine/main-service/internal/core/auth	[no test files]
?   	github.com/story-engine/main-service/internal/core/rpg	[no test files]
?   	github.com/story-engine/main-service/internal/core/story	[no test files]
?   	github.com/story-engine/main-service/internal/core/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/core/versioning	[no test files]
?   	github.com/story-engine/main-service/internal/core/world	[no test files]
?   	github.com/story-engine/main-service/internal/platform/config	[no test files]
?   	github.com/story-engine/main-service/internal/platform/database	[no test files]
?   	github.com/story-engine/main-service/internal/platform/errors	[no test files]
?   	github.com/story-engine/main-service/internal/platform/logger	[no test files]
?   	github.com/story-engine/main-service/internal/platform/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/ports/repositories	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/grpcctx	[no test files]
=== RUN   TestArchetypeHandler_CreateArchetype
time=2026-01-04T14:09:39.725-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:39.726-03:00 level=INFO msg="TraitService registered"
time=2026-01-04T14:09:39.726-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_CreateArchetype/successful_creation
time=2026-01-04T14:09:39.727-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:39.730-03:00 level=INFO msg="tenant created" tenant_id=cbdc5eea-2fdc-43b0-9d66-3b39c8b1d810 name="Test Tenant for Archetype"
time=2026-01-04T14:09:39.730-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:39.731-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-04T14:09:39.732-03:00 level=INFO msg="archetype created" archetype_id=81d48ca1-fea4-41f8-81b7-bb8c719a54c2 name=Warrior
time=2026-01-04T14:09:39.732-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
=== RUN   TestArchetypeHandler_CreateArchetype/empty_name
time=2026-01-04T14:09:39.733-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:39.733-03:00 level=INFO msg="tenant created" tenant_id=300b771e-c6f9-4196-ad7f-3ee315919762 name="Test Tenant 2"
time=2026-01-04T14:09:39.733-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:39.733-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-04T14:09:39.734-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-04T14:09:39.734-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_CreateArchetype (0.19s)
    --- PASS: TestArchetypeHandler_CreateArchetype/successful_creation (0.01s)
    --- PASS: TestArchetypeHandler_CreateArchetype/empty_name (0.00s)
=== RUN   TestArchetypeHandler_GetArchetype
time=2026-01-04T14:09:39.885-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:39.885-03:00 level=INFO msg="TraitService registered"
time=2026-01-04T14:09:39.885-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetype/existing_archetype
time=2026-01-04T14:09:39.886-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:39.889-03:00 level=INFO msg="tenant created" tenant_id=ff22003c-18ef-49ba-a605-776a38a21f1b name="Get Test Tenant"
time=2026-01-04T14:09:39.889-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:39.889-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-04T14:09:39.892-03:00 level=INFO msg="archetype created" archetype_id=beb8be2b-96e2-466f-9582-a546fb356b26 name="Get Test Archetype"
time=2026-01-04T14:09:39.892-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=3
time=2026-01-04T14:09:39.892-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-04T14:09:39.893-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetype/non-existing_archetype
time=2026-01-04T14:09:39.893-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:39.894-03:00 level=INFO msg="tenant created" tenant_id=c4da3a02-eff4-43f1-a97a-2f905eab26c1 name="Non-existing Test Tenant"
time=2026-01-04T14:09:39.894-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:39.894-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-04T14:09:39.894-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 1df48e15-73f8-44bd-aa60-0e843fcd91be" archetype_id=1df48e15-73f8-44bd-aa60-0e843fcd91be
time=2026-01-04T14:09:39.894-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: 1df48e15-73f8-44bd-aa60-0e843fcd91be"
time=2026-01-04T14:09:39.894-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetype (0.21s)
    --- PASS: TestArchetypeHandler_GetArchetype/existing_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetype/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_ListArchetypes
time=2026-01-04T14:09:40.110-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:40.110-03:00 level=INFO msg="TraitService registered"
time=2026-01-04T14:09:40.110-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_ListArchetypes/list_archetypes
time=2026-01-04T14:09:40.111-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:40.114-03:00 level=INFO msg="tenant created" tenant_id=6d5cb900-e295-4fa8-862d-afdd9f2d41d5 name="List Test Tenant"
time=2026-01-04T14:09:40.114-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:40.114-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-04T14:09:40.116-03:00 level=INFO msg="archetype created" archetype_id=2b0a5829-f2c1-4f4f-a4fc-f66dde08b294 name="Archetype 1"
time=2026-01-04T14:09:40.116-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-04T14:09:40.116-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-04T14:09:40.117-03:00 level=INFO msg="archetype created" archetype_id=9c27f3b7-6e01-40d8-9aab-ff5959004606 name="Archetype 2"
time=2026-01-04T14:09:40.117-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-04T14:09:40.117-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/ListArchetypes
time=2026-01-04T14:09:40.118-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/ListArchetypes duration_ms=0
time=2026-01-04T14:09:40.118-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_ListArchetypes (0.23s)
    --- PASS: TestArchetypeHandler_ListArchetypes/list_archetypes (0.01s)
=== RUN   TestArchetypeHandler_UpdateArchetype
time=2026-01-04T14:09:40.363-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:40.363-03:00 level=INFO msg="TraitService registered"
time=2026-01-04T14:09:40.363-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_UpdateArchetype/update_archetype
time=2026-01-04T14:09:40.364-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:40.369-03:00 level=INFO msg="tenant created" tenant_id=18f4cfe3-b4f5-4541-9aa2-d8089e53474d name="Update Test Tenant"
time=2026-01-04T14:09:40.369-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-04T14:09:40.370-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-04T14:09:40.373-03:00 level=INFO msg="archetype created" archetype_id=69941f18-3afa-4c49-8056-0081d284e74f name="Original Archetype"
time=2026-01-04T14:09:40.373-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=3
time=2026-01-04T14:09:40.374-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/UpdateArchetype
time=2026-01-04T14:09:40.374-03:00 level=INFO msg="archetype updated" archetype_id=69941f18-3afa-4c49-8056-0081d284e74f name="Updated Archetype"
time=2026-01-04T14:09:40.374-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/UpdateArchetype duration_ms=0
time=2026-01-04T14:09:40.374-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_UpdateArchetype (0.26s)
    --- PASS: TestArchetypeHandler_UpdateArchetype/update_archetype (0.01s)
=== RUN   TestArchetypeHandler_DeleteArchetype
time=2026-01-04T14:09:40.651-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:40.651-03:00 level=INFO msg="TraitService registered"
time=2026-01-04T14:09:40.651-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_DeleteArchetype/delete_archetype
time=2026-01-04T14:09:40.652-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:40.655-03:00 level=INFO msg="tenant created" tenant_id=e5a12fa3-fa0a-4700-8156-0ef46e845136 name="Delete Test Tenant"
time=2026-01-04T14:09:40.655-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:40.655-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-04T14:09:40.656-03:00 level=INFO msg="archetype created" archetype_id=dfb8152e-4c93-42f0-b973-9bd71130c638 name="Archetype to Delete"
time=2026-01-04T14:09:40.656-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-04T14:09:40.656-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/DeleteArchetype
time=2026-01-04T14:09:40.658-03:00 level=INFO msg="archetype deleted" archetype_id=dfb8152e-4c93-42f0-b973-9bd71130c638 name="Archetype to Delete"
time=2026-01-04T14:09:40.658-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/DeleteArchetype duration_ms=1
time=2026-01-04T14:09:40.658-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-04T14:09:40.659-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: dfb8152e-4c93-42f0-b973-9bd71130c638" archetype_id=dfb8152e-4c93-42f0-b973-9bd71130c638
time=2026-01-04T14:09:40.659-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: dfb8152e-4c93-42f0-b973-9bd71130c638"
time=2026-01-04T14:09:40.659-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_DeleteArchetype (0.30s)
    --- PASS: TestArchetypeHandler_DeleteArchetype/delete_archetype (0.01s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-04T14:09:40.935-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:40.935-03:00 level=INFO msg="TraitService registered"
time=2026-01-04T14:09:40.935-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-04T14:09:40.936-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:40.938-03:00 level=INFO msg="tenant created" tenant_id=dc588ccc-04cb-45a0-88b9-925674850627 name="Add Trait Test Tenant"
time=2026-01-04T14:09:40.938-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:40.938-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-04T14:09:40.939-03:00 level=INFO msg="archetype created" archetype_id=db06f268-d485-4699-ab8e-a1f46ecb0b9b name=Warrior
time=2026-01-04T14:09:40.939-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-04T14:09:40.940-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-04T14:09:40.941-03:00 level=INFO msg="trait created" trait_id=703d817f-183c-44f1-b679-edb2df1e7ec0 name=Brave
time=2026-01-04T14:09:40.941-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-04T14:09:40.941-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-04T14:09:40.943-03:00 level=INFO msg="trait added to archetype" archetype_id=db06f268-d485-4699-ab8e-a1f46ecb0b9b trait_id=703d817f-183c-44f1-b679-edb2df1e7ec0
time=2026-01-04T14:09:40.943-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-04T14:09:40.943-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_AddTrait (0.26s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.01s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-04T14:09:41.205-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:41.205-03:00 level=INFO msg="TraitService registered"
time=2026-01-04T14:09:41.205-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-04T14:09:41.205-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:41.208-03:00 level=INFO msg="tenant created" tenant_id=07ed9f2f-bc93-4a9a-9e07-7e093e0c86f7 name="Remove Trait Test Tenant"
time=2026-01-04T14:09:41.208-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:41.208-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-04T14:09:41.209-03:00 level=INFO msg="archetype created" archetype_id=0cdda7b3-54af-43b9-ab96-2b48d78f4215 name=Warrior
time=2026-01-04T14:09:41.209-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-04T14:09:41.209-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-04T14:09:41.210-03:00 level=INFO msg="trait created" trait_id=23b3687a-3d07-465c-bce4-0c533a5b0833 name=Brave
time=2026-01-04T14:09:41.210-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-04T14:09:41.210-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-04T14:09:41.212-03:00 level=INFO msg="trait added to archetype" archetype_id=0cdda7b3-54af-43b9-ab96-2b48d78f4215 trait_id=23b3687a-3d07-465c-bce4-0c533a5b0833
time=2026-01-04T14:09:41.212-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-04T14:09:41.212-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/RemoveTraitFromArchetype
time=2026-01-04T14:09:41.212-03:00 level=INFO msg="trait removed from archetype" archetype_id=0cdda7b3-54af-43b9-ab96-2b48d78f4215 trait_id=23b3687a-3d07-465c-bce4-0c533a5b0833
time=2026-01-04T14:09:41.212-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/RemoveTraitFromArchetype duration_ms=0
time=2026-01-04T14:09:41.212-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_RemoveTrait (0.27s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.01s)
=== RUN   TestArtifactHandler_CreateArtifact
time=2026-01-04T14:09:41.421-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:41.421-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:41.421-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_CreateArtifact/successful_creation
time=2026-01-04T14:09:41.422-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:41.424-03:00 level=INFO msg="tenant created" tenant_id=c76e3d0b-56b3-4578-b015-6c5625e16119 name="Test Tenant for Artifact"
time=2026-01-04T14:09:41.424-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:41.424-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:41.425-03:00 level=INFO msg="world created" world_id=547b23c6-907d-4bed-afa2-4326dead6c54 name="Test World" tenant_id=c76e3d0b-56b3-4578-b015-6c5625e16119
time=2026-01-04T14:09:41.425-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:41.426-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:09:41.427-03:00 level=INFO msg="artifact created" artifact_id=fd8cb7cd-9508-4d4b-baa7-37346d71a489 name="Test Artifact"
time=2026-01-04T14:09:41.427-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
=== RUN   TestArtifactHandler_CreateArtifact/empty_name
time=2026-01-04T14:09:41.428-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:41.428-03:00 level=INFO msg="tenant created" tenant_id=2791932a-25d2-4ce2-a0bf-fc30243d7fc7 name="Test Tenant 2"
time=2026-01-04T14:09:41.428-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:41.429-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:41.430-03:00 level=INFO msg="world created" world_id=c972a30c-12b6-4342-9e49-8d9cdfc0210e name="Test World 2" tenant_id=2791932a-25d2-4ce2-a0bf-fc30243d7fc7
time=2026-01-04T14:09:41.430-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-04T14:09:41.430-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:09:41.430-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-04T14:09:41.430-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_CreateArtifact (0.22s)
    --- PASS: TestArtifactHandler_CreateArtifact/successful_creation (0.01s)
    --- PASS: TestArtifactHandler_CreateArtifact/empty_name (0.00s)
=== RUN   TestArtifactHandler_GetArtifact
time=2026-01-04T14:09:41.695-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:41.695-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:41.695-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_GetArtifact/existing_artifact
time=2026-01-04T14:09:41.696-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:41.698-03:00 level=INFO msg="tenant created" tenant_id=a831f8e1-a56e-4efc-acbb-b9af64ae0786 name="Get Test Tenant"
time=2026-01-04T14:09:41.698-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:41.699-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:41.700-03:00 level=INFO msg="world created" world_id=3e549272-d7b7-422e-b71e-9dd0c3962d27 name="Get Test World" tenant_id=a831f8e1-a56e-4efc-acbb-b9af64ae0786
time=2026-01-04T14:09:41.700-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:41.700-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:09:41.702-03:00 level=INFO msg="artifact created" artifact_id=78efdbc4-c32b-48cb-9540-74c378f3eec8 name="Get Test Artifact"
time=2026-01-04T14:09:41.702-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-04T14:09:41.702-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-04T14:09:41.703-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/GetArtifact duration_ms=0
=== RUN   TestArtifactHandler_GetArtifact/non-existing_artifact
time=2026-01-04T14:09:41.703-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:41.704-03:00 level=INFO msg="tenant created" tenant_id=ed749aca-2716-4c74-94fc-ee917412a25a name="Non-existing Test Tenant"
time=2026-01-04T14:09:41.704-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-04T14:09:41.704-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-04T14:09:41.705-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 1a6dea12-d508-4e55-843d-3af84ff3c51d" artifact_id=1a6dea12-d508-4e55-843d-3af84ff3c51d
time=2026-01-04T14:09:41.705-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 1a6dea12-d508-4e55-843d-3af84ff3c51d"
time=2026-01-04T14:09:41.705-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_GetArtifact (0.38s)
    --- PASS: TestArtifactHandler_GetArtifact/existing_artifact (0.01s)
    --- PASS: TestArtifactHandler_GetArtifact/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_ListArtifacts
time=2026-01-04T14:09:42.005-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:42.005-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:42.005-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_ListArtifacts/list_artifacts
time=2026-01-04T14:09:42.006-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:42.007-03:00 level=INFO msg="tenant created" tenant_id=cea6f738-8460-41a0-a47d-0ecaceed2444 name="List Test Tenant"
time=2026-01-04T14:09:42.007-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-04T14:09:42.008-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:42.008-03:00 level=INFO msg="world created" world_id=007b4210-487e-4224-af86-be82a4ca7512 name="List Test World" tenant_id=cea6f738-8460-41a0-a47d-0ecaceed2444
time=2026-01-04T14:09:42.008-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-04T14:09:42.008-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:09:42.012-03:00 level=INFO msg="artifact created" artifact_id=63712e91-c0c6-4a3a-821a-537857b45d08 name="Artifact 1"
time=2026-01-04T14:09:42.012-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=3
time=2026-01-04T14:09:42.012-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:09:42.013-03:00 level=INFO msg="artifact created" artifact_id=4b7c20e1-e629-49a7-a767-d3ee5d86eb7a name="Artifact 2"
time=2026-01-04T14:09:42.013-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-04T14:09:42.013-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/ListArtifacts
time=2026-01-04T14:09:42.013-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/ListArtifacts duration_ms=0
time=2026-01-04T14:09:42.014-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_ListArtifacts (0.20s)
    --- PASS: TestArtifactHandler_ListArtifacts/list_artifacts (0.01s)
=== RUN   TestArtifactHandler_UpdateArtifact
time=2026-01-04T14:09:42.196-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:42.196-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:42.196-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_UpdateArtifact/update_artifact
time=2026-01-04T14:09:42.197-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:42.200-03:00 level=INFO msg="tenant created" tenant_id=be209561-1b77-4c0e-8b5d-f13b1013cb73 name="Update Test Tenant"
time=2026-01-04T14:09:42.200-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:42.200-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:42.201-03:00 level=INFO msg="world created" world_id=dce15bc6-6adc-4e04-812f-bcde99cb464d name="Update Test World" tenant_id=be209561-1b77-4c0e-8b5d-f13b1013cb73
time=2026-01-04T14:09:42.201-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:42.202-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:09:42.203-03:00 level=INFO msg="artifact created" artifact_id=8c8353a1-1fdf-4b1d-b24f-8e5ffd74beb9 name="Original Artifact"
time=2026-01-04T14:09:42.203-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-04T14:09:42.203-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/UpdateArtifact
time=2026-01-04T14:09:42.204-03:00 level=INFO msg="artifact updated" artifact_id=8c8353a1-1fdf-4b1d-b24f-8e5ffd74beb9 name="Updated Artifact"
time=2026-01-04T14:09:42.204-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/UpdateArtifact duration_ms=1
time=2026-01-04T14:09:42.205-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_UpdateArtifact (0.19s)
    --- PASS: TestArtifactHandler_UpdateArtifact/update_artifact (0.01s)
=== RUN   TestArtifactHandler_DeleteArtifact
time=2026-01-04T14:09:42.452-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:42.452-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:42.452-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_DeleteArtifact/delete_artifact
time=2026-01-04T14:09:42.452-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:42.455-03:00 level=INFO msg="tenant created" tenant_id=ac66fa25-8322-4ffc-beb1-4909396b2b5f name="Delete Test Tenant"
time=2026-01-04T14:09:42.455-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:42.456-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:42.457-03:00 level=INFO msg="world created" world_id=46df3d51-5b07-44c9-a4d6-9b6928b44da7 name="Delete Test World" tenant_id=ac66fa25-8322-4ffc-beb1-4909396b2b5f
time=2026-01-04T14:09:42.457-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:42.457-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:09:42.459-03:00 level=INFO msg="artifact created" artifact_id=1ee073b7-2523-4941-921e-8bf3c8b8cd07 name="Artifact to Delete"
time=2026-01-04T14:09:42.459-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-04T14:09:42.459-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/DeleteArtifact
time=2026-01-04T14:09:42.463-03:00 level=INFO msg="artifact deleted" artifact_id=1ee073b7-2523-4941-921e-8bf3c8b8cd07 name="Artifact to Delete"
time=2026-01-04T14:09:42.463-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/DeleteArtifact duration_ms=3
time=2026-01-04T14:09:42.463-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-04T14:09:42.463-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 1ee073b7-2523-4941-921e-8bf3c8b8cd07" artifact_id=1ee073b7-2523-4941-921e-8bf3c8b8cd07
time=2026-01-04T14:09:42.464-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 1ee073b7-2523-4941-921e-8bf3c8b8cd07"
time=2026-01-04T14:09:42.464-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_DeleteArtifact (0.27s)
    --- PASS: TestArtifactHandler_DeleteArtifact/delete_artifact (0.01s)
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats
time=2026-01-04T14:09:42.675-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:42.675-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:42.675-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-04T14:09:42.675-03:00 level=INFO msg="ArtifactRPGStatsService registered"
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation
time=2026-01-04T14:09:42.675-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:42.677-03:00 level=INFO msg="tenant created" tenant_id=c7589532-c0fd-4546-aace-34fe1168d77c name="Test Tenant for Artifact Stats"
time=2026-01-04T14:09:42.677-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:42.678-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:42.679-03:00 level=INFO msg="world created" world_id=399578dc-797e-4a20-8f31-a8bcb2235766 name="Test World" tenant_id=c7589532-c0fd-4546-aace-34fe1168d77c
time=2026-01-04T14:09:42.679-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:42.679-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:09:42.681-03:00 level=INFO msg="artifact created" artifact_id=8d401ded-e690-4515-8521-c2b0c5b9b717 name="Test Artifact"
time=2026-01-04T14:09:42.681-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-04T14:09:42.681-03:00 level=INFO msg="gRPC request started" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats
time=2026-01-04T14:09:42.684-03:00 level=INFO msg="artifact RPG stats created" artifact_id=8d401ded-e690-4515-8521-c2b0c5b9b717 version=1
time=2026-01-04T14:09:42.684-03:00 level=INFO msg="gRPC request completed" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats duration_ms=2
time=2026-01-04T14:09:42.684-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats (0.21s)
    --- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation (0.01s)
=== RUN   TestBeatHandler_CreateBeat
time=2026-01-04T14:09:42.884-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:42.884-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:42.884-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:42.884-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:42.884-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:42.884-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:42.884-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:42.885-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:42.887-03:00 level=INFO msg="tenant created" tenant_id=38d5f583-795f-46df-a3b4-c98042aca508 name="Test Tenant for Beat"
time=2026-01-04T14:09:42.887-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:42.887-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:42.889-03:00 level=INFO msg="world created" world_id=10471b45-36cb-4dc6-af65-e8aae4802729 name="World of Test Story" tenant_id=38d5f583-795f-46df-a3b4-c98042aca508
time=2026-01-04T14:09:42.889-03:00 level=INFO msg="created implicit world for story" world_id=10471b45-36cb-4dc6-af65-e8aae4802729 story_title="Test Story"
time=2026-01-04T14:09:42.890-03:00 level=INFO msg="story created" story_id=348afedf-d8f6-40b4-b1c9-7f9218a33b1c title="Test Story" tenant_id=38d5f583-795f-46df-a3b4-c98042aca508
time=2026-01-04T14:09:42.890-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:42.890-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:09:42.891-03:00 level=INFO msg="scene created" scene_id=fe7ba622-0151-43c5-adb2-10e4e875de8c story_id=348afedf-d8f6-40b4-b1c9-7f9218a33b1c tenant_id=38d5f583-795f-46df-a3b4-c98042aca508
time=2026-01-04T14:09:42.891-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/successful_creation
time=2026-01-04T14:09:42.892-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:42.893-03:00 level=INFO msg="beat created" beat_id=d3d66663-312b-429b-90d1-3c80fea0d049 scene_id=fe7ba622-0151-43c5-adb2-10e4e875de8c tenant_id=38d5f583-795f-46df-a3b4-c98042aca508
time=2026-01-04T14:09:42.893-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/invalid_scene_id
time=2026-01-04T14:09:42.893-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:42.894-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 92149119-7447-4fdc-83c8-79143ac17b24"
=== RUN   TestBeatHandler_CreateBeat/invalid_type
time=2026-01-04T14:09:42.894-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:42.894-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on beat: invalid beat type"
=== RUN   TestBeatHandler_CreateBeat/missing_type
time=2026-01-04T14:09:42.894-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:42.895-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on type: type is required"
=== RUN   TestBeatHandler_CreateBeat/invalid_order_num
time=2026-01-04T14:09:42.895-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:42.895-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-04T14:09:42.895-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_CreateBeat (0.23s)
    --- PASS: TestBeatHandler_CreateBeat/successful_creation (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_scene_id (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/missing_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_order_num (0.00s)
=== RUN   TestBeatHandler_GetBeat
time=2026-01-04T14:09:43.100-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:43.100-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:43.100-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:43.100-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:43.100-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:43.100-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:43.100-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:43.101-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:43.103-03:00 level=INFO msg="tenant created" tenant_id=edd52c24-c177-4cb9-b761-ca1506b40912 name="Test Tenant for Get Beat"
time=2026-01-04T14:09:43.103-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:43.103-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:43.105-03:00 level=INFO msg="world created" world_id=7d908004-e553-4613-b754-b4f827819a33 name="World of Test Story" tenant_id=edd52c24-c177-4cb9-b761-ca1506b40912
time=2026-01-04T14:09:43.105-03:00 level=INFO msg="created implicit world for story" world_id=7d908004-e553-4613-b754-b4f827819a33 story_title="Test Story"
time=2026-01-04T14:09:43.106-03:00 level=INFO msg="story created" story_id=c60d1af3-b904-4de3-9260-153c4d8a3e58 title="Test Story" tenant_id=edd52c24-c177-4cb9-b761-ca1506b40912
time=2026-01-04T14:09:43.106-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:43.106-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:09:43.107-03:00 level=INFO msg="scene created" scene_id=2ce5231e-ccf9-4fea-8484-dd17074029a6 story_id=c60d1af3-b904-4de3-9260-153c4d8a3e58 tenant_id=edd52c24-c177-4cb9-b761-ca1506b40912
time=2026-01-04T14:09:43.107-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_GetBeat/existing_beat
time=2026-01-04T14:09:43.108-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:43.109-03:00 level=INFO msg="beat created" beat_id=97d94827-2feb-41a9-893a-2f0a54fb870b scene_id=2ce5231e-ccf9-4fea-8484-dd17074029a6 tenant_id=edd52c24-c177-4cb9-b761-ca1506b40912
time=2026-01-04T14:09:43.109-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-04T14:09:43.109-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-04T14:09:43.109-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/GetBeat duration_ms=0
=== RUN   TestBeatHandler_GetBeat/non-existing_beat
time=2026-01-04T14:09:43.109-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-04T14:09:43.110-03:00 level=ERROR msg="failed to get beat" error="beat not found: 1d8f8409-7cd8-4009-a3a7-cb9239354672" beat_id=1d8f8409-7cd8-4009-a3a7-cb9239354672 tenant_id=edd52c24-c177-4cb9-b761-ca1506b40912
time=2026-01-04T14:09:43.110-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/GetBeat duration_ms=0 error="rpc error: code = NotFound desc = beat not found: 1d8f8409-7cd8-4009-a3a7-cb9239354672"
time=2026-01-04T14:09:43.110-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_GetBeat (0.20s)
    --- PASS: TestBeatHandler_GetBeat/existing_beat (0.00s)
    --- PASS: TestBeatHandler_GetBeat/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_UpdateBeat
time=2026-01-04T14:09:43.330-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:43.330-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:43.330-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:43.330-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:43.330-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:43.330-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:43.330-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:43.331-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:43.334-03:00 level=INFO msg="tenant created" tenant_id=83b20431-ae11-44ea-954a-c6f90c5b4936 name="Test Tenant for Update Beat"
time=2026-01-04T14:09:43.334-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:43.334-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:43.335-03:00 level=INFO msg="world created" world_id=540abef5-8b26-4b59-b32f-c1ea997c7b06 name="World of Test Story" tenant_id=83b20431-ae11-44ea-954a-c6f90c5b4936
time=2026-01-04T14:09:43.335-03:00 level=INFO msg="created implicit world for story" world_id=540abef5-8b26-4b59-b32f-c1ea997c7b06 story_title="Test Story"
time=2026-01-04T14:09:43.337-03:00 level=INFO msg="story created" story_id=4ee7c103-6d31-46e4-940f-94b58b974d41 title="Test Story" tenant_id=83b20431-ae11-44ea-954a-c6f90c5b4936
time=2026-01-04T14:09:43.337-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:43.337-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:09:43.338-03:00 level=INFO msg="scene created" scene_id=aef1c7b9-9b0f-4b81-8e9f-0b50089be734 story_id=4ee7c103-6d31-46e4-940f-94b58b974d41 tenant_id=83b20431-ae11-44ea-954a-c6f90c5b4936
time=2026-01-04T14:09:43.338-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_UpdateBeat/successful_update
time=2026-01-04T14:09:43.338-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:43.339-03:00 level=INFO msg="beat created" beat_id=201e3ae5-a778-49cc-8832-4755a00bca20 scene_id=aef1c7b9-9b0f-4b81-8e9f-0b50089be734 tenant_id=83b20431-ae11-44ea-954a-c6f90c5b4936
time=2026-01-04T14:09:43.339-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-04T14:09:43.339-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/UpdateBeat
time=2026-01-04T14:09:43.340-03:00 level=INFO msg="beat updated" beat_id=201e3ae5-a778-49cc-8832-4755a00bca20 tenant_id=83b20431-ae11-44ea-954a-c6f90c5b4936
time=2026-01-04T14:09:43.340-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/UpdateBeat duration_ms=0
time=2026-01-04T14:09:43.340-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_UpdateBeat (0.25s)
    --- PASS: TestBeatHandler_UpdateBeat/successful_update (0.00s)
=== RUN   TestBeatHandler_MoveBeat
time=2026-01-04T14:09:43.601-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:43.601-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:43.601-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:43.601-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:43.601-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:43.601-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:43.601-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:43.601-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:43.603-03:00 level=INFO msg="tenant created" tenant_id=c00ea1a4-e4a6-4427-84f2-e4260e24bc1a name="Test Tenant for Move Beat"
time=2026-01-04T14:09:43.603-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:43.604-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:43.605-03:00 level=INFO msg="world created" world_id=43750ccc-3452-4246-b9e5-335cd3e070eb name="World of Test Story" tenant_id=c00ea1a4-e4a6-4427-84f2-e4260e24bc1a
time=2026-01-04T14:09:43.605-03:00 level=INFO msg="created implicit world for story" world_id=43750ccc-3452-4246-b9e5-335cd3e070eb story_title="Test Story"
time=2026-01-04T14:09:43.607-03:00 level=INFO msg="story created" story_id=82002164-afef-42ac-ab53-09a27f859451 title="Test Story" tenant_id=c00ea1a4-e4a6-4427-84f2-e4260e24bc1a
time=2026-01-04T14:09:43.607-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:43.607-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:09:43.608-03:00 level=INFO msg="scene created" scene_id=93350459-b9ce-4729-b082-e4f49755504d story_id=82002164-afef-42ac-ab53-09a27f859451 tenant_id=c00ea1a4-e4a6-4427-84f2-e4260e24bc1a
time=2026-01-04T14:09:43.608-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-04T14:09:43.608-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:09:43.608-03:00 level=INFO msg="scene created" scene_id=a87e0d45-29cf-4261-978f-29ef5aa5b5f7 story_id=82002164-afef-42ac-ab53-09a27f859451 tenant_id=c00ea1a4-e4a6-4427-84f2-e4260e24bc1a
time=2026-01-04T14:09:43.608-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_MoveBeat/move_to_different_scene
time=2026-01-04T14:09:43.608-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:43.610-03:00 level=INFO msg="beat created" beat_id=c95dd673-f84e-4cdd-ac79-e7e9179e723d scene_id=93350459-b9ce-4729-b082-e4f49755504d tenant_id=c00ea1a4-e4a6-4427-84f2-e4260e24bc1a
time=2026-01-04T14:09:43.610-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=2
time=2026-01-04T14:09:43.611-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/MoveBeat
time=2026-01-04T14:09:43.612-03:00 level=INFO msg="beat moved" beat_id=c95dd673-f84e-4cdd-ac79-e7e9179e723d new_scene_id=a87e0d45-29cf-4261-978f-29ef5aa5b5f7 tenant_id=c00ea1a4-e4a6-4427-84f2-e4260e24bc1a
time=2026-01-04T14:09:43.612-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/MoveBeat duration_ms=1
time=2026-01-04T14:09:43.612-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_MoveBeat (0.29s)
    --- PASS: TestBeatHandler_MoveBeat/move_to_different_scene (0.00s)
=== RUN   TestBeatHandler_ListBeatsByScene
time=2026-01-04T14:09:43.870-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:43.870-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:43.870-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:43.870-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:43.870-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:43.870-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:43.870-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:43.871-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:43.873-03:00 level=INFO msg="tenant created" tenant_id=a201726d-1424-4637-a749-bb6d83d4ba34 name="Test Tenant for List Beats"
time=2026-01-04T14:09:43.873-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:43.874-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:43.875-03:00 level=INFO msg="world created" world_id=bec0c75d-4239-4f41-be65-20cf9d0ee2e7 name="World of Test Story" tenant_id=a201726d-1424-4637-a749-bb6d83d4ba34
time=2026-01-04T14:09:43.875-03:00 level=INFO msg="created implicit world for story" world_id=bec0c75d-4239-4f41-be65-20cf9d0ee2e7 story_title="Test Story"
time=2026-01-04T14:09:43.876-03:00 level=INFO msg="story created" story_id=053ef286-2aca-4917-9ffe-d3d20830e908 title="Test Story" tenant_id=a201726d-1424-4637-a749-bb6d83d4ba34
time=2026-01-04T14:09:43.876-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:43.877-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:09:43.878-03:00 level=INFO msg="scene created" scene_id=ed40b5a0-a6a4-4d96-956e-4be246bc79e9 story_id=053ef286-2aca-4917-9ffe-d3d20830e908 tenant_id=a201726d-1424-4637-a749-bb6d83d4ba34
time=2026-01-04T14:09:43.878-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_ListBeatsByScene/list_beats_by_scene
time=2026-01-04T14:09:43.878-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:43.879-03:00 level=INFO msg="beat created" beat_id=db9d2fb5-1324-456c-8b10-4131077d2acd scene_id=ed40b5a0-a6a4-4d96-956e-4be246bc79e9 tenant_id=a201726d-1424-4637-a749-bb6d83d4ba34
time=2026-01-04T14:09:43.879-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-04T14:09:43.880-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:43.880-03:00 level=INFO msg="beat created" beat_id=55e4bd7a-1a33-4a56-b814-1a35347d4884 scene_id=ed40b5a0-a6a4-4d96-956e-4be246bc79e9 tenant_id=a201726d-1424-4637-a749-bb6d83d4ba34
time=2026-01-04T14:09:43.880-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-04T14:09:43.880-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:43.881-03:00 level=INFO msg="beat created" beat_id=bdd49dad-762b-4b1b-8c61-8ba4e39fec94 scene_id=ed40b5a0-a6a4-4d96-956e-4be246bc79e9 tenant_id=a201726d-1424-4637-a749-bb6d83d4ba34
time=2026-01-04T14:09:43.881-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-04T14:09:43.881-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/ListBeatsByScene
time=2026-01-04T14:09:43.881-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/ListBeatsByScene duration_ms=0
time=2026-01-04T14:09:43.882-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_ListBeatsByScene (0.24s)
    --- PASS: TestBeatHandler_ListBeatsByScene/list_beats_by_scene (0.00s)
=== RUN   TestBeatHandler_DeleteBeat
time=2026-01-04T14:09:44.237-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:44.237-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:44.237-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:44.237-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:44.237-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:44.237-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:44.237-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:44.238-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:44.257-03:00 level=INFO msg="tenant created" tenant_id=c6d76a74-ba71-4004-b517-117a5548ae3b name="Test Tenant for Delete Beat"
time=2026-01-04T14:09:44.257-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=18
time=2026-01-04T14:09:44.257-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:44.268-03:00 level=INFO msg="world created" world_id=90179748-f5c4-412d-81ee-d71e2eb77124 name="World of Test Story" tenant_id=c6d76a74-ba71-4004-b517-117a5548ae3b
time=2026-01-04T14:09:44.268-03:00 level=INFO msg="created implicit world for story" world_id=90179748-f5c4-412d-81ee-d71e2eb77124 story_title="Test Story"
time=2026-01-04T14:09:44.270-03:00 level=INFO msg="story created" story_id=9ea5fb16-3509-435b-ab49-c3a8ac6c66bf title="Test Story" tenant_id=c6d76a74-ba71-4004-b517-117a5548ae3b
time=2026-01-04T14:09:44.270-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=12
time=2026-01-04T14:09:44.270-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:09:44.272-03:00 level=INFO msg="scene created" scene_id=5c87442b-1ec2-4296-85d2-9ee285992875 story_id=9ea5fb16-3509-435b-ab49-c3a8ac6c66bf tenant_id=c6d76a74-ba71-4004-b517-117a5548ae3b
time=2026-01-04T14:09:44.272-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_DeleteBeat/successful_delete
time=2026-01-04T14:09:44.276-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-04T14:09:44.355-03:00 level=INFO msg="beat created" beat_id=bf5e930e-fa43-48ec-a835-fad9d5e820f4 scene_id=5c87442b-1ec2-4296-85d2-9ee285992875 tenant_id=c6d76a74-ba71-4004-b517-117a5548ae3b
time=2026-01-04T14:09:44.355-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=78
time=2026-01-04T14:09:44.355-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/DeleteBeat
time=2026-01-04T14:09:44.362-03:00 level=INFO msg="beat deleted" beat_id=bf5e930e-fa43-48ec-a835-fad9d5e820f4 tenant_id=c6d76a74-ba71-4004-b517-117a5548ae3b
time=2026-01-04T14:09:44.362-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/DeleteBeat duration_ms=6
time=2026-01-04T14:09:44.363-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_DeleteBeat (1.01s)
    --- PASS: TestBeatHandler_DeleteBeat/successful_delete (0.09s)
=== RUN   TestChapterHandler_CreateChapter
time=2026-01-04T14:09:46.173-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:46.173-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:46.173-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:46.173-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:46.173-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:46.173-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:46.173-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:46.175-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:46.178-03:00 level=INFO msg="tenant created" tenant_id=63009ca5-ad66-42d8-b251-458c0c092e3c name="Test Tenant for Chapter"
time=2026-01-04T14:09:46.178-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:46.178-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:46.179-03:00 level=INFO msg="world created" world_id=52367921-ffe3-4d4c-ae7d-3ed7476f05e1 name="World of Test Story for Chapter" tenant_id=63009ca5-ad66-42d8-b251-458c0c092e3c
time=2026-01-04T14:09:46.179-03:00 level=INFO msg="created implicit world for story" world_id=52367921-ffe3-4d4c-ae7d-3ed7476f05e1 story_title="Test Story for Chapter"
time=2026-01-04T14:09:46.181-03:00 level=INFO msg="story created" story_id=d51cbf47-5ea8-4335-8237-19e3e78f8c94 title="Test Story for Chapter" tenant_id=63009ca5-ad66-42d8-b251-458c0c092e3c
time=2026-01-04T14:09:46.181-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_CreateChapter/successful_creation
time=2026-01-04T14:09:46.181-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:46.182-03:00 level=INFO msg="chapter created" chapter_id=1649eb6b-fc38-471e-9a83-ca7b675fed4f story_id=d51cbf47-5ea8-4335-8237-19e3e78f8c94 tenant_id=63009ca5-ad66-42d8-b251-458c0c092e3c
time=2026-01-04T14:09:46.182-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestChapterHandler_CreateChapter/invalid_story_id
time=2026-01-04T14:09:46.183-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:46.183-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = NotFound desc = story not found: 4abfd791-cfe4-4329-9362-f0191f6216a2"
=== RUN   TestChapterHandler_CreateChapter/invalid_number
time=2026-01-04T14:09:46.183-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:46.183-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on number: must be greater than 0"
=== RUN   TestChapterHandler_CreateChapter/empty_title
time=2026-01-04T14:09:46.184-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:46.184-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on title: title is required"
time=2026-01-04T14:09:46.184-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_CreateChapter (1.31s)
    --- PASS: TestChapterHandler_CreateChapter/successful_creation (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_story_id (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_number (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/empty_title (0.00s)
=== RUN   TestChapterHandler_GetChapter
time=2026-01-04T14:09:46.421-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:46.421-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:46.421-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:46.421-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:46.421-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:46.421-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:46.421-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:46.422-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:46.424-03:00 level=INFO msg="tenant created" tenant_id=66f3a628-d7fb-4d25-a1e4-69dd719c03b7 name="Test Tenant for Get Chapter"
time=2026-01-04T14:09:46.424-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:46.424-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:46.426-03:00 level=INFO msg="world created" world_id=7f08f9bd-93db-4c18-873a-06ebc7c80a9b name="World of Test Story" tenant_id=66f3a628-d7fb-4d25-a1e4-69dd719c03b7
time=2026-01-04T14:09:46.426-03:00 level=INFO msg="created implicit world for story" world_id=7f08f9bd-93db-4c18-873a-06ebc7c80a9b story_title="Test Story"
time=2026-01-04T14:09:46.428-03:00 level=INFO msg="story created" story_id=30143861-422d-4cd6-bff3-cc0b3d3de914 title="Test Story" tenant_id=66f3a628-d7fb-4d25-a1e4-69dd719c03b7
time=2026-01-04T14:09:46.428-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestChapterHandler_GetChapter/existing_chapter
time=2026-01-04T14:09:46.428-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:46.429-03:00 level=INFO msg="chapter created" chapter_id=dea6e543-08af-4a4c-b8e1-a0695f9fd695 story_id=30143861-422d-4cd6-bff3-cc0b3d3de914 tenant_id=66f3a628-d7fb-4d25-a1e4-69dd719c03b7
time=2026-01-04T14:09:46.429-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-04T14:09:46.430-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-04T14:09:46.430-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/GetChapter duration_ms=0
=== RUN   TestChapterHandler_GetChapter/non-existing_chapter
time=2026-01-04T14:09:46.430-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-04T14:09:46.431-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 68ad9588-b21e-4cbd-bc77-8074f6cbd9cb" chapter_id=68ad9588-b21e-4cbd-bc77-8074f6cbd9cb tenant_id=66f3a628-d7fb-4d25-a1e4-69dd719c03b7
time=2026-01-04T14:09:46.431-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 68ad9588-b21e-4cbd-bc77-8074f6cbd9cb"
=== RUN   TestChapterHandler_GetChapter/invalid_ID
time=2026-01-04T14:09:46.431-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-04T14:09:46.431-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid id: invalid UUID length: 10"
time=2026-01-04T14:09:46.431-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_GetChapter (0.25s)
    --- PASS: TestChapterHandler_GetChapter/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/non-existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/invalid_ID (0.00s)
=== RUN   TestChapterHandler_UpdateChapter
time=2026-01-04T14:09:46.809-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:46.809-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:46.809-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:46.809-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:46.809-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:46.809-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:46.809-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:46.810-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:46.813-03:00 level=INFO msg="tenant created" tenant_id=4ed76daf-e069-4116-b965-c6684ebd8aad name="Test Tenant for Update Chapter"
time=2026-01-04T14:09:46.813-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:46.813-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:46.815-03:00 level=INFO msg="world created" world_id=c462ffce-840f-4a40-8dcf-af9ca31d54d0 name="World of Test Story" tenant_id=4ed76daf-e069-4116-b965-c6684ebd8aad
time=2026-01-04T14:09:46.815-03:00 level=INFO msg="created implicit world for story" world_id=c462ffce-840f-4a40-8dcf-af9ca31d54d0 story_title="Test Story"
time=2026-01-04T14:09:46.817-03:00 level=INFO msg="story created" story_id=b5e14939-919b-4a8e-84ce-493b0afe6bd2 title="Test Story" tenant_id=4ed76daf-e069-4116-b965-c6684ebd8aad
time=2026-01-04T14:09:46.817-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestChapterHandler_UpdateChapter/successful_update
time=2026-01-04T14:09:46.817-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:46.819-03:00 level=INFO msg="chapter created" chapter_id=604e51ea-a542-4ebc-930c-9e03a6b1927e story_id=b5e14939-919b-4a8e-84ce-493b0afe6bd2 tenant_id=4ed76daf-e069-4116-b965-c6684ebd8aad
time=2026-01-04T14:09:46.819-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-04T14:09:46.819-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-04T14:09:46.820-03:00 level=INFO msg="chapter updated" chapter_id=604e51ea-a542-4ebc-930c-9e03a6b1927e tenant_id=4ed76daf-e069-4116-b965-c6684ebd8aad
time=2026-01-04T14:09:46.820-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/UpdateChapter duration_ms=0
=== RUN   TestChapterHandler_UpdateChapter/non-existing_chapter
time=2026-01-04T14:09:46.820-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-04T14:09:46.820-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/UpdateChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 595c8421-0195-4187-b7a6-cdead384917d"
time=2026-01-04T14:09:46.820-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_UpdateChapter (0.41s)
    --- PASS: TestChapterHandler_UpdateChapter/successful_update (0.00s)
    --- PASS: TestChapterHandler_UpdateChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_DeleteChapter
time=2026-01-04T14:09:47.207-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:47.207-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:47.207-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:47.207-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:47.207-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:47.207-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:47.207-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:47.208-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:47.211-03:00 level=INFO msg="tenant created" tenant_id=dc5283e3-eb81-4736-a90e-3e26b4d460a7 name="Test Tenant for Delete Chapter"
time=2026-01-04T14:09:47.211-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:47.211-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:47.213-03:00 level=INFO msg="world created" world_id=a1d9af62-9e39-472f-ab85-f5a7edf0ec92 name="World of Test Story" tenant_id=dc5283e3-eb81-4736-a90e-3e26b4d460a7
time=2026-01-04T14:09:47.213-03:00 level=INFO msg="created implicit world for story" world_id=a1d9af62-9e39-472f-ab85-f5a7edf0ec92 story_title="Test Story"
time=2026-01-04T14:09:47.217-03:00 level=INFO msg="story created" story_id=19305a6c-09aa-483c-b8f5-b22e64c0c0a7 title="Test Story" tenant_id=dc5283e3-eb81-4736-a90e-3e26b4d460a7
time=2026-01-04T14:09:47.217-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=5
=== RUN   TestChapterHandler_DeleteChapter/successful_delete
time=2026-01-04T14:09:47.218-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:47.220-03:00 level=INFO msg="chapter created" chapter_id=5f0c77a3-8293-4db8-939a-ba549371e221 story_id=19305a6c-09aa-483c-b8f5-b22e64c0c0a7 tenant_id=dc5283e3-eb81-4736-a90e-3e26b4d460a7
time=2026-01-04T14:09:47.220-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-04T14:09:47.220-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-04T14:09:47.222-03:00 level=INFO msg="chapter deleted" chapter_id=5f0c77a3-8293-4db8-939a-ba549371e221 tenant_id=dc5283e3-eb81-4736-a90e-3e26b4d460a7
time=2026-01-04T14:09:47.222-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/DeleteChapter duration_ms=1
time=2026-01-04T14:09:47.222-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-04T14:09:47.222-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 5f0c77a3-8293-4db8-939a-ba549371e221" chapter_id=5f0c77a3-8293-4db8-939a-ba549371e221 tenant_id=dc5283e3-eb81-4736-a90e-3e26b4d460a7
time=2026-01-04T14:09:47.222-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 5f0c77a3-8293-4db8-939a-ba549371e221"
=== RUN   TestChapterHandler_DeleteChapter/non-existing_chapter
time=2026-01-04T14:09:47.223-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-04T14:09:47.223-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/DeleteChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: d06a9663-0223-4c5f-b424-516540256c2c"
time=2026-01-04T14:09:47.223-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_DeleteChapter (0.39s)
    --- PASS: TestChapterHandler_DeleteChapter/successful_delete (0.00s)
    --- PASS: TestChapterHandler_DeleteChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_ListChaptersByStory
time=2026-01-04T14:09:47.513-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:47.513-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:47.513-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:47.513-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:47.513-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:47.513-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:47.513-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:47.515-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:47.517-03:00 level=INFO msg="tenant created" tenant_id=07ac3b7b-d89d-4c66-b464-2eb2a43431bb name="Test Tenant for List Chapters"
time=2026-01-04T14:09:47.517-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:47.517-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:47.519-03:00 level=INFO msg="world created" world_id=d686759c-b86f-4dc8-b7f9-97274211f141 name="World of Test Story" tenant_id=07ac3b7b-d89d-4c66-b464-2eb2a43431bb
time=2026-01-04T14:09:47.519-03:00 level=INFO msg="created implicit world for story" world_id=d686759c-b86f-4dc8-b7f9-97274211f141 story_title="Test Story"
time=2026-01-04T14:09:47.521-03:00 level=INFO msg="story created" story_id=371dda62-1bb4-4a29-b85a-5f47d2f384e5 title="Test Story" tenant_id=07ac3b7b-d89d-4c66-b464-2eb2a43431bb
time=2026-01-04T14:09:47.521-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestChapterHandler_ListChaptersByStory/list_chapters
time=2026-01-04T14:09:47.521-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:47.522-03:00 level=INFO msg="chapter created" chapter_id=e82a7dd5-cf81-401c-b57c-ac2f24d33531 story_id=371dda62-1bb4-4a29-b85a-5f47d2f384e5 tenant_id=07ac3b7b-d89d-4c66-b464-2eb2a43431bb
time=2026-01-04T14:09:47.522-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-04T14:09:47.522-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:47.523-03:00 level=INFO msg="chapter created" chapter_id=1c7b9499-c6d5-45ac-a751-5cd5758cc815 story_id=371dda62-1bb4-4a29-b85a-5f47d2f384e5 tenant_id=07ac3b7b-d89d-4c66-b464-2eb2a43431bb
time=2026-01-04T14:09:47.523-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-04T14:09:47.523-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:47.523-03:00 level=INFO msg="chapter created" chapter_id=ddb81542-e61d-4720-bc0e-56e21f2c8d3d story_id=371dda62-1bb4-4a29-b85a-5f47d2f384e5 tenant_id=07ac3b7b-d89d-4c66-b464-2eb2a43431bb
time=2026-01-04T14:09:47.524-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-04T14:09:47.524-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-04T14:09:47.524-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
=== RUN   TestChapterHandler_ListChaptersByStory/empty_list_for_new_story
time=2026-01-04T14:09:47.525-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:47.526-03:00 level=INFO msg="world created" world_id=2df182ea-08dd-4f36-a674-0a8aeae918fc name="World of Empty Story" tenant_id=07ac3b7b-d89d-4c66-b464-2eb2a43431bb
time=2026-01-04T14:09:47.526-03:00 level=INFO msg="created implicit world for story" world_id=2df182ea-08dd-4f36-a674-0a8aeae918fc story_title="Empty Story"
time=2026-01-04T14:09:47.526-03:00 level=INFO msg="story created" story_id=8bd0fc41-668f-4181-a75a-128aac31872a title="Empty Story" tenant_id=07ac3b7b-d89d-4c66-b464-2eb2a43431bb
time=2026-01-04T14:09:47.526-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-04T14:09:47.526-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-04T14:09:47.527-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
time=2026-01-04T14:09:47.527-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_ListChaptersByStory (0.31s)
    --- PASS: TestChapterHandler_ListChaptersByStory/list_chapters (0.00s)
    --- PASS: TestChapterHandler_ListChaptersByStory/empty_list_for_new_story (0.00s)
=== RUN   TestCharacterHandler_CreateCharacter
time=2026-01-04T14:09:47.840-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:47.840-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:47.840-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_CreateCharacter/successful_creation
time=2026-01-04T14:09:47.840-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:47.842-03:00 level=INFO msg="tenant created" tenant_id=d48ed76e-1c18-4ee0-a6b7-488595d1be23 name="Test Tenant for Character"
time=2026-01-04T14:09:47.842-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:47.843-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:47.844-03:00 level=INFO msg="world created" world_id=2dd8776f-7aa6-4655-aa5d-e8c0ffe47e6f name="Test World" tenant_id=d48ed76e-1c18-4ee0-a6b7-488595d1be23
time=2026-01-04T14:09:47.844-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:47.845-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:47.846-03:00 level=INFO msg="character created" character_id=b124a3b8-5339-4e3b-97d9-61e39452a386 name="Test Character"
time=2026-01-04T14:09:47.846-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestCharacterHandler_CreateCharacter/empty_name
time=2026-01-04T14:09:47.847-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:47.847-03:00 level=INFO msg="tenant created" tenant_id=3ec37a0a-6b04-48fb-b02f-84cd65c01ac6 name="Test Tenant 2"
time=2026-01-04T14:09:47.847-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:47.848-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:47.849-03:00 level=INFO msg="world created" world_id=4c8ca879-274c-4fde-b82f-4febe1c18312 name="Test World 2" tenant_id=3ec37a0a-6b04-48fb-b02f-84cd65c01ac6
time=2026-01-04T14:09:47.849-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:47.849-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:47.849-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacter duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-04T14:09:47.849-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_CreateCharacter (0.32s)
    --- PASS: TestCharacterHandler_CreateCharacter/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacter/empty_name (0.00s)
=== RUN   TestCharacterHandler_GetCharacter
time=2026-01-04T14:09:48.155-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:48.155-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:48.155-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacter/existing_character
time=2026-01-04T14:09:48.156-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:48.158-03:00 level=INFO msg="tenant created" tenant_id=ec677f5c-7162-4a76-bf62-f3324124b517 name="Get Test Tenant"
time=2026-01-04T14:09:48.158-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:48.159-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:48.160-03:00 level=INFO msg="world created" world_id=d8f3f31d-6edc-48a0-ac57-323ead62f199 name="Get Test World" tenant_id=ec677f5c-7162-4a76-bf62-f3324124b517
time=2026-01-04T14:09:48.160-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:48.160-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:48.163-03:00 level=INFO msg="character created" character_id=9ba68e6e-952f-4ebf-ad94-8beb2f829f3a name="Get Test Character"
time=2026-01-04T14:09:48.163-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-04T14:09:48.163-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-04T14:09:48.163-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacter duration_ms=0
=== RUN   TestCharacterHandler_GetCharacter/non-existing_character
time=2026-01-04T14:09:48.164-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:48.164-03:00 level=INFO msg="tenant created" tenant_id=f6abea95-cf65-4ff2-87ac-12d5b7c63f20 name="Non-existing Test Tenant"
time=2026-01-04T14:09:48.164-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:48.164-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-04T14:09:48.165-03:00 level=ERROR msg="failed to get character" error="character not found: a5680529-65c2-40da-8aa2-15087375c4ff" character_id=a5680529-65c2-40da-8aa2-15087375c4ff
time=2026-01-04T14:09:48.165-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: a5680529-65c2-40da-8aa2-15087375c4ff"
time=2026-01-04T14:09:48.165-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacter (0.31s)
    --- PASS: TestCharacterHandler_GetCharacter/existing_character (0.01s)
    --- PASS: TestCharacterHandler_GetCharacter/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListCharacters
time=2026-01-04T14:09:48.424-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:48.424-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:48.424-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_ListCharacters/list_characters
time=2026-01-04T14:09:48.425-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:48.427-03:00 level=INFO msg="tenant created" tenant_id=f929bdd0-5ad3-436c-936a-6a64948e4a12 name="List Test Tenant"
time=2026-01-04T14:09:48.427-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:48.427-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:48.429-03:00 level=INFO msg="world created" world_id=4dc42d37-e276-4d23-9775-70475d56ce04 name="List Test World" tenant_id=f929bdd0-5ad3-436c-936a-6a64948e4a12
time=2026-01-04T14:09:48.429-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:48.429-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:48.431-03:00 level=INFO msg="character created" character_id=e69f8798-7999-492d-af17-6763da03f69e name="Character 1"
time=2026-01-04T14:09:48.431-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-04T14:09:48.431-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:48.431-03:00 level=INFO msg="character created" character_id=f324d6bd-0833-4e7c-b3fe-9df1dd1c2b64 name="Character 2"
time=2026-01-04T14:09:48.431-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-04T14:09:48.432-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacters
time=2026-01-04T14:09:48.432-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacters duration_ms=0
time=2026-01-04T14:09:48.433-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_ListCharacters (0.26s)
    --- PASS: TestCharacterHandler_ListCharacters/list_characters (0.01s)
=== RUN   TestCharacterHandler_UpdateCharacter
time=2026-01-04T14:09:48.658-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:48.658-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:48.658-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_UpdateCharacter/update_character
time=2026-01-04T14:09:48.659-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:48.662-03:00 level=INFO msg="tenant created" tenant_id=32f1b270-9849-4eb8-a4d7-1b27b1c4a594 name="Update Test Tenant"
time=2026-01-04T14:09:48.662-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:48.663-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:48.664-03:00 level=INFO msg="world created" world_id=901569dd-f2cf-4ea6-8ae0-13cda153edb6 name="Update Test World" tenant_id=32f1b270-9849-4eb8-a4d7-1b27b1c4a594
time=2026-01-04T14:09:48.664-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:48.664-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:48.666-03:00 level=INFO msg="character created" character_id=be360acd-79dc-4dca-906f-c09e4ea36dcc name="Original Character"
time=2026-01-04T14:09:48.666-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-04T14:09:48.666-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacter
time=2026-01-04T14:09:48.668-03:00 level=INFO msg="character updated" character_id=be360acd-79dc-4dca-906f-c09e4ea36dcc name="Updated Character"
time=2026-01-04T14:09:48.668-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacter duration_ms=1
time=2026-01-04T14:09:48.668-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_UpdateCharacter (0.27s)
    --- PASS: TestCharacterHandler_UpdateCharacter/update_character (0.01s)
=== RUN   TestCharacterHandler_DeleteCharacter
time=2026-01-04T14:09:48.955-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:48.955-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:48.955-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_DeleteCharacter/delete_character
time=2026-01-04T14:09:48.956-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:48.958-03:00 level=INFO msg="tenant created" tenant_id=d878fc3f-d94f-454e-ba3d-18184b09e7d5 name="Delete Test Tenant"
time=2026-01-04T14:09:48.958-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:48.959-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:48.960-03:00 level=INFO msg="world created" world_id=437961fa-5341-4410-b840-4512d3fad64e name="Delete Test World" tenant_id=d878fc3f-d94f-454e-ba3d-18184b09e7d5
time=2026-01-04T14:09:48.960-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:48.960-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:48.962-03:00 level=INFO msg="character created" character_id=fd88dd16-61b3-49c6-b830-ffae347ed3fd name="Character to Delete"
time=2026-01-04T14:09:48.962-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-04T14:09:48.963-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/DeleteCharacter
time=2026-01-04T14:09:48.965-03:00 level=INFO msg="character deleted" character_id=fd88dd16-61b3-49c6-b830-ffae347ed3fd name="Character to Delete"
time=2026-01-04T14:09:48.965-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/DeleteCharacter duration_ms=2
time=2026-01-04T14:09:48.966-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-04T14:09:48.966-03:00 level=ERROR msg="failed to get character" error="character not found: fd88dd16-61b3-49c6-b830-ffae347ed3fd" character_id=fd88dd16-61b3-49c6-b830-ffae347ed3fd
time=2026-01-04T14:09:48.966-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: fd88dd16-61b3-49c6-b830-ffae347ed3fd"
time=2026-01-04T14:09:48.966-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_DeleteCharacter (0.41s)
    --- PASS: TestCharacterHandler_DeleteCharacter/delete_character (0.01s)
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats
time=2026-01-04T14:09:49.314-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:49.314-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:49.314-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:09:49.314-03:00 level=INFO msg="CharacterRPGStatsService registered"
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation
time=2026-01-04T14:09:49.315-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:49.319-03:00 level=INFO msg="tenant created" tenant_id=62e91e7d-f8ad-411a-8fce-91ca37eb21b2 name="Test Tenant for Character Stats"
time=2026-01-04T14:09:49.319-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:49.319-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:49.320-03:00 level=INFO msg="world created" world_id=7395c189-e7e8-410c-b5cb-775e8bc0f34d name="Test World" tenant_id=62e91e7d-f8ad-411a-8fce-91ca37eb21b2
time=2026-01-04T14:09:49.320-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:49.321-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:49.323-03:00 level=INFO msg="character created" character_id=1d67c983-fe4c-4702-b07b-d9c393669a30 name="Test Character"
time=2026-01-04T14:09:49.323-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-04T14:09:49.323-03:00 level=INFO msg="gRPC request started" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats
time=2026-01-04T14:09:49.329-03:00 level=INFO msg="character RPG stats created" character_id=1d67c983-fe4c-4702-b07b-d9c393669a30 version=1
time=2026-01-04T14:09:49.329-03:00 level=INFO msg="gRPC request completed" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats duration_ms=6
time=2026-01-04T14:09:49.330-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats (0.26s)
    --- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation (0.01s)
=== RUN   TestCharacterSkillHandler_AddCharacterSkill
time=2026-01-04T14:09:49.632-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:49.632-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:49.632-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:09:49.632-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:49.632-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:09:49.632-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill
time=2026-01-04T14:09:49.633-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:49.636-03:00 level=INFO msg="tenant created" tenant_id=d7b55324-6021-4d39-9621-7523faa8f7be name="Test Tenant for Character Skill"
time=2026-01-04T14:09:49.636-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:49.636-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:49.637-03:00 level=INFO msg="world created" world_id=823a9ebe-0506-44eb-9ebf-630f0f514de4 name="Test World" tenant_id=d7b55324-6021-4d39-9621-7523faa8f7be
time=2026-01-04T14:09:49.637-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:49.637-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:49.642-03:00 level=INFO msg="character created" character_id=d949f867-f916-48e6-98bd-410c7a664b29 name="Test Character"
time=2026-01-04T14:09:49.642-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=4
time=2026-01-04T14:09:49.642-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:49.644-03:00 level=INFO msg="RPG system created" rpg_system_id=dabc0f75-823e-4595-9c5b-4f69a6d3ac82 name="Test System"
time=2026-01-04T14:09:49.644-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=2
time=2026-01-04T14:09:49.644-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:09:49.646-03:00 level=INFO msg="skill created" skill_id=b5c36d2d-9d2d-461a-8bba-8e97ff6f3818 name=Fireball
time=2026-01-04T14:09:49.646-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-04T14:09:49.646-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-04T14:09:49.648-03:00 level=INFO msg="character learned skill" character_id=d949f867-f916-48e6-98bd-410c7a664b29 skill_id=b5c36d2d-9d2d-461a-8bba-8e97ff6f3818
time=2026-01-04T14:09:49.648-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-04T14:09:49.648-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_AddCharacterSkill (0.28s)
    --- PASS: TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill (0.02s)
=== RUN   TestCharacterSkillHandler_ListCharacterSkills
time=2026-01-04T14:09:49.879-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:49.879-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:49.879-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:09:49.879-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:49.879-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:09:49.879-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_ListCharacterSkills/list_character_skills
time=2026-01-04T14:09:49.880-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:49.883-03:00 level=INFO msg="tenant created" tenant_id=db63e77b-8b59-4f6b-99fb-86a39a716f2e name="List Test Tenant"
time=2026-01-04T14:09:49.883-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:49.883-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:49.884-03:00 level=INFO msg="world created" world_id=1c56c7b1-a781-4f43-b77b-220d164b3cbc name="List Test World" tenant_id=db63e77b-8b59-4f6b-99fb-86a39a716f2e
time=2026-01-04T14:09:49.884-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:49.884-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:49.886-03:00 level=INFO msg="character created" character_id=434b13ce-c00d-44a4-9144-f3ed849c15ea name="List Test Character"
time=2026-01-04T14:09:49.886-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-04T14:09:49.886-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:49.887-03:00 level=INFO msg="RPG system created" rpg_system_id=80508624-1065-450c-b264-9d5e452f427e name="List Test System"
time=2026-01-04T14:09:49.887-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-04T14:09:49.887-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:09:49.889-03:00 level=INFO msg="skill created" skill_id=a176b8e6-40e3-4429-83a1-e3fbf029317b name="List Test Skill"
time=2026-01-04T14:09:49.889-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-04T14:09:49.889-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-04T14:09:49.891-03:00 level=INFO msg="character learned skill" character_id=434b13ce-c00d-44a4-9144-f3ed849c15ea skill_id=a176b8e6-40e3-4429-83a1-e3fbf029317b
time=2026-01-04T14:09:49.891-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-04T14:09:49.891-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-04T14:09:49.892-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
time=2026-01-04T14:09:49.892-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_ListCharacterSkills (0.26s)
    --- PASS: TestCharacterSkillHandler_ListCharacterSkills/list_character_skills (0.01s)
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill
time=2026-01-04T14:09:50.193-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:50.193-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:50.193-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:09:50.193-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:50.193-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:09:50.193-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-04T14:09:50.194-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:50.196-03:00 level=INFO msg="tenant created" tenant_id=664cd1b4-e38d-479c-a659-d183c2586618 name="Update Skill Test Tenant"
time=2026-01-04T14:09:50.196-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:50.197-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:50.198-03:00 level=INFO msg="world created" world_id=ae82b835-4b4e-48e8-af5a-775656872458 name="Test World" tenant_id=664cd1b4-e38d-479c-a659-d183c2586618
time=2026-01-04T14:09:50.198-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:50.198-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:50.200-03:00 level=INFO msg="character created" character_id=68db2055-a0a7-4daa-93ae-8418d3e4d9f5 name="Test Character"
time=2026-01-04T14:09:50.200-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-04T14:09:50.200-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:50.201-03:00 level=INFO msg="RPG system created" rpg_system_id=9d0b1c7d-d3c5-4a4c-8fb4-72b7abcaedfd name="Test System"
time=2026-01-04T14:09:50.201-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:09:50.202-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:09:50.206-03:00 level=INFO msg="skill created" skill_id=8f8e6c96-c3b7-40ef-b3fa-1f67124b2f6b name=Fireball
time=2026-01-04T14:09:50.206-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=4
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/successful_update
time=2026-01-04T14:09:50.206-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-04T14:09:50.208-03:00 level=INFO msg="character learned skill" character_id=68db2055-a0a7-4daa-93ae-8418d3e4d9f5 skill_id=8f8e6c96-c3b7-40ef-b3fa-1f67124b2f6b
time=2026-01-04T14:09:50.208-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-04T14:09:50.208-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-04T14:09:50.210-03:00 level=INFO msg="character skill updated" id=4f24ddaa-eb87-468e-8d34-2732e25ff263 character_id=68db2055-a0a7-4daa-93ae-8418d3e4d9f5
time=2026-01-04T14:09:50.210-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill
time=2026-01-04T14:09:50.210-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-04T14:09:50.210-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: 1a5b8a39-c0cb-462c-ae7f-4e5e5e24c0b8"
time=2026-01-04T14:09:50.210-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_UpdateCharacterSkill (0.37s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/successful_update (0.00s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill (0.00s)
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill
time=2026-01-04T14:09:50.621-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:50.621-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:50.621-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:09:50.621-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:50.621-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:09:50.621-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-04T14:09:50.621-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:50.624-03:00 level=INFO msg="tenant created" tenant_id=a754b382-7d3c-4b29-98a2-1aadb8adb52c name="Delete Skill Test Tenant"
time=2026-01-04T14:09:50.624-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:50.624-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:50.631-03:00 level=INFO msg="world created" world_id=d5c4c212-1c2e-467c-85e8-231dfc589d9c name="Test World" tenant_id=a754b382-7d3c-4b29-98a2-1aadb8adb52c
time=2026-01-04T14:09:50.631-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=7
time=2026-01-04T14:09:50.632-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:50.634-03:00 level=INFO msg="character created" character_id=2206894a-15ea-4684-9e39-cb03093d0c3c name="Test Character"
time=2026-01-04T14:09:50.634-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-04T14:09:50.634-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:50.635-03:00 level=INFO msg="RPG system created" rpg_system_id=6c641218-c48e-4ed3-a08d-adccf9c6de94 name="Test System"
time=2026-01-04T14:09:50.635-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:09:50.635-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:09:50.636-03:00 level=INFO msg="skill created" skill_id=b822a136-f683-4bf6-9c0b-4d3accf81a24 name=Fireball
time=2026-01-04T14:09:50.636-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete
time=2026-01-04T14:09:50.637-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-04T14:09:50.640-03:00 level=INFO msg="character learned skill" character_id=2206894a-15ea-4684-9e39-cb03093d0c3c skill_id=b822a136-f683-4bf6-9c0b-4d3accf81a24
time=2026-01-04T14:09:50.640-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-04T14:09:50.640-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-04T14:09:50.640-03:00 level=INFO msg="character skill deleted" id=a78f22fa-6d26-424a-a091-4167f8c2e0cf
time=2026-01-04T14:09:50.640-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0
time=2026-01-04T14:09:50.640-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-04T14:09:50.641-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill
time=2026-01-04T14:09:50.641-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-04T14:09:50.641-03:00 level=ERROR msg="failed to delete character skill" error="character_skill not found: e813966a-18a0-451e-a67d-96897305392c" id=e813966a-18a0-451e-a67d-96897305392c
time=2026-01-04T14:09:50.641-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: e813966a-18a0-451e-a67d-96897305392c"
time=2026-01-04T14:09:50.642-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_DeleteCharacterSkill (0.38s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete (0.00s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill (0.00s)
=== RUN   TestContentBlockHandler_CreateContentBlock
time=2026-01-04T14:09:50.981-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:50.981-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:50.981-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:50.982-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:50.982-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:50.982-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:50.982-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:50.982-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:50.996-03:00 level=INFO msg="tenant created" tenant_id=b568a7c1-49f0-45d8-9c49-681f9722be45 name="Test Tenant for ContentBlock"
time=2026-01-04T14:09:50.996-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=13
time=2026-01-04T14:09:50.996-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:50.999-03:00 level=INFO msg="world created" world_id=273c17db-e3df-4020-b303-c00a3807117b name="World of Test Story" tenant_id=b568a7c1-49f0-45d8-9c49-681f9722be45
time=2026-01-04T14:09:50.999-03:00 level=INFO msg="created implicit world for story" world_id=273c17db-e3df-4020-b303-c00a3807117b story_title="Test Story"
time=2026-01-04T14:09:51.000-03:00 level=INFO msg="story created" story_id=a9f29459-6d2d-4280-a5b6-42430aae81d7 title="Test Story" tenant_id=b568a7c1-49f0-45d8-9c49-681f9722be45
time=2026-01-04T14:09:51.000-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
time=2026-01-04T14:09:51.001-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:51.002-03:00 level=INFO msg="chapter created" chapter_id=c0b87c8a-9119-4cf0-b563-356680af0efb story_id=a9f29459-6d2d-4280-a5b6-42430aae81d7 tenant_id=b568a7c1-49f0-45d8-9c49-681f9722be45
time=2026-01-04T14:09:51.002-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/successful_creation
time=2026-01-04T14:09:51.002-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:51.006-03:00 level=INFO msg="content block created" content_block_id=62396638-6398-4519-8e86-ff9d7bc7218f tenant_id=b568a7c1-49f0-45d8-9c49-681f9722be45
time=2026-01-04T14:09:51.006-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=4
=== RUN   TestContentBlockHandler_CreateContentBlock/default_kind
time=2026-01-04T14:09:51.007-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:51.008-03:00 level=INFO msg="content block created" content_block_id=00242964-8d24-441e-8cac-28db58e332a8 tenant_id=b568a7c1-49f0-45d8-9c49-681f9722be45
time=2026-01-04T14:09:51.008-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_chapter_id
time=2026-01-04T14:09:51.008-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:51.009-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 0ce41ca7-ef90-4837-90cd-f8fb3d51d923"
=== RUN   TestContentBlockHandler_CreateContentBlock/empty_content
time=2026-01-04T14:09:51.009-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:51.009-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on content: content is required"
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_order_num
time=2026-01-04T14:09:51.009-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:51.009-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-04T14:09:51.009-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_CreateContentBlock (0.37s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/default_kind (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_chapter_id (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/empty_content (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_order_num (0.00s)
=== RUN   TestContentBlockHandler_GetContentBlock
time=2026-01-04T14:09:51.382-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:51.382-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:51.382-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:51.382-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:51.382-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:51.382-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:51.382-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:51.385-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:51.388-03:00 level=INFO msg="tenant created" tenant_id=ec58501d-d5ed-4593-9368-da022b2fd0ae name="Test Tenant for Get ContentBlock"
time=2026-01-04T14:09:51.388-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:51.388-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:51.390-03:00 level=INFO msg="world created" world_id=039b5b1d-3e64-4bd6-bc72-69a189e7153f name="World of Test Story" tenant_id=ec58501d-d5ed-4593-9368-da022b2fd0ae
time=2026-01-04T14:09:51.390-03:00 level=INFO msg="created implicit world for story" world_id=039b5b1d-3e64-4bd6-bc72-69a189e7153f story_title="Test Story"
time=2026-01-04T14:09:51.391-03:00 level=INFO msg="story created" story_id=a5568984-40dd-4bf9-b9e8-dc148d63eba1 title="Test Story" tenant_id=ec58501d-d5ed-4593-9368-da022b2fd0ae
time=2026-01-04T14:09:51.391-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:51.391-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:51.392-03:00 level=INFO msg="chapter created" chapter_id=4cd51fa6-37aa-411b-a78a-500e9d967024 story_id=a5568984-40dd-4bf9-b9e8-dc148d63eba1 tenant_id=ec58501d-d5ed-4593-9368-da022b2fd0ae
time=2026-01-04T14:09:51.392-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_GetContentBlock/existing_content_block
time=2026-01-04T14:09:51.393-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:51.394-03:00 level=INFO msg="content block created" content_block_id=b74beb53-aff6-4298-87cf-0245ffdb1eb5 tenant_id=ec58501d-d5ed-4593-9368-da022b2fd0ae
time=2026-01-04T14:09:51.394-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-04T14:09:51.396-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-04T14:09:51.397-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=1
=== RUN   TestContentBlockHandler_GetContentBlock/non-existing_content_block
time=2026-01-04T14:09:51.398-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-04T14:09:51.398-03:00 level=ERROR msg="failed to get content block" error="content_block not found: e6b77a10-540e-4216-b400-55438e2202d0" content_block_id=e6b77a10-540e-4216-b400-55438e2202d0 tenant_id=ec58501d-d5ed-4593-9368-da022b2fd0ae
time=2026-01-04T14:09:51.398-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: e6b77a10-540e-4216-b400-55438e2202d0"
time=2026-01-04T14:09:51.398-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_GetContentBlock (0.36s)
    --- PASS: TestContentBlockHandler_GetContentBlock/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_GetContentBlock/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_UpdateContentBlock
time=2026-01-04T14:09:51.676-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:51.676-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:51.676-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:51.676-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:51.676-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:51.676-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:51.676-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:51.677-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:51.680-03:00 level=INFO msg="tenant created" tenant_id=0aa172d0-9a83-4f72-b6d9-885fadcd0126 name="Test Tenant for Update ContentBlock"
time=2026-01-04T14:09:51.680-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:51.680-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:51.681-03:00 level=INFO msg="world created" world_id=10d9a3ea-24f5-47a5-9f1d-2c79de66034d name="World of Test Story" tenant_id=0aa172d0-9a83-4f72-b6d9-885fadcd0126
time=2026-01-04T14:09:51.681-03:00 level=INFO msg="created implicit world for story" world_id=10d9a3ea-24f5-47a5-9f1d-2c79de66034d story_title="Test Story"
time=2026-01-04T14:09:51.683-03:00 level=INFO msg="story created" story_id=92ad0039-9967-4caf-8985-089fc7627452 title="Test Story" tenant_id=0aa172d0-9a83-4f72-b6d9-885fadcd0126
time=2026-01-04T14:09:51.683-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:51.683-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:51.684-03:00 level=INFO msg="chapter created" chapter_id=9458d1b7-3fa4-4e54-bf3b-063d1fd6a576 story_id=92ad0039-9967-4caf-8985-089fc7627452 tenant_id=0aa172d0-9a83-4f72-b6d9-885fadcd0126
time=2026-01-04T14:09:51.684-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_UpdateContentBlock/successful_update
time=2026-01-04T14:09:51.684-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:51.685-03:00 level=INFO msg="content block created" content_block_id=57254a5c-59b8-468b-8375-dfe779de0361 tenant_id=0aa172d0-9a83-4f72-b6d9-885fadcd0126
time=2026-01-04T14:09:51.685-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-04T14:09:51.686-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/UpdateContentBlock
time=2026-01-04T14:09:51.686-03:00 level=INFO msg="content block updated" content_block_id=57254a5c-59b8-468b-8375-dfe779de0361 tenant_id=0aa172d0-9a83-4f72-b6d9-885fadcd0126
time=2026-01-04T14:09:51.686-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/UpdateContentBlock duration_ms=0
time=2026-01-04T14:09:51.687-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_UpdateContentBlock (0.28s)
    --- PASS: TestContentBlockHandler_UpdateContentBlock/successful_update (0.00s)
=== RUN   TestContentBlockHandler_DeleteContentBlock
time=2026-01-04T14:09:51.958-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:51.958-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:51.958-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:51.958-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:51.958-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:51.958-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:51.958-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:51.959-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:51.961-03:00 level=INFO msg="tenant created" tenant_id=669b2392-788a-43db-a2ea-3e4f9bb1908a name="Test Tenant for Delete ContentBlock"
time=2026-01-04T14:09:51.961-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:51.961-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:51.963-03:00 level=INFO msg="world created" world_id=69c826c8-9622-471e-893f-b5f002b73196 name="World of Test Story" tenant_id=669b2392-788a-43db-a2ea-3e4f9bb1908a
time=2026-01-04T14:09:51.963-03:00 level=INFO msg="created implicit world for story" world_id=69c826c8-9622-471e-893f-b5f002b73196 story_title="Test Story"
time=2026-01-04T14:09:51.964-03:00 level=INFO msg="story created" story_id=190c1ab1-1911-46b4-bf70-811515c6b7e8 title="Test Story" tenant_id=669b2392-788a-43db-a2ea-3e4f9bb1908a
time=2026-01-04T14:09:51.964-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:51.964-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:51.965-03:00 level=INFO msg="chapter created" chapter_id=d0183b1f-5c59-4de1-a452-253c81732764 story_id=190c1ab1-1911-46b4-bf70-811515c6b7e8 tenant_id=669b2392-788a-43db-a2ea-3e4f9bb1908a
time=2026-01-04T14:09:51.965-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_DeleteContentBlock/successful_delete
time=2026-01-04T14:09:51.965-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:51.966-03:00 level=INFO msg="content block created" content_block_id=e1f81e57-2494-4351-bd3f-ac0d3da69d18 tenant_id=669b2392-788a-43db-a2ea-3e4f9bb1908a
time=2026-01-04T14:09:51.966-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-04T14:09:51.966-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/DeleteContentBlock
time=2026-01-04T14:09:51.967-03:00 level=INFO msg="content block deleted" content_block_id=e1f81e57-2494-4351-bd3f-ac0d3da69d18 tenant_id=669b2392-788a-43db-a2ea-3e4f9bb1908a
time=2026-01-04T14:09:51.967-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/DeleteContentBlock duration_ms=1
time=2026-01-04T14:09:51.967-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_DeleteContentBlock (0.28s)
    --- PASS: TestContentBlockHandler_DeleteContentBlock/successful_delete (0.00s)
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter
time=2026-01-04T14:09:52.230-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:52.230-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:52.230-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:52.230-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:52.230-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:52.230-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:52.230-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:52.230-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:52.233-03:00 level=INFO msg="tenant created" tenant_id=5b6b6c00-7dbb-4b5e-8bb4-d64645d7353a name="Test Tenant for List ContentBlocks"
time=2026-01-04T14:09:52.233-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:52.233-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:52.234-03:00 level=INFO msg="world created" world_id=95aaa9af-4074-4193-a125-8547fa221a48 name="World of Test Story" tenant_id=5b6b6c00-7dbb-4b5e-8bb4-d64645d7353a
time=2026-01-04T14:09:52.234-03:00 level=INFO msg="created implicit world for story" world_id=95aaa9af-4074-4193-a125-8547fa221a48 story_title="Test Story"
time=2026-01-04T14:09:52.235-03:00 level=INFO msg="story created" story_id=ad90447a-3abd-4a42-992c-97ded323a8ac title="Test Story" tenant_id=5b6b6c00-7dbb-4b5e-8bb4-d64645d7353a
time=2026-01-04T14:09:52.235-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:52.236-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:52.236-03:00 level=INFO msg="chapter created" chapter_id=af028003-5c7d-450f-85c4-37dfd514f83a story_id=ad90447a-3abd-4a42-992c-97ded323a8ac tenant_id=5b6b6c00-7dbb-4b5e-8bb4-d64645d7353a
time=2026-01-04T14:09:52.236-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter
time=2026-01-04T14:09:52.237-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:52.238-03:00 level=INFO msg="content block created" content_block_id=132d2716-034b-4057-b745-b8bd146d1d85 tenant_id=5b6b6c00-7dbb-4b5e-8bb4-d64645d7353a
time=2026-01-04T14:09:52.238-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-04T14:09:52.238-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:52.238-03:00 level=INFO msg="content block created" content_block_id=2f0d9127-6711-4889-9e3b-69dc7c5368c8 tenant_id=5b6b6c00-7dbb-4b5e-8bb4-d64645d7353a
time=2026-01-04T14:09:52.238-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-04T14:09:52.238-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:52.239-03:00 level=INFO msg="content block created" content_block_id=f72c56b5-48de-4103-b6e6-50e955075c0c tenant_id=5b6b6c00-7dbb-4b5e-8bb4-d64645d7353a
time=2026-01-04T14:09:52.239-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-04T14:09:52.239-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/ListContentBlocksByChapter
time=2026-01-04T14:09:52.239-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/ListContentBlocksByChapter duration_ms=0
time=2026-01-04T14:09:52.240-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_ListContentBlocksByChapter (0.29s)
    --- PASS: TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter (0.00s)
=== RUN   TestContentBlockReferenceHandler_CreateAndList
time=2026-01-04T14:09:52.522-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:52.522-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:09:52.522-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:09:52.522-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:09:52.522-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:09:52.522-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:09:52.522-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:09:52.523-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:52.526-03:00 level=INFO msg="tenant created" tenant_id=5e08be19-f5fc-4c5d-aa47-db8316c086db name="Test Tenant for ContentBlockReference"
time=2026-01-04T14:09:52.526-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:52.526-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:09:52.527-03:00 level=INFO msg="world created" world_id=4853ba10-9d9d-488a-8824-2fcd7a2116a5 name="World of Test Story" tenant_id=5e08be19-f5fc-4c5d-aa47-db8316c086db
time=2026-01-04T14:09:52.527-03:00 level=INFO msg="created implicit world for story" world_id=4853ba10-9d9d-488a-8824-2fcd7a2116a5 story_title="Test Story"
time=2026-01-04T14:09:52.528-03:00 level=INFO msg="story created" story_id=e1abcead-b666-40a5-9acb-75a277078cf1 title="Test Story" tenant_id=5e08be19-f5fc-4c5d-aa47-db8316c086db
time=2026-01-04T14:09:52.528-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:09:52.528-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:09:52.529-03:00 level=INFO msg="chapter created" chapter_id=140ec233-edfb-4e7c-85d6-e13f22e79bfd story_id=e1abcead-b666-40a5-9acb-75a277078cf1 tenant_id=5e08be19-f5fc-4c5d-aa47-db8316c086db
time=2026-01-04T14:09:52.529-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-04T14:09:52.529-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-04T14:09:52.530-03:00 level=INFO msg="content block created" content_block_id=83650764-c533-4808-bb65-43272e4b3946 tenant_id=5e08be19-f5fc-4c5d-aa47-db8316c086db
time=2026-01-04T14:09:52.530-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockReferenceHandler_CreateAndList/create_and_list_references
time=2026-01-04T14:09:52.531-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-04T14:09:52.532-03:00 level=INFO msg="content block reference created" reference_id=e87a8ff4-d8f3-43a6-afee-a9d32dcd8ed8 content_block_id=83650764-c533-4808-bb65-43272e4b3946 tenant_id=5e08be19-f5fc-4c5d-aa47-db8316c086db
time=2026-01-04T14:09:52.532-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=1
time=2026-01-04T14:09:52.532-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock
time=2026-01-04T14:09:52.533-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock duration_ms=0
time=2026-01-04T14:09:52.533-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference
time=2026-01-04T14:09:52.534-03:00 level=INFO msg="content block reference deleted" reference_id=e87a8ff4-d8f3-43a6-afee-a9d32dcd8ed8 tenant_id=5e08be19-f5fc-4c5d-aa47-db8316c086db
time=2026-01-04T14:09:52.534-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference duration_ms=0
=== RUN   TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference
time=2026-01-04T14:09:52.534-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-04T14:09:52.534-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: 774c0e40-361d-453c-bc6f-b36f79707438"
time=2026-01-04T14:09:52.534-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockReferenceHandler_CreateAndList (0.28s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/create_and_list_references (0.00s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference (0.00s)
=== RUN   TestEventHandler_CreateEvent
time=2026-01-04T14:09:52.776-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:52.776-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:52.776-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_CreateEvent/successful_creation
time=2026-01-04T14:09:52.777-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:52.780-03:00 level=INFO msg="tenant created" tenant_id=24504baf-85bc-4525-a331-bef57cfcb7c9 name="Test Tenant for Event"
time=2026-01-04T14:09:52.780-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:52.780-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:52.782-03:00 level=INFO msg="world created" world_id=075aafcb-3b7c-4e4a-bdd0-57fb8c21aec4 name="Test World" tenant_id=24504baf-85bc-4525-a331-bef57cfcb7c9
time=2026-01-04T14:09:52.782-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:52.783-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-04T14:09:52.785-03:00 level=INFO msg="event created" event_id=6de70936-593b-48b1-87d0-40792b1645d4 world_id=075aafcb-3b7c-4e4a-bdd0-57fb8c21aec4
time=2026-01-04T14:09:52.785-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=2
=== RUN   TestEventHandler_CreateEvent/empty_name
time=2026-01-04T14:09:52.785-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:52.786-03:00 level=INFO msg="tenant created" tenant_id=6102eb35-3296-4c0a-8069-ceb960c1e055 name="Test Tenant 2"
time=2026-01-04T14:09:52.786-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:52.786-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:52.787-03:00 level=INFO msg="world created" world_id=97261cb2-253c-44f8-ae88-d7c6e8153719 name="Test World 2" tenant_id=6102eb35-3296-4c0a-8069-ceb960c1e055
time=2026-01-04T14:09:52.787-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-04T14:09:52.787-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-04T14:09:52.787-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/CreateEvent duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-04T14:09:52.787-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_CreateEvent (0.28s)
    --- PASS: TestEventHandler_CreateEvent/successful_creation (0.01s)
    --- PASS: TestEventHandler_CreateEvent/empty_name (0.00s)
=== RUN   TestEventHandler_GetEvent
time=2026-01-04T14:09:53.064-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:53.064-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:53.064-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_GetEvent/existing_event
time=2026-01-04T14:09:53.064-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:53.067-03:00 level=INFO msg="tenant created" tenant_id=3385cf76-f92b-4fd8-a226-04c35e5f5392 name="Get Test Tenant"
time=2026-01-04T14:09:53.067-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:53.067-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:53.068-03:00 level=INFO msg="world created" world_id=588639ab-43b1-4f43-b658-715af746a515 name="Get Test World" tenant_id=3385cf76-f92b-4fd8-a226-04c35e5f5392
time=2026-01-04T14:09:53.068-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:53.068-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-04T14:09:53.070-03:00 level=INFO msg="event created" event_id=7d427aac-918a-4864-9e1e-57e15a35718c world_id=588639ab-43b1-4f43-b658-715af746a515
time=2026-01-04T14:09:53.070-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-04T14:09:53.070-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-04T14:09:53.070-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/GetEvent duration_ms=0
=== RUN   TestEventHandler_GetEvent/non-existing_event
time=2026-01-04T14:09:53.071-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:53.072-03:00 level=INFO msg="tenant created" tenant_id=8bf2f7c5-1f9f-4951-b3d5-e9801e3d39df name="Non-existing Test Tenant"
time=2026-01-04T14:09:53.072-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:53.072-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-04T14:09:53.072-03:00 level=ERROR msg="failed to get event" error="event not found: f6c3739a-92cc-4ae0-8a59-941d28db4165" event_id=f6c3739a-92cc-4ae0-8a59-941d28db4165
time=2026-01-04T14:09:53.072-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: f6c3739a-92cc-4ae0-8a59-941d28db4165"
time=2026-01-04T14:09:53.072-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_GetEvent (0.28s)
    --- PASS: TestEventHandler_GetEvent/existing_event (0.01s)
    --- PASS: TestEventHandler_GetEvent/non-existing_event (0.00s)
=== RUN   TestEventHandler_ListEvents
time=2026-01-04T14:09:53.369-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:53.369-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:53.369-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_ListEvents/list_events
time=2026-01-04T14:09:53.370-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:53.373-03:00 level=INFO msg="tenant created" tenant_id=c058fb6b-9ec9-4dca-810c-5bc2b835bbfa name="List Test Tenant"
time=2026-01-04T14:09:53.373-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:53.373-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:53.374-03:00 level=INFO msg="world created" world_id=66da8b7f-f658-42bb-ae50-efb09cf85a15 name="List Test World" tenant_id=c058fb6b-9ec9-4dca-810c-5bc2b835bbfa
time=2026-01-04T14:09:53.374-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:53.375-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-04T14:09:53.376-03:00 level=INFO msg="event created" event_id=be121a5a-e189-4900-9c7b-61fded5cc237 world_id=66da8b7f-f658-42bb-ae50-efb09cf85a15
time=2026-01-04T14:09:53.376-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-04T14:09:53.376-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-04T14:09:53.384-03:00 level=INFO msg="event created" event_id=3f3fc65b-02ab-4a75-82e6-106d710adb9e world_id=66da8b7f-f658-42bb-ae50-efb09cf85a15
time=2026-01-04T14:09:53.384-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=7
time=2026-01-04T14:09:53.384-03:00 level=INFO msg="gRPC request started" method=/event.EventService/ListEvents
time=2026-01-04T14:09:53.389-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/ListEvents duration_ms=4
time=2026-01-04T14:09:53.389-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_ListEvents (0.77s)
    --- PASS: TestEventHandler_ListEvents/list_events (0.02s)
=== RUN   TestEventHandler_UpdateEvent
time=2026-01-04T14:09:55.224-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:55.224-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:55.224-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_UpdateEvent/update_event
time=2026-01-04T14:09:55.226-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:55.240-03:00 level=INFO msg="tenant created" tenant_id=4bab4674-1b6c-42ee-8558-77414561ae2a name="Update Test Tenant"
time=2026-01-04T14:09:55.240-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=14
time=2026-01-04T14:09:55.240-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:55.242-03:00 level=INFO msg="world created" world_id=9fc26482-a5d3-4c8d-ac44-f4fffa6b62b8 name="Update Test World" tenant_id=4bab4674-1b6c-42ee-8558-77414561ae2a
time=2026-01-04T14:09:55.242-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:55.243-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-04T14:09:55.245-03:00 level=INFO msg="event created" event_id=c91410d6-ea00-45a2-9fa5-256ea5286ed1 world_id=9fc26482-a5d3-4c8d-ac44-f4fffa6b62b8
time=2026-01-04T14:09:55.245-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=2
time=2026-01-04T14:09:55.245-03:00 level=INFO msg="gRPC request started" method=/event.EventService/UpdateEvent
time=2026-01-04T14:09:55.247-03:00 level=INFO msg="event updated" event_id=c91410d6-ea00-45a2-9fa5-256ea5286ed1
time=2026-01-04T14:09:55.247-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/UpdateEvent duration_ms=1
time=2026-01-04T14:09:55.247-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_UpdateEvent (1.34s)
    --- PASS: TestEventHandler_UpdateEvent/update_event (0.02s)
=== RUN   TestEventHandler_DeleteEvent
time=2026-01-04T14:09:55.533-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:55.533-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:55.533-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_DeleteEvent/delete_event
time=2026-01-04T14:09:55.535-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:55.538-03:00 level=INFO msg="tenant created" tenant_id=28bd277a-5049-4501-b4f4-2d2e8a77b617 name="Delete Test Tenant"
time=2026-01-04T14:09:55.538-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:55.538-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:55.540-03:00 level=INFO msg="world created" world_id=9e72efc3-5a64-45b7-b073-3a910cc23e7c name="Delete Test World" tenant_id=28bd277a-5049-4501-b4f4-2d2e8a77b617
time=2026-01-04T14:09:55.540-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:55.540-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-04T14:09:55.548-03:00 level=INFO msg="event created" event_id=50e724ca-8a8b-4af1-bc21-e2835e6d8d92 world_id=9e72efc3-5a64-45b7-b073-3a910cc23e7c
time=2026-01-04T14:09:55.548-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=7
time=2026-01-04T14:09:55.548-03:00 level=INFO msg="gRPC request started" method=/event.EventService/DeleteEvent
time=2026-01-04T14:09:55.552-03:00 level=INFO msg="event deleted" event_id=50e724ca-8a8b-4af1-bc21-e2835e6d8d92
time=2026-01-04T14:09:55.552-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/DeleteEvent duration_ms=3
time=2026-01-04T14:09:55.552-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-04T14:09:55.552-03:00 level=ERROR msg="failed to get event" error="event not found: 50e724ca-8a8b-4af1-bc21-e2835e6d8d92" event_id=50e724ca-8a8b-4af1-bc21-e2835e6d8d92
time=2026-01-04T14:09:55.552-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: 50e724ca-8a8b-4af1-bc21-e2835e6d8d92"
time=2026-01-04T14:09:55.552-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_DeleteEvent (0.34s)
    --- PASS: TestEventHandler_DeleteEvent/delete_event (0.02s)
=== RUN   TestInventoryHandler_AddItemToInventory
time=2026-01-04T14:09:56.281-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:56.281-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:56.281-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:09:56.281-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-04T14:09:56.281-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:56.281-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_AddItemToInventory/successful_add_item
time=2026-01-04T14:09:56.283-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:56.286-03:00 level=INFO msg="tenant created" tenant_id=8bd55e39-ef2f-4b3c-b9d5-2443bbe0515a name="Test Tenant for Inventory"
time=2026-01-04T14:09:56.286-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:56.286-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:56.289-03:00 level=INFO msg="world created" world_id=519e0136-a723-4125-9059-88dd34e6bc46 name="Test World" tenant_id=8bd55e39-ef2f-4b3c-b9d5-2443bbe0515a
time=2026-01-04T14:09:56.289-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=3
time=2026-01-04T14:09:56.289-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:56.292-03:00 level=INFO msg="character created" character_id=b76d019c-4c3d-44ea-b514-8d94574a05ec name="Test Character"
time=2026-01-04T14:09:56.292-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-04T14:09:56.292-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:56.293-03:00 level=INFO msg="RPG system created" rpg_system_id=24b828b2-1043-4a0d-95c1-d9b51d943b76 name="Test System"
time=2026-01-04T14:09:56.293-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-04T14:09:56.295-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-04T14:09:56.300-03:00 level=INFO msg="item added to inventory" character_id=b76d019c-4c3d-44ea-b514-8d94574a05ec item_id=af12a108-81a4-4fd2-9236-7b6ea7eb1da6
time=2026-01-04T14:09:56.300-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=4
time=2026-01-04T14:09:56.300-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_AddItemToInventory (0.68s)
    --- PASS: TestInventoryHandler_AddItemToInventory/successful_add_item (0.02s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-04T14:09:56.481-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:56.481-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:56.481-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:09:56.481-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-04T14:09:56.481-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:56.481-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
time=2026-01-04T14:09:56.481-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:56.485-03:00 level=INFO msg="tenant created" tenant_id=fe64e785-7231-4921-8f13-7b351c94e181 name="List Test Tenant"
time=2026-01-04T14:09:56.485-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:56.485-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:56.487-03:00 level=INFO msg="world created" world_id=042e4c6a-d694-424a-be26-383d92d07b0c name="List Test World" tenant_id=fe64e785-7231-4921-8f13-7b351c94e181
time=2026-01-04T14:09:56.487-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:56.487-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:56.489-03:00 level=INFO msg="character created" character_id=fdac2e68-d34a-46ee-a7dd-88b16041c820 name="List Test Character"
time=2026-01-04T14:09:56.489-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-04T14:09:56.489-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:56.491-03:00 level=INFO msg="RPG system created" rpg_system_id=ccb9478f-6a71-41b6-be61-64bf55c775fe name="List Test System"
time=2026-01-04T14:09:56.491-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:09:56.492-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-04T14:09:56.495-03:00 level=INFO msg="item added to inventory" character_id=fdac2e68-d34a-46ee-a7dd-88b16041c820 item_id=c2cc95c1-c058-4ec7-8f55-2274aead2a2e
time=2026-01-04T14:09:56.495-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=2
time=2026-01-04T14:09:56.495-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-04T14:09:56.495-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
time=2026-01-04T14:09:56.496-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_ListInventory (0.24s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.01s)
=== RUN   TestInventoryHandler_UpdateItemInInventory
time=2026-01-04T14:09:56.738-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:56.738-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:56.738-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:09:56.738-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-04T14:09:56.738-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:56.738-03:00 level=INFO msg="InventoryService registered"
time=2026-01-04T14:09:56.739-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:56.742-03:00 level=INFO msg="tenant created" tenant_id=69eac17b-117f-4ab6-8451-a5de8fd4b648 name="Update Item Test Tenant"
time=2026-01-04T14:09:56.742-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:56.743-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:56.744-03:00 level=INFO msg="world created" world_id=5aa1ddf6-4c91-434b-9ae5-518c0d03df07 name="Test World" tenant_id=69eac17b-117f-4ab6-8451-a5de8fd4b648
time=2026-01-04T14:09:56.744-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:56.744-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:56.746-03:00 level=INFO msg="character created" character_id=e6e8b36b-94d4-46c5-ac3d-74028f507459 name="Test Character"
time=2026-01-04T14:09:56.746-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-04T14:09:56.746-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:56.751-03:00 level=INFO msg="RPG system created" rpg_system_id=5e3a210f-fb39-45ee-af1a-93de17b73f1c name="Test System"
time=2026-01-04T14:09:56.751-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=4
=== RUN   TestInventoryHandler_UpdateItemInInventory/successful_update
time=2026-01-04T14:09:56.753-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-04T14:09:56.755-03:00 level=INFO msg="item added to inventory" character_id=e6e8b36b-94d4-46c5-ac3d-74028f507459 item_id=83427ce2-5a57-4ec2-8c27-e486a46cf7a8
time=2026-01-04T14:09:56.755-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=2
time=2026-01-04T14:09:56.755-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-04T14:09:56.756-03:00 level=INFO msg="character inventory updated" id=f6e6455f-3649-4d53-add5-d24a81a8597f
time=2026-01-04T14:09:56.756-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/non-existing_item
time=2026-01-04T14:09:56.756-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-04T14:09:56.757-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 33f928ba-f13c-4490-8fc1-78e6c5feb1b7"
time=2026-01-04T14:09:56.757-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_UpdateItemInInventory (0.31s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/successful_update (0.00s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/non-existing_item (0.00s)
=== RUN   TestInventoryHandler_DeleteItemFromInventory
time=2026-01-04T14:09:57.069-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:57.069-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:57.069-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:09:57.069-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-04T14:09:57.069-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:57.069-03:00 level=INFO msg="InventoryService registered"
time=2026-01-04T14:09:57.070-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:57.073-03:00 level=INFO msg="tenant created" tenant_id=40fd3ce4-5776-4524-b4ee-413806aa1646 name="Delete Item Test Tenant"
time=2026-01-04T14:09:57.073-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:57.073-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:57.075-03:00 level=INFO msg="world created" world_id=7a016ac9-6936-4ad6-b043-8a884a00fb46 name="Test World" tenant_id=40fd3ce4-5776-4524-b4ee-413806aa1646
time=2026-01-04T14:09:57.075-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:57.075-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:09:57.077-03:00 level=INFO msg="character created" character_id=b981d022-f845-42a0-bd31-5a1b696da0aa name="Test Character"
time=2026-01-04T14:09:57.077-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-04T14:09:57.077-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:57.078-03:00 level=INFO msg="RPG system created" rpg_system_id=965734b2-610a-484c-8800-f3b41df0a1e5 name="Test System"
time=2026-01-04T14:09:57.078-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/successful_delete
time=2026-01-04T14:09:57.079-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-04T14:09:57.081-03:00 level=INFO msg="item added to inventory" character_id=b981d022-f845-42a0-bd31-5a1b696da0aa item_id=8097d8ce-f3b3-4ec8-8a8b-e3be8ad321fb
time=2026-01-04T14:09:57.081-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=2
time=2026-01-04T14:09:57.081-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-04T14:09:57.082-03:00 level=INFO msg="item removed from inventory" id=c366019d-36b0-47d4-8f49-506835348560
time=2026-01-04T14:09:57.082-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0
time=2026-01-04T14:09:57.082-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-04T14:09:57.083-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item
time=2026-01-04T14:09:57.083-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-04T14:09:57.083-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 69491ab5-4c35-489f-9e80-23d8dbdc7bc6" id=69491ab5-4c35-489f-9e80-23d8dbdc7bc6
time=2026-01-04T14:09:57.083-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 69491ab5-4c35-489f-9e80-23d8dbdc7bc6"
time=2026-01-04T14:09:57.083-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_DeleteItemFromInventory (0.28s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/successful_delete (0.00s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item (0.00s)
=== RUN   TestLocationHandler_CreateLocation
time=2026-01-04T14:09:57.408-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:57.408-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:57.408-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_CreateLocation/successful_creation
time=2026-01-04T14:09:57.409-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:57.412-03:00 level=INFO msg="tenant created" tenant_id=b0574ff1-208a-47b0-ad72-c976589a3d73 name="Test Tenant for Location"
time=2026-01-04T14:09:57.412-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:57.412-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:57.414-03:00 level=INFO msg="world created" world_id=c9888ec6-ea10-4c71-8242-b04b86eaa8cb name="Test World" tenant_id=b0574ff1-208a-47b0-ad72-c976589a3d73
time=2026-01-04T14:09:57.414-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:57.414-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-04T14:09:57.416-03:00 level=INFO msg="location created" location_id=2881885a-0fee-458c-acc4-6c9e10a3634e name="Test Location"
time=2026-01-04T14:09:57.416-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
=== RUN   TestLocationHandler_CreateLocation/empty_name
time=2026-01-04T14:09:57.418-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:57.418-03:00 level=INFO msg="tenant created" tenant_id=70710eed-eb09-4e62-a7aa-171ae3ee2b6f name="Test Tenant 2"
time=2026-01-04T14:09:57.418-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:57.419-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:57.419-03:00 level=INFO msg="world created" world_id=b54d6a8d-3c64-4db2-9b6b-46cd11b8b40e name="Test World 2" tenant_id=70710eed-eb09-4e62-a7aa-171ae3ee2b6f
time=2026-01-04T14:09:57.419-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-04T14:09:57.420-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-04T14:09:57.420-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/CreateLocation duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-04T14:09:57.420-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_CreateLocation (0.33s)
    --- PASS: TestLocationHandler_CreateLocation/successful_creation (0.01s)
    --- PASS: TestLocationHandler_CreateLocation/empty_name (0.00s)
=== RUN   TestLocationHandler_GetLocation
time=2026-01-04T14:09:57.697-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:57.697-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:57.697-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_GetLocation/existing_location
time=2026-01-04T14:09:57.698-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:57.701-03:00 level=INFO msg="tenant created" tenant_id=78021118-ce19-42f8-adb0-b81f62563b8a name="Get Test Tenant"
time=2026-01-04T14:09:57.701-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:57.701-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:57.703-03:00 level=INFO msg="world created" world_id=3bc3cec3-8892-42eb-a033-579fe4d7a5c4 name="Get Test World" tenant_id=78021118-ce19-42f8-adb0-b81f62563b8a
time=2026-01-04T14:09:57.703-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:57.703-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-04T14:09:57.705-03:00 level=INFO msg="location created" location_id=e02e7165-0b97-4220-a1e5-ee1f54ca089d name="Get Test Location"
time=2026-01-04T14:09:57.705-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-04T14:09:57.705-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-04T14:09:57.705-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/GetLocation duration_ms=0
=== RUN   TestLocationHandler_GetLocation/non-existing_location
time=2026-01-04T14:09:57.705-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:57.706-03:00 level=INFO msg="tenant created" tenant_id=cbf2146a-e5c9-41d8-ae7a-d9d265381505 name="Non-existing Test Tenant"
time=2026-01-04T14:09:57.706-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:57.706-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-04T14:09:57.706-03:00 level=ERROR msg="failed to get location" error="location not found: 8819ca52-c641-4201-81a5-e6ab31d66f61" location_id=8819ca52-c641-4201-81a5-e6ab31d66f61
time=2026-01-04T14:09:57.706-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: 8819ca52-c641-4201-81a5-e6ab31d66f61"
time=2026-01-04T14:09:57.707-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_GetLocation (0.27s)
    --- PASS: TestLocationHandler_GetLocation/existing_location (0.01s)
    --- PASS: TestLocationHandler_GetLocation/non-existing_location (0.00s)
=== RUN   TestLocationHandler_ListLocations
time=2026-01-04T14:09:57.954-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:57.954-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:57.954-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_ListLocations/list_locations
time=2026-01-04T14:09:57.955-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:57.958-03:00 level=INFO msg="tenant created" tenant_id=401f02de-5d91-43e6-83c6-280c1bad9873 name="List Test Tenant"
time=2026-01-04T14:09:57.958-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:57.958-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:57.959-03:00 level=INFO msg="world created" world_id=0e0af2fb-512f-4824-beb5-50060add6813 name="List Test World" tenant_id=401f02de-5d91-43e6-83c6-280c1bad9873
time=2026-01-04T14:09:57.959-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:57.959-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-04T14:09:57.966-03:00 level=INFO msg="location created" location_id=dd0493eb-8578-4bd5-90bf-a90d5d2f6da6 name="Location 1"
time=2026-01-04T14:09:57.966-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=6
time=2026-01-04T14:09:57.966-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-04T14:09:57.967-03:00 level=INFO msg="location created" location_id=c0d207cf-8656-4c27-a835-0dd875eb8d90 name="Location 2"
time=2026-01-04T14:09:57.967-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-04T14:09:57.967-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/ListLocations
time=2026-01-04T14:09:57.968-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/ListLocations duration_ms=0
time=2026-01-04T14:09:57.968-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_ListLocations (0.29s)
    --- PASS: TestLocationHandler_ListLocations/list_locations (0.01s)
=== RUN   TestLocationHandler_UpdateLocation
time=2026-01-04T14:09:58.183-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:58.183-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:58.183-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_UpdateLocation/update_location
time=2026-01-04T14:09:58.184-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:58.186-03:00 level=INFO msg="tenant created" tenant_id=459bd9a4-a835-4136-a912-5b4dd1ff5b6a name="Update Test Tenant"
time=2026-01-04T14:09:58.186-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:58.186-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:58.188-03:00 level=INFO msg="world created" world_id=cfde33cf-f0c9-4c50-a779-c6022e7ec5a9 name="Update Test World" tenant_id=459bd9a4-a835-4136-a912-5b4dd1ff5b6a
time=2026-01-04T14:09:58.188-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:58.188-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-04T14:09:58.189-03:00 level=INFO msg="location created" location_id=374e0d90-b0d2-4fb8-ba91-4cbf9fb00b1d name="Original Location"
time=2026-01-04T14:09:58.189-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-04T14:09:58.190-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/UpdateLocation
time=2026-01-04T14:09:58.191-03:00 level=INFO msg="location updated" location_id=374e0d90-b0d2-4fb8-ba91-4cbf9fb00b1d name="Updated Location"
time=2026-01-04T14:09:58.191-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/UpdateLocation duration_ms=0
time=2026-01-04T14:09:58.192-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_UpdateLocation (0.20s)
    --- PASS: TestLocationHandler_UpdateLocation/update_location (0.01s)
=== RUN   TestLocationHandler_DeleteLocation
time=2026-01-04T14:09:58.461-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:58.461-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:09:58.461-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_DeleteLocation/delete_location
time=2026-01-04T14:09:58.462-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:58.465-03:00 level=INFO msg="tenant created" tenant_id=fe66c35b-303e-4d0f-a1e6-3831c83e1aff name="Delete Test Tenant"
time=2026-01-04T14:09:58.465-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:58.465-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:09:58.467-03:00 level=INFO msg="world created" world_id=c6fd8720-3093-422e-bf71-a361403be545 name="Delete Test World" tenant_id=fe66c35b-303e-4d0f-a1e6-3831c83e1aff
time=2026-01-04T14:09:58.467-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:09:58.467-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-04T14:09:58.470-03:00 level=INFO msg="location created" location_id=e3bc01a6-05dd-4189-b8a1-c0dba6b1d315 name="Location to Delete"
time=2026-01-04T14:09:58.470-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=2
time=2026-01-04T14:09:58.470-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/DeleteLocation
time=2026-01-04T14:09:58.471-03:00 level=INFO msg="location deleted" location_id=e3bc01a6-05dd-4189-b8a1-c0dba6b1d315 name="Location to Delete"
time=2026-01-04T14:09:58.471-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/DeleteLocation duration_ms=1
time=2026-01-04T14:09:58.472-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-04T14:09:58.472-03:00 level=ERROR msg="failed to get location" error="location not found: e3bc01a6-05dd-4189-b8a1-c0dba6b1d315" location_id=e3bc01a6-05dd-4189-b8a1-c0dba6b1d315
time=2026-01-04T14:09:58.472-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: e3bc01a6-05dd-4189-b8a1-c0dba6b1d315"
time=2026-01-04T14:09:58.472-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_DeleteLocation (0.27s)
    --- PASS: TestLocationHandler_DeleteLocation/delete_location (0.01s)
=== RUN   TestRPGClassHandler_CreateRPGClass
time=2026-01-04T14:09:58.688-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:58.688-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:58.688-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:09:58.688-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_CreateRPGClass/successful_creation
time=2026-01-04T14:09:58.688-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:58.691-03:00 level=INFO msg="tenant created" tenant_id=2da75daf-d24d-438b-becc-6fab28424d59 name="Test Tenant for RPG Class"
time=2026-01-04T14:09:58.691-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:58.691-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:58.695-03:00 level=INFO msg="RPG system created" rpg_system_id=02580662-5473-4af0-a124-06f5ddaf767a name="Test System"
time=2026-01-04T14:09:58.695-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=3
time=2026-01-04T14:09:58.695-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:09:58.696-03:00 level=INFO msg="RPG class created" class_id=f5d8b7ae-485b-4d48-ab78-e309bd593d98 name=Warrior
time=2026-01-04T14:09:58.696-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_CreateRPGClass/empty_name
time=2026-01-04T14:09:58.697-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:58.697-03:00 level=INFO msg="tenant created" tenant_id=1732dd15-490b-46a7-8cb4-c3ab7688da6e name="Test Tenant 2"
time=2026-01-04T14:09:58.697-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:58.698-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:58.698-03:00 level=INFO msg="RPG system created" rpg_system_id=81483b84-e388-43c8-a2ef-8fc1ab339bd8 name="Test System 2"
time=2026-01-04T14:09:58.698-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-04T14:09:58.698-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:09:58.698-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-04T14:09:58.698-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_CreateRPGClass (0.33s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/successful_creation (0.01s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/empty_name (0.00s)
=== RUN   TestRPGClassHandler_GetRPGClass
time=2026-01-04T14:09:59.031-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:59.031-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:59.031-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:09:59.031-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_GetRPGClass/existing_RPG_class
time=2026-01-04T14:09:59.032-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:59.035-03:00 level=INFO msg="tenant created" tenant_id=73ef8b61-4116-4cf3-8b45-298d01baf280 name="Get Test Tenant"
time=2026-01-04T14:09:59.035-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:59.035-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:59.036-03:00 level=INFO msg="RPG system created" rpg_system_id=a1102b58-2266-4869-a43c-c6eae8ab2f4f name="Get Test System"
time=2026-01-04T14:09:59.036-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:09:59.037-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:09:59.038-03:00 level=INFO msg="RPG class created" class_id=3af3a717-55a8-4e1e-8a45-69f2386e87fc name="Get Test Class"
time=2026-01-04T14:09:59.038-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-04T14:09:59.038-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-04T14:09:59.038-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0
=== RUN   TestRPGClassHandler_GetRPGClass/non-existing_RPG_class
time=2026-01-04T14:09:59.038-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:59.039-03:00 level=INFO msg="tenant created" tenant_id=1b37df58-0f35-444d-881f-90469cfc7e8b name="Non-existing Test Tenant"
time=2026-01-04T14:09:59.039-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:09:59.039-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-04T14:09:59.039-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 4c74913f-41b8-4809-ac6d-90fb27469e9e" class_id=4c74913f-41b8-4809-ac6d-90fb27469e9e
time=2026-01-04T14:09:59.039-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 4c74913f-41b8-4809-ac6d-90fb27469e9e"
time=2026-01-04T14:09:59.039-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_GetRPGClass (0.34s)
    --- PASS: TestRPGClassHandler_GetRPGClass/existing_RPG_class (0.01s)
    --- PASS: TestRPGClassHandler_GetRPGClass/non-existing_RPG_class (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClasses
time=2026-01-04T14:09:59.387-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:59.387-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:59.387-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:09:59.387-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_ListRPGClasses/list_RPG_classes
time=2026-01-04T14:09:59.388-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:59.391-03:00 level=INFO msg="tenant created" tenant_id=73baa44e-290d-4831-93bb-00965b9ababc name="List Test Tenant"
time=2026-01-04T14:09:59.391-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:09:59.391-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:59.392-03:00 level=INFO msg="RPG system created" rpg_system_id=dfab52cf-f491-4f03-b67f-f37671ab6fc8 name="List Test System"
time=2026-01-04T14:09:59.392-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:09:59.393-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:09:59.394-03:00 level=INFO msg="RPG class created" class_id=48db692e-67c7-4839-ae39-5af6980e8522 name="Class 1"
time=2026-01-04T14:09:59.394-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-04T14:09:59.394-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:09:59.394-03:00 level=INFO msg="RPG class created" class_id=85ac6ba0-2267-4f48-b468-565103dff378 name="Class 2"
time=2026-01-04T14:09:59.394-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-04T14:09:59.395-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClasses
time=2026-01-04T14:09:59.395-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClasses duration_ms=0
time=2026-01-04T14:09:59.395-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClasses (0.25s)
    --- PASS: TestRPGClassHandler_ListRPGClasses/list_RPG_classes (0.01s)
=== RUN   TestRPGClassHandler_UpdateRPGClass
time=2026-01-04T14:09:59.605-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:59.605-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:59.605-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:09:59.605-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_UpdateRPGClass/update_RPG_class
time=2026-01-04T14:09:59.606-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:59.608-03:00 level=INFO msg="tenant created" tenant_id=2e9fa911-e928-4fa3-b147-25e45d945ae4 name="Update Test Tenant"
time=2026-01-04T14:09:59.608-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:59.609-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:59.610-03:00 level=INFO msg="RPG system created" rpg_system_id=21f96138-b804-41bb-88c8-5b87cd749185 name="Update Test System"
time=2026-01-04T14:09:59.610-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:09:59.610-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:09:59.611-03:00 level=INFO msg="RPG class created" class_id=92e8395d-8a57-47e7-b430-fcc9126dda81 name="Original Class"
time=2026-01-04T14:09:59.611-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-04T14:09:59.611-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/UpdateRPGClass
time=2026-01-04T14:09:59.612-03:00 level=INFO msg="RPG class updated" class_id=92e8395d-8a57-47e7-b430-fcc9126dda81
time=2026-01-04T14:09:59.612-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/UpdateRPGClass duration_ms=0
time=2026-01-04T14:09:59.613-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_UpdateRPGClass (0.31s)
    --- PASS: TestRPGClassHandler_UpdateRPGClass/update_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_DeleteRPGClass
time=2026-01-04T14:09:59.876-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:09:59.876-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:09:59.876-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:09:59.876-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_DeleteRPGClass/delete_RPG_class
time=2026-01-04T14:09:59.877-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:09:59.879-03:00 level=INFO msg="tenant created" tenant_id=7b282b9b-92c9-4194-98b6-07b8b26f3a27 name="Delete Test Tenant"
time=2026-01-04T14:09:59.879-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:09:59.880-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:09:59.881-03:00 level=INFO msg="RPG system created" rpg_system_id=2e0720cb-017f-4638-9104-2bb9dd20ecee name="Delete Test System"
time=2026-01-04T14:09:59.881-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-04T14:09:59.881-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:09:59.882-03:00 level=INFO msg="RPG class created" class_id=44528ccf-cfec-4080-91bf-3660a7bcb639 name="Class to Delete"
time=2026-01-04T14:09:59.882-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-04T14:09:59.882-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/DeleteRPGClass
time=2026-01-04T14:09:59.883-03:00 level=INFO msg="RPG class deleted" class_id=44528ccf-cfec-4080-91bf-3660a7bcb639
time=2026-01-04T14:09:59.883-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/DeleteRPGClass duration_ms=1
time=2026-01-04T14:09:59.883-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-04T14:09:59.884-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 44528ccf-cfec-4080-91bf-3660a7bcb639" class_id=44528ccf-cfec-4080-91bf-3660a7bcb639
time=2026-01-04T14:09:59.884-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 44528ccf-cfec-4080-91bf-3660a7bcb639"
time=2026-01-04T14:09:59.884-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_DeleteRPGClass (0.18s)
    --- PASS: TestRPGClassHandler_DeleteRPGClass/delete_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_AddSkillToClass
time=2026-01-04T14:10:00.090-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:00.090-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:10:00.090-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:10:00.090-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_AddSkillToClass/add_skill_to_class
time=2026-01-04T14:10:00.090-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:00.093-03:00 level=INFO msg="tenant created" tenant_id=99b2294b-1c5f-47a3-8fbf-2af8815021d6 name="Add Skill Test Tenant"
time=2026-01-04T14:10:00.093-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:00.094-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:00.095-03:00 level=INFO msg="RPG system created" rpg_system_id=de2f46d2-49c7-4902-afe5-7a766c36d03d name="Add Skill Test System"
time=2026-01-04T14:10:00.095-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:00.095-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:10:00.097-03:00 level=INFO msg="RPG class created" class_id=4a71512b-e531-41a4-ab76-ac8fc13f9cd6 name=Warrior
time=2026-01-04T14:10:00.097-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-04T14:10:00.097-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:00.098-03:00 level=INFO msg="skill created" skill_id=17fef1df-7506-4123-8cfe-921d11e87579 name="Sword Mastery"
time=2026-01-04T14:10:00.098-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-04T14:10:00.098-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-04T14:10:00.101-03:00 level=INFO msg="skill added to class" class_id=4a71512b-e531-41a4-ab76-ac8fc13f9cd6 skill_id=17fef1df-7506-4123-8cfe-921d11e87579
time=2026-01-04T14:10:00.102-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=3
time=2026-01-04T14:10:00.102-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_AddSkillToClass (0.22s)
    --- PASS: TestRPGClassHandler_AddSkillToClass/add_skill_to_class (0.01s)
=== RUN   TestRPGClassHandler_RemoveSkillFromClass
time=2026-01-04T14:10:00.352-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:00.352-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:10:00.352-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:10:00.352-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-04T14:10:00.353-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:00.357-03:00 level=INFO msg="tenant created" tenant_id=45079bcd-5a8f-489d-8ca3-f9bb47ab76be name="Remove Skill Test Tenant"
time=2026-01-04T14:10:00.357-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:00.357-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:00.359-03:00 level=INFO msg="RPG system created" rpg_system_id=e6fb3fab-f5ce-466c-bf2d-dfd35e60846d name="Remove Skill Test System"
time=2026-01-04T14:10:00.359-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:00.360-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:10:00.361-03:00 level=INFO msg="RPG class created" class_id=4ae2edf0-d7fc-48bc-a125-7c73383ae376 name=Warrior
time=2026-01-04T14:10:00.361-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-04T14:10:00.362-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:00.364-03:00 level=INFO msg="skill created" skill_id=40d1ad9d-8cc8-48ef-b7ac-b9fcdf832fb9 name="Sword Mastery"
time=2026-01-04T14:10:00.364-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=2
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/successful_remove
time=2026-01-04T14:10:00.364-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-04T14:10:00.367-03:00 level=INFO msg="skill added to class" class_id=4ae2edf0-d7fc-48bc-a125-7c73383ae376 skill_id=40d1ad9d-8cc8-48ef-b7ac-b9fcdf832fb9
time=2026-01-04T14:10:00.367-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=2
time=2026-01-04T14:10:00.367-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-04T14:10:00.368-03:00 level=INFO msg="skill removed from class" class_id=4ae2edf0-d7fc-48bc-a125-7c73383ae376 skill_id=40d1ad9d-8cc8-48ef-b7ac-b9fcdf832fb9
time=2026-01-04T14:10:00.368-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0
time=2026-01-04T14:10:00.368-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-04T14:10:00.368-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill
time=2026-01-04T14:10:00.369-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-04T14:10:00.369-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class_skill not found: 4ae2edf0-d7fc-48bc-a125-7c73383ae376/6c9021d0-ddf9-48f7-9f6e-efcbd4c6a943"
time=2026-01-04T14:10:00.369-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_RemoveSkillFromClass (0.47s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/successful_remove (0.00s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClassSkills
time=2026-01-04T14:10:00.778-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:00.778-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:10:00.778-03:00 level=INFO msg="SkillService registered"
time=2026-01-04T14:10:00.778-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-04T14:10:00.779-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:00.782-03:00 level=INFO msg="tenant created" tenant_id=27dd205f-2016-4376-aee1-3aa2085c8862 name="List Skills Test Tenant"
time=2026-01-04T14:10:00.782-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:00.782-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:00.783-03:00 level=INFO msg="RPG system created" rpg_system_id=858daeb6-8236-422d-844d-d994d87ea138 name="List Skills Test System"
time=2026-01-04T14:10:00.783-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:00.783-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:10:00.785-03:00 level=INFO msg="RPG class created" class_id=bd6df96a-fc5c-42b3-af07-8da44154d5bb name=Warrior
time=2026-01-04T14:10:00.785-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills
time=2026-01-04T14:10:00.785-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:00.786-03:00 level=INFO msg="skill created" skill_id=72d0a34b-994f-4bbe-9d2c-4deaaffd26a7 name="Sword Mastery"
time=2026-01-04T14:10:00.786-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-04T14:10:00.786-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:00.787-03:00 level=INFO msg="skill created" skill_id=db9a5dc3-3ab4-49b9-a38a-463e088c4272 name="Shield Defense"
time=2026-01-04T14:10:00.787-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-04T14:10:00.787-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:00.788-03:00 level=INFO msg="skill created" skill_id=1210e8cf-ad88-47f0-92f8-bb43983e7a5d name="Combat Tactics"
time=2026-01-04T14:10:00.788-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-04T14:10:00.788-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-04T14:10:00.790-03:00 level=INFO msg="skill added to class" class_id=bd6df96a-fc5c-42b3-af07-8da44154d5bb skill_id=72d0a34b-994f-4bbe-9d2c-4deaaffd26a7
time=2026-01-04T14:10:00.790-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=2
time=2026-01-04T14:10:00.790-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-04T14:10:00.791-03:00 level=INFO msg="skill added to class" class_id=bd6df96a-fc5c-42b3-af07-8da44154d5bb skill_id=db9a5dc3-3ab4-49b9-a38a-463e088c4272
time=2026-01-04T14:10:00.791-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-04T14:10:00.791-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-04T14:10:00.792-03:00 level=INFO msg="skill added to class" class_id=bd6df96a-fc5c-42b3-af07-8da44154d5bb skill_id=1210e8cf-ad88-47f0-92f8-bb43983e7a5d
time=2026-01-04T14:10:00.792-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-04T14:10:00.792-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-04T14:10:00.793-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class
time=2026-01-04T14:10:00.793-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-04T14:10:00.794-03:00 level=INFO msg="RPG class created" class_id=120c2fd2-157f-4538-8cf9-faa63c4ecf02 name=Mage
time=2026-01-04T14:10:00.794-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-04T14:10:00.794-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-04T14:10:00.794-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
time=2026-01-04T14:10:00.794-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClassSkills (0.26s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills (0.01s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class (0.00s)
=== RUN   TestRPGSystemHandler_CreateRPGSystem
time=2026-01-04T14:10:01.042-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:01.042-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/successful_creation
time=2026-01-04T14:10:01.043-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:01.046-03:00 level=INFO msg="tenant created" tenant_id=f26f8ab5-d746-496e-97e2-77795e6c99bf name="Test Tenant for RPG System"
time=2026-01-04T14:10:01.046-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:01.047-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:01.048-03:00 level=INFO msg="RPG system created" rpg_system_id=e7001809-b269-4e40-b218-976b3ad437a0 name="D&D 5e"
time=2026-01-04T14:10:01.048-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_name
time=2026-01-04T14:10:01.048-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:01.049-03:00 level=INFO msg="tenant created" tenant_id=bb876d05-a6c5-4699-a6e7-9ce543e56056 name="Test Tenant 2"
time=2026-01-04T14:10:01.049-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:01.049-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:01.049-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema
time=2026-01-04T14:10:01.049-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:01.050-03:00 level=INFO msg="tenant created" tenant_id=62f1407c-5add-4031-a2f7-e3fa1cc999bc name="Test Tenant 3"
time=2026-01-04T14:10:01.050-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:01.050-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:01.050-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = base_stats_schema is required"
time=2026-01-04T14:10:01.051-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_CreateRPGSystem (0.25s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/successful_creation (0.01s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_name (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema (0.00s)
=== RUN   TestRPGSystemHandler_GetRPGSystem
time=2026-01-04T14:10:01.336-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:01.336-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_GetRPGSystem/existing_RPG_system
time=2026-01-04T14:10:01.337-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:01.340-03:00 level=INFO msg="tenant created" tenant_id=0d4fbf65-06df-47a0-8c8a-14e9149423e7 name="Get Test Tenant"
time=2026-01-04T14:10:01.340-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:01.340-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:01.341-03:00 level=INFO msg="RPG system created" rpg_system_id=4a46e365-d7f4-487a-93c5-0f9836f7ef01 name="Get Test System"
time=2026-01-04T14:10:01.341-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-04T14:10:01.341-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-04T14:10:01.341-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0
=== RUN   TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system
time=2026-01-04T14:10:01.342-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:01.342-03:00 level=INFO msg="tenant created" tenant_id=a2ecd1ac-1fa7-4fae-a1c6-da4eac1ee12e name="Non-existing Test Tenant"
time=2026-01-04T14:10:01.342-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:01.342-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-04T14:10:01.343-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 933c76c0-ba35-4c0f-9984-be5eda39a893" rpg_system_id=933c76c0-ba35-4c0f-9984-be5eda39a893
time=2026-01-04T14:10:01.343-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: 933c76c0-ba35-4c0f-9984-be5eda39a893"
time=2026-01-04T14:10:01.343-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_GetRPGSystem (0.72s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/existing_RPG_system (0.01s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system (0.00s)
=== RUN   TestRPGSystemHandler_ListRPGSystems
time=2026-01-04T14:10:03.231-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:03.232-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_ListRPGSystems/list_RPG_systems
time=2026-01-04T14:10:03.236-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:03.239-03:00 level=INFO msg="tenant created" tenant_id=6e77f91f-3b30-4bed-91d0-ea88e5d1f3d1 name="List Test Tenant"
time=2026-01-04T14:10:03.239-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:03.239-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:03.241-03:00 level=INFO msg="RPG system created" rpg_system_id=ba3c6d9c-42dc-4dcf-b525-af5b2b308bf4 name="System 1"
time=2026-01-04T14:10:03.241-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:03.241-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:03.242-03:00 level=INFO msg="RPG system created" rpg_system_id=04de5703-eaac-44ab-8738-26f2528298f7 name="System 2"
time=2026-01-04T14:10:03.242-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-04T14:10:03.242-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/ListRPGSystems
time=2026-01-04T14:10:03.243-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/ListRPGSystems duration_ms=0
time=2026-01-04T14:10:03.243-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_ListRPGSystems (1.42s)
    --- PASS: TestRPGSystemHandler_ListRPGSystems/list_RPG_systems (0.01s)
=== RUN   TestRPGSystemHandler_UpdateRPGSystem
time=2026-01-04T14:10:03.632-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:03.632-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system
time=2026-01-04T14:10:03.632-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:03.639-03:00 level=INFO msg="tenant created" tenant_id=ae9537e0-bb1b-4fa9-9cb9-2a4b01c5d63e name="Update Test Tenant"
time=2026-01-04T14:10:03.639-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-04T14:10:03.639-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:03.642-03:00 level=INFO msg="RPG system created" rpg_system_id=2211d134-63d8-44d6-9397-db22151b1f01 name="Original System"
time=2026-01-04T14:10:03.642-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=2
time=2026-01-04T14:10:03.644-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/UpdateRPGSystem
time=2026-01-04T14:10:03.646-03:00 level=INFO msg="RPG system updated" rpg_system_id=2211d134-63d8-44d6-9397-db22151b1f01
time=2026-01-04T14:10:03.646-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/UpdateRPGSystem duration_ms=2
time=2026-01-04T14:10:03.647-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_UpdateRPGSystem (0.47s)
    --- PASS: TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system (0.01s)
=== RUN   TestRPGSystemHandler_DeleteRPGSystem
time=2026-01-04T14:10:03.944-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:03.944-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system
time=2026-01-04T14:10:03.945-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:03.947-03:00 level=INFO msg="tenant created" tenant_id=30bb2923-29ff-48aa-8089-ce94230d309e name="Delete Test Tenant"
time=2026-01-04T14:10:03.947-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:03.948-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:03.949-03:00 level=INFO msg="RPG system created" rpg_system_id=b56e7392-d691-4021-8e9f-a10c7918f7ec name="System to Delete"
time=2026-01-04T14:10:03.949-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:03.949-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/DeleteRPGSystem
time=2026-01-04T14:10:03.952-03:00 level=INFO msg="RPG system deleted" rpg_system_id=b56e7392-d691-4021-8e9f-a10c7918f7ec
time=2026-01-04T14:10:03.952-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/DeleteRPGSystem duration_ms=2
time=2026-01-04T14:10:03.952-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-04T14:10:03.952-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: b56e7392-d691-4021-8e9f-a10c7918f7ec" rpg_system_id=b56e7392-d691-4021-8e9f-a10c7918f7ec
time=2026-01-04T14:10:03.952-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: b56e7392-d691-4021-8e9f-a10c7918f7ec"
time=2026-01-04T14:10:03.953-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_DeleteRPGSystem (0.24s)
    --- PASS: TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system (0.01s)
=== RUN   TestSceneHandler_CreateScene
time=2026-01-04T14:10:04.198-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:04.198-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:04.198-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:04.198-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:04.198-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:04.198-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:04.198-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:10:04.201-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:04.206-03:00 level=INFO msg="tenant created" tenant_id=15f19874-d4c7-45c4-aebe-e9e3022d4dfd name="Test Tenant for Scene"
time=2026-01-04T14:10:04.206-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-04T14:10:04.206-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:04.207-03:00 level=INFO msg="world created" world_id=da411af8-3016-4acc-9524-d0263b88adf4 name="World of Test Story" tenant_id=15f19874-d4c7-45c4-aebe-e9e3022d4dfd
time=2026-01-04T14:10:04.208-03:00 level=INFO msg="created implicit world for story" world_id=da411af8-3016-4acc-9524-d0263b88adf4 story_title="Test Story"
time=2026-01-04T14:10:04.210-03:00 level=INFO msg="story created" story_id=147cbba5-a9c2-40a5-a104-17f979e27ba7 title="Test Story" tenant_id=15f19874-d4c7-45c4-aebe-e9e3022d4dfd
time=2026-01-04T14:10:04.210-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
time=2026-01-04T14:10:04.211-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:10:04.212-03:00 level=INFO msg="chapter created" chapter_id=4f51c6ce-9672-4da7-8860-6fec0c992e48 story_id=147cbba5-a9c2-40a5-a104-17f979e27ba7 tenant_id=15f19874-d4c7-45c4-aebe-e9e3022d4dfd
time=2026-01-04T14:10:04.212-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestSceneHandler_CreateScene/successful_creation_with_chapter
time=2026-01-04T14:10:04.212-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:04.214-03:00 level=INFO msg="scene created" scene_id=f92a09a2-6618-4a22-9112-7b807d278f65 story_id=147cbba5-a9c2-40a5-a104-17f979e27ba7 tenant_id=15f19874-d4c7-45c4-aebe-e9e3022d4dfd
time=2026-01-04T14:10:04.214-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
=== RUN   TestSceneHandler_CreateScene/successful_creation_without_chapter
time=2026-01-04T14:10:04.214-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:04.215-03:00 level=INFO msg="scene created" scene_id=65fd3222-3528-4f81-ae81-6908dabb4baf story_id=147cbba5-a9c2-40a5-a104-17f979e27ba7 tenant_id=15f19874-d4c7-45c4-aebe-e9e3022d4dfd
time=2026-01-04T14:10:04.215-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_CreateScene/invalid_story_id
time=2026-01-04T14:10:04.215-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:04.215-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = NotFound desc = story not found: e50ae377-920d-4554-9cbc-9a8a906a9ff5"
=== RUN   TestSceneHandler_CreateScene/invalid_order_num
time=2026-01-04T14:10:04.216-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:04.216-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-04T14:10:04.216-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_CreateScene (0.28s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_with_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_without_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_story_id (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_order_num (0.00s)
=== RUN   TestSceneHandler_GetScene
time=2026-01-04T14:10:04.432-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:04.432-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:04.432-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:04.432-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:04.432-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:04.432-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:04.432-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:10:04.433-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:04.437-03:00 level=INFO msg="tenant created" tenant_id=f1e2126c-3d2f-44c9-8611-722238f6c99c name="Test Tenant for Get Scene"
time=2026-01-04T14:10:04.437-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:04.437-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:04.439-03:00 level=INFO msg="world created" world_id=81809e4d-1458-4e99-8736-7b7c03fb5421 name="World of Test Story" tenant_id=f1e2126c-3d2f-44c9-8611-722238f6c99c
time=2026-01-04T14:10:04.439-03:00 level=INFO msg="created implicit world for story" world_id=81809e4d-1458-4e99-8736-7b7c03fb5421 story_title="Test Story"
time=2026-01-04T14:10:04.440-03:00 level=INFO msg="story created" story_id=dc69dca2-4d91-4058-86bc-2bf66743c3fd title="Test Story" tenant_id=f1e2126c-3d2f-44c9-8611-722238f6c99c
time=2026-01-04T14:10:04.440-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_GetScene/existing_scene
time=2026-01-04T14:10:04.440-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:04.441-03:00 level=INFO msg="scene created" scene_id=c944efde-aa44-4c60-90c9-e9914f3af533 story_id=dc69dca2-4d91-4058-86bc-2bf66743c3fd tenant_id=f1e2126c-3d2f-44c9-8611-722238f6c99c
time=2026-01-04T14:10:04.441-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-04T14:10:04.441-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-04T14:10:04.442-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetScene duration_ms=0
=== RUN   TestSceneHandler_GetScene/non-existing_scene
time=2026-01-04T14:10:04.442-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-04T14:10:04.443-03:00 level=ERROR msg="failed to get scene" error="scene not found: 3ca77f9a-fe44-459c-b4ef-829bbd7f51fb" scene_id=3ca77f9a-fe44-459c-b4ef-829bbd7f51fb tenant_id=f1e2126c-3d2f-44c9-8611-722238f6c99c
time=2026-01-04T14:10:04.443-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetScene duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 3ca77f9a-fe44-459c-b4ef-829bbd7f51fb"
time=2026-01-04T14:10:04.443-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetScene (0.23s)
    --- PASS: TestSceneHandler_GetScene/existing_scene (0.00s)
    --- PASS: TestSceneHandler_GetScene/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_UpdateScene
time=2026-01-04T14:10:04.666-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:04.666-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:04.666-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:04.666-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:04.666-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:04.666-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:04.666-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:10:04.667-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:04.671-03:00 level=INFO msg="tenant created" tenant_id=301c62a3-fd0e-4833-ab0d-42ddfb4b4a40 name="Test Tenant for Update Scene"
time=2026-01-04T14:10:04.671-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-04T14:10:04.671-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:04.673-03:00 level=INFO msg="world created" world_id=38ae8a9f-505c-48f5-b9e3-a16aa5a00047 name="World of Test Story" tenant_id=301c62a3-fd0e-4833-ab0d-42ddfb4b4a40
time=2026-01-04T14:10:04.673-03:00 level=INFO msg="created implicit world for story" world_id=38ae8a9f-505c-48f5-b9e3-a16aa5a00047 story_title="Test Story"
time=2026-01-04T14:10:04.675-03:00 level=INFO msg="story created" story_id=f1eea3e2-7391-4437-8f88-da5b56708297 title="Test Story" tenant_id=301c62a3-fd0e-4833-ab0d-42ddfb4b4a40
time=2026-01-04T14:10:04.675-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestSceneHandler_UpdateScene/successful_update
time=2026-01-04T14:10:04.675-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:04.677-03:00 level=INFO msg="scene created" scene_id=719c5fc1-f9c8-41cc-955a-c00dbefd2546 story_id=f1eea3e2-7391-4437-8f88-da5b56708297 tenant_id=301c62a3-fd0e-4833-ab0d-42ddfb4b4a40
time=2026-01-04T14:10:04.677-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-04T14:10:04.677-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/UpdateScene
time=2026-01-04T14:10:04.678-03:00 level=INFO msg="scene updated" scene_id=719c5fc1-f9c8-41cc-955a-c00dbefd2546 tenant_id=301c62a3-fd0e-4833-ab0d-42ddfb4b4a40
time=2026-01-04T14:10:04.678-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/UpdateScene duration_ms=1
time=2026-01-04T14:10:04.678-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_UpdateScene (0.26s)
    --- PASS: TestSceneHandler_UpdateScene/successful_update (0.00s)
=== RUN   TestSceneHandler_MoveScene
time=2026-01-04T14:10:04.935-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:04.935-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:04.935-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:04.935-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:04.935-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:04.935-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:04.935-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:10:04.935-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:04.940-03:00 level=INFO msg="tenant created" tenant_id=aa65f35c-e9ed-4686-8f0e-a65d6c2860b2 name="Test Tenant for Move Scene"
time=2026-01-04T14:10:04.940-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-04T14:10:04.940-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:04.969-03:00 level=INFO msg="world created" world_id=da532fa2-87db-42b6-809b-01315d1a5c7c name="World of Test Story" tenant_id=aa65f35c-e9ed-4686-8f0e-a65d6c2860b2
time=2026-01-04T14:10:04.969-03:00 level=INFO msg="created implicit world for story" world_id=da532fa2-87db-42b6-809b-01315d1a5c7c story_title="Test Story"
time=2026-01-04T14:10:04.971-03:00 level=INFO msg="story created" story_id=f032d615-1625-4ec6-8122-a2f8a7869466 title="Test Story" tenant_id=aa65f35c-e9ed-4686-8f0e-a65d6c2860b2
time=2026-01-04T14:10:04.971-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=30
time=2026-01-04T14:10:04.971-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:10:04.972-03:00 level=INFO msg="chapter created" chapter_id=302feeea-7840-4797-b9cc-3c9d5e0e3be7 story_id=f032d615-1625-4ec6-8122-a2f8a7869466 tenant_id=aa65f35c-e9ed-4686-8f0e-a65d6c2860b2
time=2026-01-04T14:10:04.972-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-04T14:10:04.973-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-04T14:10:04.973-03:00 level=INFO msg="chapter created" chapter_id=ec704bf3-d187-4fc0-b96a-e3bae1b489e2 story_id=f032d615-1625-4ec6-8122-a2f8a7869466 tenant_id=aa65f35c-e9ed-4686-8f0e-a65d6c2860b2
time=2026-01-04T14:10:04.973-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_different_chapter
time=2026-01-04T14:10:04.973-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:04.975-03:00 level=INFO msg="scene created" scene_id=48995ed6-7372-4d24-b79c-21d1d7ea526e story_id=f032d615-1625-4ec6-8122-a2f8a7869466 tenant_id=aa65f35c-e9ed-4686-8f0e-a65d6c2860b2
time=2026-01-04T14:10:04.975-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-04T14:10:04.975-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-04T14:10:04.977-03:00 level=INFO msg="scene moved" scene_id=48995ed6-7372-4d24-b79c-21d1d7ea526e new_chapter_id=ec704bf3-d187-4fc0-b96a-e3bae1b489e2 tenant_id=aa65f35c-e9ed-4686-8f0e-a65d6c2860b2
time=2026-01-04T14:10:04.977-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=1
=== RUN   TestSceneHandler_MoveScene/move_to_no_chapter
time=2026-01-04T14:10:04.977-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:04.980-03:00 level=INFO msg="scene created" scene_id=37e760a8-fc9e-49c3-8175-cbb72502bb1f story_id=f032d615-1625-4ec6-8122-a2f8a7869466 tenant_id=aa65f35c-e9ed-4686-8f0e-a65d6c2860b2
time=2026-01-04T14:10:04.980-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
time=2026-01-04T14:10:04.980-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-04T14:10:04.980-03:00 level=INFO msg="scene moved" scene_id=37e760a8-fc9e-49c3-8175-cbb72502bb1f new_chapter_id=<nil> tenant_id=aa65f35c-e9ed-4686-8f0e-a65d6c2860b2
time=2026-01-04T14:10:04.981-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
time=2026-01-04T14:10:04.981-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_MoveScene (0.27s)
    --- PASS: TestSceneHandler_MoveScene/move_to_different_chapter (0.00s)
    --- PASS: TestSceneHandler_MoveScene/move_to_no_chapter (0.00s)
=== RUN   TestSceneHandler_ListScenesByStory
time=2026-01-04T14:10:05.229-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:05.229-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:05.229-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:05.229-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:05.229-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:05.229-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:05.229-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:10:05.229-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:05.232-03:00 level=INFO msg="tenant created" tenant_id=a57f6026-a93d-4bb8-babb-d0189ab703f3 name="Test Tenant for List Scenes"
time=2026-01-04T14:10:05.232-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:05.233-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:05.234-03:00 level=INFO msg="world created" world_id=a89e00eb-7c04-413f-992c-d741399ee85c name="World of Test Story" tenant_id=a57f6026-a93d-4bb8-babb-d0189ab703f3
time=2026-01-04T14:10:05.234-03:00 level=INFO msg="created implicit world for story" world_id=a89e00eb-7c04-413f-992c-d741399ee85c story_title="Test Story"
time=2026-01-04T14:10:05.236-03:00 level=INFO msg="story created" story_id=d00c6a98-bff2-49e0-a98b-a1097e89109c title="Test Story" tenant_id=a57f6026-a93d-4bb8-babb-d0189ab703f3
time=2026-01-04T14:10:05.236-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_ListScenesByStory/list_scenes_by_story
time=2026-01-04T14:10:05.236-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:05.238-03:00 level=INFO msg="scene created" scene_id=4df6f328-1c71-486f-a1f2-d925572e58c7 story_id=d00c6a98-bff2-49e0-a98b-a1097e89109c tenant_id=a57f6026-a93d-4bb8-babb-d0189ab703f3
time=2026-01-04T14:10:05.238-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
time=2026-01-04T14:10:05.238-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:05.239-03:00 level=INFO msg="scene created" scene_id=b6a7caf6-c720-4015-8b55-26162e7f6253 story_id=d00c6a98-bff2-49e0-a98b-a1097e89109c tenant_id=a57f6026-a93d-4bb8-babb-d0189ab703f3
time=2026-01-04T14:10:05.239-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-04T14:10:05.239-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:05.240-03:00 level=INFO msg="scene created" scene_id=4f1d7a4c-5c14-4649-ac78-b803b0e77518 story_id=d00c6a98-bff2-49e0-a98b-a1097e89109c tenant_id=a57f6026-a93d-4bb8-babb-d0189ab703f3
time=2026-01-04T14:10:05.240-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-04T14:10:05.240-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/ListScenesByStory
time=2026-01-04T14:10:05.241-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/ListScenesByStory duration_ms=0
time=2026-01-04T14:10:05.241-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_ListScenesByStory (0.26s)
    --- PASS: TestSceneHandler_ListScenesByStory/list_scenes_by_story (0.01s)
=== RUN   TestSceneHandler_DeleteScene
time=2026-01-04T14:10:05.517-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:05.517-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:05.517-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:05.517-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:05.517-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:05.517-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:05.517-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-04T14:10:05.518-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:05.521-03:00 level=INFO msg="tenant created" tenant_id=d526e595-830b-4179-bcf7-3e9a360c6696 name="Test Tenant for Delete Scene"
time=2026-01-04T14:10:05.521-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:05.521-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:05.523-03:00 level=INFO msg="world created" world_id=7018f274-b72c-4363-b67a-44697d564fb6 name="World of Test Story" tenant_id=d526e595-830b-4179-bcf7-3e9a360c6696
time=2026-01-04T14:10:05.523-03:00 level=INFO msg="created implicit world for story" world_id=7018f274-b72c-4363-b67a-44697d564fb6 story_title="Test Story"
time=2026-01-04T14:10:05.524-03:00 level=INFO msg="story created" story_id=6533bf4c-76ef-4ec9-9e3c-8fb136dc3c43 title="Test Story" tenant_id=d526e595-830b-4179-bcf7-3e9a360c6696
time=2026-01-04T14:10:05.524-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_DeleteScene/successful_delete
time=2026-01-04T14:10:05.524-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:05.525-03:00 level=INFO msg="scene created" scene_id=3c6bc281-db0a-4a0a-8342-7782c94e0e69 story_id=6533bf4c-76ef-4ec9-9e3c-8fb136dc3c43 tenant_id=d526e595-830b-4179-bcf7-3e9a360c6696
time=2026-01-04T14:10:05.525-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-04T14:10:05.525-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/DeleteScene
time=2026-01-04T14:10:05.527-03:00 level=INFO msg="scene deleted" scene_id=3c6bc281-db0a-4a0a-8342-7782c94e0e69 tenant_id=d526e595-830b-4179-bcf7-3e9a360c6696
time=2026-01-04T14:10:05.527-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/DeleteScene duration_ms=1
time=2026-01-04T14:10:05.527-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_DeleteScene (0.31s)
    --- PASS: TestSceneHandler_DeleteScene/successful_delete (0.00s)
=== RUN   TestSceneHandler_AddSceneReference
time=2026-01-04T14:10:05.720-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:05.720-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:05.720-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:05.720-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:05.720-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:10:05.720-03:00 level=INFO msg="LocationService registered"
time=2026-01-04T14:10:05.720-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:10:05.720-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-04T14:10:05.720-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:05.724-03:00 level=INFO msg="tenant created" tenant_id=e7752d0c-38a7-4a99-b94f-e010ac52ef6a name="Test Tenant for Scene References"
time=2026-01-04T14:10:05.724-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:05.724-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:05.725-03:00 level=INFO msg="world created" world_id=b2914b91-76d1-45a8-b2a4-816e14efcbaa name="Test World" tenant_id=e7752d0c-38a7-4a99-b94f-e010ac52ef6a
time=2026-01-04T14:10:05.725-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:10:05.726-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:05.727-03:00 level=INFO msg="world created" world_id=54e9aa64-ba23-48f9-9c71-92b7a95c7b7c name="World of Test Story" tenant_id=e7752d0c-38a7-4a99-b94f-e010ac52ef6a
time=2026-01-04T14:10:05.727-03:00 level=INFO msg="created implicit world for story" world_id=54e9aa64-ba23-48f9-9c71-92b7a95c7b7c story_title="Test Story"
time=2026-01-04T14:10:05.728-03:00 level=INFO msg="story created" story_id=807bfcb1-d5f2-4275-9325-c39792ad34e1 title="Test Story" tenant_id=e7752d0c-38a7-4a99-b94f-e010ac52ef6a
time=2026-01-04T14:10:05.728-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:10:05.728-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:05.729-03:00 level=INFO msg="scene created" scene_id=53a0c6d0-1a69-4a8d-ae15-66bee061641a story_id=807bfcb1-d5f2-4275-9325-c39792ad34e1 tenant_id=e7752d0c-38a7-4a99-b94f-e010ac52ef6a
time=2026-01-04T14:10:05.729-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_character_reference
time=2026-01-04T14:10:05.730-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:10:05.732-03:00 level=INFO msg="character created" character_id=cf58bc03-1ae6-4005-9fef-235f697947de name="Test Character"
time=2026-01-04T14:10:05.732-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-04T14:10:05.732-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-04T14:10:05.734-03:00 level=INFO msg="scene reference added" scene_id=53a0c6d0-1a69-4a8d-ae15-66bee061641a entity_type=character entity_id=cf58bc03-1ae6-4005-9fef-235f697947de story_id=807bfcb1-d5f2-4275-9325-c39792ad34e1
time=2026-01-04T14:10:05.735-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
=== RUN   TestSceneHandler_AddSceneReference/add_location_reference
time=2026-01-04T14:10:05.735-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-04T14:10:05.736-03:00 level=INFO msg="location created" location_id=7f192d04-73d5-464f-b2f7-fda905bdaf83 name="Test Location"
time=2026-01-04T14:10:05.736-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-04T14:10:05.737-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-04T14:10:05.738-03:00 level=INFO msg="scene reference added" scene_id=53a0c6d0-1a69-4a8d-ae15-66bee061641a entity_type=location entity_id=7f192d04-73d5-464f-b2f7-fda905bdaf83 story_id=807bfcb1-d5f2-4275-9325-c39792ad34e1
time=2026-01-04T14:10:05.738-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_artifact_reference
time=2026-01-04T14:10:05.738-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:10:05.740-03:00 level=INFO msg="artifact created" artifact_id=5f1709bd-56c6-49c1-a1e9-eb53541218cb name="Test Artifact"
time=2026-01-04T14:10:05.740-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-04T14:10:05.740-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-04T14:10:05.741-03:00 level=INFO msg="scene reference added" scene_id=53a0c6d0-1a69-4a8d-ae15-66bee061641a entity_type=artifact entity_id=5f1709bd-56c6-49c1-a1e9-eb53541218cb story_id=807bfcb1-d5f2-4275-9325-c39792ad34e1
time=2026-01-04T14:10:05.741-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/invalid_entity_type
time=2026-01-04T14:10:05.742-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-04T14:10:05.742-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = InvalidArgument desc = entity_type must be 'character', 'location', or 'artifact'"
=== RUN   TestSceneHandler_AddSceneReference/invalid_scene_id
time=2026-01-04T14:10:05.742-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-04T14:10:05.742-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 7545a708-63e3-40f0-aae9-fbeb560817c7"
time=2026-01-04T14:10:05.742-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_AddSceneReference (0.19s)
    --- PASS: TestSceneHandler_AddSceneReference/add_character_reference (0.01s)
    --- PASS: TestSceneHandler_AddSceneReference/add_location_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_artifact_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_entity_type (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_scene_id (0.00s)
=== RUN   TestSceneHandler_RemoveSceneReference
time=2026-01-04T14:10:05.937-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:05.937-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:05.937-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:05.937-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:05.937-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:10:05.937-03:00 level=INFO msg="LocationService registered"
time=2026-01-04T14:10:05.937-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:10:05.937-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-04T14:10:05.938-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:05.941-03:00 level=INFO msg="tenant created" tenant_id=0fa877e3-863b-4b53-b26f-e029f628b763 name="Test Tenant for Remove Reference"
time=2026-01-04T14:10:05.941-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:05.941-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:05.942-03:00 level=INFO msg="world created" world_id=78b4f075-24d3-4653-b43c-0b5af6371ee1 name="Test World" tenant_id=0fa877e3-863b-4b53-b26f-e029f628b763
time=2026-01-04T14:10:05.942-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:10:05.942-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:05.943-03:00 level=INFO msg="world created" world_id=20344434-14ad-4896-a39f-483734c05989 name="World of Test Story" tenant_id=0fa877e3-863b-4b53-b26f-e029f628b763
time=2026-01-04T14:10:05.943-03:00 level=INFO msg="created implicit world for story" world_id=20344434-14ad-4896-a39f-483734c05989 story_title="Test Story"
time=2026-01-04T14:10:05.944-03:00 level=INFO msg="story created" story_id=299f4c64-a789-43d3-bc60-db81e05e130f title="Test Story" tenant_id=0fa877e3-863b-4b53-b26f-e029f628b763
time=2026-01-04T14:10:05.944-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:10:05.945-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:05.946-03:00 level=INFO msg="scene created" scene_id=fae5b4ee-9472-4ca8-83de-dae95498784e story_id=299f4c64-a789-43d3-bc60-db81e05e130f tenant_id=0fa877e3-863b-4b53-b26f-e029f628b763
time=2026-01-04T14:10:05.946-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-04T14:10:05.946-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:10:05.947-03:00 level=INFO msg="character created" character_id=db0b7206-06df-42cd-ac1a-d9a135d505fd name="Test Character"
time=2026-01-04T14:10:05.947-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestSceneHandler_RemoveSceneReference/successful_remove
time=2026-01-04T14:10:05.947-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-04T14:10:05.949-03:00 level=INFO msg="scene reference added" scene_id=fae5b4ee-9472-4ca8-83de-dae95498784e entity_type=character entity_id=db0b7206-06df-42cd-ac1a-d9a135d505fd story_id=299f4c64-a789-43d3-bc60-db81e05e130f
time=2026-01-04T14:10:05.949-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-04T14:10:05.950-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-04T14:10:05.950-03:00 level=INFO msg="scene reference removed" scene_id=fae5b4ee-9472-4ca8-83de-dae95498784e entity_type=character entity_id=db0b7206-06df-42cd-ac1a-d9a135d505fd
time=2026-01-04T14:10:05.950-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/RemoveSceneReference duration_ms=0
time=2026-01-04T14:10:05.950-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-04T14:10:05.950-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/remove_non-existing_reference
time=2026-01-04T14:10:05.951-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-04T14:10:05.951-03:00 level=ERROR msg="failed to remove scene reference" error="scene_reference not found: fae5b4ee-9472-4ca8-83de-dae95498784e/character/79ee5b62-65ad-4b6d-8f0d-3422187c2724" scene_id=fae5b4ee-9472-4ca8-83de-dae95498784e
time=2026-01-04T14:10:05.951-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/RemoveSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene_reference not found: fae5b4ee-9472-4ca8-83de-dae95498784e/character/79ee5b62-65ad-4b6d-8f0d-3422187c2724"
time=2026-01-04T14:10:05.951-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_RemoveSceneReference (0.21s)
    --- PASS: TestSceneHandler_RemoveSceneReference/successful_remove (0.00s)
    --- PASS: TestSceneHandler_RemoveSceneReference/remove_non-existing_reference (0.00s)
=== RUN   TestSceneHandler_GetSceneReferences
time=2026-01-04T14:10:06.150-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:06.150-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:06.150-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:06.150-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:06.150-03:00 level=INFO msg="WorldService registered"
time=2026-01-04T14:10:06.150-03:00 level=INFO msg="LocationService registered"
time=2026-01-04T14:10:06.150-03:00 level=INFO msg="CharacterService registered"
time=2026-01-04T14:10:06.150-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-04T14:10:06.150-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:06.153-03:00 level=INFO msg="tenant created" tenant_id=3079eb11-1b6c-40d7-bfaa-05bd6126c5b0 name="Test Tenant for Get References"
time=2026-01-04T14:10:06.153-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:06.153-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:06.154-03:00 level=INFO msg="world created" world_id=f9be6b3d-f0a1-4673-8f1d-c766f6fdd9f3 name="Test World" tenant_id=3079eb11-1b6c-40d7-bfaa-05bd6126c5b0
time=2026-01-04T14:10:06.154-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:10:06.154-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:06.155-03:00 level=INFO msg="world created" world_id=0794ec00-e580-4be4-8fc8-b85926564413 name="World of Test Story" tenant_id=3079eb11-1b6c-40d7-bfaa-05bd6126c5b0
time=2026-01-04T14:10:06.155-03:00 level=INFO msg="created implicit world for story" world_id=0794ec00-e580-4be4-8fc8-b85926564413 story_title="Test Story"
time=2026-01-04T14:10:06.157-03:00 level=INFO msg="story created" story_id=3f985826-4827-4d47-bd51-cac30e727a62 title="Test Story" tenant_id=3079eb11-1b6c-40d7-bfaa-05bd6126c5b0
time=2026-01-04T14:10:06.157-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:10:06.157-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:06.158-03:00 level=INFO msg="scene created" scene_id=10d6eea6-9f9a-4713-9eac-116adbe2a9fe story_id=3f985826-4827-4d47-bd51-cac30e727a62 tenant_id=3079eb11-1b6c-40d7-bfaa-05bd6126c5b0
time=2026-01-04T14:10:06.158-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_multiple_references
time=2026-01-04T14:10:06.158-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-04T14:10:06.160-03:00 level=INFO msg="character created" character_id=31dfc212-070f-4411-86fb-b9ab94ec15af name="Test Character"
time=2026-01-04T14:10:06.160-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-04T14:10:06.160-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-04T14:10:06.161-03:00 level=INFO msg="location created" location_id=e244d5c3-cb67-4394-9dd4-58d7ff27aa2b name="Test Location"
time=2026-01-04T14:10:06.161-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-04T14:10:06.161-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-04T14:10:06.162-03:00 level=INFO msg="artifact created" artifact_id=c13f5538-7e1b-45cb-a17d-dc3cdd2fe427 name="Test Artifact"
time=2026-01-04T14:10:06.162-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-04T14:10:06.162-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-04T14:10:06.164-03:00 level=INFO msg="scene reference added" scene_id=10d6eea6-9f9a-4713-9eac-116adbe2a9fe entity_type=character entity_id=31dfc212-070f-4411-86fb-b9ab94ec15af story_id=3f985826-4827-4d47-bd51-cac30e727a62
time=2026-01-04T14:10:06.165-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-04T14:10:06.165-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-04T14:10:06.166-03:00 level=INFO msg="scene reference added" scene_id=10d6eea6-9f9a-4713-9eac-116adbe2a9fe entity_type=location entity_id=e244d5c3-cb67-4394-9dd4-58d7ff27aa2b story_id=3f985826-4827-4d47-bd51-cac30e727a62
time=2026-01-04T14:10:06.166-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=0
time=2026-01-04T14:10:06.166-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-04T14:10:06.167-03:00 level=INFO msg="scene reference added" scene_id=10d6eea6-9f9a-4713-9eac-116adbe2a9fe entity_type=artifact entity_id=c13f5538-7e1b-45cb-a17d-dc3cdd2fe427 story_id=3f985826-4827-4d47-bd51-cac30e727a62
time=2026-01-04T14:10:06.167-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-04T14:10:06.167-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-04T14:10:06.167-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_empty_references
time=2026-01-04T14:10:06.167-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-04T14:10:06.168-03:00 level=INFO msg="scene created" scene_id=465c0211-e773-46dc-ae0c-53794b060f10 story_id=3f985826-4827-4d47-bd51-cac30e727a62 tenant_id=3079eb11-1b6c-40d7-bfaa-05bd6126c5b0
time=2026-01-04T14:10:06.168-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-04T14:10:06.168-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-04T14:10:06.168-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/invalid_scene_id
time=2026-01-04T14:10:06.168-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-04T14:10:06.168-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetSceneReferences duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid scene_id: invalid UUID length: 10"
time=2026-01-04T14:10:06.168-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetSceneReferences (0.24s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_multiple_references (0.01s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_empty_references (0.00s)
    --- PASS: TestSceneHandler_GetSceneReferences/invalid_scene_id (0.00s)
=== RUN   TestSkillHandler_CreateSkill
time=2026-01-04T14:10:06.380-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:06.380-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:10:06.380-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_CreateSkill/successful_creation
time=2026-01-04T14:10:06.380-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:06.383-03:00 level=INFO msg="tenant created" tenant_id=511509a1-15b1-4c6a-a079-b6bf644ee329 name="Test Tenant for Skill"
time=2026-01-04T14:10:06.383-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:06.383-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:06.384-03:00 level=INFO msg="RPG system created" rpg_system_id=6695aaaa-66c2-485d-8feb-fd6172502b1a name="Test System"
time=2026-01-04T14:10:06.384-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:06.384-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:06.386-03:00 level=INFO msg="skill created" skill_id=00139606-9fb0-429f-8f6d-468a035eb682 name=Fireball
time=2026-01-04T14:10:06.386-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestSkillHandler_CreateSkill/empty_name
time=2026-01-04T14:10:06.386-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:06.386-03:00 level=INFO msg="tenant created" tenant_id=afc06a70-7ecc-4882-8a9b-f5da7a091d65 name="Test Tenant 2"
time=2026-01-04T14:10:06.386-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:06.387-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:06.387-03:00 level=INFO msg="RPG system created" rpg_system_id=f8293ca8-7f25-41b6-b661-3f123a855f34 name="Test System 2"
time=2026-01-04T14:10:06.387-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-04T14:10:06.387-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:06.387-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/CreateSkill duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-04T14:10:06.387-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_CreateSkill (0.22s)
    --- PASS: TestSkillHandler_CreateSkill/successful_creation (0.01s)
    --- PASS: TestSkillHandler_CreateSkill/empty_name (0.00s)
=== RUN   TestSkillHandler_GetSkill
time=2026-01-04T14:10:06.615-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:06.615-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:10:06.615-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_GetSkill/existing_skill
time=2026-01-04T14:10:06.617-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:06.619-03:00 level=INFO msg="tenant created" tenant_id=4889f9d4-7625-4e15-b604-fec9bc007e03 name="Get Test Tenant"
time=2026-01-04T14:10:06.619-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:06.619-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:06.621-03:00 level=INFO msg="RPG system created" rpg_system_id=8d51e41d-d5ac-4846-ae75-fca49197239b name="Get Test System"
time=2026-01-04T14:10:06.621-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:06.621-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:06.622-03:00 level=INFO msg="skill created" skill_id=5ed0ef35-591d-431b-8265-7d155e19b35b name="Get Test Skill"
time=2026-01-04T14:10:06.622-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-04T14:10:06.622-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-04T14:10:06.623-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/GetSkill duration_ms=0
=== RUN   TestSkillHandler_GetSkill/non-existing_skill
time=2026-01-04T14:10:06.623-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:06.624-03:00 level=INFO msg="tenant created" tenant_id=f3fb5799-ec69-489b-aed9-c1feeb8887ef name="Non-existing Test Tenant"
time=2026-01-04T14:10:06.624-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:06.624-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-04T14:10:06.624-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: fd2fa176-55ef-4af3-afe8-5aabe640f053" skill_id=fd2fa176-55ef-4af3-afe8-5aabe640f053
time=2026-01-04T14:10:06.624-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: fd2fa176-55ef-4af3-afe8-5aabe640f053"
time=2026-01-04T14:10:06.624-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_GetSkill (0.24s)
    --- PASS: TestSkillHandler_GetSkill/existing_skill (0.01s)
    --- PASS: TestSkillHandler_GetSkill/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_ListSkills
time=2026-01-04T14:10:06.852-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:06.852-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:10:06.852-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_ListSkills/list_skills
time=2026-01-04T14:10:06.852-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:06.855-03:00 level=INFO msg="tenant created" tenant_id=690b2ffc-52a1-4c64-a2b2-c99680f2bf2b name="List Test Tenant"
time=2026-01-04T14:10:06.855-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:06.855-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:06.856-03:00 level=INFO msg="RPG system created" rpg_system_id=2127a1e4-1603-4193-b682-2726bd739bd9 name="List Test System"
time=2026-01-04T14:10:06.856-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:06.856-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:06.858-03:00 level=INFO msg="skill created" skill_id=10898b4d-9570-4a82-a7bf-cc4a3db39a37 name="Skill 1"
time=2026-01-04T14:10:06.858-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-04T14:10:06.858-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:06.858-03:00 level=INFO msg="skill created" skill_id=8f704386-ad96-48d2-a493-72695b0e52ea name="Skill 2"
time=2026-01-04T14:10:06.858-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-04T14:10:06.858-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/ListSkills
time=2026-01-04T14:10:06.859-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/ListSkills duration_ms=0
time=2026-01-04T14:10:06.859-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_ListSkills (0.23s)
    --- PASS: TestSkillHandler_ListSkills/list_skills (0.01s)
=== RUN   TestSkillHandler_UpdateSkill
time=2026-01-04T14:10:07.126-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:07.126-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:10:07.126-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_UpdateSkill/update_skill
time=2026-01-04T14:10:07.127-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:07.130-03:00 level=INFO msg="tenant created" tenant_id=ff438dfa-84f2-4193-a2e1-901ab0e82bc7 name="Update Test Tenant"
time=2026-01-04T14:10:07.130-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:07.130-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:07.132-03:00 level=INFO msg="RPG system created" rpg_system_id=dc8002b7-925d-4090-be90-ec0fbb9eb792 name="Update Test System"
time=2026-01-04T14:10:07.132-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:07.132-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:07.133-03:00 level=INFO msg="skill created" skill_id=37e9b9e6-f823-4205-b376-5d72548f3d97 name="Original Skill"
time=2026-01-04T14:10:07.133-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-04T14:10:07.133-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/UpdateSkill
time=2026-01-04T14:10:07.144-03:00 level=INFO msg="skill updated" skill_id=37e9b9e6-f823-4205-b376-5d72548f3d97
time=2026-01-04T14:10:07.144-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/UpdateSkill duration_ms=10
time=2026-01-04T14:10:07.144-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_UpdateSkill (0.30s)
    --- PASS: TestSkillHandler_UpdateSkill/update_skill (0.02s)
=== RUN   TestSkillHandler_DeleteSkill
time=2026-01-04T14:10:07.374-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:07.374-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-04T14:10:07.374-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_DeleteSkill/delete_skill
time=2026-01-04T14:10:07.374-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:07.377-03:00 level=INFO msg="tenant created" tenant_id=63096071-2331-446e-ac9f-f79845bd31d6 name="Delete Test Tenant"
time=2026-01-04T14:10:07.377-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:07.377-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-04T14:10:07.378-03:00 level=INFO msg="RPG system created" rpg_system_id=4fabe7b2-c3f5-4b44-8931-19e8173b7547 name="Delete Test System"
time=2026-01-04T14:10:07.378-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-04T14:10:07.378-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-04T14:10:07.380-03:00 level=INFO msg="skill created" skill_id=2ef1cac6-4817-404f-b0b3-db146f8fd5a7 name="Skill to Delete"
time=2026-01-04T14:10:07.380-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-04T14:10:07.380-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/DeleteSkill
time=2026-01-04T14:10:07.381-03:00 level=INFO msg="skill deleted" skill_id=2ef1cac6-4817-404f-b0b3-db146f8fd5a7
time=2026-01-04T14:10:07.381-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/DeleteSkill duration_ms=1
time=2026-01-04T14:10:07.382-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-04T14:10:07.382-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 2ef1cac6-4817-404f-b0b3-db146f8fd5a7" skill_id=2ef1cac6-4817-404f-b0b3-db146f8fd5a7
time=2026-01-04T14:10:07.382-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 2ef1cac6-4817-404f-b0b3-db146f8fd5a7"
time=2026-01-04T14:10:07.382-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_DeleteSkill (0.22s)
    --- PASS: TestSkillHandler_DeleteSkill/delete_skill (0.01s)
=== RUN   TestStoryHandler_CreateStory
time=2026-01-04T14:10:07.603-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:07.603-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:07.603-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:07.603-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:07.603-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:07.603-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:07.603-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata
time=2026-01-04T14:10:07.604-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:07.607-03:00 level=INFO msg="tenant created" tenant_id=7070d6cc-f54f-4671-a2e1-bf0d262cbd5f name="Test Tenant for Story"
time=2026-01-04T14:10:07.607-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:07.607-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:07.609-03:00 level=INFO msg="world created" world_id=74f44e0f-3b86-4ff9-bfd0-03a039977742 name="World of Test Story" tenant_id=7070d6cc-f54f-4671-a2e1-bf0d262cbd5f
time=2026-01-04T14:10:07.609-03:00 level=INFO msg="created implicit world for story" world_id=74f44e0f-3b86-4ff9-bfd0-03a039977742 story_title="Test Story"
time=2026-01-04T14:10:07.610-03:00 level=INFO msg="story created" story_id=939caafb-f6f4-4365-9388-021b69b042af title="Test Story" tenant_id=7070d6cc-f54f-4671-a2e1-bf0d262cbd5f
time=2026-01-04T14:10:07.610-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request
time=2026-01-04T14:10:07.610-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:07.611-03:00 level=INFO msg="tenant created" tenant_id=887fa7e7-9603-4679-86d1-b974ca885250 name="Test Tenant for Story 2"
time=2026-01-04T14:10:07.611-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:07.611-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:07.612-03:00 level=INFO msg="world created" world_id=094976dc-9a23-469e-8afe-aab06f639eef name="World of Test Story 2" tenant_id=887fa7e7-9603-4679-86d1-b974ca885250
time=2026-01-04T14:10:07.612-03:00 level=INFO msg="created implicit world for story" world_id=094976dc-9a23-469e-8afe-aab06f639eef story_title="Test Story 2"
time=2026-01-04T14:10:07.613-03:00 level=INFO msg="story created" story_id=12e9623f-d4f4-47fc-98f7-0c45935251d8 title="Test Story 2" tenant_id=887fa7e7-9603-4679-86d1-b974ca885250
time=2026-01-04T14:10:07.613-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
=== RUN   TestStoryHandler_CreateStory/without_tenant_id
time=2026-01-04T14:10:07.613-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:07.613-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
=== RUN   TestStoryHandler_CreateStory/with_invalid_tenant
time=2026-01-04T14:10:07.613-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:07.614-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: 777fb44b-3228-4e08-9a10-be1de9cc9504"
=== RUN   TestStoryHandler_CreateStory/empty_title
time=2026-01-04T14:10:07.614-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:07.614-03:00 level=INFO msg="tenant created" tenant_id=00871811-14ca-4710-bbf6-4bdb080b4399 name="Test Tenant for Empty Title"
time=2026-01-04T14:10:07.614-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:07.615-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:07.615-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = title is required"
time=2026-01-04T14:10:07.615-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CreateStory (0.23s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata (0.01s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestStoryHandler_CreateStory/without_tenant_id (0.00s)
    --- PASS: TestStoryHandler_CreateStory/with_invalid_tenant (0.00s)
    --- PASS: TestStoryHandler_CreateStory/empty_title (0.00s)
=== RUN   TestStoryHandler_GetStory
time=2026-01-04T14:10:07.823-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:07.823-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:07.823-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:07.823-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:07.823-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:07.823-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:07.823-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_GetStory/existing_story
time=2026-01-04T14:10:07.823-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:07.826-03:00 level=INFO msg="tenant created" tenant_id=b4151878-e739-4b24-b98f-996f72a00766 name="Test Tenant for Get"
time=2026-01-04T14:10:07.826-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:07.826-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:07.827-03:00 level=INFO msg="world created" world_id=19e63a5a-ac76-48d5-92e6-989a2902336a name="World of Get Test Story" tenant_id=b4151878-e739-4b24-b98f-996f72a00766
time=2026-01-04T14:10:07.827-03:00 level=INFO msg="created implicit world for story" world_id=19e63a5a-ac76-48d5-92e6-989a2902336a story_title="Get Test Story"
time=2026-01-04T14:10:07.829-03:00 level=INFO msg="story created" story_id=0cfb0513-8c36-4412-a56e-4cb3a665d0d6 title="Get Test Story" tenant_id=b4151878-e739-4b24-b98f-996f72a00766
time=2026-01-04T14:10:07.829-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
    story_handler_test.go:160: Created story ID: '0cfb0513-8c36-4412-a56e-4cb3a665d0d6' (length: 36)
time=2026-01-04T14:10:07.829-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-04T14:10:07.830-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/GetStory duration_ms=0
=== RUN   TestStoryHandler_GetStory/non-existing_story
time=2026-01-04T14:10:07.830-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:07.831-03:00 level=INFO msg="tenant created" tenant_id=30365570-92de-4748-bd98-9ba724524c95 name="Test Tenant for Non-existing"
time=2026-01-04T14:10:07.831-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:07.831-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-04T14:10:07.831-03:00 level=ERROR msg="failed to get story" error="story not found: 9aeed229-d1d1-45e5-9663-db671babd366" story_id=9aeed229-d1d1-45e5-9663-db671babd366 tenant_id=30365570-92de-4748-bd98-9ba724524c95
time=2026-01-04T14:10:07.831-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 9aeed229-d1d1-45e5-9663-db671babd366"
=== RUN   TestStoryHandler_GetStory/invalid_story_ID
time=2026-01-04T14:10:07.831-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:07.832-03:00 level=INFO msg="tenant created" tenant_id=834b69b9-9eb7-4512-b795-0e92e5612909 name="Test Tenant for Invalid ID"
time=2026-01-04T14:10:07.832-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:07.832-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-04T14:10:07.832-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-04T14:10:07.832-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_GetStory (0.20s)
    --- PASS: TestStoryHandler_GetStory/existing_story (0.01s)
    --- PASS: TestStoryHandler_GetStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_GetStory/invalid_story_ID (0.00s)
=== RUN   TestStoryHandler_ListStories
time=2026-01-04T14:10:08.056-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:08.056-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:08.056-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:08.056-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:08.056-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:08.056-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:08.056-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStories/with_pagination
time=2026-01-04T14:10:08.057-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:08.059-03:00 level=INFO msg="tenant created" tenant_id=37ae95b4-d280-4690-b2dc-77376e913187 name="Test Tenant for List"
time=2026-01-04T14:10:08.059-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:08.060-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:08.061-03:00 level=INFO msg="world created" world_id=0d93786e-1f6d-4ec8-b48a-35295aee1fc3 name="World of List Test Story 1" tenant_id=37ae95b4-d280-4690-b2dc-77376e913187
time=2026-01-04T14:10:08.061-03:00 level=INFO msg="created implicit world for story" world_id=0d93786e-1f6d-4ec8-b48a-35295aee1fc3 story_title="List Test Story 1"
time=2026-01-04T14:10:08.062-03:00 level=INFO msg="story created" story_id=8811f70c-4ef0-4e89-8e25-4d32ee332bbd title="List Test Story 1" tenant_id=37ae95b4-d280-4690-b2dc-77376e913187
time=2026-01-04T14:10:08.062-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:10:08.062-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:08.063-03:00 level=INFO msg="world created" world_id=0694ed32-059d-4046-834d-91313ee25f15 name="World of List Test Story 2" tenant_id=37ae95b4-d280-4690-b2dc-77376e913187
time=2026-01-04T14:10:08.063-03:00 level=INFO msg="created implicit world for story" world_id=0694ed32-059d-4046-834d-91313ee25f15 story_title="List Test Story 2"
time=2026-01-04T14:10:08.064-03:00 level=INFO msg="story created" story_id=ecb6f70e-3519-4285-b4c2-b2d0173f71a1 title="List Test Story 2" tenant_id=37ae95b4-d280-4690-b2dc-77376e913187
time=2026-01-04T14:10:08.064-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-04T14:10:08.064-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:08.065-03:00 level=INFO msg="world created" world_id=38e69403-d969-4403-bd68-9c4bed0f2005 name="World of List Test Story 3" tenant_id=37ae95b4-d280-4690-b2dc-77376e913187
time=2026-01-04T14:10:08.065-03:00 level=INFO msg="created implicit world for story" world_id=38e69403-d969-4403-bd68-9c4bed0f2005 story_title="List Test Story 3"
time=2026-01-04T14:10:08.066-03:00 level=INFO msg="story created" story_id=1814c6d8-8724-4aba-8fdc-74e622f99fe2 title="List Test Story 3" tenant_id=37ae95b4-d280-4690-b2dc-77376e913187
time=2026-01-04T14:10:08.066-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-04T14:10:08.066-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-04T14:10:08.066-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStories duration_ms=0
=== RUN   TestStoryHandler_ListStories/without_tenant_id
time=2026-01-04T14:10:08.067-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-04T14:10:08.067-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/ListStories duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
time=2026-01-04T14:10:08.067-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStories (0.26s)
    --- PASS: TestStoryHandler_ListStories/with_pagination (0.01s)
    --- PASS: TestStoryHandler_ListStories/without_tenant_id (0.00s)
=== RUN   TestStoryHandler_CloneStory
time=2026-01-04T14:10:08.314-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:08.314-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:08.314-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:08.314-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:08.314-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:08.314-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:08.314-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CloneStory/successful_clone
time=2026-01-04T14:10:08.315-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:08.318-03:00 level=INFO msg="tenant created" tenant_id=3b0ac5e0-b303-4eea-9427-d3f1a193e0fa name="Test Tenant for Clone"
time=2026-01-04T14:10:08.318-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:08.318-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:08.319-03:00 level=INFO msg="world created" world_id=bf2eeb5c-f670-4eba-a05e-e8323c38bd0a name="World of Clone Test Story" tenant_id=3b0ac5e0-b303-4eea-9427-d3f1a193e0fa
time=2026-01-04T14:10:08.319-03:00 level=INFO msg="created implicit world for story" world_id=bf2eeb5c-f670-4eba-a05e-e8323c38bd0a story_title="Clone Test Story"
time=2026-01-04T14:10:08.321-03:00 level=INFO msg="story created" story_id=5e5fbfe2-b23d-4278-92d8-9df633a1ac3e title="Clone Test Story" tenant_id=3b0ac5e0-b303-4eea-9427-d3f1a193e0fa
time=2026-01-04T14:10:08.321-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:10:08.321-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-04T14:10:08.324-03:00 level=INFO msg="story cloned" source_story_id=5e5fbfe2-b23d-4278-92d8-9df633a1ac3e new_story_id=f4ea4c09-a6a0-4688-8fa8-e0c91a408ccd version_number=2
time=2026-01-04T14:10:08.324-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
=== RUN   TestStoryHandler_CloneStory/non-existing_source_story
time=2026-01-04T14:10:08.324-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:08.325-03:00 level=INFO msg="tenant created" tenant_id=3e6b4301-11d6-4820-a09e-38332e26e3aa name="Test Tenant for Non-existing Clone"
time=2026-01-04T14:10:08.325-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:08.325-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-04T14:10:08.325-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CloneStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 4ea5b71a-41ac-4f74-b8d0-578074ef2283"
time=2026-01-04T14:10:08.325-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CloneStory (0.27s)
    --- PASS: TestStoryHandler_CloneStory/successful_clone (0.01s)
    --- PASS: TestStoryHandler_CloneStory/non-existing_source_story (0.00s)
=== RUN   TestStoryHandler_ListStoryVersions
time=2026-01-04T14:10:08.585-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:08.585-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:08.585-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:08.585-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:08.585-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:08.585-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:08.585-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStoryVersions/list_versions
time=2026-01-04T14:10:08.586-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:08.588-03:00 level=INFO msg="tenant created" tenant_id=f54376fa-cb5a-43a3-8b5a-8f4befa229f3 name="Test Tenant for Versions"
time=2026-01-04T14:10:08.588-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:08.588-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:08.590-03:00 level=INFO msg="world created" world_id=96922d8e-2f06-4e6f-9e1f-b2cfae4f5cd4 name="World of Version Test Story" tenant_id=f54376fa-cb5a-43a3-8b5a-8f4befa229f3
time=2026-01-04T14:10:08.590-03:00 level=INFO msg="created implicit world for story" world_id=96922d8e-2f06-4e6f-9e1f-b2cfae4f5cd4 story_title="Version Test Story"
time=2026-01-04T14:10:08.591-03:00 level=INFO msg="story created" story_id=3f11d8b9-955e-4299-bc42-2d3a6755b440 title="Version Test Story" tenant_id=f54376fa-cb5a-43a3-8b5a-8f4befa229f3
time=2026-01-04T14:10:08.591-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:10:08.592-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-04T14:10:08.594-03:00 level=INFO msg="story cloned" source_story_id=3f11d8b9-955e-4299-bc42-2d3a6755b440 new_story_id=11a1df0f-2e60-4abe-bda0-00c32e60160d version_number=2
time=2026-01-04T14:10:08.595-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
time=2026-01-04T14:10:08.595-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-04T14:10:08.596-03:00 level=INFO msg="story cloned" source_story_id=11a1df0f-2e60-4abe-bda0-00c32e60160d new_story_id=2eb2cacc-2db6-44a1-a06b-2446bb0fda20 version_number=3
time=2026-01-04T14:10:08.597-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=1
time=2026-01-04T14:10:08.597-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-04T14:10:08.597-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
=== RUN   TestStoryHandler_ListStoryVersions/non-existing_root_story
time=2026-01-04T14:10:08.597-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:08.598-03:00 level=INFO msg="tenant created" tenant_id=7fe22b65-fb4f-4590-8356-4bbe74d8c6b1 name="Test Tenant for Non-existing Root"
time=2026-01-04T14:10:08.598-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:08.598-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-04T14:10:08.598-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
time=2026-01-04T14:10:08.598-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStoryVersions (0.26s)
    --- PASS: TestStoryHandler_ListStoryVersions/list_versions (0.01s)
    --- PASS: TestStoryHandler_ListStoryVersions/non-existing_root_story (0.00s)
=== RUN   TestStoryHandler_UpdateStory
time=2026-01-04T14:10:08.853-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:08.853-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:08.853-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:08.853-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:08.853-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:08.853-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:08.853-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_UpdateStory/successful_update_title
time=2026-01-04T14:10:08.853-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:08.856-03:00 level=INFO msg="tenant created" tenant_id=36165460-a6b0-4182-870c-828c17ad7d99 name="Test Tenant for Update Story"
time=2026-01-04T14:10:08.856-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:08.856-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:08.857-03:00 level=INFO msg="world created" world_id=aa0d0e1f-d8ca-4c05-9f12-f2fc95d5309f name="World of Original Title" tenant_id=36165460-a6b0-4182-870c-828c17ad7d99
time=2026-01-04T14:10:08.857-03:00 level=INFO msg="created implicit world for story" world_id=aa0d0e1f-d8ca-4c05-9f12-f2fc95d5309f story_title="Original Title"
time=2026-01-04T14:10:08.858-03:00 level=INFO msg="story created" story_id=6e097d15-3588-4851-bc4b-b7852b13db3f title="Original Title" tenant_id=36165460-a6b0-4182-870c-828c17ad7d99
time=2026-01-04T14:10:08.858-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-04T14:10:08.859-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-04T14:10:08.860-03:00 level=INFO msg="story updated" story_id=6e097d15-3588-4851-bc4b-b7852b13db3f tenant_id=36165460-a6b0-4182-870c-828c17ad7d99
time=2026-01-04T14:10:08.860-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=1
=== RUN   TestStoryHandler_UpdateStory/successful_update_status
time=2026-01-04T14:10:08.860-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:08.861-03:00 level=INFO msg="tenant created" tenant_id=6c2a09c7-8d69-4127-8b8b-d6245155f6af name="Test Tenant for Update Story Status"
time=2026-01-04T14:10:08.861-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:08.861-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-04T14:10:08.862-03:00 level=INFO msg="world created" world_id=40e1f194-db4b-438c-afda-32767c39139b name="World of Test Story" tenant_id=6c2a09c7-8d69-4127-8b8b-d6245155f6af
time=2026-01-04T14:10:08.862-03:00 level=INFO msg="created implicit world for story" world_id=40e1f194-db4b-438c-afda-32767c39139b story_title="Test Story"
time=2026-01-04T14:10:08.863-03:00 level=INFO msg="story created" story_id=2b65af86-84de-43f2-b833-2c1e0626ebb8 title="Test Story" tenant_id=6c2a09c7-8d69-4127-8b8b-d6245155f6af
time=2026-01-04T14:10:08.863-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-04T14:10:08.863-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-04T14:10:08.864-03:00 level=INFO msg="story updated" story_id=2b65af86-84de-43f2-b833-2c1e0626ebb8 tenant_id=6c2a09c7-8d69-4127-8b8b-d6245155f6af
time=2026-01-04T14:10:08.864-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/non-existing_story
time=2026-01-04T14:10:08.864-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:08.865-03:00 level=INFO msg="tenant created" tenant_id=c8cd0636-3dea-4728-be57-2972efd68d0a name="Test Tenant for Non-existing Update"
time=2026-01-04T14:10:08.865-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:08.865-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-04T14:10:08.865-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 5b27d4d6-eb53-4c0f-85b5-3e8449f3ef38"
=== RUN   TestStoryHandler_UpdateStory/invalid_story_ID
time=2026-01-04T14:10:08.865-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:08.866-03:00 level=INFO msg="tenant created" tenant_id=db1682db-4a23-4eda-bca8-0254b9b531db name="Test Tenant for Invalid Update ID"
time=2026-01-04T14:10:08.866-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:08.866-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-04T14:10:08.866-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-04T14:10:08.867-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_UpdateStory (0.31s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_title (0.01s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_status (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/invalid_story_ID (0.00s)
=== RUN   TestTenantHandler_CreateTenant
time=2026-01-04T14:10:09.190-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:09.190-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:09.190-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:09.190-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:09.190-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:09.190-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:09.190-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_CreateTenant/successful_creation
time=2026-01-04T14:10:09.190-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:09.193-03:00 level=INFO msg="tenant created" tenant_id=0d15d331-93c4-4ead-8365-7120248a23e6 name="Test Tenant"
time=2026-01-04T14:10:09.193-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
=== RUN   TestTenantHandler_CreateTenant/duplicate_name
time=2026-01-04T14:10:09.193-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:09.194-03:00 level=INFO msg="tenant created" tenant_id=7fc01283-d1d5-4cf8-a6e7-87d6a2516f10 name="Duplicate Tenant"
time=2026-01-04T14:10:09.194-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:09.194-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:09.195-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = AlreadyExists desc = tenant already exists with name: Duplicate Tenant"
=== RUN   TestTenantHandler_CreateTenant/empty_name
time=2026-01-04T14:10:09.195-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:09.195-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-04T14:10:09.195-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_CreateTenant (0.28s)
    --- PASS: TestTenantHandler_CreateTenant/successful_creation (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/empty_name (0.00s)
=== RUN   TestTenantHandler_GetTenant
time=2026-01-04T14:10:09.458-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:09.458-03:00 level=INFO msg="StoryService registered"
time=2026-01-04T14:10:09.458-03:00 level=INFO msg="ChapterService registered"
time=2026-01-04T14:10:09.458-03:00 level=INFO msg="SceneService registered"
time=2026-01-04T14:10:09.458-03:00 level=INFO msg="BeatService registered"
time=2026-01-04T14:10:09.458-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-04T14:10:09.458-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_GetTenant/existing_tenant
time=2026-01-04T14:10:09.459-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:09.462-03:00 level=INFO msg="tenant created" tenant_id=32744be2-33d9-45d4-8303-0056d0c57ea8 name="Get Test Tenant"
time=2026-01-04T14:10:09.462-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:09.462-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-04T14:10:09.462-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/GetTenant duration_ms=0
=== RUN   TestTenantHandler_GetTenant/non-existing_tenant
time=2026-01-04T14:10:09.463-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-04T14:10:09.463-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: 9adbe344-513b-458a-8369-8fa824dc4f7c"
=== RUN   TestTenantHandler_GetTenant/invalid_tenant_ID
time=2026-01-04T14:10:09.463-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-04T14:10:09.463-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant id: invalid UUID length: 10"
time=2026-01-04T14:10:09.463-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_GetTenant (0.26s)
    --- PASS: TestTenantHandler_GetTenant/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/non-existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/invalid_tenant_ID (0.00s)
=== RUN   TestTraitHandler_CreateTrait
time=2026-01-04T14:10:09.733-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:09.733-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_CreateTrait/successful_creation
time=2026-01-04T14:10:09.733-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:09.736-03:00 level=INFO msg="tenant created" tenant_id=14088d12-cb98-486b-8e64-88e4a0583ed5 name="Test Tenant for Trait"
time=2026-01-04T14:10:09.736-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:09.736-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-04T14:10:09.739-03:00 level=INFO msg="trait created" trait_id=16ecf420-ce8f-4b23-8b55-faee7e142772 name=Brave
time=2026-01-04T14:10:09.739-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=2
=== RUN   TestTraitHandler_CreateTrait/empty_name
time=2026-01-04T14:10:09.739-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:09.740-03:00 level=INFO msg="tenant created" tenant_id=2c3520ef-9a73-4358-a47c-b7f929088118 name="Test Tenant 2"
time=2026-01-04T14:10:09.740-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:09.740-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-04T14:10:09.740-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/CreateTrait duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-04T14:10:09.740-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_CreateTrait (0.29s)
    --- PASS: TestTraitHandler_CreateTrait/successful_creation (0.01s)
    --- PASS: TestTraitHandler_CreateTrait/empty_name (0.00s)
=== RUN   TestTraitHandler_GetTrait
time=2026-01-04T14:10:09.927-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:09.927-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_GetTrait/existing_trait
time=2026-01-04T14:10:09.928-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:09.931-03:00 level=INFO msg="tenant created" tenant_id=a6368a07-6ca4-4b49-93f0-d2d18485f611 name="Get Test Tenant"
time=2026-01-04T14:10:09.931-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:09.931-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-04T14:10:09.932-03:00 level=INFO msg="trait created" trait_id=046eb403-9d22-4a46-a646-11bf31f2ab09 name="Get Test Trait"
time=2026-01-04T14:10:09.932-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-04T14:10:09.932-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-04T14:10:09.933-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/GetTrait duration_ms=0
=== RUN   TestTraitHandler_GetTrait/non-existing_trait
time=2026-01-04T14:10:09.933-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:09.934-03:00 level=INFO msg="tenant created" tenant_id=9ed71626-b4c5-47c9-b859-c39da721fc17 name="Non-existing Test Tenant"
time=2026-01-04T14:10:09.934-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:09.934-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-04T14:10:09.934-03:00 level=ERROR msg="failed to get trait" error="trait not found: 7a688d6b-8b27-4af7-aad6-303383f2b6fa" trait_id=7a688d6b-8b27-4af7-aad6-303383f2b6fa
time=2026-01-04T14:10:09.934-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 7a688d6b-8b27-4af7-aad6-303383f2b6fa"
time=2026-01-04T14:10:09.934-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_GetTrait (0.15s)
    --- PASS: TestTraitHandler_GetTrait/existing_trait (0.01s)
    --- PASS: TestTraitHandler_GetTrait/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_ListTraits
time=2026-01-04T14:10:10.095-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:10.095-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_ListTraits/list_traits
time=2026-01-04T14:10:10.096-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.098-03:00 level=INFO msg="tenant created" tenant_id=a2f4b7ba-9888-4aa4-a08c-414affc5ee28 name="List Test Tenant"
time=2026-01-04T14:10:10.098-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:10.099-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-04T14:10:10.100-03:00 level=INFO msg="trait created" trait_id=7de1baad-63c9-4cad-b60d-9443c205dd03 name="Trait 1"
time=2026-01-04T14:10:10.100-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-04T14:10:10.100-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-04T14:10:10.101-03:00 level=INFO msg="trait created" trait_id=d2bb5999-3069-49a7-99c6-2457a5664e6d name="Trait 2"
time=2026-01-04T14:10:10.101-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-04T14:10:10.101-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/ListTraits
time=2026-01-04T14:10:10.102-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/ListTraits duration_ms=0
time=2026-01-04T14:10:10.102-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_ListTraits (0.17s)
    --- PASS: TestTraitHandler_ListTraits/list_traits (0.01s)
=== RUN   TestTraitHandler_UpdateTrait
time=2026-01-04T14:10:10.260-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:10.260-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_UpdateTrait/update_trait
time=2026-01-04T14:10:10.261-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.263-03:00 level=INFO msg="tenant created" tenant_id=a2af2419-d0ce-47ca-81d5-d9aba84f170b name="Update Test Tenant"
time=2026-01-04T14:10:10.263-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:10.264-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-04T14:10:10.265-03:00 level=INFO msg="trait created" trait_id=74aa7297-8498-45d6-9b49-0a9752f5c409 name="Original Trait"
time=2026-01-04T14:10:10.265-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-04T14:10:10.265-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/UpdateTrait
time=2026-01-04T14:10:10.266-03:00 level=INFO msg="trait updated" trait_id=74aa7297-8498-45d6-9b49-0a9752f5c409 name="Updated Trait"
time=2026-01-04T14:10:10.266-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/UpdateTrait duration_ms=0
time=2026-01-04T14:10:10.266-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_UpdateTrait (0.16s)
    --- PASS: TestTraitHandler_UpdateTrait/update_trait (0.01s)
=== RUN   TestTraitHandler_DeleteTrait
time=2026-01-04T14:10:10.408-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:10.408-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_DeleteTrait/delete_trait
time=2026-01-04T14:10:10.408-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.411-03:00 level=INFO msg="tenant created" tenant_id=2c3609c7-2d14-42cb-8280-363fc449cb17 name="Delete Test Tenant"
time=2026-01-04T14:10:10.411-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:10.411-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-04T14:10:10.413-03:00 level=INFO msg="trait created" trait_id=9370c676-db50-436c-b0ca-9d818d14a128 name="Trait to Delete"
time=2026-01-04T14:10:10.413-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-04T14:10:10.413-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/DeleteTrait
time=2026-01-04T14:10:10.415-03:00 level=INFO msg="trait deleted" trait_id=9370c676-db50-436c-b0ca-9d818d14a128 name="Trait to Delete"
time=2026-01-04T14:10:10.415-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/DeleteTrait duration_ms=1
time=2026-01-04T14:10:10.415-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-04T14:10:10.415-03:00 level=ERROR msg="failed to get trait" error="trait not found: 9370c676-db50-436c-b0ca-9d818d14a128" trait_id=9370c676-db50-436c-b0ca-9d818d14a128
time=2026-01-04T14:10:10.415-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 9370c676-db50-436c-b0ca-9d818d14a128"
time=2026-01-04T14:10:10.415-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_DeleteTrait (0.15s)
    --- PASS: TestTraitHandler_DeleteTrait/delete_trait (0.01s)
=== RUN   TestWorldHandler_CreateWorld
time=2026-01-04T14:10:10.569-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:10.569-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata
time=2026-01-04T14:10:10.570-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.573-03:00 level=INFO msg="tenant created" tenant_id=e49053a4-33de-45bb-bcee-7c314356b7fa name="Test Tenant for World"
time=2026-01-04T14:10:10.573-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:10.573-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:10.574-03:00 level=INFO msg="world created" world_id=cd7a5935-fb31-437e-818d-b4b6a54d44fd name="Test World" tenant_id=e49053a4-33de-45bb-bcee-7c314356b7fa
time=2026-01-04T14:10:10.574-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request
time=2026-01-04T14:10:10.574-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.575-03:00 level=INFO msg="tenant created" tenant_id=70d317d3-a314-4ecd-b5f2-ef89fcf9d598 name="Test Tenant 2"
time=2026-01-04T14:10:10.575-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:10.575-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:10.576-03:00 level=INFO msg="world created" world_id=8e5c185a-96c1-4ec0-9c18-23b61f89f93d name="Test World 2" tenant_id=70d317d3-a314-4ecd-b5f2-ef89fcf9d598
time=2026-01-04T14:10:10.576-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
=== RUN   TestWorldHandler_CreateWorld/empty_name
time=2026-01-04T14:10:10.576-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.576-03:00 level=INFO msg="tenant created" tenant_id=dce743d3-0181-461c-be1c-a32da6b6a8b4 name="Test Tenant 3"
time=2026-01-04T14:10:10.576-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:10.576-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:10.577-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestWorldHandler_CreateWorld/invalid_tenant_id
time=2026-01-04T14:10:10.577-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:10.577-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant_id: invalid UUID length: 10"
time=2026-01-04T14:10:10.577-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_CreateWorld (0.16s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/empty_name (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/invalid_tenant_id (0.00s)
=== RUN   TestWorldHandler_GetWorld
time=2026-01-04T14:10:10.720-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:10.720-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_GetWorld/existing_world
time=2026-01-04T14:10:10.720-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.723-03:00 level=INFO msg="tenant created" tenant_id=4e05b961-3b53-46a4-990f-8e35097147e0 name="Get Test Tenant"
time=2026-01-04T14:10:10.723-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:10.723-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:10.724-03:00 level=INFO msg="world created" world_id=88a67e15-2789-4198-a910-67ccf63dbbd8 name="Get Test World" tenant_id=4e05b961-3b53-46a4-990f-8e35097147e0
time=2026-01-04T14:10:10.724-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:10:10.724-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-04T14:10:10.725-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/GetWorld duration_ms=0
=== RUN   TestWorldHandler_GetWorld/non-existing_world
time=2026-01-04T14:10:10.725-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.726-03:00 level=INFO msg="tenant created" tenant_id=e7f9beae-541e-4eb1-be0b-fb4c86c930e2 name="Non-existing Test Tenant"
time=2026-01-04T14:10:10.726-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-04T14:10:10.727-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-04T14:10:10.727-03:00 level=ERROR msg="failed to get world" error="world not found: e5c70836-0c23-4468-abeb-1aadf973bf34" world_id=e5c70836-0c23-4468-abeb-1aadf973bf34
time=2026-01-04T14:10:10.727-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: e5c70836-0c23-4468-abeb-1aadf973bf34"
=== RUN   TestWorldHandler_GetWorld/invalid_world_ID
time=2026-01-04T14:10:10.727-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.728-03:00 level=INFO msg="tenant created" tenant_id=1b8dcfdd-549d-45af-b2cd-b2f869820e21 name="Invalid ID Test Tenant"
time=2026-01-04T14:10:10.728-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:10.728-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-04T14:10:10.728-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid world id: invalid UUID length: 10"
time=2026-01-04T14:10:10.728-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_GetWorld (0.16s)
    --- PASS: TestWorldHandler_GetWorld/existing_world (0.01s)
    --- PASS: TestWorldHandler_GetWorld/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_GetWorld/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_ListWorlds
time=2026-01-04T14:10:10.889-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:10.889-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_ListWorlds/list_worlds_for_tenant
time=2026-01-04T14:10:10.890-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:10.892-03:00 level=INFO msg="tenant created" tenant_id=3463e7f6-55a2-46bc-acc5-5dec55d39f6d name="List Test Tenant"
time=2026-01-04T14:10:10.892-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:10.892-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:10.893-03:00 level=INFO msg="world created" world_id=b5d4c4aa-886e-4f62-b6c1-abf79fa69801 name="World 1" tenant_id=3463e7f6-55a2-46bc-acc5-5dec55d39f6d
time=2026-01-04T14:10:10.893-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:10:10.894-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:10.894-03:00 level=INFO msg="world created" world_id=ecc883c3-7a57-4ab9-946a-edd9de3f4481 name="World 2" tenant_id=3463e7f6-55a2-46bc-acc5-5dec55d39f6d
time=2026-01-04T14:10:10.894-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-04T14:10:10.894-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/ListWorlds
time=2026-01-04T14:10:10.895-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/ListWorlds duration_ms=0
time=2026-01-04T14:10:10.895-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_ListWorlds (0.16s)
    --- PASS: TestWorldHandler_ListWorlds/list_worlds_for_tenant (0.01s)
=== RUN   TestWorldHandler_UpdateWorld
time=2026-01-04T14:10:11.050-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:11.050-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_UpdateWorld/update_world_name
time=2026-01-04T14:10:11.051-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:11.054-03:00 level=INFO msg="tenant created" tenant_id=ded48ab6-5e0b-4efa-98f2-b91c2cf461cd name="Update Test Tenant"
time=2026-01-04T14:10:11.054-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-04T14:10:11.054-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:11.056-03:00 level=INFO msg="world created" world_id=2e63a401-aeb3-48c0-a80f-2604134e2c5c name="Original World" tenant_id=ded48ab6-5e0b-4efa-98f2-b91c2cf461cd
time=2026-01-04T14:10:11.056-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:10:11.056-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-04T14:10:11.057-03:00 level=INFO msg="world updated" world_id=2e63a401-aeb3-48c0-a80f-2604134e2c5c name="Updated World"
time=2026-01-04T14:10:11.057-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/UpdateWorld duration_ms=1
=== RUN   TestWorldHandler_UpdateWorld/non-existing_world
time=2026-01-04T14:10:11.057-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:11.058-03:00 level=INFO msg="tenant created" tenant_id=4f63ec7d-572a-494c-8aa3-734301b0ae51 name="Update Test Tenant 2"
time=2026-01-04T14:10:11.058-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-04T14:10:11.059-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-04T14:10:11.059-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/UpdateWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: ec972f7a-25d7-4c6e-95b1-20613620c36e"
time=2026-01-04T14:10:11.059-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_UpdateWorld (0.16s)
    --- PASS: TestWorldHandler_UpdateWorld/update_world_name (0.01s)
    --- PASS: TestWorldHandler_UpdateWorld/non-existing_world (0.00s)
=== RUN   TestWorldHandler_DeleteWorld
time=2026-01-04T14:10:11.229-03:00 level=INFO msg="TenantService registered"
time=2026-01-04T14:10:11.229-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_DeleteWorld/delete_existing_world
time=2026-01-04T14:10:11.230-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:11.232-03:00 level=INFO msg="tenant created" tenant_id=3123b705-8e53-40f4-803c-69b77a716be7 name="Delete Test Tenant"
time=2026-01-04T14:10:11.232-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-04T14:10:11.232-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-04T14:10:11.233-03:00 level=INFO msg="world created" world_id=ecd5bd08-fbf3-4bea-915f-0065ad8ed348 name="World to Delete" tenant_id=3123b705-8e53-40f4-803c-69b77a716be7
time=2026-01-04T14:10:11.233-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-04T14:10:11.233-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-04T14:10:11.236-03:00 level=INFO msg="world deleted" world_id=ecd5bd08-fbf3-4bea-915f-0065ad8ed348 name="World to Delete"
time=2026-01-04T14:10:11.236-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/DeleteWorld duration_ms=2
time=2026-01-04T14:10:11.236-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-04T14:10:11.236-03:00 level=ERROR msg="failed to get world" error="world not found: ecd5bd08-fbf3-4bea-915f-0065ad8ed348" world_id=ecd5bd08-fbf3-4bea-915f-0065ad8ed348
time=2026-01-04T14:10:11.236-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: ecd5bd08-fbf3-4bea-915f-0065ad8ed348"
=== RUN   TestWorldHandler_DeleteWorld/delete_non-existing_world
time=2026-01-04T14:10:11.237-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-04T14:10:11.237-03:00 level=INFO msg="tenant created" tenant_id=5a9d0d00-d603-419f-97fb-7fb196c1e720 name="Delete Test Tenant 2"
time=2026-01-04T14:10:11.237-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-04T14:10:11.237-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-04T14:10:11.238-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/DeleteWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 633b7424-096c-49df-866d-f34f88a82feb"
time=2026-01-04T14:10:11.238-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_DeleteWorld (0.18s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_existing_world (0.01s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/grpc/handlers	(cached)
?   	github.com/story-engine/main-service/internal/transport/grpc/interceptors	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/mappers	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/testing	[no test files]
=== RUN   TestArchetypeHandler_Create
time=2026-01-04T14:09:39.954-03:00 level=INFO msg="tenant created" tenant_id=4bab38e8-8279-42b2-a08e-503a936db014 name="Test Tenant"
=== RUN   TestArchetypeHandler_Create/successful_creation
time=2026-01-04T14:09:39.956-03:00 level=INFO msg="archetype created" archetype_id=8198cf6e-bccd-47fb-930b-ffb863184f01 name=Warrior
=== RUN   TestArchetypeHandler_Create/missing_tenant_id
=== RUN   TestArchetypeHandler_Create/empty_name
--- PASS: TestArchetypeHandler_Create (0.18s)
    --- PASS: TestArchetypeHandler_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArchetypeHandler_Create/empty_name (0.00s)
=== RUN   TestArchetypeHandler_Get
time=2026-01-04T14:09:40.167-03:00 level=INFO msg="tenant created" tenant_id=cf0fe846-7ae9-4be7-ae6e-9ff978c11f57 name="Test Tenant"
time=2026-01-04T14:09:40.168-03:00 level=INFO msg="archetype created" archetype_id=39e61e65-858c-4feb-8cd7-bb520dcc88f2 name="Get Test Archetype"
=== RUN   TestArchetypeHandler_Get/existing_archetype
=== RUN   TestArchetypeHandler_Get/non-existing_archetype
time=2026-01-04T14:09:40.169-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 00000000-0000-0000-0000-000000000000" archetype_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArchetypeHandler_Get (0.23s)
    --- PASS: TestArchetypeHandler_Get/existing_archetype (0.00s)
    --- PASS: TestArchetypeHandler_Get/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_List
time=2026-01-04T14:09:40.428-03:00 level=INFO msg="tenant created" tenant_id=1d954752-4fad-42d7-ab4a-29f28110a640 name="Test Tenant"
time=2026-01-04T14:09:40.429-03:00 level=INFO msg="archetype created" archetype_id=07e2c0a9-98f0-44c8-9678-ac8f52d962ce name="Archetype 1"
time=2026-01-04T14:09:40.430-03:00 level=INFO msg="archetype created" archetype_id=6530f3c9-4c1f-49f6-acaa-fd7f7d681b3e name="Archetype 2"
time=2026-01-04T14:09:40.430-03:00 level=INFO msg="archetype created" archetype_id=a22a5088-ed6b-4a88-aa41-678201ec454e name="Archetype 3"
=== RUN   TestArchetypeHandler_List/list_archetypes
--- PASS: TestArchetypeHandler_List (0.26s)
    --- PASS: TestArchetypeHandler_List/list_archetypes (0.00s)
=== RUN   TestArchetypeHandler_Update
time=2026-01-04T14:09:40.705-03:00 level=INFO msg="tenant created" tenant_id=5f7fc297-3db6-4b00-8efb-c87a9027542c name="Test Tenant"
time=2026-01-04T14:09:40.706-03:00 level=INFO msg="archetype created" archetype_id=972d11dc-d1c7-42a4-aa26-81e4ad158462 name="Original Archetype"
=== RUN   TestArchetypeHandler_Update/update_archetype
time=2026-01-04T14:09:40.708-03:00 level=INFO msg="archetype updated" archetype_id=972d11dc-d1c7-42a4-aa26-81e4ad158462 name="Updated Archetype"
--- PASS: TestArchetypeHandler_Update (0.26s)
    --- PASS: TestArchetypeHandler_Update/update_archetype (0.00s)
=== RUN   TestArchetypeHandler_Delete
time=2026-01-04T14:09:40.938-03:00 level=INFO msg="tenant created" tenant_id=bcd47f1d-2fdf-4580-b277-f3784b2dcf71 name="Test Tenant"
time=2026-01-04T14:09:40.939-03:00 level=INFO msg="archetype created" archetype_id=1c89802a-a29a-4788-a300-6fefcd82fd4c name="Archetype to Delete"
=== RUN   TestArchetypeHandler_Delete/delete_archetype
time=2026-01-04T14:09:40.941-03:00 level=INFO msg="archetype deleted" archetype_id=1c89802a-a29a-4788-a300-6fefcd82fd4c name="Archetype to Delete"
--- PASS: TestArchetypeHandler_Delete (0.21s)
    --- PASS: TestArchetypeHandler_Delete/delete_archetype (0.00s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-04T14:09:41.159-03:00 level=INFO msg="tenant created" tenant_id=91f79c07-8d39-45a4-9183-825fa5a3d89b name="Test Tenant"
time=2026-01-04T14:09:41.160-03:00 level=INFO msg="archetype created" archetype_id=3a9d28cd-6e07-4f97-a7f7-8fc9f765b21e name=Warrior
time=2026-01-04T14:09:41.162-03:00 level=INFO msg="trait created" trait_id=d5ea13d7-7461-4827-a0fd-a9c5cf3db5c2 name=Brave
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-04T14:09:41.164-03:00 level=INFO msg="trait added to archetype" archetype_id=3a9d28cd-6e07-4f97-a7f7-8fc9f765b21e trait_id=d5ea13d7-7461-4827-a0fd-a9c5cf3db5c2
--- PASS: TestArchetypeHandler_AddTrait (0.27s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.00s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-04T14:09:41.392-03:00 level=INFO msg="tenant created" tenant_id=dd2d1134-6761-4ec1-a109-89c7f7bd3ac5 name="Test Tenant"
time=2026-01-04T14:09:41.393-03:00 level=INFO msg="archetype created" archetype_id=6603d3e8-e326-4632-a028-e67e126b50dd name=Warrior
time=2026-01-04T14:09:41.394-03:00 level=INFO msg="trait created" trait_id=03fdbb09-cf88-45ea-bbc3-c18c729aca10 name=Brave
time=2026-01-04T14:09:41.396-03:00 level=INFO msg="trait added to archetype" archetype_id=6603d3e8-e326-4632-a028-e67e126b50dd trait_id=03fdbb09-cf88-45ea-bbc3-c18c729aca10
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-04T14:09:41.396-03:00 level=INFO msg="trait removed from archetype" archetype_id=6603d3e8-e326-4632-a028-e67e126b50dd trait_id=03fdbb09-cf88-45ea-bbc3-c18c729aca10
--- PASS: TestArchetypeHandler_RemoveTrait (0.22s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.00s)
=== RUN   TestArtifactHandler_Create
time=2026-01-04T14:09:41.658-03:00 level=INFO msg="tenant created" tenant_id=bc2813fb-614e-47a5-b726-b42814f5e49d name="Test Tenant"
time=2026-01-04T14:09:41.659-03:00 level=INFO msg="world created" world_id=31819b77-0220-4037-a2f1-e1d33e7d1c57 name="Test World" tenant_id=bc2813fb-614e-47a5-b726-b42814f5e49d
=== RUN   TestArtifactHandler_Create/successful_creation
time=2026-01-04T14:09:41.661-03:00 level=INFO msg="artifact created" artifact_id=46c5bd6f-865a-4a35-abf0-3cdb580cbe9a name="Test Artifact"
=== RUN   TestArtifactHandler_Create/missing_tenant_id
=== RUN   TestArtifactHandler_Create/empty_name
--- PASS: TestArtifactHandler_Create (0.38s)
    --- PASS: TestArtifactHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArtifactHandler_Create/empty_name (0.00s)
=== RUN   TestArtifactHandler_Get
time=2026-01-04T14:09:41.976-03:00 level=INFO msg="tenant created" tenant_id=b8c009c1-d1c7-45bf-9c7f-36bbcff41cba name="Test Tenant"
time=2026-01-04T14:09:41.977-03:00 level=INFO msg="world created" world_id=4bbd7980-e64b-409d-ac1b-67015412015d name="Test World" tenant_id=b8c009c1-d1c7-45bf-9c7f-36bbcff41cba
time=2026-01-04T14:09:41.982-03:00 level=INFO msg="artifact created" artifact_id=5c526b21-4509-4c98-9294-b8a7d228cbd0 name="Get Test Artifact"
=== RUN   TestArtifactHandler_Get/existing_artifact
=== RUN   TestArtifactHandler_Get/non-existing_artifact
time=2026-01-04T14:09:41.983-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 00000000-0000-0000-0000-000000000000" artifact_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArtifactHandler_Get (0.20s)
    --- PASS: TestArtifactHandler_Get/existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Get/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_List
time=2026-01-04T14:09:42.161-03:00 level=INFO msg="tenant created" tenant_id=ae194cf8-15d5-426f-b67f-7dfab30a86e7 name="Test Tenant"
time=2026-01-04T14:09:42.162-03:00 level=INFO msg="world created" world_id=65a55013-f008-48b2-b950-da618cceab90 name="Test World" tenant_id=ae194cf8-15d5-426f-b67f-7dfab30a86e7
time=2026-01-04T14:09:42.164-03:00 level=INFO msg="artifact created" artifact_id=6bf28f24-4ebc-480c-aae1-66f4ac7a89ee name="Artifact 1"
time=2026-01-04T14:09:42.164-03:00 level=INFO msg="artifact created" artifact_id=a48c907e-bad5-4f9b-8d73-b6da1644f020 name="Artifact 2"
time=2026-01-04T14:09:42.165-03:00 level=INFO msg="artifact created" artifact_id=aa8d71f4-36ae-4af7-9de5-3c95acbfdce3 name="Artifact 3"
=== RUN   TestArtifactHandler_List/list_artifacts
--- PASS: TestArtifactHandler_List (0.19s)
    --- PASS: TestArtifactHandler_List/list_artifacts (0.00s)
=== RUN   TestArtifactHandler_Update
time=2026-01-04T14:09:42.409-03:00 level=INFO msg="tenant created" tenant_id=4ee836ad-95d7-4ba3-8695-dd3e3ee0f6fb name="Test Tenant"
time=2026-01-04T14:09:42.411-03:00 level=INFO msg="world created" world_id=1d19e296-07d1-4a08-9f92-f630f4b61391 name="Test World" tenant_id=4ee836ad-95d7-4ba3-8695-dd3e3ee0f6fb
time=2026-01-04T14:09:42.413-03:00 level=INFO msg="artifact created" artifact_id=a25c3026-8948-48ac-b799-156c046d6574 name="Original Artifact"
=== RUN   TestArtifactHandler_Update/update_artifact_name
time=2026-01-04T14:09:42.415-03:00 level=INFO msg="artifact updated" artifact_id=a25c3026-8948-48ac-b799-156c046d6574 name="Updated Artifact"
=== RUN   TestArtifactHandler_Update/non-existing_artifact
--- PASS: TestArtifactHandler_Update (0.27s)
    --- PASS: TestArtifactHandler_Update/update_artifact_name (0.00s)
    --- PASS: TestArtifactHandler_Update/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_Delete
time=2026-01-04T14:09:42.648-03:00 level=INFO msg="tenant created" tenant_id=e9244055-e055-4f5a-b028-9ffc0f0d49ed name="Test Tenant"
time=2026-01-04T14:09:42.650-03:00 level=INFO msg="world created" world_id=2aa8b595-ca65-4533-a9e9-66075ae821fa name="Test World" tenant_id=e9244055-e055-4f5a-b028-9ffc0f0d49ed
time=2026-01-04T14:09:42.651-03:00 level=INFO msg="artifact created" artifact_id=19ae98de-da3c-40a4-88f0-ed05106d9186 name="Artifact to Delete"
=== RUN   TestArtifactHandler_Delete/delete_existing_artifact
time=2026-01-04T14:09:42.654-03:00 level=INFO msg="artifact deleted" artifact_id=19ae98de-da3c-40a4-88f0-ed05106d9186 name="Artifact to Delete"
time=2026-01-04T14:09:42.654-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 19ae98de-da3c-40a4-88f0-ed05106d9186" artifact_id=19ae98de-da3c-40a4-88f0-ed05106d9186
=== RUN   TestArtifactHandler_Delete/delete_non-existing_artifact
--- PASS: TestArtifactHandler_Delete (0.21s)
    --- PASS: TestArtifactHandler_Delete/delete_existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Delete/delete_non-existing_artifact (0.00s)
=== RUN   TestArtifactRPGStatsHandler_Create
time=2026-01-04T14:09:42.852-03:00 level=INFO msg="tenant created" tenant_id=db283c2b-9ffb-4bd9-a3f9-e51808990983 name="Test Tenant"
time=2026-01-04T14:09:42.854-03:00 level=INFO msg="world created" world_id=ce3a7905-3cda-412c-8f36-2b2582e81894 name="Test World" tenant_id=db283c2b-9ffb-4bd9-a3f9-e51808990983
time=2026-01-04T14:09:42.856-03:00 level=INFO msg="artifact created" artifact_id=39267e15-b3c4-4050-9488-d7e2a4bb0946 name="Test Artifact"
=== RUN   TestArtifactRPGStatsHandler_Create/successful_creation
time=2026-01-04T14:09:42.858-03:00 level=INFO msg="artifact RPG stats created" artifact_id=39267e15-b3c4-4050-9488-d7e2a4bb0946 version=1
=== RUN   TestArtifactRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestArtifactRPGStatsHandler_Create (0.23s)
    --- PASS: TestArtifactRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestArtifactRPGStatsHandler_GetActive
time=2026-01-04T14:09:43.070-03:00 level=INFO msg="tenant created" tenant_id=181d84ff-1615-4a42-9479-6ab135a9c5bc name="Test Tenant"
time=2026-01-04T14:09:43.071-03:00 level=INFO msg="world created" world_id=274218bb-c2ed-4408-a46c-291c962e252d name="Test World" tenant_id=181d84ff-1615-4a42-9479-6ab135a9c5bc
time=2026-01-04T14:09:43.072-03:00 level=INFO msg="artifact created" artifact_id=0f280f3d-b613-4d36-9f4e-7aaf5745e1f4 name="Test Artifact"
time=2026-01-04T14:09:43.075-03:00 level=INFO msg="artifact RPG stats created" artifact_id=0f280f3d-b613-4d36-9f4e-7aaf5745e1f4 version=1
=== RUN   TestArtifactRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestArtifactRPGStatsHandler_GetActive (0.19s)
    --- PASS: TestArtifactRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestBeatHandler_Create
time=2026-01-04T14:09:43.291-03:00 level=INFO msg="tenant created" tenant_id=e87be75d-1cc1-4d69-b1e7-62c47bebf34f name="Test Tenant"
time=2026-01-04T14:09:43.293-03:00 level=INFO msg="world created" world_id=95a445f2-5e70-419b-9a8b-3534a47cb05d name="World of Test Story" tenant_id=e87be75d-1cc1-4d69-b1e7-62c47bebf34f
time=2026-01-04T14:09:43.293-03:00 level=INFO msg="created implicit world for story" world_id=95a445f2-5e70-419b-9a8b-3534a47cb05d story_title="Test Story"
time=2026-01-04T14:09:43.294-03:00 level=INFO msg="story created" story_id=f68dd0a3-264e-4001-a899-ff69253cf9a8 title="Test Story" tenant_id=e87be75d-1cc1-4d69-b1e7-62c47bebf34f
time=2026-01-04T14:09:43.296-03:00 level=INFO msg="scene created" scene_id=f5eab983-8bb3-4610-8e6b-08e33aa80031 story_id=f68dd0a3-264e-4001-a899-ff69253cf9a8 tenant_id=e87be75d-1cc1-4d69-b1e7-62c47bebf34f
=== RUN   TestBeatHandler_Create/successful_creation
time=2026-01-04T14:09:43.297-03:00 level=INFO msg="beat created" beat_id=f12bd2db-bd2e-4b6a-8c05-5da397ab5183 scene_id=f5eab983-8bb3-4610-8e6b-08e33aa80031 tenant_id=e87be75d-1cc1-4d69-b1e7-62c47bebf34f
=== RUN   TestBeatHandler_Create/missing_tenant_id
--- PASS: TestBeatHandler_Create (0.24s)
    --- PASS: TestBeatHandler_Create/successful_creation (0.00s)
    --- PASS: TestBeatHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestBeatHandler_Get
time=2026-01-04T14:09:43.559-03:00 level=INFO msg="tenant created" tenant_id=526ea72d-aff6-48f8-bb70-ff2841d0306b name="Test Tenant"
time=2026-01-04T14:09:43.561-03:00 level=INFO msg="world created" world_id=44e03314-7841-4a10-99a2-0aacb4bb219a name="World of Test Story" tenant_id=526ea72d-aff6-48f8-bb70-ff2841d0306b
time=2026-01-04T14:09:43.561-03:00 level=INFO msg="created implicit world for story" world_id=44e03314-7841-4a10-99a2-0aacb4bb219a story_title="Test Story"
time=2026-01-04T14:09:43.562-03:00 level=INFO msg="story created" story_id=431819b8-fb72-47e2-a36e-9803f37ad646 title="Test Story" tenant_id=526ea72d-aff6-48f8-bb70-ff2841d0306b
time=2026-01-04T14:09:43.563-03:00 level=INFO msg="scene created" scene_id=b3cca116-c70d-4cd0-bcc8-59edbf1f395a story_id=431819b8-fb72-47e2-a36e-9803f37ad646 tenant_id=526ea72d-aff6-48f8-bb70-ff2841d0306b
time=2026-01-04T14:09:43.565-03:00 level=INFO msg="beat created" beat_id=9e0e21f2-8179-46c9-bc2f-4053d2308a33 scene_id=b3cca116-c70d-4cd0-bcc8-59edbf1f395a tenant_id=526ea72d-aff6-48f8-bb70-ff2841d0306b
=== RUN   TestBeatHandler_Get/existing_beat
=== RUN   TestBeatHandler_Get/non-existing_beat
time=2026-01-04T14:09:43.566-03:00 level=ERROR msg="failed to get beat" error="beat not found: 00000000-0000-0000-0000-000000000000" beat_id=00000000-0000-0000-0000-000000000000 tenant_id=526ea72d-aff6-48f8-bb70-ff2841d0306b
--- PASS: TestBeatHandler_Get (0.28s)
    --- PASS: TestBeatHandler_Get/existing_beat (0.00s)
    --- PASS: TestBeatHandler_Get/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_List
time=2026-01-04T14:09:43.836-03:00 level=INFO msg="tenant created" tenant_id=aa9da92d-442f-4ed3-ba62-7498e304eae5 name="Test Tenant"
time=2026-01-04T14:09:43.838-03:00 level=INFO msg="world created" world_id=32a6bf5e-48ef-483d-b6bb-da5ff8b2b8cc name="World of Test Story" tenant_id=aa9da92d-442f-4ed3-ba62-7498e304eae5
time=2026-01-04T14:09:43.838-03:00 level=INFO msg="created implicit world for story" world_id=32a6bf5e-48ef-483d-b6bb-da5ff8b2b8cc story_title="Test Story"
time=2026-01-04T14:09:43.840-03:00 level=INFO msg="story created" story_id=60864b35-62ec-450b-a632-a854f22875ea title="Test Story" tenant_id=aa9da92d-442f-4ed3-ba62-7498e304eae5
time=2026-01-04T14:09:43.841-03:00 level=INFO msg="scene created" scene_id=fc4be6d1-3d8b-4153-bc9a-c34cb4b3bd8d story_id=60864b35-62ec-450b-a632-a854f22875ea tenant_id=aa9da92d-442f-4ed3-ba62-7498e304eae5
time=2026-01-04T14:09:43.842-03:00 level=INFO msg="beat created" beat_id=40b8ad71-4f3a-49ff-a172-92efc785ca46 scene_id=fc4be6d1-3d8b-4153-bc9a-c34cb4b3bd8d tenant_id=aa9da92d-442f-4ed3-ba62-7498e304eae5
time=2026-01-04T14:09:43.843-03:00 level=INFO msg="beat created" beat_id=c839749e-bfed-421b-95ab-7075814fc972 scene_id=fc4be6d1-3d8b-4153-bc9a-c34cb4b3bd8d tenant_id=aa9da92d-442f-4ed3-ba62-7498e304eae5
time=2026-01-04T14:09:43.843-03:00 level=INFO msg="beat created" beat_id=66be8e4f-82ea-40e1-9f59-0c310488c09a scene_id=fc4be6d1-3d8b-4153-bc9a-c34cb4b3bd8d tenant_id=aa9da92d-442f-4ed3-ba62-7498e304eae5
=== RUN   TestBeatHandler_List/list_beats
--- PASS: TestBeatHandler_List (0.24s)
    --- PASS: TestBeatHandler_List/list_beats (0.00s)
=== RUN   TestBeatHandler_Update
time=2026-01-04T14:09:44.118-03:00 level=INFO msg="tenant created" tenant_id=7eaa9e5e-1abb-4ded-b206-b4c37457ffc0 name="Test Tenant"
time=2026-01-04T14:09:44.120-03:00 level=INFO msg="world created" world_id=7d47061a-5307-4992-9902-d0c11d3ac009 name="World of Test Story" tenant_id=7eaa9e5e-1abb-4ded-b206-b4c37457ffc0
time=2026-01-04T14:09:44.120-03:00 level=INFO msg="created implicit world for story" world_id=7d47061a-5307-4992-9902-d0c11d3ac009 story_title="Test Story"
time=2026-01-04T14:09:44.121-03:00 level=INFO msg="story created" story_id=660a77c5-a078-4cd9-bcca-82cac23f7338 title="Test Story" tenant_id=7eaa9e5e-1abb-4ded-b206-b4c37457ffc0
time=2026-01-04T14:09:44.122-03:00 level=INFO msg="scene created" scene_id=599e1aae-1ca4-4c62-8c92-16c77c71fe24 story_id=660a77c5-a078-4cd9-bcca-82cac23f7338 tenant_id=7eaa9e5e-1abb-4ded-b206-b4c37457ffc0
time=2026-01-04T14:09:44.124-03:00 level=INFO msg="beat created" beat_id=94c54533-9b43-49dc-bd80-7c01e6c5c872 scene_id=599e1aae-1ca4-4c62-8c92-16c77c71fe24 tenant_id=7eaa9e5e-1abb-4ded-b206-b4c37457ffc0
=== RUN   TestBeatHandler_Update/update_beat_intent
time=2026-01-04T14:09:44.125-03:00 level=INFO msg="beat updated" beat_id=94c54533-9b43-49dc-bd80-7c01e6c5c872 tenant_id=7eaa9e5e-1abb-4ded-b206-b4c37457ffc0
=== RUN   TestBeatHandler_Update/non-existing_beat
--- PASS: TestBeatHandler_Update (0.81s)
    --- PASS: TestBeatHandler_Update/update_beat_intent (0.00s)
    --- PASS: TestBeatHandler_Update/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_Delete
time=2026-01-04T14:09:46.161-03:00 level=INFO msg="tenant created" tenant_id=8559d81b-e7bf-4992-8512-767e70ff4e9a name="Test Tenant"
time=2026-01-04T14:09:46.163-03:00 level=INFO msg="world created" world_id=a2b5412e-5530-45f2-b2fa-3719f760e3d7 name="World of Test Story" tenant_id=8559d81b-e7bf-4992-8512-767e70ff4e9a
time=2026-01-04T14:09:46.163-03:00 level=INFO msg="created implicit world for story" world_id=a2b5412e-5530-45f2-b2fa-3719f760e3d7 story_title="Test Story"
time=2026-01-04T14:09:46.164-03:00 level=INFO msg="story created" story_id=fd1337cf-4470-4af3-ad72-130c0a48a9f5 title="Test Story" tenant_id=8559d81b-e7bf-4992-8512-767e70ff4e9a
time=2026-01-04T14:09:46.165-03:00 level=INFO msg="scene created" scene_id=abf20d5d-c407-48b5-8dd1-1ae1eba4361b story_id=fd1337cf-4470-4af3-ad72-130c0a48a9f5 tenant_id=8559d81b-e7bf-4992-8512-767e70ff4e9a
time=2026-01-04T14:09:46.166-03:00 level=INFO msg="beat created" beat_id=acbd1ae7-2f0f-4507-8b10-6a1dd6eed5ab scene_id=abf20d5d-c407-48b5-8dd1-1ae1eba4361b tenant_id=8559d81b-e7bf-4992-8512-767e70ff4e9a
=== RUN   TestBeatHandler_Delete/delete_existing_beat
time=2026-01-04T14:09:46.167-03:00 level=INFO msg="beat deleted" beat_id=acbd1ae7-2f0f-4507-8b10-6a1dd6eed5ab tenant_id=8559d81b-e7bf-4992-8512-767e70ff4e9a
time=2026-01-04T14:09:46.167-03:00 level=ERROR msg="failed to get beat" error="beat not found: acbd1ae7-2f0f-4507-8b10-6a1dd6eed5ab" beat_id=acbd1ae7-2f0f-4507-8b10-6a1dd6eed5ab tenant_id=8559d81b-e7bf-4992-8512-767e70ff4e9a
=== RUN   TestBeatHandler_Delete/delete_non-existing_beat
--- PASS: TestBeatHandler_Delete (1.50s)
    --- PASS: TestBeatHandler_Delete/delete_existing_beat (0.00s)
    --- PASS: TestBeatHandler_Delete/delete_non-existing_beat (0.00s)
=== RUN   TestChapterHandler_Create
time=2026-01-04T14:09:46.388-03:00 level=INFO msg="tenant created" tenant_id=c1e8bee3-757c-47cf-affb-309657109cc7 name="Test Tenant"
time=2026-01-04T14:09:46.392-03:00 level=INFO msg="world created" world_id=34c90f35-a559-4cf2-8789-c3a3d82ac2dc name="World of Test Story" tenant_id=c1e8bee3-757c-47cf-affb-309657109cc7
time=2026-01-04T14:09:46.392-03:00 level=INFO msg="created implicit world for story" world_id=34c90f35-a559-4cf2-8789-c3a3d82ac2dc story_title="Test Story"
time=2026-01-04T14:09:46.394-03:00 level=INFO msg="story created" story_id=2cffdd54-2701-43a2-900b-8b75431533ab title="Test Story" tenant_id=c1e8bee3-757c-47cf-affb-309657109cc7
=== RUN   TestChapterHandler_Create/successful_creation
time=2026-01-04T14:09:46.395-03:00 level=INFO msg="chapter created" chapter_id=a27e4c7f-c4f1-4064-bd46-d22af8ef1244 story_id=2cffdd54-2701-43a2-900b-8b75431533ab tenant_id=c1e8bee3-757c-47cf-affb-309657109cc7
=== RUN   TestChapterHandler_Create/missing_tenant_id
--- PASS: TestChapterHandler_Create (0.25s)
    --- PASS: TestChapterHandler_Create/successful_creation (0.00s)
    --- PASS: TestChapterHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestChapterHandler_Get
time=2026-01-04T14:09:46.763-03:00 level=INFO msg="tenant created" tenant_id=d924053d-e9ee-442e-809e-9a05293830ac name="Test Tenant"
time=2026-01-04T14:09:46.765-03:00 level=INFO msg="world created" world_id=bd87379b-ff34-467a-9db6-d53ed0e11a3a name="World of Test Story" tenant_id=d924053d-e9ee-442e-809e-9a05293830ac
time=2026-01-04T14:09:46.765-03:00 level=INFO msg="created implicit world for story" world_id=bd87379b-ff34-467a-9db6-d53ed0e11a3a story_title="Test Story"
time=2026-01-04T14:09:46.767-03:00 level=INFO msg="story created" story_id=30bf09e7-da01-4e89-aecc-7969c9db329e title="Test Story" tenant_id=d924053d-e9ee-442e-809e-9a05293830ac
time=2026-01-04T14:09:46.769-03:00 level=INFO msg="chapter created" chapter_id=16c09dc9-5741-45df-b332-340dea4ac0e6 story_id=30bf09e7-da01-4e89-aecc-7969c9db329e tenant_id=d924053d-e9ee-442e-809e-9a05293830ac
=== RUN   TestChapterHandler_Get/existing_chapter
=== RUN   TestChapterHandler_Get/non-existing_chapter
time=2026-01-04T14:09:46.770-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 00000000-0000-0000-0000-000000000000" chapter_id=00000000-0000-0000-0000-000000000000 tenant_id=d924053d-e9ee-442e-809e-9a05293830ac
--- PASS: TestChapterHandler_Get (0.39s)
    --- PASS: TestChapterHandler_Get/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Get/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_List
time=2026-01-04T14:09:47.168-03:00 level=INFO msg="tenant created" tenant_id=ef3851c8-b816-4221-9b78-f275b632df0c name="Test Tenant"
time=2026-01-04T14:09:47.170-03:00 level=INFO msg="world created" world_id=071dd7d3-6bcd-486d-aaab-9e870a9a91bf name="World of Test Story" tenant_id=ef3851c8-b816-4221-9b78-f275b632df0c
time=2026-01-04T14:09:47.170-03:00 level=INFO msg="created implicit world for story" world_id=071dd7d3-6bcd-486d-aaab-9e870a9a91bf story_title="Test Story"
time=2026-01-04T14:09:47.172-03:00 level=INFO msg="story created" story_id=14d854b3-e699-48da-8187-65b2123a9792 title="Test Story" tenant_id=ef3851c8-b816-4221-9b78-f275b632df0c
time=2026-01-04T14:09:47.173-03:00 level=INFO msg="chapter created" chapter_id=0cf00176-13a7-4bc8-a8fb-9f427841ead1 story_id=14d854b3-e699-48da-8187-65b2123a9792 tenant_id=ef3851c8-b816-4221-9b78-f275b632df0c
time=2026-01-04T14:09:47.174-03:00 level=INFO msg="chapter created" chapter_id=d91c49e2-5791-4ce2-a936-3bf94a806fd8 story_id=14d854b3-e699-48da-8187-65b2123a9792 tenant_id=ef3851c8-b816-4221-9b78-f275b632df0c
time=2026-01-04T14:09:47.175-03:00 level=INFO msg="chapter created" chapter_id=d21fed62-1b90-40fa-923f-ec7d52503975 story_id=14d854b3-e699-48da-8187-65b2123a9792 tenant_id=ef3851c8-b816-4221-9b78-f275b632df0c
=== RUN   TestChapterHandler_List/list_chapters
--- PASS: TestChapterHandler_List (0.41s)
    --- PASS: TestChapterHandler_List/list_chapters (0.00s)
=== RUN   TestChapterHandler_Update
time=2026-01-04T14:09:47.471-03:00 level=INFO msg="tenant created" tenant_id=691c9cc7-e7b0-4512-9fc2-880256716bbd name="Test Tenant"
time=2026-01-04T14:09:47.473-03:00 level=INFO msg="world created" world_id=e1e79a45-5539-460c-89e6-172ce8f1c9f2 name="World of Test Story" tenant_id=691c9cc7-e7b0-4512-9fc2-880256716bbd
time=2026-01-04T14:09:47.473-03:00 level=INFO msg="created implicit world for story" world_id=e1e79a45-5539-460c-89e6-172ce8f1c9f2 story_title="Test Story"
time=2026-01-04T14:09:47.475-03:00 level=INFO msg="story created" story_id=bf88f359-5f8c-4661-ae1b-3eb4f2da10d8 title="Test Story" tenant_id=691c9cc7-e7b0-4512-9fc2-880256716bbd
time=2026-01-04T14:09:47.476-03:00 level=INFO msg="chapter created" chapter_id=908b2b75-1ebb-427e-a574-ce29aa77949b story_id=bf88f359-5f8c-4661-ae1b-3eb4f2da10d8 tenant_id=691c9cc7-e7b0-4512-9fc2-880256716bbd
=== RUN   TestChapterHandler_Update/update_chapter_title
time=2026-01-04T14:09:47.477-03:00 level=INFO msg="chapter updated" chapter_id=908b2b75-1ebb-427e-a574-ce29aa77949b tenant_id=691c9cc7-e7b0-4512-9fc2-880256716bbd
=== RUN   TestChapterHandler_Update/non-existing_chapter
--- PASS: TestChapterHandler_Update (0.31s)
    --- PASS: TestChapterHandler_Update/update_chapter_title (0.00s)
    --- PASS: TestChapterHandler_Update/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_Delete
time=2026-01-04T14:09:47.783-03:00 level=INFO msg="tenant created" tenant_id=85dd6c53-4f12-45bf-ad5e-842c2ea36c30 name="Test Tenant"
time=2026-01-04T14:09:47.785-03:00 level=INFO msg="world created" world_id=eebdf9ae-252e-47c6-9947-099a1b510564 name="World of Test Story" tenant_id=85dd6c53-4f12-45bf-ad5e-842c2ea36c30
time=2026-01-04T14:09:47.785-03:00 level=INFO msg="created implicit world for story" world_id=eebdf9ae-252e-47c6-9947-099a1b510564 story_title="Test Story"
time=2026-01-04T14:09:47.787-03:00 level=INFO msg="story created" story_id=96429176-04d1-40fc-b6c6-cd74404735d7 title="Test Story" tenant_id=85dd6c53-4f12-45bf-ad5e-842c2ea36c30
time=2026-01-04T14:09:47.788-03:00 level=INFO msg="chapter created" chapter_id=2acd7e7f-9673-4650-a92c-861878d17aac story_id=96429176-04d1-40fc-b6c6-cd74404735d7 tenant_id=85dd6c53-4f12-45bf-ad5e-842c2ea36c30
=== RUN   TestChapterHandler_Delete/delete_existing_chapter
time=2026-01-04T14:09:47.791-03:00 level=INFO msg="chapter deleted" chapter_id=2acd7e7f-9673-4650-a92c-861878d17aac tenant_id=85dd6c53-4f12-45bf-ad5e-842c2ea36c30
time=2026-01-04T14:09:47.791-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 2acd7e7f-9673-4650-a92c-861878d17aac" chapter_id=2acd7e7f-9673-4650-a92c-861878d17aac tenant_id=85dd6c53-4f12-45bf-ad5e-842c2ea36c30
=== RUN   TestChapterHandler_Delete/delete_non-existing_chapter
--- PASS: TestChapterHandler_Delete (0.32s)
    --- PASS: TestChapterHandler_Delete/delete_existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Delete/delete_non-existing_chapter (0.00s)
=== RUN   TestCharacterHandler_Create
time=2026-01-04T14:09:48.108-03:00 level=INFO msg="tenant created" tenant_id=565c3429-4b69-4575-9ec3-190443280809 name="Test Tenant"
time=2026-01-04T14:09:48.109-03:00 level=INFO msg="world created" world_id=c29e54fe-a6ed-407b-9dfb-7da5622599b8 name="Test World" tenant_id=565c3429-4b69-4575-9ec3-190443280809
=== RUN   TestCharacterHandler_Create/successful_creation
time=2026-01-04T14:09:48.112-03:00 level=INFO msg="character created" character_id=0b14a024-5193-4582-bb6a-bea505c956f0 name="Test Character"
=== RUN   TestCharacterHandler_Create/missing_tenant_id
=== RUN   TestCharacterHandler_Create/empty_name
--- PASS: TestCharacterHandler_Create (0.31s)
    --- PASS: TestCharacterHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestCharacterHandler_Create/empty_name (0.00s)
=== RUN   TestCharacterHandler_Get
time=2026-01-04T14:09:48.366-03:00 level=INFO msg="tenant created" tenant_id=3c5baa56-6690-4596-bba6-c1cb6286e4b3 name="Test Tenant"
time=2026-01-04T14:09:48.367-03:00 level=INFO msg="world created" world_id=d4555068-d923-4690-9f10-cd65f8cea81c name="Test World" tenant_id=3c5baa56-6690-4596-bba6-c1cb6286e4b3
time=2026-01-04T14:09:48.369-03:00 level=INFO msg="character created" character_id=2a6d2ac9-d325-420b-b977-d4becc4bab4d name="Get Test Character"
=== RUN   TestCharacterHandler_Get/existing_character
=== RUN   TestCharacterHandler_Get/non-existing_character
time=2026-01-04T14:09:48.371-03:00 level=ERROR msg="failed to get character" error="character not found: 00000000-0000-0000-0000-000000000000" character_id=00000000-0000-0000-0000-000000000000
=== RUN   TestCharacterHandler_Get/invalid_character_ID
--- PASS: TestCharacterHandler_Get (0.36s)
    --- PASS: TestCharacterHandler_Get/existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/non-existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/invalid_character_ID (0.00s)
=== RUN   TestCharacterHandler_List
time=2026-01-04T14:09:48.740-03:00 level=INFO msg="tenant created" tenant_id=021e1fd9-dbfc-4857-8724-f9158e2826be name="Test Tenant"
time=2026-01-04T14:09:48.741-03:00 level=INFO msg="world created" world_id=a299ca3e-2742-49d9-9c59-500e3ef60602 name="Test World" tenant_id=021e1fd9-dbfc-4857-8724-f9158e2826be
time=2026-01-04T14:09:48.744-03:00 level=INFO msg="character created" character_id=08f4eda7-d18b-4f66-88e8-3014c68914e0 name="Character 1"
time=2026-01-04T14:09:48.744-03:00 level=INFO msg="character created" character_id=e698b1fc-50ad-4521-aa35-135b93274797 name="Character 2"
time=2026-01-04T14:09:48.745-03:00 level=INFO msg="character created" character_id=f4f3e4c6-ce52-4e02-982b-aa84b1aff308 name="Character 3"
=== RUN   TestCharacterHandler_List/list_characters
=== RUN   TestCharacterHandler_List/missing_tenant_id
--- PASS: TestCharacterHandler_List (0.26s)
    --- PASS: TestCharacterHandler_List/list_characters (0.00s)
    --- PASS: TestCharacterHandler_List/missing_tenant_id (0.00s)
=== RUN   TestCharacterHandler_Update
time=2026-01-04T14:09:49.143-03:00 level=INFO msg="tenant created" tenant_id=504af600-6ab1-4a0e-982a-00fb3826be07 name="Test Tenant"
time=2026-01-04T14:09:49.145-03:00 level=INFO msg="world created" world_id=a2be9f73-98b7-4448-86dd-ae3622f8192a name="Test World" tenant_id=504af600-6ab1-4a0e-982a-00fb3826be07
time=2026-01-04T14:09:49.146-03:00 level=INFO msg="character created" character_id=0236d491-6d10-4452-bde6-8c59c3ccc577 name="Original Character"
=== RUN   TestCharacterHandler_Update/update_character_name
time=2026-01-04T14:09:49.147-03:00 level=INFO msg="character updated" character_id=0236d491-6d10-4452-bde6-8c59c3ccc577 name="Updated Character"
=== RUN   TestCharacterHandler_Update/non-existing_character
--- PASS: TestCharacterHandler_Update (0.42s)
    --- PASS: TestCharacterHandler_Update/update_character_name (0.00s)
    --- PASS: TestCharacterHandler_Update/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_Delete
time=2026-01-04T14:09:49.357-03:00 level=INFO msg="tenant created" tenant_id=766d0a3b-afb9-4334-8471-15062fc2fffc name="Test Tenant"
time=2026-01-04T14:09:49.358-03:00 level=INFO msg="world created" world_id=0d8456b4-f988-42f8-b292-5a96f11c29b1 name="Test World" tenant_id=766d0a3b-afb9-4334-8471-15062fc2fffc
time=2026-01-04T14:09:49.360-03:00 level=INFO msg="character created" character_id=1ca7817c-9f5d-40c6-a1b8-460d69f03e23 name="Character to Delete"
=== RUN   TestCharacterHandler_Delete/delete_existing_character
time=2026-01-04T14:09:49.363-03:00 level=INFO msg="character deleted" character_id=1ca7817c-9f5d-40c6-a1b8-460d69f03e23 name="Character to Delete"
time=2026-01-04T14:09:49.363-03:00 level=ERROR msg="failed to get character" error="character not found: 1ca7817c-9f5d-40c6-a1b8-460d69f03e23" character_id=1ca7817c-9f5d-40c6-a1b8-460d69f03e23
=== RUN   TestCharacterHandler_Delete/delete_non-existing_character
--- PASS: TestCharacterHandler_Delete (0.21s)
    --- PASS: TestCharacterHandler_Delete/delete_existing_character (0.00s)
    --- PASS: TestCharacterHandler_Delete/delete_non-existing_character (0.00s)
=== RUN   TestCharacterRPGStatsHandler_Create
time=2026-01-04T14:09:49.635-03:00 level=INFO msg="tenant created" tenant_id=c0009abc-fadc-4e97-a625-da030c553bb2 name="Test Tenant"
time=2026-01-04T14:09:49.636-03:00 level=INFO msg="world created" world_id=ffdeeb55-dae7-4cfe-adb4-36b661dbb8aa name="Test World" tenant_id=c0009abc-fadc-4e97-a625-da030c553bb2
time=2026-01-04T14:09:49.642-03:00 level=INFO msg="character created" character_id=133b4fe0-862f-4488-bef3-19b47bdad1b7 name="Test Character"
=== RUN   TestCharacterRPGStatsHandler_Create/successful_creation
time=2026-01-04T14:09:49.646-03:00 level=INFO msg="character RPG stats created" character_id=133b4fe0-862f-4488-bef3-19b47bdad1b7 version=1
=== RUN   TestCharacterRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestCharacterRPGStatsHandler_Create (0.23s)
    --- PASS: TestCharacterRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestCharacterRPGStatsHandler_GetActive
time=2026-01-04T14:09:49.828-03:00 level=INFO msg="tenant created" tenant_id=24041285-67a4-4724-a6b4-f6a48e5b0835 name="Test Tenant"
time=2026-01-04T14:09:49.830-03:00 level=INFO msg="world created" world_id=27210a20-779f-4b11-9201-e832813f88d3 name="Test World" tenant_id=24041285-67a4-4724-a6b4-f6a48e5b0835
time=2026-01-04T14:09:49.832-03:00 level=INFO msg="character created" character_id=879720b6-a511-4432-808b-e640fe8cc90e name="Test Character"
time=2026-01-04T14:09:49.834-03:00 level=INFO msg="character RPG stats created" character_id=879720b6-a511-4432-808b-e640fe8cc90e version=1
=== RUN   TestCharacterRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestCharacterRPGStatsHandler_GetActive (0.25s)
    --- PASS: TestCharacterRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestCharacterSkillHandler_Learn
time=2026-01-04T14:09:50.123-03:00 level=INFO msg="tenant created" tenant_id=1b345c55-e7f6-4240-9021-bfdcf4879e82 name="Test Tenant"
time=2026-01-04T14:09:50.124-03:00 level=INFO msg="world created" world_id=fad64479-cf75-44bc-8513-be735cdd0ffc name="Test World" tenant_id=1b345c55-e7f6-4240-9021-bfdcf4879e82
time=2026-01-04T14:09:50.126-03:00 level=INFO msg="character created" character_id=4ab86542-6019-4b1e-af4b-fb707bc74437 name="Test Character"
time=2026-01-04T14:09:50.128-03:00 level=INFO msg="RPG system created" rpg_system_id=c09efede-d83f-492a-ba26-a16ca6e2811a name="Test RPG System"
time=2026-01-04T14:09:50.129-03:00 level=INFO msg="skill created" skill_id=b23da57f-b002-4fae-9635-4bcbf9698a53 name="Test Skill"
=== RUN   TestCharacterSkillHandler_Learn/successful_learning
time=2026-01-04T14:09:50.132-03:00 level=INFO msg="character learned skill" character_id=4ab86542-6019-4b1e-af4b-fb707bc74437 skill_id=b23da57f-b002-4fae-9635-4bcbf9698a53
=== RUN   TestCharacterSkillHandler_Learn/missing_tenant_id
--- PASS: TestCharacterSkillHandler_Learn (0.38s)
    --- PASS: TestCharacterSkillHandler_Learn/successful_learning (0.00s)
    --- PASS: TestCharacterSkillHandler_Learn/missing_tenant_id (0.00s)
=== RUN   TestCharacterSkillHandler_List
time=2026-01-04T14:09:50.580-03:00 level=INFO msg="tenant created" tenant_id=6741b339-395d-47cc-b58b-c5bf9306bbfe name="Test Tenant"
time=2026-01-04T14:09:50.608-03:00 level=INFO msg="world created" world_id=b72a023a-2c66-4785-9a44-30352fc0548b name="Test World" tenant_id=6741b339-395d-47cc-b58b-c5bf9306bbfe
time=2026-01-04T14:09:50.610-03:00 level=INFO msg="character created" character_id=ffd472e8-1e56-4faf-895a-a46a0ea7101f name="Test Character"
=== RUN   TestCharacterSkillHandler_List/list_skills
--- PASS: TestCharacterSkillHandler_List (0.38s)
    --- PASS: TestCharacterSkillHandler_List/list_skills (0.00s)
=== RUN   TestContentBlockHandler_Create
time=2026-01-04T14:09:50.939-03:00 level=INFO msg="tenant created" tenant_id=6b300fc9-8158-4631-b030-3ed6e22ceeb3 name="Test Tenant"
time=2026-01-04T14:09:50.942-03:00 level=INFO msg="world created" world_id=ef76300d-e9ea-4476-9e5d-398f2c26a9cc name="World of Test Story" tenant_id=6b300fc9-8158-4631-b030-3ed6e22ceeb3
time=2026-01-04T14:09:50.942-03:00 level=INFO msg="created implicit world for story" world_id=ef76300d-e9ea-4476-9e5d-398f2c26a9cc story_title="Test Story"
time=2026-01-04T14:09:50.944-03:00 level=INFO msg="story created" story_id=ae46570f-33f2-407e-bbf2-fc4eb82408f3 title="Test Story" tenant_id=6b300fc9-8158-4631-b030-3ed6e22ceeb3
time=2026-01-04T14:09:50.945-03:00 level=INFO msg="chapter created" chapter_id=c757c225-8b2f-4890-b5c2-3fa051a3d1e9 story_id=ae46570f-33f2-407e-bbf2-fc4eb82408f3 tenant_id=6b300fc9-8158-4631-b030-3ed6e22ceeb3
=== RUN   TestContentBlockHandler_Create/successful_creation
time=2026-01-04T14:09:50.946-03:00 level=INFO msg="content block created" content_block_id=3ce49763-e8eb-4526-ad92-b563f3751988 tenant_id=6b300fc9-8158-4631-b030-3ed6e22ceeb3
=== RUN   TestContentBlockHandler_Create/missing_tenant_id
--- PASS: TestContentBlockHandler_Create (0.36s)
    --- PASS: TestContentBlockHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockHandler_Get
time=2026-01-04T14:09:51.315-03:00 level=INFO msg="tenant created" tenant_id=99de48ac-bfb4-410e-883f-3c2ffbdd272d name="Test Tenant"
time=2026-01-04T14:09:51.317-03:00 level=INFO msg="world created" world_id=7c4ed34c-3866-4270-b98d-3b73091500a8 name="World of Test Story" tenant_id=99de48ac-bfb4-410e-883f-3c2ffbdd272d
time=2026-01-04T14:09:51.317-03:00 level=INFO msg="created implicit world for story" world_id=7c4ed34c-3866-4270-b98d-3b73091500a8 story_title="Test Story"
time=2026-01-04T14:09:51.319-03:00 level=INFO msg="story created" story_id=b2e91a86-a388-4a54-b69c-4399ac02a134 title="Test Story" tenant_id=99de48ac-bfb4-410e-883f-3c2ffbdd272d
time=2026-01-04T14:09:51.320-03:00 level=INFO msg="chapter created" chapter_id=d8a24b1b-fd74-4012-a952-368aca1901f4 story_id=b2e91a86-a388-4a54-b69c-4399ac02a134 tenant_id=99de48ac-bfb4-410e-883f-3c2ffbdd272d
time=2026-01-04T14:09:51.322-03:00 level=INFO msg="content block created" content_block_id=8d39803d-7cdb-4f00-adef-209440ac79d5 tenant_id=99de48ac-bfb4-410e-883f-3c2ffbdd272d
=== RUN   TestContentBlockHandler_Get/existing_content_block
=== RUN   TestContentBlockHandler_Get/non-existing_content_block
time=2026-01-04T14:09:51.323-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 00000000-0000-0000-0000-000000000000" content_block_id=00000000-0000-0000-0000-000000000000 tenant_id=99de48ac-bfb4-410e-883f-3c2ffbdd272d
--- PASS: TestContentBlockHandler_Get (0.38s)
    --- PASS: TestContentBlockHandler_Get/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Get/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_List
time=2026-01-04T14:09:51.640-03:00 level=INFO msg="tenant created" tenant_id=51db417a-612f-449b-866b-55e4dde1cb89 name="Test Tenant"
time=2026-01-04T14:09:51.642-03:00 level=INFO msg="world created" world_id=fd59338e-ea0f-48df-a5f6-78775d02d679 name="World of Test Story" tenant_id=51db417a-612f-449b-866b-55e4dde1cb89
time=2026-01-04T14:09:51.642-03:00 level=INFO msg="created implicit world for story" world_id=fd59338e-ea0f-48df-a5f6-78775d02d679 story_title="Test Story"
time=2026-01-04T14:09:51.644-03:00 level=INFO msg="story created" story_id=4e670bd3-10b9-405f-affc-130166645604 title="Test Story" tenant_id=51db417a-612f-449b-866b-55e4dde1cb89
time=2026-01-04T14:09:51.645-03:00 level=INFO msg="chapter created" chapter_id=e081b2b2-1d8f-49b5-a5cf-b639659386d9 story_id=4e670bd3-10b9-405f-affc-130166645604 tenant_id=51db417a-612f-449b-866b-55e4dde1cb89
time=2026-01-04T14:09:51.647-03:00 level=INFO msg="content block created" content_block_id=5e062cc5-138d-424d-9ebd-6b3eac27c7ee tenant_id=51db417a-612f-449b-866b-55e4dde1cb89
time=2026-01-04T14:09:51.648-03:00 level=INFO msg="content block created" content_block_id=741fc09b-474d-461b-b4fd-83c728fe90c5 tenant_id=51db417a-612f-449b-866b-55e4dde1cb89
time=2026-01-04T14:09:51.648-03:00 level=INFO msg="content block created" content_block_id=b680708e-83e2-4277-8446-785b63c29e54 tenant_id=51db417a-612f-449b-866b-55e4dde1cb89
=== RUN   TestContentBlockHandler_List/list_content_blocks
--- PASS: TestContentBlockHandler_List (0.28s)
    --- PASS: TestContentBlockHandler_List/list_content_blocks (0.00s)
=== RUN   TestContentBlockHandler_Update
time=2026-01-04T14:09:51.908-03:00 level=INFO msg="tenant created" tenant_id=dfa7bd79-ee75-431a-bd12-99d4bcecf0eb name="Test Tenant"
time=2026-01-04T14:09:51.921-03:00 level=INFO msg="world created" world_id=b72ae0f3-9de5-414a-8a59-9900bbeb07b4 name="World of Test Story" tenant_id=dfa7bd79-ee75-431a-bd12-99d4bcecf0eb
time=2026-01-04T14:09:51.921-03:00 level=INFO msg="created implicit world for story" world_id=b72ae0f3-9de5-414a-8a59-9900bbeb07b4 story_title="Test Story"
time=2026-01-04T14:09:51.922-03:00 level=INFO msg="story created" story_id=9903eff2-6880-45db-a971-716d59b0cdad title="Test Story" tenant_id=dfa7bd79-ee75-431a-bd12-99d4bcecf0eb
time=2026-01-04T14:09:51.924-03:00 level=INFO msg="chapter created" chapter_id=4678b763-4baa-4a5b-a2d6-43110947a358 story_id=9903eff2-6880-45db-a971-716d59b0cdad tenant_id=dfa7bd79-ee75-431a-bd12-99d4bcecf0eb
time=2026-01-04T14:09:51.925-03:00 level=INFO msg="content block created" content_block_id=df8e2c77-cce1-4c39-9223-6fb92e131983 tenant_id=dfa7bd79-ee75-431a-bd12-99d4bcecf0eb
=== RUN   TestContentBlockHandler_Update/update_content_block_content
time=2026-01-04T14:09:51.927-03:00 level=INFO msg="content block updated" content_block_id=df8e2c77-cce1-4c39-9223-6fb92e131983 tenant_id=dfa7bd79-ee75-431a-bd12-99d4bcecf0eb
=== RUN   TestContentBlockHandler_Update/non-existing_content_block
--- PASS: TestContentBlockHandler_Update (0.28s)
    --- PASS: TestContentBlockHandler_Update/update_content_block_content (0.00s)
    --- PASS: TestContentBlockHandler_Update/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_Delete
time=2026-01-04T14:09:52.167-03:00 level=INFO msg="tenant created" tenant_id=957bdc17-11ce-4f64-92a9-ffe59f846acf name="Test Tenant"
time=2026-01-04T14:09:52.168-03:00 level=INFO msg="world created" world_id=9207cb9e-443c-4493-aac6-023af3069d37 name="World of Test Story" tenant_id=957bdc17-11ce-4f64-92a9-ffe59f846acf
time=2026-01-04T14:09:52.168-03:00 level=INFO msg="created implicit world for story" world_id=9207cb9e-443c-4493-aac6-023af3069d37 story_title="Test Story"
time=2026-01-04T14:09:52.170-03:00 level=INFO msg="story created" story_id=653755ff-745c-454c-943d-e240d287cb76 title="Test Story" tenant_id=957bdc17-11ce-4f64-92a9-ffe59f846acf
time=2026-01-04T14:09:52.171-03:00 level=INFO msg="chapter created" chapter_id=6c0d1beb-e4e5-46b9-8387-fb5b71cc1e6d story_id=653755ff-745c-454c-943d-e240d287cb76 tenant_id=957bdc17-11ce-4f64-92a9-ffe59f846acf
time=2026-01-04T14:09:52.172-03:00 level=INFO msg="content block created" content_block_id=10acaa28-5c88-49dc-a9b6-54dc3a9fc360 tenant_id=957bdc17-11ce-4f64-92a9-ffe59f846acf
=== RUN   TestContentBlockHandler_Delete/delete_existing_content_block
time=2026-01-04T14:09:52.174-03:00 level=INFO msg="content block deleted" content_block_id=10acaa28-5c88-49dc-a9b6-54dc3a9fc360 tenant_id=957bdc17-11ce-4f64-92a9-ffe59f846acf
time=2026-01-04T14:09:52.174-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 10acaa28-5c88-49dc-a9b6-54dc3a9fc360" content_block_id=10acaa28-5c88-49dc-a9b6-54dc3a9fc360 tenant_id=957bdc17-11ce-4f64-92a9-ffe59f846acf
=== RUN   TestContentBlockHandler_Delete/delete_non-existing_content_block
--- PASS: TestContentBlockHandler_Delete (0.27s)
    --- PASS: TestContentBlockHandler_Delete/delete_existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Delete/delete_non-existing_content_block (0.00s)
=== RUN   TestContentBlockReferenceHandler_Create
time=2026-01-04T14:09:52.475-03:00 level=INFO msg="tenant created" tenant_id=a274aeb4-5193-4849-b9a5-8e563f022b3a name="Test Tenant"
time=2026-01-04T14:09:52.476-03:00 level=INFO msg="world created" world_id=31d51396-dafd-4308-bdd2-8b31212b6282 name="World of Test Story" tenant_id=a274aeb4-5193-4849-b9a5-8e563f022b3a
time=2026-01-04T14:09:52.476-03:00 level=INFO msg="created implicit world for story" world_id=31d51396-dafd-4308-bdd2-8b31212b6282 story_title="Test Story"
time=2026-01-04T14:09:52.478-03:00 level=INFO msg="story created" story_id=6e2acc34-de91-4d16-a950-a61d91e5e02c title="Test Story" tenant_id=a274aeb4-5193-4849-b9a5-8e563f022b3a
time=2026-01-04T14:09:52.479-03:00 level=INFO msg="chapter created" chapter_id=3632531f-a284-42df-ba9e-644d0070d0d3 story_id=6e2acc34-de91-4d16-a950-a61d91e5e02c tenant_id=a274aeb4-5193-4849-b9a5-8e563f022b3a
time=2026-01-04T14:09:52.480-03:00 level=INFO msg="content block created" content_block_id=299afeca-c777-4d07-a855-2505dd3503fe tenant_id=a274aeb4-5193-4849-b9a5-8e563f022b3a
=== RUN   TestContentBlockReferenceHandler_Create/successful_creation
time=2026-01-04T14:09:52.481-03:00 level=INFO msg="world created" world_id=cfda979b-92b1-4a17-8e98-60edc6e78395 name="Test World" tenant_id=a274aeb4-5193-4849-b9a5-8e563f022b3a
time=2026-01-04T14:09:52.482-03:00 level=INFO msg="character created" character_id=f23795c4-a24f-4f21-b45b-32f0806fc735 name="Test Character"
time=2026-01-04T14:09:52.483-03:00 level=INFO msg="content block reference created" reference_id=248e4b93-2e26-4a6b-aeb0-18601394a7bc content_block_id=299afeca-c777-4d07-a855-2505dd3503fe tenant_id=a274aeb4-5193-4849-b9a5-8e563f022b3a
=== RUN   TestContentBlockReferenceHandler_Create/missing_tenant_id
--- PASS: TestContentBlockReferenceHandler_Create (0.29s)
    --- PASS: TestContentBlockReferenceHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockReferenceHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockReferenceHandler_ListByContentBlock
time=2026-01-04T14:09:52.738-03:00 level=INFO msg="tenant created" tenant_id=efd9f144-539d-4d42-abd3-13399e0eee64 name="Test Tenant"
time=2026-01-04T14:09:52.739-03:00 level=INFO msg="world created" world_id=4c168273-3e1b-4929-b3bb-5666e8161955 name="World of Test Story" tenant_id=efd9f144-539d-4d42-abd3-13399e0eee64
time=2026-01-04T14:09:52.739-03:00 level=INFO msg="created implicit world for story" world_id=4c168273-3e1b-4929-b3bb-5666e8161955 story_title="Test Story"
time=2026-01-04T14:09:52.742-03:00 level=INFO msg="story created" story_id=7864912c-d3b1-4965-bc11-7e3b1189ed54 title="Test Story" tenant_id=efd9f144-539d-4d42-abd3-13399e0eee64
time=2026-01-04T14:09:52.743-03:00 level=INFO msg="chapter created" chapter_id=df8fe8f9-df33-4024-ad67-5e2053224a30 story_id=7864912c-d3b1-4965-bc11-7e3b1189ed54 tenant_id=efd9f144-539d-4d42-abd3-13399e0eee64
time=2026-01-04T14:09:52.745-03:00 level=INFO msg="content block created" content_block_id=c4084cda-7488-4af3-9a22-535520e045a1 tenant_id=efd9f144-539d-4d42-abd3-13399e0eee64
=== RUN   TestContentBlockReferenceHandler_ListByContentBlock/list_references
--- PASS: TestContentBlockReferenceHandler_ListByContentBlock (0.26s)
    --- PASS: TestContentBlockReferenceHandler_ListByContentBlock/list_references (0.00s)
=== RUN   TestEventHandler_Create
time=2026-01-04T14:09:52.993-03:00 level=INFO msg="tenant created" tenant_id=decf7104-247a-42f8-9798-dc8e2d73ef84 name="Test Tenant"
time=2026-01-04T14:09:52.996-03:00 level=INFO msg="world created" world_id=8e0276c1-92d4-4979-84be-36029898d430 name="Test World" tenant_id=decf7104-247a-42f8-9798-dc8e2d73ef84
time=2026-01-04T14:09:53.003-03:00 level=INFO msg="world created" world_id=cfb68e2c-1089-4856-a817-f2324beb7da6 name="World of Test Story" tenant_id=decf7104-247a-42f8-9798-dc8e2d73ef84
time=2026-01-04T14:09:53.003-03:00 level=INFO msg="created implicit world for story" world_id=cfb68e2c-1089-4856-a817-f2324beb7da6 story_title="Test Story"
time=2026-01-04T14:09:53.005-03:00 level=INFO msg="story created" story_id=13608ae6-bfd9-48d8-b387-29ea729f978f title="Test Story" tenant_id=decf7104-247a-42f8-9798-dc8e2d73ef84
time=2026-01-04T14:09:53.006-03:00 level=INFO msg="chapter created" chapter_id=bc445029-7915-4828-bf17-40c16a1b2d82 story_id=13608ae6-bfd9-48d8-b387-29ea729f978f tenant_id=decf7104-247a-42f8-9798-dc8e2d73ef84
time=2026-01-04T14:09:53.007-03:00 level=INFO msg="scene created" scene_id=d9e62a04-4538-4011-99f7-df9f02bacdd6 story_id=13608ae6-bfd9-48d8-b387-29ea729f978f tenant_id=decf7104-247a-42f8-9798-dc8e2d73ef84
=== RUN   TestEventHandler_Create/successful_creation
time=2026-01-04T14:09:53.010-03:00 level=INFO msg="event created" event_id=6e7d96aa-8b01-459c-b1a8-9891a212bcde world_id=8e0276c1-92d4-4979-84be-36029898d430
=== RUN   TestEventHandler_Create/empty_name
=== RUN   TestEventHandler_Create/missing_tenant_id
--- PASS: TestEventHandler_Create (0.29s)
    --- PASS: TestEventHandler_Create/successful_creation (0.00s)
    --- PASS: TestEventHandler_Create/empty_name (0.00s)
    --- PASS: TestEventHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestEventHandler_Get
time=2026-01-04T14:09:53.307-03:00 level=INFO msg="tenant created" tenant_id=7e2ccf43-e942-4988-9773-24f0ee24dce8 name="Test Tenant"
time=2026-01-04T14:09:53.309-03:00 level=INFO msg="world created" world_id=3fcb80a3-8294-494c-84ba-a05b443ed64f name="Test World" tenant_id=7e2ccf43-e942-4988-9773-24f0ee24dce8
time=2026-01-04T14:09:53.310-03:00 level=INFO msg="world created" world_id=1eecb6a1-b6f0-4116-a39e-76e50ec79014 name="World of Test Story" tenant_id=7e2ccf43-e942-4988-9773-24f0ee24dce8
time=2026-01-04T14:09:53.310-03:00 level=INFO msg="created implicit world for story" world_id=1eecb6a1-b6f0-4116-a39e-76e50ec79014 story_title="Test Story"
time=2026-01-04T14:09:53.312-03:00 level=INFO msg="story created" story_id=51d57f81-85e4-4ad2-b955-0a5c1871645b title="Test Story" tenant_id=7e2ccf43-e942-4988-9773-24f0ee24dce8
time=2026-01-04T14:09:53.314-03:00 level=INFO msg="chapter created" chapter_id=f943778b-8356-466c-beb9-f0abddf76885 story_id=51d57f81-85e4-4ad2-b955-0a5c1871645b tenant_id=7e2ccf43-e942-4988-9773-24f0ee24dce8
time=2026-01-04T14:09:53.316-03:00 level=INFO msg="scene created" scene_id=bb4e955f-1b8f-45fb-8b25-406de3ca051b story_id=51d57f81-85e4-4ad2-b955-0a5c1871645b tenant_id=7e2ccf43-e942-4988-9773-24f0ee24dce8
time=2026-01-04T14:09:53.317-03:00 level=INFO msg="event created" event_id=70d2a08d-2da6-42d5-9a4d-c25fca9112bd world_id=3fcb80a3-8294-494c-84ba-a05b443ed64f
=== RUN   TestEventHandler_Get/get_existing_event
=== RUN   TestEventHandler_Get/get_non-existing_event
time=2026-01-04T14:09:53.318-03:00 level=ERROR msg="failed to get event" error="event not found: 00000000-0000-0000-0000-000000000000" event_id=00000000-0000-0000-0000-000000000000
--- PASS: TestEventHandler_Get (0.65s)
    --- PASS: TestEventHandler_Get/get_existing_event (0.00s)
    --- PASS: TestEventHandler_Get/get_non-existing_event (0.00s)
=== RUN   TestFactionHandler_Create
time=2026-01-04T14:09:55.240-03:00 level=INFO msg="tenant created" tenant_id=7a485e8d-d514-4192-a825-a7ed509e6a46 name="Test Tenant"
time=2026-01-04T14:09:55.243-03:00 level=INFO msg="world created" world_id=996a4b8f-8d3a-4140-9693-53ea10ffba02 name="Test World" tenant_id=7a485e8d-d514-4192-a825-a7ed509e6a46
=== RUN   TestFactionHandler_Create/successful_creation
time=2026-01-04T14:09:55.245-03:00 level=INFO msg="faction created" faction_id=30037603-bc10-4aec-9ad4-f7145886531b name="Guild of Mages"
=== RUN   TestFactionHandler_Create/empty_name
--- PASS: TestFactionHandler_Create (1.55s)
    --- PASS: TestFactionHandler_Create/successful_creation (0.00s)
    --- PASS: TestFactionHandler_Create/empty_name (0.00s)
=== RUN   TestFactionHandler_AddReference
time=2026-01-04T14:09:55.537-03:00 level=INFO msg="tenant created" tenant_id=6ea3aa22-7e77-4023-a90c-0319a942db45 name="Test Tenant"
time=2026-01-04T14:09:55.538-03:00 level=INFO msg="world created" world_id=c17b140c-e325-41d0-aab0-477d1bf766ee name="Test World" tenant_id=6ea3aa22-7e77-4023-a90c-0319a942db45
time=2026-01-04T14:09:55.540-03:00 level=INFO msg="faction created" faction_id=17bd3e55-eb40-4287-84c5-4f032765b5cb name="Guild of Mages"
time=2026-01-04T14:09:55.541-03:00 level=INFO msg="character created" character_id=2d187bfe-44f1-4dfc-8d80-30b41d9cecad name="Test Character"
=== RUN   TestFactionHandler_AddReference/add_character_reference
time=2026-01-04T14:09:55.554-03:00 level=INFO msg="faction reference added" faction_id=17bd3e55-eb40-4287-84c5-4f032765b5cb entity_type=character entity_id=2d187bfe-44f1-4dfc-8d80-30b41d9cecad
=== RUN   TestFactionHandler_AddReference/get_references
--- PASS: TestFactionHandler_AddReference (0.35s)
    --- PASS: TestFactionHandler_AddReference/add_character_reference (0.01s)
    --- PASS: TestFactionHandler_AddReference/get_references (0.00s)
=== RUN   TestInventoryHandler_AddItem
time=2026-01-04T14:09:56.292-03:00 level=INFO msg="tenant created" tenant_id=cf44ea5b-05a8-4cb5-a4ae-b2fdc4736950 name="Test Tenant"
time=2026-01-04T14:09:56.294-03:00 level=INFO msg="world created" world_id=328b9f40-1949-4a64-aabb-7fa25b956478 name="Test World" tenant_id=cf44ea5b-05a8-4cb5-a4ae-b2fdc4736950
time=2026-01-04T14:09:56.296-03:00 level=INFO msg="character created" character_id=82696ec7-220f-4fbe-8cf4-ed08e2c42fa9 name="Test Character"
time=2026-01-04T14:09:56.298-03:00 level=INFO msg="RPG system created" rpg_system_id=92a82569-e188-4b26-970d-890e31675231 name="Test RPG System"
time=2026-01-04T14:09:56.300-03:00 level=INFO msg="inventory item created" item_id=27696d7f-4358-4c1b-bd94-d2541166963c name="Test Item"
=== RUN   TestInventoryHandler_AddItem/successful_add_item
time=2026-01-04T14:09:56.303-03:00 level=INFO msg="item added to inventory" character_id=82696ec7-220f-4fbe-8cf4-ed08e2c42fa9 item_id=27696d7f-4358-4c1b-bd94-d2541166963c
=== RUN   TestInventoryHandler_AddItem/missing_tenant_id
--- PASS: TestInventoryHandler_AddItem (0.73s)
    --- PASS: TestInventoryHandler_AddItem/successful_add_item (0.00s)
    --- PASS: TestInventoryHandler_AddItem/missing_tenant_id (0.00s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-04T14:09:56.536-03:00 level=INFO msg="tenant created" tenant_id=9c89cea9-9c5c-4ac7-b5c8-fffceea55c3d name="Test Tenant"
time=2026-01-04T14:09:56.538-03:00 level=INFO msg="world created" world_id=259ef3e3-6694-46e0-ae86-04fad0ced764 name="Test World" tenant_id=9c89cea9-9c5c-4ac7-b5c8-fffceea55c3d
time=2026-01-04T14:09:56.540-03:00 level=INFO msg="character created" character_id=a1ca74a3-e9a1-462c-9ff2-ec68d8e2ab3b name="Test Character"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
--- PASS: TestInventoryHandler_ListInventory (0.25s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.00s)
=== RUN   TestInventoryHandler_DeleteInventory
time=2026-01-04T14:09:56.834-03:00 level=INFO msg="tenant created" tenant_id=cbdadc5c-38aa-47fb-b9bf-01ed39f8a473 name="Test Tenant"
time=2026-01-04T14:09:56.836-03:00 level=INFO msg="world created" world_id=510f9543-0d63-48d8-bb29-7d2f6157ae30 name="Test World" tenant_id=cbdadc5c-38aa-47fb-b9bf-01ed39f8a473
time=2026-01-04T14:09:56.838-03:00 level=INFO msg="character created" character_id=07330879-edec-4f45-8d63-f86e6a44dbb3 name="Test Character"
time=2026-01-04T14:09:56.839-03:00 level=INFO msg="RPG system created" rpg_system_id=70a25975-e1c0-4631-b8ab-41d6bee32e40 name="Test RPG System"
time=2026-01-04T14:09:56.840-03:00 level=INFO msg="inventory item created" item_id=0c5086f8-0973-4e3b-972b-3e1bc19f0f92 name="Test Item"
time=2026-01-04T14:09:56.843-03:00 level=INFO msg="item added to inventory" character_id=07330879-edec-4f45-8d63-f86e6a44dbb3 item_id=0c5086f8-0973-4e3b-972b-3e1bc19f0f92
=== RUN   TestInventoryHandler_DeleteInventory/delete_existing_inventory_item
time=2026-01-04T14:09:56.844-03:00 level=INFO msg="item removed from inventory" id=5fc1bcf1-42eb-4ba6-9636-8f7f492443e6
=== RUN   TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item
time=2026-01-04T14:09:56.844-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 00000000-0000-0000-0000-000000000000" id=00000000-0000-0000-0000-000000000000
--- PASS: TestInventoryHandler_DeleteInventory (0.31s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_existing_inventory_item (0.00s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item (0.00s)
=== RUN   TestLocationHandler_Create
time=2026-01-04T14:09:57.126-03:00 level=INFO msg="tenant created" tenant_id=90d8c4f9-5152-4d60-b2f3-2d4210f69ccb name="Test Tenant"
time=2026-01-04T14:09:57.127-03:00 level=INFO msg="world created" world_id=88d31d1e-a596-497d-a008-be88c69ca7df name="Test World" tenant_id=90d8c4f9-5152-4d60-b2f3-2d4210f69ccb
=== RUN   TestLocationHandler_Create/successful_creation
time=2026-01-04T14:09:57.129-03:00 level=INFO msg="location created" location_id=0d490eba-7483-4fee-a9b8-64e5f02969a0 name="Test Location"
=== RUN   TestLocationHandler_Create/missing_tenant_id
=== RUN   TestLocationHandler_Create/empty_name
--- PASS: TestLocationHandler_Create (0.29s)
    --- PASS: TestLocationHandler_Create/successful_creation (0.00s)
    --- PASS: TestLocationHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestLocationHandler_Create/empty_name (0.00s)
=== RUN   TestLocationHandler_Get
time=2026-01-04T14:09:57.460-03:00 level=INFO msg="tenant created" tenant_id=7fb09da3-9b58-46ea-8f0d-e7f2babb97a7 name="Test Tenant"
time=2026-01-04T14:09:57.462-03:00 level=INFO msg="world created" world_id=6bb0d498-74ff-4063-bc2c-5d39b8ae4610 name="Test World" tenant_id=7fb09da3-9b58-46ea-8f0d-e7f2babb97a7
time=2026-01-04T14:09:57.464-03:00 level=INFO msg="location created" location_id=e9112ef8-00a2-41d3-bc22-647b82260d4b name="Get Test Location"
=== RUN   TestLocationHandler_Get/existing_location
=== RUN   TestLocationHandler_Get/non-existing_location
time=2026-01-04T14:09:57.464-03:00 level=ERROR msg="failed to get location" error="location not found: 00000000-0000-0000-0000-000000000000" location_id=00000000-0000-0000-0000-000000000000
=== RUN   TestLocationHandler_Get/invalid_location_ID
--- PASS: TestLocationHandler_Get (0.33s)
    --- PASS: TestLocationHandler_Get/existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/non-existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/invalid_location_ID (0.00s)
=== RUN   TestLocationHandler_List
time=2026-01-04T14:09:57.739-03:00 level=INFO msg="tenant created" tenant_id=af00a950-aa76-41e9-81fc-b1e4812d3527 name="Test Tenant"
time=2026-01-04T14:09:57.740-03:00 level=INFO msg="world created" world_id=6eb4d43a-acb3-4eb3-8157-1aa2b840aa36 name="Test World" tenant_id=af00a950-aa76-41e9-81fc-b1e4812d3527
time=2026-01-04T14:09:57.741-03:00 level=INFO msg="location created" location_id=1ed8595b-068c-42d6-82a5-a97505a73e0e name="Location 1"
time=2026-01-04T14:09:57.741-03:00 level=INFO msg="location created" location_id=9d02e438-b4f9-4156-a38b-840b8b2c83e7 name="Location 2"
time=2026-01-04T14:09:57.742-03:00 level=INFO msg="location created" location_id=55af174f-4caf-4415-8f33-defc895d34b8 name="Location 3"
=== RUN   TestLocationHandler_List/list_locations
=== RUN   TestLocationHandler_List/missing_tenant_id
--- PASS: TestLocationHandler_List (0.27s)
    --- PASS: TestLocationHandler_List/list_locations (0.00s)
    --- PASS: TestLocationHandler_List/missing_tenant_id (0.00s)
=== RUN   TestLocationHandler_Update
time=2026-01-04T14:09:58.014-03:00 level=INFO msg="tenant created" tenant_id=b149aa81-9db7-4c13-a9ec-25c5d5e97c5c name="Test Tenant"
time=2026-01-04T14:09:58.016-03:00 level=INFO msg="world created" world_id=002b35af-54fd-4812-8ef8-5f59b568fa34 name="Test World" tenant_id=b149aa81-9db7-4c13-a9ec-25c5d5e97c5c
time=2026-01-04T14:09:58.019-03:00 level=INFO msg="location created" location_id=b4e06c1e-ea83-43fa-a4d9-7d2c88d4b16f name="Original Location"
=== RUN   TestLocationHandler_Update/update_location_name
time=2026-01-04T14:09:58.020-03:00 level=INFO msg="location updated" location_id=b4e06c1e-ea83-43fa-a4d9-7d2c88d4b16f name="Updated Location"
=== RUN   TestLocationHandler_Update/non-existing_location
--- PASS: TestLocationHandler_Update (0.28s)
    --- PASS: TestLocationHandler_Update/update_location_name (0.00s)
    --- PASS: TestLocationHandler_Update/non-existing_location (0.00s)
=== RUN   TestLocationHandler_Delete
time=2026-01-04T14:09:58.225-03:00 level=INFO msg="tenant created" tenant_id=5ba8b8e5-2bd0-42d2-af60-3755c18929b5 name="Test Tenant"
time=2026-01-04T14:09:58.226-03:00 level=INFO msg="world created" world_id=bfbf24ab-11e9-4637-978b-63b9b6d11db8 name="Test World" tenant_id=5ba8b8e5-2bd0-42d2-af60-3755c18929b5
time=2026-01-04T14:09:58.228-03:00 level=INFO msg="location created" location_id=879b125f-eb32-4a3b-8bc1-cc9b8f45f5d7 name="Location to Delete"
=== RUN   TestLocationHandler_Delete/delete_existing_location
time=2026-01-04T14:09:58.229-03:00 level=INFO msg="location deleted" location_id=879b125f-eb32-4a3b-8bc1-cc9b8f45f5d7 name="Location to Delete"
time=2026-01-04T14:09:58.229-03:00 level=ERROR msg="failed to get location" error="location not found: 879b125f-eb32-4a3b-8bc1-cc9b8f45f5d7" location_id=879b125f-eb32-4a3b-8bc1-cc9b8f45f5d7
=== RUN   TestLocationHandler_Delete/delete_non-existing_location
--- PASS: TestLocationHandler_Delete (0.20s)
    --- PASS: TestLocationHandler_Delete/delete_existing_location (0.00s)
    --- PASS: TestLocationHandler_Delete/delete_non-existing_location (0.00s)
=== RUN   TestLoreHandler_Create
time=2026-01-04T14:09:58.502-03:00 level=INFO msg="tenant created" tenant_id=6d7e673e-94d4-4528-a7a1-a9e0b57e8809 name="Test Tenant"
time=2026-01-04T14:09:58.503-03:00 level=INFO msg="world created" world_id=173d8de6-1c0c-4dbb-b140-37a4aae5e49b name="Test World" tenant_id=6d7e673e-94d4-4528-a7a1-a9e0b57e8809
=== RUN   TestLoreHandler_Create/successful_creation
time=2026-01-04T14:09:58.505-03:00 level=INFO msg="lore created" lore_id=bf3e1aaf-77a9-40d3-b292-c2c625b4cbf5 name="Fire Magic"
=== RUN   TestLoreHandler_Create/empty_name
--- PASS: TestLoreHandler_Create (0.27s)
    --- PASS: TestLoreHandler_Create/successful_creation (0.00s)
    --- PASS: TestLoreHandler_Create/empty_name (0.00s)
=== RUN   TestLoreHandler_AddReference
time=2026-01-04T14:09:58.810-03:00 level=INFO msg="tenant created" tenant_id=b2fcdd0d-75f9-43d7-aaa7-27f811299d69 name="Test Tenant"
time=2026-01-04T14:09:58.812-03:00 level=INFO msg="world created" world_id=b508b877-79ae-45a2-8858-492223ff01d7 name="Test World" tenant_id=b2fcdd0d-75f9-43d7-aaa7-27f811299d69
time=2026-01-04T14:09:58.816-03:00 level=INFO msg="lore created" lore_id=15a061c3-1757-4049-a3db-9c7a7984f4ce name="Fire Magic"
time=2026-01-04T14:09:58.818-03:00 level=INFO msg="character created" character_id=46756373-e3e9-4578-a463-13b7aa68e6f3 name="Test Character"
=== RUN   TestLoreHandler_AddReference/add_character_reference
time=2026-01-04T14:09:58.821-03:00 level=INFO msg="lore reference added" lore_id=15a061c3-1757-4049-a3db-9c7a7984f4ce entity_type=character entity_id=46756373-e3e9-4578-a463-13b7aa68e6f3
=== RUN   TestLoreHandler_AddReference/get_references
--- PASS: TestLoreHandler_AddReference (0.33s)
    --- PASS: TestLoreHandler_AddReference/add_character_reference (0.00s)
    --- PASS: TestLoreHandler_AddReference/get_references (0.00s)
=== RUN   TestRPGClassHandler_Create
time=2026-01-04T14:09:59.176-03:00 level=INFO msg="tenant created" tenant_id=651b4cc0-256c-4dbd-b29c-2059a20b0ac4 name="Test Tenant"
time=2026-01-04T14:09:59.178-03:00 level=INFO msg="RPG system created" rpg_system_id=b016301a-5fa5-4d8e-9c35-438e6f7c92ab name="Test RPG System"
=== RUN   TestRPGClassHandler_Create/successful_creation
time=2026-01-04T14:09:59.179-03:00 level=INFO msg="RPG class created" class_id=f75e50ac-cca4-4f50-9b3b-e9920c7df797 name="Test Class"
=== RUN   TestRPGClassHandler_Create/missing_tenant_id
--- PASS: TestRPGClassHandler_Create (0.34s)
    --- PASS: TestRPGClassHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGClassHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGClassHandler_Get
time=2026-01-04T14:09:59.424-03:00 level=INFO msg="tenant created" tenant_id=90e0e852-fe43-4157-8f63-deb1db27488f name="Test Tenant"
time=2026-01-04T14:09:59.425-03:00 level=INFO msg="RPG system created" rpg_system_id=dc68a41d-0d1a-41a8-830e-33453edc8c8a name="Test RPG System"
time=2026-01-04T14:09:59.426-03:00 level=INFO msg="RPG class created" class_id=71432546-451e-4921-9108-5d16db95f16d name="Get Test Class"
=== RUN   TestRPGClassHandler_Get/existing_rpg_class
=== RUN   TestRPGClassHandler_Get/non-existing_rpg_class
time=2026-01-04T14:09:59.427-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Get (0.25s)
    --- PASS: TestRPGClassHandler_Get/existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Get/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_List
time=2026-01-04T14:09:59.727-03:00 level=INFO msg="tenant created" tenant_id=cab71808-0bd0-4c4a-bc38-1280b3982946 name="Test Tenant"
time=2026-01-04T14:09:59.731-03:00 level=INFO msg="RPG system created" rpg_system_id=a2dfaa78-fcb7-49fb-8ab5-e6c2c9d2725f name="Test RPG System"
time=2026-01-04T14:09:59.732-03:00 level=INFO msg="RPG class created" class_id=201d5d75-888e-4f1b-9bf3-5a512fb1b4f7 name="Class 1"
time=2026-01-04T14:09:59.733-03:00 level=INFO msg="RPG class created" class_id=c6f13cc1-3aa1-4c17-8a7f-36d95c018f72 name="Class 2"
time=2026-01-04T14:09:59.733-03:00 level=INFO msg="RPG class created" class_id=66e04c78-b239-4a21-bf7e-48f256d565f5 name="Class 3"
=== RUN   TestRPGClassHandler_List/list_rpg_classes
--- PASS: TestRPGClassHandler_List (0.31s)
    --- PASS: TestRPGClassHandler_List/list_rpg_classes (0.00s)
=== RUN   TestRPGClassHandler_Update
time=2026-01-04T14:09:59.912-03:00 level=INFO msg="tenant created" tenant_id=f37cd10f-3611-4c37-ad97-a85289a6d418 name="Test Tenant"
time=2026-01-04T14:09:59.913-03:00 level=INFO msg="RPG system created" rpg_system_id=256e87f7-f24b-4780-bde0-18d5eb538891 name="Test RPG System"
time=2026-01-04T14:09:59.915-03:00 level=INFO msg="RPG class created" class_id=b2ca8bfc-850a-4bb6-9cfa-a489b42ec31b name="Original Class"
=== RUN   TestRPGClassHandler_Update/update_rpg_class_name
time=2026-01-04T14:09:59.915-03:00 level=INFO msg="RPG class updated" class_id=b2ca8bfc-850a-4bb6-9cfa-a489b42ec31b
=== RUN   TestRPGClassHandler_Update/non-existing_rpg_class
--- PASS: TestRPGClassHandler_Update (0.18s)
    --- PASS: TestRPGClassHandler_Update/update_rpg_class_name (0.00s)
    --- PASS: TestRPGClassHandler_Update/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_Delete
time=2026-01-04T14:10:00.133-03:00 level=INFO msg="tenant created" tenant_id=208ab423-10de-4964-91ca-0855b20a3700 name="Test Tenant"
time=2026-01-04T14:10:00.134-03:00 level=INFO msg="RPG system created" rpg_system_id=1f2f7c8b-f18c-4294-91f4-b3fd0364b6a2 name="Test RPG System"
time=2026-01-04T14:10:00.136-03:00 level=INFO msg="RPG class created" class_id=d8a04f47-de83-4fcc-9fdc-025289df7f4a name="Class to Delete"
=== RUN   TestRPGClassHandler_Delete/delete_existing_rpg_class
time=2026-01-04T14:10:00.137-03:00 level=INFO msg="RPG class deleted" class_id=d8a04f47-de83-4fcc-9fdc-025289df7f4a
time=2026-01-04T14:10:00.137-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: d8a04f47-de83-4fcc-9fdc-025289df7f4a" class_id=d8a04f47-de83-4fcc-9fdc-025289df7f4a
=== RUN   TestRPGClassHandler_Delete/delete_non-existing_rpg_class
time=2026-01-04T14:10:00.138-03:00 level=ERROR msg="failed to delete RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Delete (0.22s)
    --- PASS: TestRPGClassHandler_Delete/delete_existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Delete/delete_non-existing_rpg_class (0.00s)
=== RUN   TestRPGSystemHandler_Create
time=2026-01-04T14:10:00.396-03:00 level=INFO msg="tenant created" tenant_id=d02ed0e1-cc4a-40de-8e05-6ebed670c789 name="Test Tenant"
=== RUN   TestRPGSystemHandler_Create/successful_creation
time=2026-01-04T14:10:00.399-03:00 level=INFO msg="RPG system created" rpg_system_id=fcb63f75-2fb4-410a-a3af-7084dec2baf6 name="Test RPG System"
=== RUN   TestRPGSystemHandler_Create/missing_tenant_id
--- PASS: TestRPGSystemHandler_Create (0.47s)
    --- PASS: TestRPGSystemHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGSystemHandler_Get
time=2026-01-04T14:10:00.830-03:00 level=INFO msg="tenant created" tenant_id=56634c33-16b4-4d19-899d-600bfc7e8e0f name="Test Tenant"
time=2026-01-04T14:10:00.831-03:00 level=INFO msg="RPG system created" rpg_system_id=c8e23c51-486d-4dcf-875e-fb79ccba52c2 name="Get Test RPG System"
=== RUN   TestRPGSystemHandler_Get/existing_rpg_system
=== RUN   TestRPGSystemHandler_Get/non-existing_rpg_system
time=2026-01-04T14:10:00.832-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 00000000-0000-0000-0000-000000000000" rpg_system_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGSystemHandler_Get (0.27s)
    --- PASS: TestRPGSystemHandler_Get/existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Get/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_List
time=2026-01-04T14:10:01.089-03:00 level=INFO msg="tenant created" tenant_id=91071bd6-4042-4ae9-8b9d-454cbfcf9188 name="Test Tenant"
time=2026-01-04T14:10:01.090-03:00 level=INFO msg="RPG system created" rpg_system_id=947c159e-7ff5-435f-b1d0-710b76114528 name="RPG System 1"
time=2026-01-04T14:10:01.090-03:00 level=INFO msg="RPG system created" rpg_system_id=cd163f36-4b51-4bb7-a015-f0373115cef7 name="RPG System 2"
time=2026-01-04T14:10:01.094-03:00 level=INFO msg="RPG system created" rpg_system_id=84a51ee6-350e-4357-a2ca-85ae335eff48 name="RPG System 3"
=== RUN   TestRPGSystemHandler_List/list_rpg_systems
--- PASS: TestRPGSystemHandler_List (0.27s)
    --- PASS: TestRPGSystemHandler_List/list_rpg_systems (0.00s)
=== RUN   TestRPGSystemHandler_Update
time=2026-01-04T14:10:01.379-03:00 level=INFO msg="tenant created" tenant_id=f0526854-ff0d-43fd-926e-a0d9f80a2c34 name="Test Tenant"
time=2026-01-04T14:10:01.384-03:00 level=INFO msg="RPG system created" rpg_system_id=17932931-431e-470d-ade9-cf58c4902108 name="Original RPG System"
=== RUN   TestRPGSystemHandler_Update/update_rpg_system_name
time=2026-01-04T14:10:01.388-03:00 level=INFO msg="RPG system updated" rpg_system_id=17932931-431e-470d-ade9-cf58c4902108
=== RUN   TestRPGSystemHandler_Update/non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Update (0.90s)
    --- PASS: TestRPGSystemHandler_Update/update_rpg_system_name (0.00s)
    --- PASS: TestRPGSystemHandler_Update/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_Delete
time=2026-01-04T14:10:03.236-03:00 level=INFO msg="tenant created" tenant_id=dd42956f-852b-4b0a-bc14-5741fc0f68ee name="Test Tenant"
time=2026-01-04T14:10:03.240-03:00 level=INFO msg="RPG system created" rpg_system_id=bfbffa82-2711-45ab-b820-37e360fb84b9 name="RPG System to Delete"
=== RUN   TestRPGSystemHandler_Delete/delete_existing_rpg_system
time=2026-01-04T14:10:03.244-03:00 level=INFO msg="RPG system deleted" rpg_system_id=bfbffa82-2711-45ab-b820-37e360fb84b9
time=2026-01-04T14:10:03.244-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: bfbffa82-2711-45ab-b820-37e360fb84b9" rpg_system_id=bfbffa82-2711-45ab-b820-37e360fb84b9
=== RUN   TestRPGSystemHandler_Delete/delete_non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Delete (1.18s)
    --- PASS: TestRPGSystemHandler_Delete/delete_existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Delete/delete_non-existing_rpg_system (0.00s)
=== RUN   TestSceneHandler_Create
time=2026-01-04T14:10:03.641-03:00 level=INFO msg="tenant created" tenant_id=5a7ca75a-f7a4-4c44-906a-ad6799cfc09d name="Test Tenant"
time=2026-01-04T14:10:03.648-03:00 level=INFO msg="world created" world_id=9d566745-1463-42db-9389-16ad25e87335 name="World of Test Story" tenant_id=5a7ca75a-f7a4-4c44-906a-ad6799cfc09d
time=2026-01-04T14:10:03.648-03:00 level=INFO msg="created implicit world for story" world_id=9d566745-1463-42db-9389-16ad25e87335 story_title="Test Story"
time=2026-01-04T14:10:03.654-03:00 level=INFO msg="story created" story_id=bbd3035b-a1e0-4a6c-a459-ac819c4cac35 title="Test Story" tenant_id=5a7ca75a-f7a4-4c44-906a-ad6799cfc09d
=== RUN   TestSceneHandler_Create/successful_creation
time=2026-01-04T14:10:03.658-03:00 level=INFO msg="scene created" scene_id=4db84319-ea4b-4119-aab4-e37408f7efb9 story_id=bbd3035b-a1e0-4a6c-a459-ac819c4cac35 tenant_id=5a7ca75a-f7a4-4c44-906a-ad6799cfc09d
=== RUN   TestSceneHandler_Create/missing_tenant_id
--- PASS: TestSceneHandler_Create (0.51s)
    --- PASS: TestSceneHandler_Create/successful_creation (0.00s)
    --- PASS: TestSceneHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSceneHandler_Get
time=2026-01-04T14:10:03.967-03:00 level=INFO msg="tenant created" tenant_id=fffb1ffd-6ecb-4d2e-940a-5c50d5e5814d name="Test Tenant"
time=2026-01-04T14:10:03.968-03:00 level=INFO msg="world created" world_id=6d40da58-e856-49a0-836f-45494d3c87c2 name="World of Test Story" tenant_id=fffb1ffd-6ecb-4d2e-940a-5c50d5e5814d
time=2026-01-04T14:10:03.968-03:00 level=INFO msg="created implicit world for story" world_id=6d40da58-e856-49a0-836f-45494d3c87c2 story_title="Test Story"
time=2026-01-04T14:10:03.970-03:00 level=INFO msg="story created" story_id=bc16e838-2266-4a0d-ae31-18f68571bb45 title="Test Story" tenant_id=fffb1ffd-6ecb-4d2e-940a-5c50d5e5814d
time=2026-01-04T14:10:03.971-03:00 level=INFO msg="scene created" scene_id=b692521d-1956-4a39-924b-0a943d97d83d story_id=bc16e838-2266-4a0d-ae31-18f68571bb45 tenant_id=fffb1ffd-6ecb-4d2e-940a-5c50d5e5814d
=== RUN   TestSceneHandler_Get/existing_scene
=== RUN   TestSceneHandler_Get/non-existing_scene
time=2026-01-04T14:10:03.972-03:00 level=ERROR msg="failed to get scene" error="scene not found: 00000000-0000-0000-0000-000000000000" scene_id=00000000-0000-0000-0000-000000000000 tenant_id=fffb1ffd-6ecb-4d2e-940a-5c50d5e5814d
--- PASS: TestSceneHandler_Get (0.26s)
    --- PASS: TestSceneHandler_Get/existing_scene (0.00s)
    --- PASS: TestSceneHandler_Get/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_List
time=2026-01-04T14:10:04.250-03:00 level=INFO msg="tenant created" tenant_id=20315510-27cd-45a5-8673-bb37ba73c10d name="Test Tenant"
time=2026-01-04T14:10:04.251-03:00 level=INFO msg="world created" world_id=f12371b3-202c-4948-9c35-95953b722bc5 name="World of Test Story" tenant_id=20315510-27cd-45a5-8673-bb37ba73c10d
time=2026-01-04T14:10:04.251-03:00 level=INFO msg="created implicit world for story" world_id=f12371b3-202c-4948-9c35-95953b722bc5 story_title="Test Story"
time=2026-01-04T14:10:04.253-03:00 level=INFO msg="story created" story_id=087a8de8-d457-43f3-9dfd-b16489cf69fb title="Test Story" tenant_id=20315510-27cd-45a5-8673-bb37ba73c10d
time=2026-01-04T14:10:04.254-03:00 level=INFO msg="scene created" scene_id=b392160f-5ee8-47b5-8aea-72d4b96cd02a story_id=087a8de8-d457-43f3-9dfd-b16489cf69fb tenant_id=20315510-27cd-45a5-8673-bb37ba73c10d
time=2026-01-04T14:10:04.255-03:00 level=INFO msg="scene created" scene_id=bb6d8ab1-ff3f-4cce-86f4-77be78807045 story_id=087a8de8-d457-43f3-9dfd-b16489cf69fb tenant_id=20315510-27cd-45a5-8673-bb37ba73c10d
time=2026-01-04T14:10:04.256-03:00 level=INFO msg="scene created" scene_id=f1de2c8c-da51-43b1-adde-b2cd091f1736 story_id=087a8de8-d457-43f3-9dfd-b16489cf69fb tenant_id=20315510-27cd-45a5-8673-bb37ba73c10d
=== RUN   TestSceneHandler_List/list_scenes
--- PASS: TestSceneHandler_List (0.28s)
    --- PASS: TestSceneHandler_List/list_scenes (0.00s)
=== RUN   TestSceneHandler_Update
time=2026-01-04T14:10:04.475-03:00 level=INFO msg="tenant created" tenant_id=31f15767-52c3-4db8-ad34-02bd842e5ab5 name="Test Tenant"
time=2026-01-04T14:10:04.477-03:00 level=INFO msg="world created" world_id=213749f4-cd5c-422c-8736-623f9f34cfbf name="World of Test Story" tenant_id=31f15767-52c3-4db8-ad34-02bd842e5ab5
time=2026-01-04T14:10:04.477-03:00 level=INFO msg="created implicit world for story" world_id=213749f4-cd5c-422c-8736-623f9f34cfbf story_title="Test Story"
time=2026-01-04T14:10:04.478-03:00 level=INFO msg="story created" story_id=b3ed9dc3-79c6-4033-ae84-a546d11b9932 title="Test Story" tenant_id=31f15767-52c3-4db8-ad34-02bd842e5ab5
time=2026-01-04T14:10:04.480-03:00 level=INFO msg="scene created" scene_id=80e45785-963a-45e3-983f-be121081d328 story_id=b3ed9dc3-79c6-4033-ae84-a546d11b9932 tenant_id=31f15767-52c3-4db8-ad34-02bd842e5ab5
=== RUN   TestSceneHandler_Update/update_scene_goal
time=2026-01-04T14:10:04.481-03:00 level=INFO msg="scene updated" scene_id=80e45785-963a-45e3-983f-be121081d328 tenant_id=31f15767-52c3-4db8-ad34-02bd842e5ab5
=== RUN   TestSceneHandler_Update/non-existing_scene
--- PASS: TestSceneHandler_Update (0.24s)
    --- PASS: TestSceneHandler_Update/update_scene_goal (0.00s)
    --- PASS: TestSceneHandler_Update/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_Delete
time=2026-01-04T14:10:04.726-03:00 level=INFO msg="tenant created" tenant_id=0ea45287-f9be-4c9b-927e-4db2cede5865 name="Test Tenant"
time=2026-01-04T14:10:04.728-03:00 level=INFO msg="world created" world_id=ce849b7b-cb7d-4709-b389-5bbb73ae861c name="World of Test Story" tenant_id=0ea45287-f9be-4c9b-927e-4db2cede5865
time=2026-01-04T14:10:04.728-03:00 level=INFO msg="created implicit world for story" world_id=ce849b7b-cb7d-4709-b389-5bbb73ae861c story_title="Test Story"
time=2026-01-04T14:10:04.729-03:00 level=INFO msg="story created" story_id=d07b6b3b-3e77-4fd6-8d57-aab40d4bf747 title="Test Story" tenant_id=0ea45287-f9be-4c9b-927e-4db2cede5865
time=2026-01-04T14:10:04.731-03:00 level=INFO msg="scene created" scene_id=c469e1bc-e3fb-4964-a8ad-56d751c4d86a story_id=d07b6b3b-3e77-4fd6-8d57-aab40d4bf747 tenant_id=0ea45287-f9be-4c9b-927e-4db2cede5865
=== RUN   TestSceneHandler_Delete/delete_existing_scene
time=2026-01-04T14:10:04.733-03:00 level=INFO msg="scene deleted" scene_id=c469e1bc-e3fb-4964-a8ad-56d751c4d86a tenant_id=0ea45287-f9be-4c9b-927e-4db2cede5865
time=2026-01-04T14:10:04.734-03:00 level=ERROR msg="failed to get scene" error="scene not found: c469e1bc-e3fb-4964-a8ad-56d751c4d86a" scene_id=c469e1bc-e3fb-4964-a8ad-56d751c4d86a tenant_id=0ea45287-f9be-4c9b-927e-4db2cede5865
=== RUN   TestSceneHandler_Delete/delete_non-existing_scene
--- PASS: TestSceneHandler_Delete (0.24s)
    --- PASS: TestSceneHandler_Delete/delete_existing_scene (0.00s)
    --- PASS: TestSceneHandler_Delete/delete_non-existing_scene (0.00s)
=== RUN   TestSkillHandler_Create
time=2026-01-04T14:10:04.994-03:00 level=INFO msg="tenant created" tenant_id=735f66cf-74a2-4f83-b15b-311c3a85ce8e name="Test Tenant"
time=2026-01-04T14:10:04.996-03:00 level=INFO msg="RPG system created" rpg_system_id=87f34b10-90ad-4aa9-a75c-76fb6b5e0024 name="Test RPG System"
=== RUN   TestSkillHandler_Create/successful_creation
time=2026-01-04T14:10:04.997-03:00 level=INFO msg="skill created" skill_id=720e8638-ca0b-49de-80ea-dd0f3ee97bd7 name="Test Skill"
=== RUN   TestSkillHandler_Create/missing_tenant_id
--- PASS: TestSkillHandler_Create (0.27s)
    --- PASS: TestSkillHandler_Create/successful_creation (0.00s)
    --- PASS: TestSkillHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSkillHandler_Get
time=2026-01-04T14:10:05.267-03:00 level=INFO msg="tenant created" tenant_id=66afee89-7a7a-4654-a379-7924310bc28d name="Test Tenant"
time=2026-01-04T14:10:05.268-03:00 level=INFO msg="RPG system created" rpg_system_id=e5a23b45-3625-4778-811c-795dddce807a name="Test RPG System"
time=2026-01-04T14:10:05.269-03:00 level=INFO msg="skill created" skill_id=586c83c0-4b90-4ae4-b9ca-b41e8e0929d7 name="Get Test Skill"
=== RUN   TestSkillHandler_Get/existing_skill
=== RUN   TestSkillHandler_Get/non-existing_skill
time=2026-01-04T14:10:05.270-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Get (0.25s)
    --- PASS: TestSkillHandler_Get/existing_skill (0.00s)
    --- PASS: TestSkillHandler_Get/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_List
time=2026-01-04T14:10:05.572-03:00 level=INFO msg="tenant created" tenant_id=50753ce9-0278-481b-95e5-22c6caf6d864 name="Test Tenant"
time=2026-01-04T14:10:05.573-03:00 level=INFO msg="RPG system created" rpg_system_id=9357781f-9af0-411a-8a10-9c1cf9a869d1 name="Test RPG System"
time=2026-01-04T14:10:05.574-03:00 level=INFO msg="skill created" skill_id=74f70c33-2ed4-4777-9805-649cb039d08f name="Skill 1"
time=2026-01-04T14:10:05.575-03:00 level=INFO msg="skill created" skill_id=bf95648b-722d-44bc-b248-c8fc8ccfc589 name="Skill 2"
time=2026-01-04T14:10:05.575-03:00 level=INFO msg="skill created" skill_id=18dfc2ea-f102-47aa-9d15-0fd8bf09db4b name="Skill 3"
=== RUN   TestSkillHandler_List/list_skills
--- PASS: TestSkillHandler_List (0.31s)
    --- PASS: TestSkillHandler_List/list_skills (0.00s)
=== RUN   TestSkillHandler_Update
time=2026-01-04T14:10:05.758-03:00 level=INFO msg="tenant created" tenant_id=5d9e73f7-d572-4ae3-b360-f8f14d116eb9 name="Test Tenant"
time=2026-01-04T14:10:05.759-03:00 level=INFO msg="RPG system created" rpg_system_id=5c877024-73b5-4970-9e1a-facdfb0d3d29 name="Test RPG System"
time=2026-01-04T14:10:05.760-03:00 level=INFO msg="skill created" skill_id=2c69c236-aa2f-4f7c-a1a7-e876890bd441 name="Original Skill"
=== RUN   TestSkillHandler_Update/update_skill_name
time=2026-01-04T14:10:05.764-03:00 level=INFO msg="skill updated" skill_id=2c69c236-aa2f-4f7c-a1a7-e876890bd441
=== RUN   TestSkillHandler_Update/non-existing_skill
--- PASS: TestSkillHandler_Update (0.19s)
    --- PASS: TestSkillHandler_Update/update_skill_name (0.00s)
    --- PASS: TestSkillHandler_Update/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_Delete
time=2026-01-04T14:10:05.972-03:00 level=INFO msg="tenant created" tenant_id=88419726-6568-4abe-a0ab-8818be84e32e name="Test Tenant"
time=2026-01-04T14:10:05.973-03:00 level=INFO msg="RPG system created" rpg_system_id=0b1370d0-22fb-42ff-b9cc-5176ee3acab5 name="Test RPG System"
time=2026-01-04T14:10:05.974-03:00 level=INFO msg="skill created" skill_id=e261183b-881a-4ab5-a3f7-a9d8bc9350d2 name="Skill to Delete"
=== RUN   TestSkillHandler_Delete/delete_existing_skill
time=2026-01-04T14:10:05.975-03:00 level=INFO msg="skill deleted" skill_id=e261183b-881a-4ab5-a3f7-a9d8bc9350d2
time=2026-01-04T14:10:05.975-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: e261183b-881a-4ab5-a3f7-a9d8bc9350d2" skill_id=e261183b-881a-4ab5-a3f7-a9d8bc9350d2
=== RUN   TestSkillHandler_Delete/delete_non-existing_skill
time=2026-01-04T14:10:05.975-03:00 level=ERROR msg="failed to delete skill" error="skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Delete (0.21s)
    --- PASS: TestSkillHandler_Delete/delete_existing_skill (0.00s)
    --- PASS: TestSkillHandler_Delete/delete_non-existing_skill (0.00s)
=== RUN   TestStoryHandler_Create
time=2026-01-04T14:10:06.196-03:00 level=INFO msg="tenant created" tenant_id=e483c535-c356-4fb6-b8e7-8c1d32a66467 name="Test Tenant"
=== RUN   TestStoryHandler_Create/successful_creation
time=2026-01-04T14:10:06.197-03:00 level=INFO msg="world created" world_id=d4b0c54c-3140-48f1-af32-65fe9f698362 name="World of Test Story" tenant_id=e483c535-c356-4fb6-b8e7-8c1d32a66467
time=2026-01-04T14:10:06.197-03:00 level=INFO msg="created implicit world for story" world_id=d4b0c54c-3140-48f1-af32-65fe9f698362 story_title="Test Story"
time=2026-01-04T14:10:06.198-03:00 level=INFO msg="story created" story_id=99d8bf61-db6a-40b0-8ee0-ea507b64dba4 title="Test Story" tenant_id=e483c535-c356-4fb6-b8e7-8c1d32a66467
=== RUN   TestStoryHandler_Create/missing_tenant_id
=== RUN   TestStoryHandler_Create/empty_title
--- PASS: TestStoryHandler_Create (0.24s)
    --- PASS: TestStoryHandler_Create/successful_creation (0.00s)
    --- PASS: TestStoryHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestStoryHandler_Create/empty_title (0.00s)
=== RUN   TestStoryHandler_Get
time=2026-01-04T14:10:06.423-03:00 level=INFO msg="tenant created" tenant_id=bb4b541c-4ab9-4ee0-af79-715dceaffdc7 name="Test Tenant"
time=2026-01-04T14:10:06.424-03:00 level=INFO msg="world created" world_id=17eaeb87-9a44-45f6-900c-2b2dd8c96b5a name="World of Get Test Story" tenant_id=bb4b541c-4ab9-4ee0-af79-715dceaffdc7
time=2026-01-04T14:10:06.424-03:00 level=INFO msg="created implicit world for story" world_id=17eaeb87-9a44-45f6-900c-2b2dd8c96b5a story_title="Get Test Story"
time=2026-01-04T14:10:06.425-03:00 level=INFO msg="story created" story_id=b32ee0d3-b194-4ea9-9692-eececcd9ff1f title="Get Test Story" tenant_id=bb4b541c-4ab9-4ee0-af79-715dceaffdc7
=== RUN   TestStoryHandler_Get/existing_story
=== RUN   TestStoryHandler_Get/non-existing_story
time=2026-01-04T14:10:06.426-03:00 level=ERROR msg="failed to get story" error="story not found: 00000000-0000-0000-0000-000000000000" story_id=00000000-0000-0000-0000-000000000000 tenant_id=bb4b541c-4ab9-4ee0-af79-715dceaffdc7
--- PASS: TestStoryHandler_Get (0.23s)
    --- PASS: TestStoryHandler_Get/existing_story (0.00s)
    --- PASS: TestStoryHandler_Get/non-existing_story (0.00s)
=== RUN   TestStoryHandler_List
time=2026-01-04T14:10:06.654-03:00 level=INFO msg="tenant created" tenant_id=9cfd06c4-fe4c-4dae-8572-b3d092375f09 name="Test Tenant"
time=2026-01-04T14:10:06.656-03:00 level=INFO msg="world created" world_id=4c5eb00b-733e-4df5-b6a0-8385a936a1ee name="World of Story 1" tenant_id=9cfd06c4-fe4c-4dae-8572-b3d092375f09
time=2026-01-04T14:10:06.656-03:00 level=INFO msg="created implicit world for story" world_id=4c5eb00b-733e-4df5-b6a0-8385a936a1ee story_title="Story 1"
time=2026-01-04T14:10:06.657-03:00 level=INFO msg="story created" story_id=c49c2bc9-824f-4403-8c5a-0d7593959c79 title="Story 1" tenant_id=9cfd06c4-fe4c-4dae-8572-b3d092375f09
time=2026-01-04T14:10:06.658-03:00 level=INFO msg="world created" world_id=e7540a0b-9577-4347-ab67-787717fc18ca name="World of Story 2" tenant_id=9cfd06c4-fe4c-4dae-8572-b3d092375f09
time=2026-01-04T14:10:06.658-03:00 level=INFO msg="created implicit world for story" world_id=e7540a0b-9577-4347-ab67-787717fc18ca story_title="Story 2"
time=2026-01-04T14:10:06.659-03:00 level=INFO msg="story created" story_id=b92286ef-d395-49a9-af59-8103bc849f11 title="Story 2" tenant_id=9cfd06c4-fe4c-4dae-8572-b3d092375f09
time=2026-01-04T14:10:06.660-03:00 level=INFO msg="world created" world_id=372668d8-ed67-45fa-b1e3-b35555c2972d name="World of Story 3" tenant_id=9cfd06c4-fe4c-4dae-8572-b3d092375f09
time=2026-01-04T14:10:06.660-03:00 level=INFO msg="created implicit world for story" world_id=372668d8-ed67-45fa-b1e3-b35555c2972d story_title="Story 3"
time=2026-01-04T14:10:06.660-03:00 level=INFO msg="story created" story_id=6c47e1af-22c8-4d7e-8bad-072fe702e314 title="Story 3" tenant_id=9cfd06c4-fe4c-4dae-8572-b3d092375f09
=== RUN   TestStoryHandler_List/list_stories
=== RUN   TestStoryHandler_List/missing_tenant_id
--- PASS: TestStoryHandler_List (0.22s)
    --- PASS: TestStoryHandler_List/list_stories (0.00s)
    --- PASS: TestStoryHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTenantHandler_Create
=== RUN   TestTenantHandler_Create/successful_creation
time=2026-01-04T14:10:06.891-03:00 level=INFO msg="tenant created" tenant_id=50345a2a-8c34-4a22-a674-3c41af77c5e5 name="Test Tenant"
=== RUN   TestTenantHandler_Create/duplicate_name
time=2026-01-04T14:10:06.892-03:00 level=INFO msg="tenant created" tenant_id=ea786d93-9433-4277-8cd7-c9bf60de1340 name="Duplicate Tenant"
=== RUN   TestTenantHandler_Create/empty_name
=== RUN   TestTenantHandler_Create/invalid_JSON
--- PASS: TestTenantHandler_Create (0.23s)
    --- PASS: TestTenantHandler_Create/successful_creation (0.00s)
    --- PASS: TestTenantHandler_Create/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_Create/empty_name (0.00s)
    --- PASS: TestTenantHandler_Create/invalid_JSON (0.00s)
=== RUN   TestTenantHandler_Get
time=2026-01-04T14:10:07.195-03:00 level=INFO msg="tenant created" tenant_id=0f0a6179-921c-4f14-985e-9ee6b71aa4f0 name="Get Test Tenant"
=== RUN   TestTenantHandler_Get/existing_tenant
=== RUN   TestTenantHandler_Get/invalid_UUID
=== RUN   TestTenantHandler_Get/non-existing_tenant
--- PASS: TestTenantHandler_Get (0.31s)
    --- PASS: TestTenantHandler_Get/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_Get/invalid_UUID (0.00s)
    --- PASS: TestTenantHandler_Get/non-existing_tenant (0.00s)
=== RUN   TestTraitHandler_Create
time=2026-01-04T14:10:07.417-03:00 level=INFO msg="tenant created" tenant_id=81fec942-2689-49a3-a860-e01ba1e16741 name="Test Tenant"
=== RUN   TestTraitHandler_Create/successful_creation
time=2026-01-04T14:10:07.418-03:00 level=INFO msg="trait created" trait_id=979105cb-1a23-4b1f-9a6d-4666db2a07f4 name=Brave
=== RUN   TestTraitHandler_Create/missing_tenant_id
=== RUN   TestTraitHandler_Create/empty_name
--- PASS: TestTraitHandler_Create (0.22s)
    --- PASS: TestTraitHandler_Create/successful_creation (0.00s)
    --- PASS: TestTraitHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestTraitHandler_Create/empty_name (0.00s)
=== RUN   TestTraitHandler_Get
time=2026-01-04T14:10:07.640-03:00 level=INFO msg="tenant created" tenant_id=f4998716-f800-4408-b855-aec7603cf446 name="Test Tenant"
time=2026-01-04T14:10:07.642-03:00 level=INFO msg="trait created" trait_id=8358ebb1-4020-496c-94a5-568d72a9c316 name="Get Test Trait"
=== RUN   TestTraitHandler_Get/existing_trait
=== RUN   TestTraitHandler_Get/non-existing_trait
time=2026-01-04T14:10:07.643-03:00 level=ERROR msg="failed to get trait" error="trait not found: 00000000-0000-0000-0000-000000000000" trait_id=00000000-0000-0000-0000-000000000000
=== RUN   TestTraitHandler_Get/invalid_trait_ID
--- PASS: TestTraitHandler_Get (0.23s)
    --- PASS: TestTraitHandler_Get/existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/non-existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/invalid_trait_ID (0.00s)
=== RUN   TestTraitHandler_List
time=2026-01-04T14:10:07.853-03:00 level=INFO msg="tenant created" tenant_id=22f3c31d-7add-4b08-9de4-6e6accdf4c49 name="Test Tenant"
time=2026-01-04T14:10:07.855-03:00 level=INFO msg="trait created" trait_id=666778c5-8be0-4047-8d8b-a355fb8abaee name="Trait 1"
time=2026-01-04T14:10:07.856-03:00 level=INFO msg="trait created" trait_id=a9929ef3-2910-4048-8728-ed6de92e533c name="Trait 2"
time=2026-01-04T14:10:07.856-03:00 level=INFO msg="trait created" trait_id=88d05a49-f7b5-4c1f-90c3-f587419d046a name="Trait 3"
=== RUN   TestTraitHandler_List/list_traits
=== RUN   TestTraitHandler_List/missing_tenant_id
--- PASS: TestTraitHandler_List (0.21s)
    --- PASS: TestTraitHandler_List/list_traits (0.00s)
    --- PASS: TestTraitHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTraitHandler_Update
time=2026-01-04T14:10:08.107-03:00 level=INFO msg="tenant created" tenant_id=521facaa-cbad-4652-b5af-36731f5e6a87 name="Test Tenant"
time=2026-01-04T14:10:08.108-03:00 level=INFO msg="trait created" trait_id=6d4a227d-6fa3-40f4-82b1-931451bd92d6 name="Original Trait"
=== RUN   TestTraitHandler_Update/update_trait_name
time=2026-01-04T14:10:08.109-03:00 level=INFO msg="trait updated" trait_id=6d4a227d-6fa3-40f4-82b1-931451bd92d6 name="Updated Trait"
=== RUN   TestTraitHandler_Update/non-existing_trait
--- PASS: TestTraitHandler_Update (0.26s)
    --- PASS: TestTraitHandler_Update/update_trait_name (0.00s)
    --- PASS: TestTraitHandler_Update/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_Delete
time=2026-01-04T14:10:08.371-03:00 level=INFO msg="tenant created" tenant_id=bf4d63ea-41aa-4ab7-8ef9-4a9000a61f0b name="Test Tenant"
time=2026-01-04T14:10:08.372-03:00 level=INFO msg="trait created" trait_id=6b6d9df8-7af1-43de-92f3-b58782c5448f name="Trait to Delete"
=== RUN   TestTraitHandler_Delete/delete_existing_trait
time=2026-01-04T14:10:08.374-03:00 level=INFO msg="trait deleted" trait_id=6b6d9df8-7af1-43de-92f3-b58782c5448f name="Trait to Delete"
time=2026-01-04T14:10:08.374-03:00 level=ERROR msg="failed to get trait" error="trait not found: 6b6d9df8-7af1-43de-92f3-b58782c5448f" trait_id=6b6d9df8-7af1-43de-92f3-b58782c5448f
=== RUN   TestTraitHandler_Delete/delete_non-existing_trait
--- PASS: TestTraitHandler_Delete (0.27s)
    --- PASS: TestTraitHandler_Delete/delete_existing_trait (0.00s)
    --- PASS: TestTraitHandler_Delete/delete_non-existing_trait (0.00s)
=== RUN   TestWorldHandler_Create
time=2026-01-04T14:10:08.640-03:00 level=INFO msg="tenant created" tenant_id=59d2799d-9c57-4adb-9187-4279668107d5 name="Test Tenant"
=== RUN   TestWorldHandler_Create/successful_creation
time=2026-01-04T14:10:08.641-03:00 level=INFO msg="world created" world_id=cc82bd1a-3938-4995-8622-bf222eb989a2 name="Test World" tenant_id=59d2799d-9c57-4adb-9187-4279668107d5
=== RUN   TestWorldHandler_Create/missing_tenant_id
=== RUN   TestWorldHandler_Create/empty_name
--- PASS: TestWorldHandler_Create (0.26s)
    --- PASS: TestWorldHandler_Create/successful_creation (0.00s)
    --- PASS: TestWorldHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestWorldHandler_Create/empty_name (0.00s)
=== RUN   TestWorldHandler_Get
time=2026-01-04T14:10:08.943-03:00 level=INFO msg="tenant created" tenant_id=bb40b284-f5fe-4ddb-8ff3-f5e401e32e95 name="Test Tenant"
time=2026-01-04T14:10:08.944-03:00 level=INFO msg="world created" world_id=d57824ab-66e7-4447-b239-873269a8ef05 name="Get Test World" tenant_id=bb40b284-f5fe-4ddb-8ff3-f5e401e32e95
=== RUN   TestWorldHandler_Get/existing_world
=== RUN   TestWorldHandler_Get/non-existing_world
time=2026-01-04T14:10:08.945-03:00 level=ERROR msg="failed to get world" error="world not found: 00000000-0000-0000-0000-000000000000" world_id=00000000-0000-0000-0000-000000000000
=== RUN   TestWorldHandler_Get/invalid_world_ID
--- PASS: TestWorldHandler_Get (0.31s)
    --- PASS: TestWorldHandler_Get/existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_List
time=2026-01-04T14:10:09.227-03:00 level=INFO msg="tenant created" tenant_id=510f6589-166f-45a4-96be-4b2b6e6e24de name="Test Tenant"
time=2026-01-04T14:10:09.228-03:00 level=INFO msg="world created" world_id=d5a20e8b-8bf0-49a9-bd7c-0d72b50f9c9d name="World 1" tenant_id=510f6589-166f-45a4-96be-4b2b6e6e24de
time=2026-01-04T14:10:09.229-03:00 level=INFO msg="world created" world_id=6d4a2cbc-eb73-4996-9b70-c6ff270e4769 name="World 2" tenant_id=510f6589-166f-45a4-96be-4b2b6e6e24de
time=2026-01-04T14:10:09.230-03:00 level=INFO msg="world created" world_id=6c9eed27-e8ee-4cb2-8d67-9fefb4bdc85c name="World 3" tenant_id=510f6589-166f-45a4-96be-4b2b6e6e24de
=== RUN   TestWorldHandler_List/list_worlds
=== RUN   TestWorldHandler_List/missing_tenant_id
--- PASS: TestWorldHandler_List (0.27s)
    --- PASS: TestWorldHandler_List/list_worlds (0.00s)
    --- PASS: TestWorldHandler_List/missing_tenant_id (0.00s)
=== RUN   TestWorldHandler_Update
time=2026-01-04T14:10:09.495-03:00 level=INFO msg="tenant created" tenant_id=721496ea-315c-4205-88ac-57c2acd39cc6 name="Test Tenant"
time=2026-01-04T14:10:09.497-03:00 level=INFO msg="world created" world_id=30eb74ad-484c-45a3-bda1-94e4432371ea name="Original World" tenant_id=721496ea-315c-4205-88ac-57c2acd39cc6
=== RUN   TestWorldHandler_Update/update_world_name
time=2026-01-04T14:10:09.498-03:00 level=INFO msg="world updated" world_id=30eb74ad-484c-45a3-bda1-94e4432371ea name="Updated World"
=== RUN   TestWorldHandler_Update/non-existing_world
--- PASS: TestWorldHandler_Update (0.27s)
    --- PASS: TestWorldHandler_Update/update_world_name (0.00s)
    --- PASS: TestWorldHandler_Update/non-existing_world (0.00s)
=== RUN   TestWorldHandler_Delete
time=2026-01-04T14:10:09.782-03:00 level=INFO msg="tenant created" tenant_id=7fedcbf3-2248-4300-a6b2-035566b9d641 name="Test Tenant"
time=2026-01-04T14:10:09.783-03:00 level=INFO msg="world created" world_id=068a4a29-e5b1-4eac-adf5-c316bbf677c8 name="World to Delete" tenant_id=7fedcbf3-2248-4300-a6b2-035566b9d641
=== RUN   TestWorldHandler_Delete/delete_existing_world
time=2026-01-04T14:10:09.786-03:00 level=INFO msg="world deleted" world_id=068a4a29-e5b1-4eac-adf5-c316bbf677c8 name="World to Delete"
time=2026-01-04T14:10:09.786-03:00 level=ERROR msg="failed to get world" error="world not found: 068a4a29-e5b1-4eac-adf5-c316bbf677c8" world_id=068a4a29-e5b1-4eac-adf5-c316bbf677c8
=== RUN   TestWorldHandler_Delete/delete_non-existing_world
--- PASS: TestWorldHandler_Delete (0.29s)
    --- PASS: TestWorldHandler_Delete/delete_existing_world (0.00s)
    --- PASS: TestWorldHandler_Delete/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/http/handlers	(cached)
?   	github.com/story-engine/main-service/internal/transport/http/middleware	[no test files]
?   	github.com/story-engine/main-service/proto/archetype	[no test files]
?   	github.com/story-engine/main-service/proto/artifact	[no test files]
?   	github.com/story-engine/main-service/proto/artifact_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/beat	[no test files]
?   	github.com/story-engine/main-service/proto/chapter	[no test files]
?   	github.com/story-engine/main-service/proto/character	[no test files]
?   	github.com/story-engine/main-service/proto/character_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/character_skill	[no test files]
?   	github.com/story-engine/main-service/proto/common	[no test files]
?   	github.com/story-engine/main-service/proto/content_block	[no test files]
?   	github.com/story-engine/main-service/proto/event	[no test files]
?   	github.com/story-engine/main-service/proto/faction	[no test files]
?   	github.com/story-engine/main-service/proto/inventory	[no test files]
?   	github.com/story-engine/main-service/proto/location	[no test files]
?   	github.com/story-engine/main-service/proto/lore	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_class	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_system	[no test files]
?   	github.com/story-engine/main-service/proto/scene	[no test files]
?   	github.com/story-engine/main-service/proto/skill	[no test files]
?   	github.com/story-engine/main-service/proto/story	[no test files]
?   	github.com/story-engine/main-service/proto/tenant	[no test files]
?   	github.com/story-engine/main-service/proto/trait	[no test files]
?   	github.com/story-engine/main-service/proto/world	[no test files]
