Checking if PostgreSQL is running locally...
PostgreSQL is ready!
Creating database if it doesn't exist...
Database 'storyengine' already exists
Running integration tests with database cloning...
go test -v -tags=integration ./... 2>&1 | tee /tmp/gotest-integration.log
?   	github.com/story-engine/main-service/cmd/api-grpc	[no test files]
?   	github.com/story-engine/main-service/cmd/api-http	[no test files]
=== RUN   TestMembershipRepository_Create
=== RUN   TestMembershipRepository_Create/successful_creation
=== RUN   TestMembershipRepository_Create/duplicate_tenant-user_constraint
--- PASS: TestMembershipRepository_Create (0.46s)
    --- PASS: TestMembershipRepository_Create/successful_creation (0.00s)
    --- PASS: TestMembershipRepository_Create/duplicate_tenant-user_constraint (0.00s)
=== RUN   TestMembershipRepository_GetByID
=== RUN   TestMembershipRepository_GetByID/existing_membership
=== RUN   TestMembershipRepository_GetByID/non-existing_membership
--- PASS: TestMembershipRepository_GetByID (1.21s)
    --- PASS: TestMembershipRepository_GetByID/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByID/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_GetByTenantAndUser
=== RUN   TestMembershipRepository_GetByTenantAndUser/existing_membership
=== RUN   TestMembershipRepository_GetByTenantAndUser/non-existing_membership
--- PASS: TestMembershipRepository_GetByTenantAndUser (1.18s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_ListByTenant
--- PASS: TestMembershipRepository_ListByTenant (0.51s)
=== RUN   TestMembershipRepository_ListByUser
--- PASS: TestMembershipRepository_ListByUser (0.43s)
=== RUN   TestMembershipRepository_Update
--- PASS: TestMembershipRepository_Update (0.54s)
=== RUN   TestMembershipRepository_Delete
--- PASS: TestMembershipRepository_Delete (0.35s)
=== RUN   TestMembershipRepository_CountOwnersByTenant
--- PASS: TestMembershipRepository_CountOwnersByTenant (0.85s)
=== RUN   TestUserRepository_Create
=== RUN   TestUserRepository_Create/successful_creation
=== RUN   TestUserRepository_Create/duplicate_email_constraint
--- PASS: TestUserRepository_Create (0.43s)
    --- PASS: TestUserRepository_Create/successful_creation (0.00s)
    --- PASS: TestUserRepository_Create/duplicate_email_constraint (0.00s)
=== RUN   TestUserRepository_GetByID
=== RUN   TestUserRepository_GetByID/existing_user
=== RUN   TestUserRepository_GetByID/non-existing_user
--- PASS: TestUserRepository_GetByID (0.84s)
    --- PASS: TestUserRepository_GetByID/existing_user (0.01s)
    --- PASS: TestUserRepository_GetByID/non-existing_user (0.00s)
=== RUN   TestUserRepository_GetByEmail
=== RUN   TestUserRepository_GetByEmail/existing_user
=== RUN   TestUserRepository_GetByEmail/non-existing_email
--- PASS: TestUserRepository_GetByEmail (0.58s)
    --- PASS: TestUserRepository_GetByEmail/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByEmail/non-existing_email (0.00s)
=== RUN   TestUserRepository_Update
--- PASS: TestUserRepository_Update (0.36s)
=== RUN   TestUserRepository_Delete
--- PASS: TestUserRepository_Delete (0.41s)
=== RUN   TestUserRepository_List
=== RUN   TestUserRepository_List/list_with_limit
=== RUN   TestUserRepository_List/list_with_offset
=== RUN   TestUserRepository_List/list_all
--- PASS: TestUserRepository_List (0.31s)
    --- PASS: TestUserRepository_List/list_with_limit (0.00s)
    --- PASS: TestUserRepository_List/list_with_offset (0.00s)
    --- PASS: TestUserRepository_List/list_all (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/postgres	8.883s
?   	github.com/story-engine/main-service/internal/application/rpg/artifact_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_inventory	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_skill	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_item	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_slot	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_class	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_system	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/skill	[no test files]
=== RUN   TestCloneStoryUseCase_Execute
time=2026-01-03T14:42:15.149-03:00 level=INFO msg="tenant created" tenant_id=4fa91cda-dd0b-4d52-bf29-cb34607fa2b4 name="Test Tenant"
time=2026-01-03T14:42:15.151-03:00 level=INFO msg="world created" world_id=6238ae3b-5f07-4ffe-bb5e-d277f1f2b29b name="World of Test Story" tenant_id=4fa91cda-dd0b-4d52-bf29-cb34607fa2b4
time=2026-01-03T14:42:15.151-03:00 level=INFO msg="created implicit world for story" world_id=6238ae3b-5f07-4ffe-bb5e-d277f1f2b29b story_title="Test Story"
time=2026-01-03T14:42:15.154-03:00 level=INFO msg="story created" story_id=f876ebb9-7118-4c67-882a-0b27e7f530b8 title="Test Story" tenant_id=4fa91cda-dd0b-4d52-bf29-cb34607fa2b4
=== RUN   TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters)
time=2026-01-03T14:42:15.157-03:00 level=INFO msg="story cloned" source_story_id=f876ebb9-7118-4c67-882a-0b27e7f530b8 new_story_id=106520d0-686c-4e8a-94a5-1b0e8f67cdd4 version_number=2
=== RUN   TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy
time=2026-01-03T14:42:15.166-03:00 level=INFO msg="story cloned" source_story_id=a08d9e1b-9ab9-491a-b73d-20c9955824a4 new_story_id=fd92a4a6-8b87-4d8b-9958-ea991ea3711c version_number=2
--- PASS: TestCloneStoryUseCase_Execute (1.28s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters) (0.00s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy (0.01s)
=== RUN   TestCreateStoryUseCase_Execute
time=2026-01-03T14:42:16.256-03:00 level=INFO msg="tenant created" tenant_id=7667f848-f9ee-4075-9e7b-a0e1d7b61e07 name="Test Tenant"
=== RUN   TestCreateStoryUseCase_Execute/successful_creation
time=2026-01-03T14:42:16.260-03:00 level=INFO msg="world created" world_id=b1b24ff0-bb67-4aa9-b386-e81ac21ea73b name="World of Test Story" tenant_id=7667f848-f9ee-4075-9e7b-a0e1d7b61e07
time=2026-01-03T14:42:16.260-03:00 level=INFO msg="created implicit world for story" world_id=b1b24ff0-bb67-4aa9-b386-e81ac21ea73b story_title="Test Story"
time=2026-01-03T14:42:16.263-03:00 level=INFO msg="story created" story_id=a71e3a3c-da8c-4b58-8082-c1b177ad4384 title="Test Story" tenant_id=7667f848-f9ee-4075-9e7b-a0e1d7b61e07
=== RUN   TestCreateStoryUseCase_Execute/multi-tenant_isolation
time=2026-01-03T14:42:16.267-03:00 level=INFO msg="tenant created" tenant_id=d8970d82-2ea5-49f3-932a-03d2bcfbb79b name="Test Tenant 2"
time=2026-01-03T14:42:16.269-03:00 level=INFO msg="world created" world_id=4b1d7abd-52f7-4e00-a7b1-f5ae260e10c8 name="World of Test Story 2" tenant_id=d8970d82-2ea5-49f3-932a-03d2bcfbb79b
time=2026-01-03T14:42:16.269-03:00 level=INFO msg="created implicit world for story" world_id=4b1d7abd-52f7-4e00-a7b1-f5ae260e10c8 story_title="Test Story 2"
time=2026-01-03T14:42:16.270-03:00 level=INFO msg="story created" story_id=438d33cb-0c90-402c-98d4-8e3bb2914fb7 title="Test Story 2" tenant_id=d8970d82-2ea5-49f3-932a-03d2bcfbb79b
=== RUN   TestCreateStoryUseCase_Execute/invalid_tenant
=== RUN   TestCreateStoryUseCase_Execute/empty_title_validation
--- PASS: TestCreateStoryUseCase_Execute (1.20s)
    --- PASS: TestCreateStoryUseCase_Execute/successful_creation (0.01s)
    --- PASS: TestCreateStoryUseCase_Execute/multi-tenant_isolation (0.01s)
    --- PASS: TestCreateStoryUseCase_Execute/invalid_tenant (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/empty_title_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story	3.125s
?   	github.com/story-engine/main-service/internal/application/story/beat	[no test files]
?   	github.com/story-engine/main-service/internal/application/story/chapter	[no test files]
?   	github.com/story-engine/main-service/internal/application/story/content_block	[no test files]
?   	github.com/story-engine/main-service/internal/application/story/scene	[no test files]
=== RUN   TestCreateTenantUseCase_Execute
=== RUN   TestCreateTenantUseCase_Execute/successful_creation
time=2026-01-03T14:42:15.201-03:00 level=INFO msg="tenant created" tenant_id=512bfe99-865f-41b8-86de-a848171b04b3 name="Test Tenant"
=== RUN   TestCreateTenantUseCase_Execute/duplicate_name_validation
=== RUN   TestCreateTenantUseCase_Execute/empty_name_validation
--- PASS: TestCreateTenantUseCase_Execute (0.96s)
    --- PASS: TestCreateTenantUseCase_Execute/successful_creation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/duplicate_name_validation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/empty_name_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/tenant	1.680s
?   	github.com/story-engine/main-service/internal/application/world	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/archetype	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/artifact	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/location	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/trait	[no test files]
?   	github.com/story-engine/main-service/internal/core/audit	[no test files]
?   	github.com/story-engine/main-service/internal/core/auth	[no test files]
?   	github.com/story-engine/main-service/internal/core/rpg	[no test files]
?   	github.com/story-engine/main-service/internal/core/story	[no test files]
?   	github.com/story-engine/main-service/internal/core/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/core/versioning	[no test files]
?   	github.com/story-engine/main-service/internal/core/world	[no test files]
?   	github.com/story-engine/main-service/internal/platform/config	[no test files]
?   	github.com/story-engine/main-service/internal/platform/database	[no test files]
?   	github.com/story-engine/main-service/internal/platform/errors	[no test files]
?   	github.com/story-engine/main-service/internal/platform/logger	[no test files]
?   	github.com/story-engine/main-service/internal/ports/repositories	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/grpcctx	[no test files]
=== RUN   TestArchetypeHandler_CreateArchetype
time=2026-01-03T14:42:16.398-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:16.398-03:00 level=INFO msg="TraitService registered"
time=2026-01-03T14:42:16.398-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_CreateArchetype/successful_creation
time=2026-01-03T14:42:16.400-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:16.405-03:00 level=INFO msg="tenant created" tenant_id=a2039651-bd42-4f07-9d4b-f2e9df1f946f name="Test Tenant for Archetype"
time=2026-01-03T14:42:16.405-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-03T14:42:16.405-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-03T14:42:16.407-03:00 level=INFO msg="archetype created" archetype_id=af095757-955b-4af6-82a0-7012b873d6db name=Warrior
time=2026-01-03T14:42:16.407-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
=== RUN   TestArchetypeHandler_CreateArchetype/empty_name
time=2026-01-03T14:42:16.407-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:16.408-03:00 level=INFO msg="tenant created" tenant_id=a416867d-7e4a-446c-b68b-0a08f4e8e889 name="Test Tenant 2"
time=2026-01-03T14:42:16.408-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:16.409-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-03T14:42:16.409-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-03T14:42:16.409-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_CreateArchetype (0.73s)
    --- PASS: TestArchetypeHandler_CreateArchetype/successful_creation (0.01s)
    --- PASS: TestArchetypeHandler_CreateArchetype/empty_name (0.00s)
=== RUN   TestArchetypeHandler_GetArchetype
time=2026-01-03T14:42:16.878-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:16.878-03:00 level=INFO msg="TraitService registered"
time=2026-01-03T14:42:16.879-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetype/existing_archetype
time=2026-01-03T14:42:16.881-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:16.884-03:00 level=INFO msg="tenant created" tenant_id=fcd760c7-9d68-45d7-abcc-6117a2a6af29 name="Get Test Tenant"
time=2026-01-03T14:42:16.884-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:16.884-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-03T14:42:16.886-03:00 level=INFO msg="archetype created" archetype_id=08ef418f-05ff-46a6-8469-2e552fcd9656 name="Get Test Archetype"
time=2026-01-03T14:42:16.886-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-03T14:42:16.886-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-03T14:42:16.886-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetype/non-existing_archetype
time=2026-01-03T14:42:16.887-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:16.888-03:00 level=INFO msg="tenant created" tenant_id=d4278923-734e-4b4f-ba1a-72cd71a751cc name="Non-existing Test Tenant"
time=2026-01-03T14:42:16.888-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-03T14:42:16.890-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-03T14:42:16.891-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 93478383-3a2a-4813-b996-48c090bddc54" archetype_id=93478383-3a2a-4813-b996-48c090bddc54
time=2026-01-03T14:42:16.891-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: 93478383-3a2a-4813-b996-48c090bddc54"
time=2026-01-03T14:42:16.891-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetype (0.47s)
    --- PASS: TestArchetypeHandler_GetArchetype/existing_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetype/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_ListArchetypes
time=2026-01-03T14:42:17.233-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:17.233-03:00 level=INFO msg="TraitService registered"
time=2026-01-03T14:42:17.233-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_ListArchetypes/list_archetypes
time=2026-01-03T14:42:17.234-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:17.236-03:00 level=INFO msg="tenant created" tenant_id=c55493b4-5cbf-408f-9d43-2b52ee8c6135 name="List Test Tenant"
time=2026-01-03T14:42:17.236-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:17.236-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-03T14:42:17.238-03:00 level=INFO msg="archetype created" archetype_id=ad334f12-d6dd-4558-a7b6-7408e9f168ba name="Archetype 1"
time=2026-01-03T14:42:17.238-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-03T14:42:17.238-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-03T14:42:17.239-03:00 level=INFO msg="archetype created" archetype_id=aa4ebb3e-5ed8-457b-b30e-a51f22d5992d name="Archetype 2"
time=2026-01-03T14:42:17.239-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-03T14:42:17.239-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/ListArchetypes
time=2026-01-03T14:42:17.240-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/ListArchetypes duration_ms=1
time=2026-01-03T14:42:17.240-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_ListArchetypes (0.35s)
    --- PASS: TestArchetypeHandler_ListArchetypes/list_archetypes (0.01s)
=== RUN   TestArchetypeHandler_UpdateArchetype
time=2026-01-03T14:42:17.593-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:17.593-03:00 level=INFO msg="TraitService registered"
time=2026-01-03T14:42:17.593-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_UpdateArchetype/update_archetype
time=2026-01-03T14:42:17.593-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:17.596-03:00 level=INFO msg="tenant created" tenant_id=a4404e53-a6bb-41f0-a11c-3199880f45c9 name="Update Test Tenant"
time=2026-01-03T14:42:17.596-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:17.598-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-03T14:42:17.600-03:00 level=INFO msg="archetype created" archetype_id=699007fc-b05e-49aa-8cd9-c07941597918 name="Original Archetype"
time=2026-01-03T14:42:17.600-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=2
time=2026-01-03T14:42:17.600-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/UpdateArchetype
time=2026-01-03T14:42:17.602-03:00 level=INFO msg="archetype updated" archetype_id=699007fc-b05e-49aa-8cd9-c07941597918 name="Updated Archetype"
time=2026-01-03T14:42:17.602-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/UpdateArchetype duration_ms=1
time=2026-01-03T14:42:17.602-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_UpdateArchetype (0.43s)
    --- PASS: TestArchetypeHandler_UpdateArchetype/update_archetype (0.01s)
=== RUN   TestArchetypeHandler_DeleteArchetype
time=2026-01-03T14:42:18.032-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:18.032-03:00 level=INFO msg="TraitService registered"
time=2026-01-03T14:42:18.032-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_DeleteArchetype/delete_archetype
time=2026-01-03T14:42:18.033-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:18.035-03:00 level=INFO msg="tenant created" tenant_id=d64b6ab2-1eee-4d39-ba31-3e185744976e name="Delete Test Tenant"
time=2026-01-03T14:42:18.035-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:18.036-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-03T14:42:18.037-03:00 level=INFO msg="archetype created" archetype_id=886aa1c3-9ac6-44f7-b892-0e1b282e98a1 name="Archetype to Delete"
time=2026-01-03T14:42:18.037-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-03T14:42:18.038-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/DeleteArchetype
time=2026-01-03T14:42:18.040-03:00 level=INFO msg="archetype deleted" archetype_id=886aa1c3-9ac6-44f7-b892-0e1b282e98a1 name="Archetype to Delete"
time=2026-01-03T14:42:18.040-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/DeleteArchetype duration_ms=2
time=2026-01-03T14:42:18.040-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-03T14:42:18.040-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 886aa1c3-9ac6-44f7-b892-0e1b282e98a1" archetype_id=886aa1c3-9ac6-44f7-b892-0e1b282e98a1
time=2026-01-03T14:42:18.040-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: 886aa1c3-9ac6-44f7-b892-0e1b282e98a1"
time=2026-01-03T14:42:18.040-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_DeleteArchetype (0.41s)
    --- PASS: TestArchetypeHandler_DeleteArchetype/delete_archetype (0.01s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-03T14:42:18.537-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:18.537-03:00 level=INFO msg="TraitService registered"
time=2026-01-03T14:42:18.537-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-03T14:42:18.540-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:18.557-03:00 level=INFO msg="tenant created" tenant_id=c6e5881b-a5d8-4289-a0f7-4f5e293c745d name="Add Trait Test Tenant"
time=2026-01-03T14:42:18.557-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=16
time=2026-01-03T14:42:18.558-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-03T14:42:18.564-03:00 level=INFO msg="archetype created" archetype_id=8cc515b3-df9c-432b-aade-9d5dafcaa443 name=Warrior
time=2026-01-03T14:42:18.564-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=6
time=2026-01-03T14:42:18.565-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-03T14:42:18.647-03:00 level=INFO msg="trait created" trait_id=cba0ebb6-b31a-4f16-a01b-e90090ad2a44 name=Brave
time=2026-01-03T14:42:18.647-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=82
time=2026-01-03T14:42:18.651-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-03T14:42:18.659-03:00 level=INFO msg="trait added to archetype" archetype_id=8cc515b3-df9c-432b-aade-9d5dafcaa443 trait_id=cba0ebb6-b31a-4f16-a01b-e90090ad2a44
time=2026-01-03T14:42:18.659-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=9
time=2026-01-03T14:42:18.660-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_AddTrait (0.72s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.12s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-03T14:42:19.114-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:19.114-03:00 level=INFO msg="TraitService registered"
time=2026-01-03T14:42:19.114-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-03T14:42:19.115-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:19.117-03:00 level=INFO msg="tenant created" tenant_id=eb71ee71-4d2f-41b6-8341-13da664cd459 name="Remove Trait Test Tenant"
time=2026-01-03T14:42:19.117-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:19.118-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-03T14:42:19.119-03:00 level=INFO msg="archetype created" archetype_id=df35f55a-b398-4f79-b27f-8d0caa75515b name=Warrior
time=2026-01-03T14:42:19.119-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-03T14:42:19.119-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-03T14:42:19.120-03:00 level=INFO msg="trait created" trait_id=c2c5bbd1-93d8-41fa-b865-e2f9c7ae7db0 name=Brave
time=2026-01-03T14:42:19.120-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-03T14:42:19.120-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-03T14:42:19.123-03:00 level=INFO msg="trait added to archetype" archetype_id=df35f55a-b398-4f79-b27f-8d0caa75515b trait_id=c2c5bbd1-93d8-41fa-b865-e2f9c7ae7db0
time=2026-01-03T14:42:19.123-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=2
time=2026-01-03T14:42:19.123-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/RemoveTraitFromArchetype
time=2026-01-03T14:42:19.124-03:00 level=INFO msg="trait removed from archetype" archetype_id=df35f55a-b398-4f79-b27f-8d0caa75515b trait_id=c2c5bbd1-93d8-41fa-b865-e2f9c7ae7db0
time=2026-01-03T14:42:19.124-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/RemoveTraitFromArchetype duration_ms=0
time=2026-01-03T14:42:19.124-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_RemoveTrait (0.42s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.01s)
=== RUN   TestArtifactHandler_CreateArtifact
time=2026-01-03T14:42:19.474-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:19.474-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:19.474-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_CreateArtifact/successful_creation
time=2026-01-03T14:42:19.474-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:19.477-03:00 level=INFO msg="tenant created" tenant_id=f08fe187-ddd4-4c4f-bf23-74faedd72d1c name="Test Tenant for Artifact"
time=2026-01-03T14:42:19.477-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:19.477-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:19.478-03:00 level=INFO msg="world created" world_id=f7eb8cad-3d91-44d8-a78b-57848fcfb0e3 name="Test World" tenant_id=f08fe187-ddd4-4c4f-bf23-74faedd72d1c
time=2026-01-03T14:42:19.478-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-03T14:42:19.478-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:19.480-03:00 level=INFO msg="artifact created" artifact_id=15bfa4ba-980f-4aa2-9097-b0f7413523ee name="Test Artifact"
time=2026-01-03T14:42:19.480-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
=== RUN   TestArtifactHandler_CreateArtifact/empty_name
time=2026-01-03T14:42:19.480-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:19.480-03:00 level=INFO msg="tenant created" tenant_id=ec761e0c-1d45-49a8-ba0f-a5f14ae689ea name="Test Tenant 2"
time=2026-01-03T14:42:19.480-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:19.481-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:19.481-03:00 level=INFO msg="world created" world_id=52ca1e6f-75d9-47e8-abc2-91aa4b2bdf64 name="Test World 2" tenant_id=ec761e0c-1d45-49a8-ba0f-a5f14ae689ea
time=2026-01-03T14:42:19.481-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-03T14:42:19.481-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:19.481-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-03T14:42:19.481-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_CreateArtifact (0.28s)
    --- PASS: TestArtifactHandler_CreateArtifact/successful_creation (0.01s)
    --- PASS: TestArtifactHandler_CreateArtifact/empty_name (0.00s)
=== RUN   TestArtifactHandler_GetArtifact
time=2026-01-03T14:42:19.945-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:19.945-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:19.945-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_GetArtifact/existing_artifact
time=2026-01-03T14:42:19.948-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:19.959-03:00 level=INFO msg="tenant created" tenant_id=b6efce93-36ee-4a95-a290-b9f511ba0f20 name="Get Test Tenant"
time=2026-01-03T14:42:19.959-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=11
time=2026-01-03T14:42:19.960-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:19.974-03:00 level=INFO msg="world created" world_id=ba0b8557-ae1b-4458-b4b4-f487d5582f79 name="Get Test World" tenant_id=b6efce93-36ee-4a95-a290-b9f511ba0f20
time=2026-01-03T14:42:19.974-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=13
time=2026-01-03T14:42:19.974-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:19.979-03:00 level=INFO msg="artifact created" artifact_id=c565cff6-8ca4-4844-b0fc-944fc14de0b6 name="Get Test Artifact"
time=2026-01-03T14:42:19.979-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=4
time=2026-01-03T14:42:19.979-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-03T14:42:19.980-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/GetArtifact duration_ms=1
=== RUN   TestArtifactHandler_GetArtifact/non-existing_artifact
time=2026-01-03T14:42:19.982-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:19.985-03:00 level=INFO msg="tenant created" tenant_id=d22b7943-6d44-473c-a485-1b2a03a77c09 name="Non-existing Test Tenant"
time=2026-01-03T14:42:19.985-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:19.987-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-03T14:42:19.990-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: cbb39ab8-3c59-461d-9b8a-5d4ab071fc2f" artifact_id=cbb39ab8-3c59-461d-9b8a-5d4ab071fc2f
time=2026-01-03T14:42:19.990-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=3 error="rpc error: code = NotFound desc = artifact not found: cbb39ab8-3c59-461d-9b8a-5d4ab071fc2f"
time=2026-01-03T14:42:19.990-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_GetArtifact (0.73s)
    --- PASS: TestArtifactHandler_GetArtifact/existing_artifact (0.03s)
    --- PASS: TestArtifactHandler_GetArtifact/non-existing_artifact (0.01s)
=== RUN   TestArtifactHandler_ListArtifacts
time=2026-01-03T14:42:20.766-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:20.766-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:20.766-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_ListArtifacts/list_artifacts
time=2026-01-03T14:42:20.767-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:20.769-03:00 level=INFO msg="tenant created" tenant_id=cef6e5eb-bfc0-407e-867d-77948f7db0f6 name="List Test Tenant"
time=2026-01-03T14:42:20.769-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:20.770-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:20.771-03:00 level=INFO msg="world created" world_id=f7af591a-9cfa-4d08-99f6-ebf4b7e25a3d name="List Test World" tenant_id=cef6e5eb-bfc0-407e-867d-77948f7db0f6
time=2026-01-03T14:42:20.771-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:20.771-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:20.773-03:00 level=INFO msg="artifact created" artifact_id=b3173768-67e0-47eb-94ff-7240d4432cbd name="Artifact 1"
time=2026-01-03T14:42:20.773-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-03T14:42:20.773-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:20.774-03:00 level=INFO msg="artifact created" artifact_id=af30cdda-999e-4649-84de-eba436403c2c name="Artifact 2"
time=2026-01-03T14:42:20.774-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-03T14:42:20.774-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/ListArtifacts
time=2026-01-03T14:42:20.775-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/ListArtifacts duration_ms=1
time=2026-01-03T14:42:20.775-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_ListArtifacts (0.59s)
    --- PASS: TestArtifactHandler_ListArtifacts/list_artifacts (0.01s)
=== RUN   TestArtifactHandler_UpdateArtifact
time=2026-01-03T14:42:21.106-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:21.106-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:21.106-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_UpdateArtifact/update_artifact
time=2026-01-03T14:42:21.107-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:21.110-03:00 level=INFO msg="tenant created" tenant_id=11a0fcfa-9dc1-438e-b124-54a5d9c796eb name="Update Test Tenant"
time=2026-01-03T14:42:21.110-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:21.110-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:21.111-03:00 level=INFO msg="world created" world_id=ab666094-fac4-466c-9f79-5a50279a70f3 name="Update Test World" tenant_id=11a0fcfa-9dc1-438e-b124-54a5d9c796eb
time=2026-01-03T14:42:21.111-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:21.111-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:21.115-03:00 level=INFO msg="artifact created" artifact_id=f6bbcc1c-71af-4765-8012-4231f5b1fd68 name="Original Artifact"
time=2026-01-03T14:42:21.115-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=3
time=2026-01-03T14:42:21.115-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/UpdateArtifact
time=2026-01-03T14:42:21.116-03:00 level=INFO msg="artifact updated" artifact_id=f6bbcc1c-71af-4765-8012-4231f5b1fd68 name="Updated Artifact"
time=2026-01-03T14:42:21.116-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/UpdateArtifact duration_ms=1
time=2026-01-03T14:42:21.116-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_UpdateArtifact (0.36s)
    --- PASS: TestArtifactHandler_UpdateArtifact/update_artifact (0.01s)
=== RUN   TestArtifactHandler_DeleteArtifact
time=2026-01-03T14:42:21.480-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:21.480-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:21.480-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_DeleteArtifact/delete_artifact
time=2026-01-03T14:42:21.481-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:21.483-03:00 level=INFO msg="tenant created" tenant_id=3daf4a00-cbb4-4c92-b307-b8d2c67a20d7 name="Delete Test Tenant"
time=2026-01-03T14:42:21.483-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:21.484-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:21.485-03:00 level=INFO msg="world created" world_id=a343c647-bc55-4a49-b562-ceeb2024e52e name="Delete Test World" tenant_id=3daf4a00-cbb4-4c92-b307-b8d2c67a20d7
time=2026-01-03T14:42:21.485-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:21.485-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:21.486-03:00 level=INFO msg="artifact created" artifact_id=1b8e9ec8-f512-4c38-a2bb-dbca6e0522cd name="Artifact to Delete"
time=2026-01-03T14:42:21.486-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-03T14:42:21.486-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/DeleteArtifact
time=2026-01-03T14:42:21.489-03:00 level=INFO msg="artifact deleted" artifact_id=1b8e9ec8-f512-4c38-a2bb-dbca6e0522cd name="Artifact to Delete"
time=2026-01-03T14:42:21.489-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/DeleteArtifact duration_ms=2
time=2026-01-03T14:42:21.490-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-03T14:42:21.490-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 1b8e9ec8-f512-4c38-a2bb-dbca6e0522cd" artifact_id=1b8e9ec8-f512-4c38-a2bb-dbca6e0522cd
time=2026-01-03T14:42:21.490-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 1b8e9ec8-f512-4c38-a2bb-dbca6e0522cd"
time=2026-01-03T14:42:21.490-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_DeleteArtifact (0.35s)
    --- PASS: TestArtifactHandler_DeleteArtifact/delete_artifact (0.01s)
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats
time=2026-01-03T14:42:21.813-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:21.813-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:21.813-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-03T14:42:21.813-03:00 level=INFO msg="ArtifactRPGStatsService registered"
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation
time=2026-01-03T14:42:21.814-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:21.818-03:00 level=INFO msg="tenant created" tenant_id=45efbe33-1f02-40a8-8a50-de3e1ca32af3 name="Test Tenant for Artifact Stats"
time=2026-01-03T14:42:21.818-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:21.818-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:21.819-03:00 level=INFO msg="world created" world_id=4fcbae0c-5e49-4a4a-ac8b-ead6c00b651b name="Test World" tenant_id=45efbe33-1f02-40a8-8a50-de3e1ca32af3
time=2026-01-03T14:42:21.819-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:21.819-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:21.821-03:00 level=INFO msg="artifact created" artifact_id=cf1fd991-8536-48f8-810f-67273fc3e1ab name="Test Artifact"
time=2026-01-03T14:42:21.821-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-03T14:42:21.822-03:00 level=INFO msg="gRPC request started" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats
time=2026-01-03T14:42:21.824-03:00 level=INFO msg="artifact RPG stats created" artifact_id=cf1fd991-8536-48f8-810f-67273fc3e1ab version=1
time=2026-01-03T14:42:21.824-03:00 level=INFO msg="gRPC request completed" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats duration_ms=2
time=2026-01-03T14:42:21.824-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats (0.31s)
    --- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation (0.01s)
=== RUN   TestBeatHandler_CreateBeat
time=2026-01-03T14:42:22.070-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:22.070-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:22.070-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:22.070-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:22.070-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:22.070-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:22.070-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:22.071-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:22.074-03:00 level=INFO msg="tenant created" tenant_id=d35e659c-bcde-423f-ad54-b828e7f34178 name="Test Tenant for Beat"
time=2026-01-03T14:42:22.074-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:22.074-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:22.076-03:00 level=INFO msg="world created" world_id=f2d19af0-699d-4e87-84af-0110db7d804f name="World of Test Story" tenant_id=d35e659c-bcde-423f-ad54-b828e7f34178
time=2026-01-03T14:42:22.076-03:00 level=INFO msg="created implicit world for story" world_id=f2d19af0-699d-4e87-84af-0110db7d804f story_title="Test Story"
time=2026-01-03T14:42:22.077-03:00 level=INFO msg="story created" story_id=81e887a2-ec84-472c-8316-08456ad5c763 title="Test Story" tenant_id=d35e659c-bcde-423f-ad54-b828e7f34178
time=2026-01-03T14:42:22.077-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:22.077-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:22.078-03:00 level=INFO msg="scene created" scene_id=dcec5c37-b30d-42e5-a4dd-b3d9d30e4575 story_id=81e887a2-ec84-472c-8316-08456ad5c763 tenant_id=d35e659c-bcde-423f-ad54-b828e7f34178
time=2026-01-03T14:42:22.078-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/successful_creation
time=2026-01-03T14:42:22.079-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:22.080-03:00 level=INFO msg="beat created" beat_id=e5aab1c5-cd07-466d-a963-77e49eeb098d scene_id=dcec5c37-b30d-42e5-a4dd-b3d9d30e4575 tenant_id=d35e659c-bcde-423f-ad54-b828e7f34178
time=2026-01-03T14:42:22.080-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/invalid_scene_id
time=2026-01-03T14:42:22.082-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:22.082-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 2ce1aee6-ed43-4cbd-bf0c-18bf2f42717e"
=== RUN   TestBeatHandler_CreateBeat/invalid_type
time=2026-01-03T14:42:22.083-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:22.083-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on beat: invalid beat type"
=== RUN   TestBeatHandler_CreateBeat/missing_type
time=2026-01-03T14:42:22.083-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:22.083-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on type: type is required"
=== RUN   TestBeatHandler_CreateBeat/invalid_order_num
time=2026-01-03T14:42:22.083-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:22.083-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-03T14:42:22.084-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_CreateBeat (0.19s)
    --- PASS: TestBeatHandler_CreateBeat/successful_creation (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_scene_id (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/missing_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_order_num (0.00s)
=== RUN   TestBeatHandler_GetBeat
time=2026-01-03T14:42:22.269-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:22.269-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:22.269-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:22.269-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:22.269-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:22.269-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:22.269-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:22.270-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:22.273-03:00 level=INFO msg="tenant created" tenant_id=b790a0ff-4ab0-47b5-baa9-385490a285c6 name="Test Tenant for Get Beat"
time=2026-01-03T14:42:22.273-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:22.273-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:22.275-03:00 level=INFO msg="world created" world_id=a94dc2fa-ecca-48b8-8b91-5f6800cc71c4 name="World of Test Story" tenant_id=b790a0ff-4ab0-47b5-baa9-385490a285c6
time=2026-01-03T14:42:22.275-03:00 level=INFO msg="created implicit world for story" world_id=a94dc2fa-ecca-48b8-8b91-5f6800cc71c4 story_title="Test Story"
time=2026-01-03T14:42:22.276-03:00 level=INFO msg="story created" story_id=64c0ecb5-3f90-4034-a9aa-cc14570b9812 title="Test Story" tenant_id=b790a0ff-4ab0-47b5-baa9-385490a285c6
time=2026-01-03T14:42:22.276-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:22.276-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:22.278-03:00 level=INFO msg="scene created" scene_id=5f65e713-5dda-4446-b738-856d3459cccb story_id=64c0ecb5-3f90-4034-a9aa-cc14570b9812 tenant_id=b790a0ff-4ab0-47b5-baa9-385490a285c6
time=2026-01-03T14:42:22.278-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
=== RUN   TestBeatHandler_GetBeat/existing_beat
time=2026-01-03T14:42:22.278-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:22.279-03:00 level=INFO msg="beat created" beat_id=e34b88b3-9fae-45c4-82a1-2849b5fc750d scene_id=5f65e713-5dda-4446-b738-856d3459cccb tenant_id=b790a0ff-4ab0-47b5-baa9-385490a285c6
time=2026-01-03T14:42:22.279-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-03T14:42:22.280-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-03T14:42:22.281-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/GetBeat duration_ms=0
=== RUN   TestBeatHandler_GetBeat/non-existing_beat
time=2026-01-03T14:42:22.281-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-03T14:42:22.282-03:00 level=ERROR msg="failed to get beat" error="beat not found: b622824f-5fd1-4d9d-b2c9-730b5ede6274" beat_id=b622824f-5fd1-4d9d-b2c9-730b5ede6274 tenant_id=b790a0ff-4ab0-47b5-baa9-385490a285c6
time=2026-01-03T14:42:22.282-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/GetBeat duration_ms=0 error="rpc error: code = NotFound desc = beat not found: b622824f-5fd1-4d9d-b2c9-730b5ede6274"
time=2026-01-03T14:42:22.282-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_GetBeat (0.25s)
    --- PASS: TestBeatHandler_GetBeat/existing_beat (0.00s)
    --- PASS: TestBeatHandler_GetBeat/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_UpdateBeat
time=2026-01-03T14:42:22.553-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:22.553-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:22.553-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:22.553-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:22.553-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:22.553-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:22.553-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:22.555-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:22.559-03:00 level=INFO msg="tenant created" tenant_id=7cbbb26c-d933-4c3c-ac9d-878750262d08 name="Test Tenant for Update Beat"
time=2026-01-03T14:42:22.559-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-03T14:42:22.559-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:22.560-03:00 level=INFO msg="world created" world_id=80d81045-11c0-45d5-a45d-66fc5afd5ec6 name="World of Test Story" tenant_id=7cbbb26c-d933-4c3c-ac9d-878750262d08
time=2026-01-03T14:42:22.560-03:00 level=INFO msg="created implicit world for story" world_id=80d81045-11c0-45d5-a45d-66fc5afd5ec6 story_title="Test Story"
time=2026-01-03T14:42:22.561-03:00 level=INFO msg="story created" story_id=07f6d6dd-43e8-450d-9546-e1d56f41b3fa title="Test Story" tenant_id=7cbbb26c-d933-4c3c-ac9d-878750262d08
time=2026-01-03T14:42:22.561-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:22.561-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:22.562-03:00 level=INFO msg="scene created" scene_id=10a913d2-b2ef-41a7-9189-a17e28aa5460 story_id=07f6d6dd-43e8-450d-9546-e1d56f41b3fa tenant_id=7cbbb26c-d933-4c3c-ac9d-878750262d08
time=2026-01-03T14:42:22.562-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_UpdateBeat/successful_update
time=2026-01-03T14:42:22.562-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:22.563-03:00 level=INFO msg="beat created" beat_id=9a6808b0-07c7-4bc3-ab4f-50902ff1f855 scene_id=10a913d2-b2ef-41a7-9189-a17e28aa5460 tenant_id=7cbbb26c-d933-4c3c-ac9d-878750262d08
time=2026-01-03T14:42:22.563-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-03T14:42:22.564-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/UpdateBeat
time=2026-01-03T14:42:22.564-03:00 level=INFO msg="beat updated" beat_id=9a6808b0-07c7-4bc3-ab4f-50902ff1f855 tenant_id=7cbbb26c-d933-4c3c-ac9d-878750262d08
time=2026-01-03T14:42:22.564-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/UpdateBeat duration_ms=0
time=2026-01-03T14:42:22.565-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_UpdateBeat (0.22s)
    --- PASS: TestBeatHandler_UpdateBeat/successful_update (0.00s)
=== RUN   TestBeatHandler_MoveBeat
time=2026-01-03T14:42:22.749-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:22.749-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:22.749-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:22.749-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:22.749-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:22.749-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:22.749-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:22.750-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:22.753-03:00 level=INFO msg="tenant created" tenant_id=6df112e4-9c58-4a75-a9a4-0392858ee283 name="Test Tenant for Move Beat"
time=2026-01-03T14:42:22.753-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:22.754-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:22.755-03:00 level=INFO msg="world created" world_id=89786264-439d-4113-a959-1df4466553ca name="World of Test Story" tenant_id=6df112e4-9c58-4a75-a9a4-0392858ee283
time=2026-01-03T14:42:22.755-03:00 level=INFO msg="created implicit world for story" world_id=89786264-439d-4113-a959-1df4466553ca story_title="Test Story"
time=2026-01-03T14:42:22.759-03:00 level=INFO msg="story created" story_id=349c35fb-7745-44fa-9255-d6440aeba118 title="Test Story" tenant_id=6df112e4-9c58-4a75-a9a4-0392858ee283
time=2026-01-03T14:42:22.759-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=5
time=2026-01-03T14:42:22.759-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:22.760-03:00 level=INFO msg="scene created" scene_id=2834dc31-18fb-41ac-837b-2794d47c90fb story_id=349c35fb-7745-44fa-9255-d6440aeba118 tenant_id=6df112e4-9c58-4a75-a9a4-0392858ee283
time=2026-01-03T14:42:22.760-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-03T14:42:22.760-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:22.761-03:00 level=INFO msg="scene created" scene_id=ed14e0f0-0523-4ef3-8a3d-431139bc505a story_id=349c35fb-7745-44fa-9255-d6440aeba118 tenant_id=6df112e4-9c58-4a75-a9a4-0392858ee283
time=2026-01-03T14:42:22.761-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_MoveBeat/move_to_different_scene
time=2026-01-03T14:42:22.761-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:22.762-03:00 level=INFO msg="beat created" beat_id=e005588e-26a4-4c82-9969-87efb8d4448e scene_id=2834dc31-18fb-41ac-837b-2794d47c90fb tenant_id=6df112e4-9c58-4a75-a9a4-0392858ee283
time=2026-01-03T14:42:22.762-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-03T14:42:22.762-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/MoveBeat
time=2026-01-03T14:42:22.763-03:00 level=INFO msg="beat moved" beat_id=e005588e-26a4-4c82-9969-87efb8d4448e new_scene_id=ed14e0f0-0523-4ef3-8a3d-431139bc505a tenant_id=6df112e4-9c58-4a75-a9a4-0392858ee283
time=2026-01-03T14:42:22.763-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/MoveBeat duration_ms=0
time=2026-01-03T14:42:22.763-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_MoveBeat (0.32s)
    --- PASS: TestBeatHandler_MoveBeat/move_to_different_scene (0.00s)
=== RUN   TestBeatHandler_ListBeatsByScene
time=2026-01-03T14:42:23.099-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:23.099-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:23.099-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:23.099-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:23.099-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:23.099-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:23.099-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:23.100-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:23.102-03:00 level=INFO msg="tenant created" tenant_id=baa1795d-4959-4e77-bc19-eb1d1be1f6e0 name="Test Tenant for List Beats"
time=2026-01-03T14:42:23.102-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:23.102-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:23.104-03:00 level=INFO msg="world created" world_id=4d3a655a-3954-4630-81bf-a42cadbf46e2 name="World of Test Story" tenant_id=baa1795d-4959-4e77-bc19-eb1d1be1f6e0
time=2026-01-03T14:42:23.104-03:00 level=INFO msg="created implicit world for story" world_id=4d3a655a-3954-4630-81bf-a42cadbf46e2 story_title="Test Story"
time=2026-01-03T14:42:23.105-03:00 level=INFO msg="story created" story_id=2ab41689-ab3f-4704-a098-5f1d175de53d title="Test Story" tenant_id=baa1795d-4959-4e77-bc19-eb1d1be1f6e0
time=2026-01-03T14:42:23.105-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:23.105-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:23.106-03:00 level=INFO msg="scene created" scene_id=aabb2f0a-5eeb-4e4a-8bb5-fa7d2ff44b71 story_id=2ab41689-ab3f-4704-a098-5f1d175de53d tenant_id=baa1795d-4959-4e77-bc19-eb1d1be1f6e0
time=2026-01-03T14:42:23.106-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_ListBeatsByScene/list_beats_by_scene
time=2026-01-03T14:42:23.106-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:23.107-03:00 level=INFO msg="beat created" beat_id=76684ead-c09d-450e-b998-00f18566612c scene_id=aabb2f0a-5eeb-4e4a-8bb5-fa7d2ff44b71 tenant_id=baa1795d-4959-4e77-bc19-eb1d1be1f6e0
time=2026-01-03T14:42:23.107-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-03T14:42:23.107-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:23.108-03:00 level=INFO msg="beat created" beat_id=568d70a1-b714-41c7-802f-f635a427325a scene_id=aabb2f0a-5eeb-4e4a-8bb5-fa7d2ff44b71 tenant_id=baa1795d-4959-4e77-bc19-eb1d1be1f6e0
time=2026-01-03T14:42:23.108-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-03T14:42:23.108-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:23.108-03:00 level=INFO msg="beat created" beat_id=96875af3-8ed1-4972-bcbb-599e6941a175 scene_id=aabb2f0a-5eeb-4e4a-8bb5-fa7d2ff44b71 tenant_id=baa1795d-4959-4e77-bc19-eb1d1be1f6e0
time=2026-01-03T14:42:23.108-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-03T14:42:23.108-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/ListBeatsByScene
time=2026-01-03T14:42:23.109-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/ListBeatsByScene duration_ms=0
time=2026-01-03T14:42:23.109-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_ListBeatsByScene (0.25s)
    --- PASS: TestBeatHandler_ListBeatsByScene/list_beats_by_scene (0.00s)
=== RUN   TestBeatHandler_DeleteBeat
time=2026-01-03T14:42:23.384-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:23.384-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:23.384-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:23.384-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:23.384-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:23.384-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:23.384-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:23.387-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:23.389-03:00 level=INFO msg="tenant created" tenant_id=2fda83c8-ed76-47db-80d6-f33862124d39 name="Test Tenant for Delete Beat"
time=2026-01-03T14:42:23.389-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:23.390-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:23.391-03:00 level=INFO msg="world created" world_id=8ab8e337-c6c9-4d26-a28e-5521d0994239 name="World of Test Story" tenant_id=2fda83c8-ed76-47db-80d6-f33862124d39
time=2026-01-03T14:42:23.391-03:00 level=INFO msg="created implicit world for story" world_id=8ab8e337-c6c9-4d26-a28e-5521d0994239 story_title="Test Story"
time=2026-01-03T14:42:23.392-03:00 level=INFO msg="story created" story_id=682d3075-3d43-4c05-b6f7-2b1089eafb33 title="Test Story" tenant_id=2fda83c8-ed76-47db-80d6-f33862124d39
time=2026-01-03T14:42:23.392-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:23.393-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:23.394-03:00 level=INFO msg="scene created" scene_id=5e3b2416-76d4-42e9-9a50-e97063ae5cba story_id=682d3075-3d43-4c05-b6f7-2b1089eafb33 tenant_id=2fda83c8-ed76-47db-80d6-f33862124d39
time=2026-01-03T14:42:23.394-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_DeleteBeat/successful_delete
time=2026-01-03T14:42:23.394-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-03T14:42:23.395-03:00 level=INFO msg="beat created" beat_id=033978a4-2c0c-4703-b857-c0744b6ae321 scene_id=5e3b2416-76d4-42e9-9a50-e97063ae5cba tenant_id=2fda83c8-ed76-47db-80d6-f33862124d39
time=2026-01-03T14:42:23.395-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-03T14:42:23.395-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/DeleteBeat
time=2026-01-03T14:42:23.396-03:00 level=INFO msg="beat deleted" beat_id=033978a4-2c0c-4703-b857-c0744b6ae321 tenant_id=2fda83c8-ed76-47db-80d6-f33862124d39
time=2026-01-03T14:42:23.396-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/DeleteBeat duration_ms=0
time=2026-01-03T14:42:23.396-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_DeleteBeat (0.27s)
    --- PASS: TestBeatHandler_DeleteBeat/successful_delete (0.00s)
=== RUN   TestChapterHandler_CreateChapter
time=2026-01-03T14:42:23.604-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:23.604-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:23.604-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:23.604-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:23.604-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:23.604-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:23.604-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:23.605-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:23.608-03:00 level=INFO msg="tenant created" tenant_id=b4dd769c-32d2-420c-8107-4a36afc1be2b name="Test Tenant for Chapter"
time=2026-01-03T14:42:23.608-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:23.608-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:23.609-03:00 level=INFO msg="world created" world_id=f2f14d9d-1f6c-47c1-9aa5-3cdfd6d38f8d name="World of Test Story for Chapter" tenant_id=b4dd769c-32d2-420c-8107-4a36afc1be2b
time=2026-01-03T14:42:23.609-03:00 level=INFO msg="created implicit world for story" world_id=f2f14d9d-1f6c-47c1-9aa5-3cdfd6d38f8d story_title="Test Story for Chapter"
time=2026-01-03T14:42:23.610-03:00 level=INFO msg="story created" story_id=82a4cba5-84c6-4899-9c1e-f77186213d13 title="Test Story for Chapter" tenant_id=b4dd769c-32d2-420c-8107-4a36afc1be2b
time=2026-01-03T14:42:23.610-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_CreateChapter/successful_creation
time=2026-01-03T14:42:23.610-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:23.611-03:00 level=INFO msg="chapter created" chapter_id=32f0fb64-c756-4916-b77c-478f0368e2f3 story_id=82a4cba5-84c6-4899-9c1e-f77186213d13 tenant_id=b4dd769c-32d2-420c-8107-4a36afc1be2b
time=2026-01-03T14:42:23.611-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestChapterHandler_CreateChapter/invalid_story_id
time=2026-01-03T14:42:23.611-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:23.612-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = NotFound desc = story not found: 61ce09be-db43-4e72-a2f9-ae79d32c1be5"
=== RUN   TestChapterHandler_CreateChapter/invalid_number
time=2026-01-03T14:42:23.612-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:23.612-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on number: must be greater than 0"
=== RUN   TestChapterHandler_CreateChapter/empty_title
time=2026-01-03T14:42:23.612-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:23.612-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on title: title is required"
time=2026-01-03T14:42:23.612-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_CreateChapter (0.22s)
    --- PASS: TestChapterHandler_CreateChapter/successful_creation (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_story_id (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_number (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/empty_title (0.00s)
=== RUN   TestChapterHandler_GetChapter
time=2026-01-03T14:42:23.777-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:23.777-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:23.777-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:23.778-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:23.778-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:23.778-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:23.778-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:23.781-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:23.783-03:00 level=INFO msg="tenant created" tenant_id=ca097514-630a-4364-9eb8-fa4f021126dc name="Test Tenant for Get Chapter"
time=2026-01-03T14:42:23.783-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:23.783-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:23.784-03:00 level=INFO msg="world created" world_id=672f4c3c-f431-47f2-93d3-886633c43658 name="World of Test Story" tenant_id=ca097514-630a-4364-9eb8-fa4f021126dc
time=2026-01-03T14:42:23.784-03:00 level=INFO msg="created implicit world for story" world_id=672f4c3c-f431-47f2-93d3-886633c43658 story_title="Test Story"
time=2026-01-03T14:42:23.785-03:00 level=INFO msg="story created" story_id=b295a011-b911-4f82-a614-698804f6797f title="Test Story" tenant_id=ca097514-630a-4364-9eb8-fa4f021126dc
time=2026-01-03T14:42:23.785-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_GetChapter/existing_chapter
time=2026-01-03T14:42:23.786-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:23.787-03:00 level=INFO msg="chapter created" chapter_id=aef2910d-2dd1-469e-80d0-fd90559081be story_id=b295a011-b911-4f82-a614-698804f6797f tenant_id=ca097514-630a-4364-9eb8-fa4f021126dc
time=2026-01-03T14:42:23.787-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-03T14:42:23.787-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-03T14:42:23.788-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/GetChapter duration_ms=0
=== RUN   TestChapterHandler_GetChapter/non-existing_chapter
time=2026-01-03T14:42:23.788-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-03T14:42:23.788-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: aeb688fa-3d2f-48fa-86ec-64b6d3abafb8" chapter_id=aeb688fa-3d2f-48fa-86ec-64b6d3abafb8 tenant_id=ca097514-630a-4364-9eb8-fa4f021126dc
time=2026-01-03T14:42:23.788-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: aeb688fa-3d2f-48fa-86ec-64b6d3abafb8"
=== RUN   TestChapterHandler_GetChapter/invalid_ID
time=2026-01-03T14:42:23.789-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-03T14:42:23.789-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid id: invalid UUID length: 10"
time=2026-01-03T14:42:23.789-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_GetChapter (0.17s)
    --- PASS: TestChapterHandler_GetChapter/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/non-existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/invalid_ID (0.00s)
=== RUN   TestChapterHandler_UpdateChapter
time=2026-01-03T14:42:24.016-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:24.016-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:24.016-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:24.016-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:24.016-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:24.016-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:24.016-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:24.017-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:24.027-03:00 level=INFO msg="tenant created" tenant_id=f042cef1-964e-4d4a-863b-f2cab775cb6e name="Test Tenant for Update Chapter"
time=2026-01-03T14:42:24.027-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=10
time=2026-01-03T14:42:24.028-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:24.029-03:00 level=INFO msg="world created" world_id=c5fce1fc-64e8-421f-9376-e12ad9793821 name="World of Test Story" tenant_id=f042cef1-964e-4d4a-863b-f2cab775cb6e
time=2026-01-03T14:42:24.029-03:00 level=INFO msg="created implicit world for story" world_id=c5fce1fc-64e8-421f-9376-e12ad9793821 story_title="Test Story"
time=2026-01-03T14:42:24.035-03:00 level=INFO msg="story created" story_id=9433f15a-f732-4913-8019-eea776fe4278 title="Test Story" tenant_id=f042cef1-964e-4d4a-863b-f2cab775cb6e
time=2026-01-03T14:42:24.035-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=7
=== RUN   TestChapterHandler_UpdateChapter/successful_update
time=2026-01-03T14:42:24.035-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:24.036-03:00 level=INFO msg="chapter created" chapter_id=3b4ee96d-d8da-4d93-a9fe-453a9748fb3f story_id=9433f15a-f732-4913-8019-eea776fe4278 tenant_id=f042cef1-964e-4d4a-863b-f2cab775cb6e
time=2026-01-03T14:42:24.036-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-03T14:42:24.036-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-03T14:42:24.037-03:00 level=INFO msg="chapter updated" chapter_id=3b4ee96d-d8da-4d93-a9fe-453a9748fb3f tenant_id=f042cef1-964e-4d4a-863b-f2cab775cb6e
time=2026-01-03T14:42:24.037-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/UpdateChapter duration_ms=0
=== RUN   TestChapterHandler_UpdateChapter/non-existing_chapter
time=2026-01-03T14:42:24.037-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-03T14:42:24.038-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/UpdateChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 86203108-7da5-4276-9005-9b56d0237d32"
time=2026-01-03T14:42:24.038-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_UpdateChapter (0.26s)
    --- PASS: TestChapterHandler_UpdateChapter/successful_update (0.00s)
    --- PASS: TestChapterHandler_UpdateChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_DeleteChapter
time=2026-01-03T14:42:24.240-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:24.240-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:24.240-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:24.240-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:24.240-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:24.240-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:24.240-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:24.241-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:24.243-03:00 level=INFO msg="tenant created" tenant_id=c872a29a-71f7-4ce3-b9e4-2f42054c50c2 name="Test Tenant for Delete Chapter"
time=2026-01-03T14:42:24.243-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:24.244-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:24.245-03:00 level=INFO msg="world created" world_id=7504bc96-aac7-4aaa-a3ba-a4cd628a16a6 name="World of Test Story" tenant_id=c872a29a-71f7-4ce3-b9e4-2f42054c50c2
time=2026-01-03T14:42:24.245-03:00 level=INFO msg="created implicit world for story" world_id=7504bc96-aac7-4aaa-a3ba-a4cd628a16a6 story_title="Test Story"
time=2026-01-03T14:42:24.246-03:00 level=INFO msg="story created" story_id=9f4c69f1-a854-4125-b78d-a08a00f23917 title="Test Story" tenant_id=c872a29a-71f7-4ce3-b9e4-2f42054c50c2
time=2026-01-03T14:42:24.246-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_DeleteChapter/successful_delete
time=2026-01-03T14:42:24.246-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:24.248-03:00 level=INFO msg="chapter created" chapter_id=50f4a274-a219-4242-8582-2a036a1f2afe story_id=9f4c69f1-a854-4125-b78d-a08a00f23917 tenant_id=c872a29a-71f7-4ce3-b9e4-2f42054c50c2
time=2026-01-03T14:42:24.248-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-03T14:42:24.248-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-03T14:42:24.249-03:00 level=INFO msg="chapter deleted" chapter_id=50f4a274-a219-4242-8582-2a036a1f2afe tenant_id=c872a29a-71f7-4ce3-b9e4-2f42054c50c2
time=2026-01-03T14:42:24.249-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/DeleteChapter duration_ms=1
time=2026-01-03T14:42:24.250-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-03T14:42:24.250-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 50f4a274-a219-4242-8582-2a036a1f2afe" chapter_id=50f4a274-a219-4242-8582-2a036a1f2afe tenant_id=c872a29a-71f7-4ce3-b9e4-2f42054c50c2
time=2026-01-03T14:42:24.250-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 50f4a274-a219-4242-8582-2a036a1f2afe"
=== RUN   TestChapterHandler_DeleteChapter/non-existing_chapter
time=2026-01-03T14:42:24.250-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-03T14:42:24.250-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/DeleteChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 034c8cae-3484-4b67-97c2-401b36586cf5"
time=2026-01-03T14:42:24.250-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_DeleteChapter (0.20s)
    --- PASS: TestChapterHandler_DeleteChapter/successful_delete (0.00s)
    --- PASS: TestChapterHandler_DeleteChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_ListChaptersByStory
time=2026-01-03T14:42:24.482-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:24.482-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:24.482-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:24.482-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:24.482-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:24.482-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:24.482-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:24.482-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:24.484-03:00 level=INFO msg="tenant created" tenant_id=cf11dc4c-3801-447c-b552-3a07af905c64 name="Test Tenant for List Chapters"
time=2026-01-03T14:42:24.484-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:24.485-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:24.486-03:00 level=INFO msg="world created" world_id=443b451f-966f-4da0-8ddf-743434fc640a name="World of Test Story" tenant_id=cf11dc4c-3801-447c-b552-3a07af905c64
time=2026-01-03T14:42:24.486-03:00 level=INFO msg="created implicit world for story" world_id=443b451f-966f-4da0-8ddf-743434fc640a story_title="Test Story"
time=2026-01-03T14:42:24.487-03:00 level=INFO msg="story created" story_id=2e32749c-9789-42ea-a4c3-8be5585d8ee0 title="Test Story" tenant_id=cf11dc4c-3801-447c-b552-3a07af905c64
time=2026-01-03T14:42:24.487-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_ListChaptersByStory/list_chapters
time=2026-01-03T14:42:24.487-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:24.488-03:00 level=INFO msg="chapter created" chapter_id=16794da8-6acc-410b-9132-50a8522e52c2 story_id=2e32749c-9789-42ea-a4c3-8be5585d8ee0 tenant_id=cf11dc4c-3801-447c-b552-3a07af905c64
time=2026-01-03T14:42:24.488-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-03T14:42:24.488-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:24.489-03:00 level=INFO msg="chapter created" chapter_id=5f37bad3-1d52-4b46-8d39-599d45fb209b story_id=2e32749c-9789-42ea-a4c3-8be5585d8ee0 tenant_id=cf11dc4c-3801-447c-b552-3a07af905c64
time=2026-01-03T14:42:24.489-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-03T14:42:24.489-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:24.490-03:00 level=INFO msg="chapter created" chapter_id=dd598fa8-7005-4c44-80db-da4250448d22 story_id=2e32749c-9789-42ea-a4c3-8be5585d8ee0 tenant_id=cf11dc4c-3801-447c-b552-3a07af905c64
time=2026-01-03T14:42:24.490-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-03T14:42:24.490-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-03T14:42:24.490-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
=== RUN   TestChapterHandler_ListChaptersByStory/empty_list_for_new_story
time=2026-01-03T14:42:24.491-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:24.491-03:00 level=INFO msg="world created" world_id=f55d2380-d954-4ada-b733-61881bd1d9b8 name="World of Empty Story" tenant_id=cf11dc4c-3801-447c-b552-3a07af905c64
time=2026-01-03T14:42:24.491-03:00 level=INFO msg="created implicit world for story" world_id=f55d2380-d954-4ada-b733-61881bd1d9b8 story_title="Empty Story"
time=2026-01-03T14:42:24.492-03:00 level=INFO msg="story created" story_id=f77808f3-54a3-4562-9b1c-93e156e5f320 title="Empty Story" tenant_id=cf11dc4c-3801-447c-b552-3a07af905c64
time=2026-01-03T14:42:24.492-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-03T14:42:24.492-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-03T14:42:24.493-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
time=2026-01-03T14:42:24.493-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_ListChaptersByStory (0.25s)
    --- PASS: TestChapterHandler_ListChaptersByStory/list_chapters (0.00s)
    --- PASS: TestChapterHandler_ListChaptersByStory/empty_list_for_new_story (0.00s)
=== RUN   TestCharacterHandler_CreateCharacter
time=2026-01-03T14:42:24.758-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:24.758-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:24.758-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_CreateCharacter/successful_creation
time=2026-01-03T14:42:24.759-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:24.761-03:00 level=INFO msg="tenant created" tenant_id=311e7d1d-7455-4705-8cb2-e8717b125ed0 name="Test Tenant for Character"
time=2026-01-03T14:42:24.761-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:24.761-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:24.763-03:00 level=INFO msg="world created" world_id=6abffb58-b024-4eeb-bf0b-bc009747d3c8 name="Test World" tenant_id=311e7d1d-7455-4705-8cb2-e8717b125ed0
time=2026-01-03T14:42:24.763-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:24.763-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:24.765-03:00 level=INFO msg="character created" character_id=c1ef0094-00fd-4235-a48d-1c035b89e2a9 name="Test Character"
time=2026-01-03T14:42:24.765-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestCharacterHandler_CreateCharacter/empty_name
time=2026-01-03T14:42:24.765-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:24.766-03:00 level=INFO msg="tenant created" tenant_id=25e8ce70-6dad-4be2-8862-fbf9a9f7da60 name="Test Tenant 2"
time=2026-01-03T14:42:24.766-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:24.766-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:24.767-03:00 level=INFO msg="world created" world_id=132d5655-d977-4dc9-93af-fc23138b8e34 name="Test World 2" tenant_id=25e8ce70-6dad-4be2-8862-fbf9a9f7da60
time=2026-01-03T14:42:24.767-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-03T14:42:24.767-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:24.767-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacter duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-03T14:42:24.767-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_CreateCharacter (0.27s)
    --- PASS: TestCharacterHandler_CreateCharacter/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacter/empty_name (0.00s)
=== RUN   TestCharacterHandler_GetCharacter
time=2026-01-03T14:42:24.986-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:24.986-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:24.986-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacter/existing_character
time=2026-01-03T14:42:24.987-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:24.989-03:00 level=INFO msg="tenant created" tenant_id=2c0ddf63-a63f-47e4-8af1-f82131e3666b name="Get Test Tenant"
time=2026-01-03T14:42:24.989-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:24.989-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:24.990-03:00 level=INFO msg="world created" world_id=4ad2fb7b-e9ee-4c7f-81ab-b2b8647b8b9e name="Get Test World" tenant_id=2c0ddf63-a63f-47e4-8af1-f82131e3666b
time=2026-01-03T14:42:24.990-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:24.990-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:24.992-03:00 level=INFO msg="character created" character_id=5e48dd3c-4c13-4d5c-b70b-5b8feb295de7 name="Get Test Character"
time=2026-01-03T14:42:24.992-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:24.992-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-03T14:42:24.992-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacter duration_ms=0
=== RUN   TestCharacterHandler_GetCharacter/non-existing_character
time=2026-01-03T14:42:24.993-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:24.993-03:00 level=INFO msg="tenant created" tenant_id=b4b14b17-2e19-45dd-95d8-e50e5e66941b name="Non-existing Test Tenant"
time=2026-01-03T14:42:24.993-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:24.993-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-03T14:42:24.993-03:00 level=ERROR msg="failed to get character" error="character not found: 05655992-3af6-4564-a0b4-84bcf44fa244" character_id=05655992-3af6-4564-a0b4-84bcf44fa244
time=2026-01-03T14:42:24.993-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: 05655992-3af6-4564-a0b4-84bcf44fa244"
time=2026-01-03T14:42:24.994-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacter (0.22s)
    --- PASS: TestCharacterHandler_GetCharacter/existing_character (0.01s)
    --- PASS: TestCharacterHandler_GetCharacter/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListCharacters
time=2026-01-03T14:42:25.225-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:25.225-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:25.225-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_ListCharacters/list_characters
time=2026-01-03T14:42:25.226-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:25.228-03:00 level=INFO msg="tenant created" tenant_id=121322bc-20ab-4560-8ec9-ef5c21b61cb0 name="List Test Tenant"
time=2026-01-03T14:42:25.228-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:25.229-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:25.230-03:00 level=INFO msg="world created" world_id=90f95f5c-0b96-4060-8a84-16bf0a96e626 name="List Test World" tenant_id=121322bc-20ab-4560-8ec9-ef5c21b61cb0
time=2026-01-03T14:42:25.230-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:25.230-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:25.231-03:00 level=INFO msg="character created" character_id=956d58de-3c30-4e56-9e43-b333496e84be name="Character 1"
time=2026-01-03T14:42:25.231-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:25.232-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:25.232-03:00 level=INFO msg="character created" character_id=04acbec2-e37a-4e53-9de9-7c4195c02cdf name="Character 2"
time=2026-01-03T14:42:25.232-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-03T14:42:25.232-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacters
time=2026-01-03T14:42:25.233-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacters duration_ms=0
time=2026-01-03T14:42:25.234-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_ListCharacters (0.24s)
    --- PASS: TestCharacterHandler_ListCharacters/list_characters (0.01s)
=== RUN   TestCharacterHandler_UpdateCharacter
time=2026-01-03T14:42:25.411-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:25.411-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:25.411-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_UpdateCharacter/update_character
time=2026-01-03T14:42:25.412-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:25.415-03:00 level=INFO msg="tenant created" tenant_id=0683296a-3798-49c9-84a6-6b353191896e name="Update Test Tenant"
time=2026-01-03T14:42:25.415-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:25.415-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:25.417-03:00 level=INFO msg="world created" world_id=85d7e9b0-c1a7-4165-b4f2-bb35ffa5cfa6 name="Update Test World" tenant_id=0683296a-3798-49c9-84a6-6b353191896e
time=2026-01-03T14:42:25.417-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:25.417-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:25.419-03:00 level=INFO msg="character created" character_id=722dd4a2-e123-4622-8a5f-a76d3da9d009 name="Original Character"
time=2026-01-03T14:42:25.419-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-03T14:42:25.420-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacter
time=2026-01-03T14:42:25.421-03:00 level=INFO msg="character updated" character_id=722dd4a2-e123-4622-8a5f-a76d3da9d009 name="Updated Character"
time=2026-01-03T14:42:25.421-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacter duration_ms=1
time=2026-01-03T14:42:25.421-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_UpdateCharacter (0.19s)
    --- PASS: TestCharacterHandler_UpdateCharacter/update_character (0.01s)
=== RUN   TestCharacterHandler_DeleteCharacter
time=2026-01-03T14:42:25.669-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:25.669-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:25.669-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_DeleteCharacter/delete_character
time=2026-01-03T14:42:25.670-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:25.672-03:00 level=INFO msg="tenant created" tenant_id=80e55de5-643d-4490-9c36-c6b1ebc9b20a name="Delete Test Tenant"
time=2026-01-03T14:42:25.672-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:25.672-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:25.673-03:00 level=INFO msg="world created" world_id=5d5ab214-104d-4768-b8d1-e6d1e7b7d9d7 name="Delete Test World" tenant_id=80e55de5-643d-4490-9c36-c6b1ebc9b20a
time=2026-01-03T14:42:25.673-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:25.674-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:25.675-03:00 level=INFO msg="character created" character_id=a5cb4a0d-03e1-427a-81a2-9a7f4625ceea name="Character to Delete"
time=2026-01-03T14:42:25.675-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:25.676-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/DeleteCharacter
time=2026-01-03T14:42:25.678-03:00 level=INFO msg="character deleted" character_id=a5cb4a0d-03e1-427a-81a2-9a7f4625ceea name="Character to Delete"
time=2026-01-03T14:42:25.678-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/DeleteCharacter duration_ms=2
time=2026-01-03T14:42:25.678-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-03T14:42:25.679-03:00 level=ERROR msg="failed to get character" error="character not found: a5cb4a0d-03e1-427a-81a2-9a7f4625ceea" character_id=a5cb4a0d-03e1-427a-81a2-9a7f4625ceea
time=2026-01-03T14:42:25.679-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: a5cb4a0d-03e1-427a-81a2-9a7f4625ceea"
time=2026-01-03T14:42:25.679-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_DeleteCharacter (0.25s)
    --- PASS: TestCharacterHandler_DeleteCharacter/delete_character (0.01s)
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats
time=2026-01-03T14:42:25.857-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:25.857-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:25.857-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:25.857-03:00 level=INFO msg="CharacterRPGStatsService registered"
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation
time=2026-01-03T14:42:25.857-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:25.860-03:00 level=INFO msg="tenant created" tenant_id=bf0eb59f-45b9-4d2d-8f89-3eab6f3ab98f name="Test Tenant for Character Stats"
time=2026-01-03T14:42:25.860-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:25.860-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:25.862-03:00 level=INFO msg="world created" world_id=16efbd0c-3098-4c68-bb64-5e16d71e90de name="Test World" tenant_id=bf0eb59f-45b9-4d2d-8f89-3eab6f3ab98f
time=2026-01-03T14:42:25.862-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:25.862-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:25.863-03:00 level=INFO msg="character created" character_id=24504802-61d9-4784-9e1f-e18a612fbfd4 name="Test Character"
time=2026-01-03T14:42:25.863-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:25.864-03:00 level=INFO msg="gRPC request started" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats
time=2026-01-03T14:42:25.866-03:00 level=INFO msg="character RPG stats created" character_id=24504802-61d9-4784-9e1f-e18a612fbfd4 version=1
time=2026-01-03T14:42:25.866-03:00 level=INFO msg="gRPC request completed" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats duration_ms=2
time=2026-01-03T14:42:25.866-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats (0.19s)
    --- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation (0.01s)
=== RUN   TestCharacterSkillHandler_AddCharacterSkill
time=2026-01-03T14:42:26.106-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:26.106-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:26.106-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:26.106-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:26.106-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:26.106-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill
time=2026-01-03T14:42:26.107-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:26.109-03:00 level=INFO msg="tenant created" tenant_id=9dd5c787-c366-4e0f-a2a8-78269f810099 name="Test Tenant for Character Skill"
time=2026-01-03T14:42:26.109-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:26.110-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:26.111-03:00 level=INFO msg="world created" world_id=503fb149-47a7-45ca-901f-ffde050ac038 name="Test World" tenant_id=9dd5c787-c366-4e0f-a2a8-78269f810099
time=2026-01-03T14:42:26.111-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:26.111-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:26.113-03:00 level=INFO msg="character created" character_id=23f361d7-3bd4-49e3-b63a-66e5d23a40c9 name="Test Character"
time=2026-01-03T14:42:26.113-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:26.113-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:26.114-03:00 level=INFO msg="RPG system created" rpg_system_id=48629eb8-fe60-42d1-bece-b84fc528eda9 name="Test System"
time=2026-01-03T14:42:26.114-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:26.115-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:26.116-03:00 level=INFO msg="skill created" skill_id=7ecb9141-81b0-4b65-a476-0c3f280b0c1b name=Fireball
time=2026-01-03T14:42:26.116-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-03T14:42:26.116-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-03T14:42:26.118-03:00 level=INFO msg="character learned skill" character_id=23f361d7-3bd4-49e3-b63a-66e5d23a40c9 skill_id=7ecb9141-81b0-4b65-a476-0c3f280b0c1b
time=2026-01-03T14:42:26.118-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-03T14:42:26.118-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_AddCharacterSkill (0.26s)
    --- PASS: TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill (0.01s)
=== RUN   TestCharacterSkillHandler_ListCharacterSkills
time=2026-01-03T14:42:26.329-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:26.329-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:26.329-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:26.329-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:26.329-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:26.329-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_ListCharacterSkills/list_character_skills
time=2026-01-03T14:42:26.330-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:26.332-03:00 level=INFO msg="tenant created" tenant_id=d28d01e4-8a34-4e91-b8b8-39452007439f name="List Test Tenant"
time=2026-01-03T14:42:26.332-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:26.332-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:26.333-03:00 level=INFO msg="world created" world_id=992705e7-6d8d-43e7-a67f-9919830cbe27 name="List Test World" tenant_id=d28d01e4-8a34-4e91-b8b8-39452007439f
time=2026-01-03T14:42:26.333-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:26.334-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:26.335-03:00 level=INFO msg="character created" character_id=98f2c076-50ed-46c0-a7b1-49b61c63fb58 name="List Test Character"
time=2026-01-03T14:42:26.335-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:26.335-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:26.336-03:00 level=INFO msg="RPG system created" rpg_system_id=5d368afb-ce4f-4292-af08-457ffde2e8e4 name="List Test System"
time=2026-01-03T14:42:26.336-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:26.336-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:26.337-03:00 level=INFO msg="skill created" skill_id=76f053c0-7d5a-478d-b46c-e3e14ace2b96 name="List Test Skill"
time=2026-01-03T14:42:26.337-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-03T14:42:26.337-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-03T14:42:26.339-03:00 level=INFO msg="character learned skill" character_id=98f2c076-50ed-46c0-a7b1-49b61c63fb58 skill_id=76f053c0-7d5a-478d-b46c-e3e14ace2b96
time=2026-01-03T14:42:26.339-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-03T14:42:26.340-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-03T14:42:26.340-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
time=2026-01-03T14:42:26.340-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_ListCharacterSkills (0.21s)
    --- PASS: TestCharacterSkillHandler_ListCharacterSkills/list_character_skills (0.01s)
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill
time=2026-01-03T14:42:26.657-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:26.657-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:26.657-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:26.657-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:26.657-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:26.657-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-03T14:42:26.658-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:26.660-03:00 level=INFO msg="tenant created" tenant_id=6590fee2-fcd6-4398-b129-d85084dc2631 name="Update Skill Test Tenant"
time=2026-01-03T14:42:26.660-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:26.660-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:26.661-03:00 level=INFO msg="world created" world_id=cffe95b1-f639-471b-8fed-9e63dd1bad37 name="Test World" tenant_id=6590fee2-fcd6-4398-b129-d85084dc2631
time=2026-01-03T14:42:26.661-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:26.661-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:26.663-03:00 level=INFO msg="character created" character_id=e5edcc69-8b6b-495a-8d16-18fbe7eb816c name="Test Character"
time=2026-01-03T14:42:26.663-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:26.663-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:26.664-03:00 level=INFO msg="RPG system created" rpg_system_id=c1cf97b0-2dd4-4df3-9745-a7d1d7ed7243 name="Test System"
time=2026-01-03T14:42:26.664-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:26.664-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:26.665-03:00 level=INFO msg="skill created" skill_id=75a838b1-cd24-46f0-80f3-33bc67d5800c name=Fireball
time=2026-01-03T14:42:26.665-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/successful_update
time=2026-01-03T14:42:26.665-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-03T14:42:26.667-03:00 level=INFO msg="character learned skill" character_id=e5edcc69-8b6b-495a-8d16-18fbe7eb816c skill_id=75a838b1-cd24-46f0-80f3-33bc67d5800c
time=2026-01-03T14:42:26.667-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-03T14:42:26.667-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-03T14:42:26.668-03:00 level=INFO msg="character skill updated" id=c50578a8-3093-462b-90e1-a46f43f8dc3e character_id=e5edcc69-8b6b-495a-8d16-18fbe7eb816c
time=2026-01-03T14:42:26.668-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill
time=2026-01-03T14:42:26.668-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-03T14:42:26.669-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: c0f4dd71-479d-4560-9d2b-10d28053c69e"
time=2026-01-03T14:42:26.669-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_UpdateCharacterSkill (0.33s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/successful_update (0.00s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill (0.00s)
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill
time=2026-01-03T14:42:26.915-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:26.915-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:26.915-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:26.916-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:26.916-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:26.916-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-03T14:42:26.916-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:26.918-03:00 level=INFO msg="tenant created" tenant_id=4e5ac129-8396-4eac-b64f-150d690e1b5b name="Delete Skill Test Tenant"
time=2026-01-03T14:42:26.918-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-03T14:42:26.918-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:26.919-03:00 level=INFO msg="world created" world_id=d51016c4-854b-417e-bc0b-7859ca0fbffb name="Test World" tenant_id=4e5ac129-8396-4eac-b64f-150d690e1b5b
time=2026-01-03T14:42:26.919-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:26.919-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:26.921-03:00 level=INFO msg="character created" character_id=92e1514f-285f-4678-97d6-9f434a0d605d name="Test Character"
time=2026-01-03T14:42:26.921-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:26.921-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:26.921-03:00 level=INFO msg="RPG system created" rpg_system_id=ce30e388-91ae-48ff-a98e-cb633c00e1dc name="Test System"
time=2026-01-03T14:42:26.921-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:26.922-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:26.923-03:00 level=INFO msg="skill created" skill_id=79427113-69fd-4d5d-980a-da552dd7bf7b name=Fireball
time=2026-01-03T14:42:26.923-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete
time=2026-01-03T14:42:26.923-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-03T14:42:26.925-03:00 level=INFO msg="character learned skill" character_id=92e1514f-285f-4678-97d6-9f434a0d605d skill_id=79427113-69fd-4d5d-980a-da552dd7bf7b
time=2026-01-03T14:42:26.925-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-03T14:42:26.925-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-03T14:42:26.925-03:00 level=INFO msg="character skill deleted" id=2f323c7d-eb40-4d9c-8c17-beb2833c2bf4
time=2026-01-03T14:42:26.925-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0
time=2026-01-03T14:42:26.925-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-03T14:42:26.926-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill
time=2026-01-03T14:42:26.926-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-03T14:42:26.926-03:00 level=ERROR msg="failed to delete character skill" error="character_skill not found: e1a1eee7-929c-458b-a1dd-0f7c44357cc4" id=e1a1eee7-929c-458b-a1dd-0f7c44357cc4
time=2026-01-03T14:42:26.926-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: e1a1eee7-929c-458b-a1dd-0f7c44357cc4"
time=2026-01-03T14:42:26.926-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_DeleteCharacterSkill (0.25s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete (0.00s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill (0.00s)
=== RUN   TestContentBlockHandler_CreateContentBlock
time=2026-01-03T14:42:27.113-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:27.113-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:27.113-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:27.113-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:27.113-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:27.113-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:27.113-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:27.114-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:27.116-03:00 level=INFO msg="tenant created" tenant_id=d397c730-7cd2-478d-8870-1873c565b591 name="Test Tenant for ContentBlock"
time=2026-01-03T14:42:27.116-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:27.116-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:27.118-03:00 level=INFO msg="world created" world_id=9d765769-0765-4631-ad6b-f6c87c951fcc name="World of Test Story" tenant_id=d397c730-7cd2-478d-8870-1873c565b591
time=2026-01-03T14:42:27.118-03:00 level=INFO msg="created implicit world for story" world_id=9d765769-0765-4631-ad6b-f6c87c951fcc story_title="Test Story"
time=2026-01-03T14:42:27.119-03:00 level=INFO msg="story created" story_id=97369fa9-d512-4d0a-ac10-92fb84ffca2e title="Test Story" tenant_id=d397c730-7cd2-478d-8870-1873c565b591
time=2026-01-03T14:42:27.119-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:27.119-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:27.120-03:00 level=INFO msg="chapter created" chapter_id=19f3b680-e89a-48e4-9c5c-d03cd3a3f6e7 story_id=97369fa9-d512-4d0a-ac10-92fb84ffca2e tenant_id=d397c730-7cd2-478d-8870-1873c565b591
time=2026-01-03T14:42:27.120-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/successful_creation
time=2026-01-03T14:42:27.121-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.122-03:00 level=INFO msg="content block created" content_block_id=e4010f13-7ded-4f10-8efc-c6e7cb7e2c8a tenant_id=d397c730-7cd2-478d-8870-1873c565b591
time=2026-01-03T14:42:27.122-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/default_kind
time=2026-01-03T14:42:27.122-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.122-03:00 level=INFO msg="content block created" content_block_id=cceb4a6d-19db-431d-a4bf-6ddd13d9cd3f tenant_id=d397c730-7cd2-478d-8870-1873c565b591
time=2026-01-03T14:42:27.122-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_chapter_id
time=2026-01-03T14:42:27.123-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.123-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: b1e902f3-5628-45cc-85b2-7a77ed54ff2c"
=== RUN   TestContentBlockHandler_CreateContentBlock/empty_content
time=2026-01-03T14:42:27.123-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.123-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on content: content is required"
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_order_num
time=2026-01-03T14:42:27.123-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.123-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-03T14:42:27.124-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_CreateContentBlock (0.20s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/default_kind (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_chapter_id (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/empty_content (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_order_num (0.00s)
=== RUN   TestContentBlockHandler_GetContentBlock
time=2026-01-03T14:42:27.329-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:27.329-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:27.329-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:27.329-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:27.329-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:27.329-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:27.329-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:27.330-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:27.332-03:00 level=INFO msg="tenant created" tenant_id=783a58ca-d17e-4f13-a43a-138c277274dc name="Test Tenant for Get ContentBlock"
time=2026-01-03T14:42:27.332-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:27.332-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:27.334-03:00 level=INFO msg="world created" world_id=6d7d8f0d-69d5-4c45-a36f-0326909766e6 name="World of Test Story" tenant_id=783a58ca-d17e-4f13-a43a-138c277274dc
time=2026-01-03T14:42:27.334-03:00 level=INFO msg="created implicit world for story" world_id=6d7d8f0d-69d5-4c45-a36f-0326909766e6 story_title="Test Story"
time=2026-01-03T14:42:27.335-03:00 level=INFO msg="story created" story_id=834ac075-047e-4750-aa8b-fe4721c3d57b title="Test Story" tenant_id=783a58ca-d17e-4f13-a43a-138c277274dc
time=2026-01-03T14:42:27.335-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:27.335-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:27.336-03:00 level=INFO msg="chapter created" chapter_id=15259ba5-fab9-42ca-80e1-b4e66f9abb39 story_id=834ac075-047e-4750-aa8b-fe4721c3d57b tenant_id=783a58ca-d17e-4f13-a43a-138c277274dc
time=2026-01-03T14:42:27.336-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_GetContentBlock/existing_content_block
time=2026-01-03T14:42:27.337-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.338-03:00 level=INFO msg="content block created" content_block_id=c6358ca7-dce6-41c6-b6f8-b99418e0db98 tenant_id=783a58ca-d17e-4f13-a43a-138c277274dc
time=2026-01-03T14:42:27.338-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-03T14:42:27.338-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-03T14:42:27.338-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_GetContentBlock/non-existing_content_block
time=2026-01-03T14:42:27.338-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-03T14:42:27.339-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 81a1bf63-932d-42d6-8657-1e55d6c43228" content_block_id=81a1bf63-932d-42d6-8657-1e55d6c43228 tenant_id=783a58ca-d17e-4f13-a43a-138c277274dc
time=2026-01-03T14:42:27.339-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: 81a1bf63-932d-42d6-8657-1e55d6c43228"
time=2026-01-03T14:42:27.339-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_GetContentBlock (0.22s)
    --- PASS: TestContentBlockHandler_GetContentBlock/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_GetContentBlock/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_UpdateContentBlock
time=2026-01-03T14:42:27.528-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:27.528-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:27.528-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:27.528-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:27.528-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:27.528-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:27.528-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:27.529-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:27.531-03:00 level=INFO msg="tenant created" tenant_id=7aac15aa-963f-44a9-a7dc-8967abf9d3dc name="Test Tenant for Update ContentBlock"
time=2026-01-03T14:42:27.531-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:27.531-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:27.532-03:00 level=INFO msg="world created" world_id=d0d28d96-65e6-4618-93a3-8284ecf580cf name="World of Test Story" tenant_id=7aac15aa-963f-44a9-a7dc-8967abf9d3dc
time=2026-01-03T14:42:27.532-03:00 level=INFO msg="created implicit world for story" world_id=d0d28d96-65e6-4618-93a3-8284ecf580cf story_title="Test Story"
time=2026-01-03T14:42:27.534-03:00 level=INFO msg="story created" story_id=b6fcf386-282a-4c00-9d19-43f22738736c title="Test Story" tenant_id=7aac15aa-963f-44a9-a7dc-8967abf9d3dc
time=2026-01-03T14:42:27.534-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:27.534-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:27.534-03:00 level=INFO msg="chapter created" chapter_id=3e0f86b9-a3d9-4f54-a408-cdfd33592f10 story_id=b6fcf386-282a-4c00-9d19-43f22738736c tenant_id=7aac15aa-963f-44a9-a7dc-8967abf9d3dc
time=2026-01-03T14:42:27.534-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_UpdateContentBlock/successful_update
time=2026-01-03T14:42:27.535-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.536-03:00 level=INFO msg="content block created" content_block_id=ada81d78-e16b-403a-9545-c507e6b5a4c4 tenant_id=7aac15aa-963f-44a9-a7dc-8967abf9d3dc
time=2026-01-03T14:42:27.536-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-03T14:42:27.536-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/UpdateContentBlock
time=2026-01-03T14:42:27.537-03:00 level=INFO msg="content block updated" content_block_id=ada81d78-e16b-403a-9545-c507e6b5a4c4 tenant_id=7aac15aa-963f-44a9-a7dc-8967abf9d3dc
time=2026-01-03T14:42:27.537-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/UpdateContentBlock duration_ms=0
time=2026-01-03T14:42:27.537-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_UpdateContentBlock (0.20s)
    --- PASS: TestContentBlockHandler_UpdateContentBlock/successful_update (0.00s)
=== RUN   TestContentBlockHandler_DeleteContentBlock
time=2026-01-03T14:42:27.763-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:27.763-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:27.763-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:27.763-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:27.763-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:27.763-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:27.763-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:27.764-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:27.766-03:00 level=INFO msg="tenant created" tenant_id=5cbfc862-f095-4e2e-bd92-a30692d5c6bf name="Test Tenant for Delete ContentBlock"
time=2026-01-03T14:42:27.766-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:27.766-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:27.768-03:00 level=INFO msg="world created" world_id=d0e8e8c9-b027-4a4d-abdf-893e3b8191ce name="World of Test Story" tenant_id=5cbfc862-f095-4e2e-bd92-a30692d5c6bf
time=2026-01-03T14:42:27.768-03:00 level=INFO msg="created implicit world for story" world_id=d0e8e8c9-b027-4a4d-abdf-893e3b8191ce story_title="Test Story"
time=2026-01-03T14:42:27.771-03:00 level=INFO msg="story created" story_id=00cfc70d-3bd7-4336-af42-19a7cb6244e7 title="Test Story" tenant_id=5cbfc862-f095-4e2e-bd92-a30692d5c6bf
time=2026-01-03T14:42:27.771-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
time=2026-01-03T14:42:27.771-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:27.772-03:00 level=INFO msg="chapter created" chapter_id=ca91c702-0708-42c1-8a5b-eb234099624b story_id=00cfc70d-3bd7-4336-af42-19a7cb6244e7 tenant_id=5cbfc862-f095-4e2e-bd92-a30692d5c6bf
time=2026-01-03T14:42:27.772-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_DeleteContentBlock/successful_delete
time=2026-01-03T14:42:27.772-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.774-03:00 level=INFO msg="content block created" content_block_id=68526265-2ef7-4955-a1f4-cfefb8190a16 tenant_id=5cbfc862-f095-4e2e-bd92-a30692d5c6bf
time=2026-01-03T14:42:27.774-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-03T14:42:27.774-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/DeleteContentBlock
time=2026-01-03T14:42:27.775-03:00 level=INFO msg="content block deleted" content_block_id=68526265-2ef7-4955-a1f4-cfefb8190a16 tenant_id=5cbfc862-f095-4e2e-bd92-a30692d5c6bf
time=2026-01-03T14:42:27.775-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/DeleteContentBlock duration_ms=1
time=2026-01-03T14:42:27.775-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_DeleteContentBlock (0.23s)
    --- PASS: TestContentBlockHandler_DeleteContentBlock/successful_delete (0.00s)
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter
time=2026-01-03T14:42:27.958-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:27.958-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:27.958-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:27.958-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:27.958-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:27.958-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:27.958-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:27.963-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:27.965-03:00 level=INFO msg="tenant created" tenant_id=7733835f-d4a5-4f8e-ae2b-f39b21f3a8b0 name="Test Tenant for List ContentBlocks"
time=2026-01-03T14:42:27.965-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:27.965-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:27.966-03:00 level=INFO msg="world created" world_id=ad1be074-c8f9-4fe3-9425-20c1bd86a269 name="World of Test Story" tenant_id=7733835f-d4a5-4f8e-ae2b-f39b21f3a8b0
time=2026-01-03T14:42:27.966-03:00 level=INFO msg="created implicit world for story" world_id=ad1be074-c8f9-4fe3-9425-20c1bd86a269 story_title="Test Story"
time=2026-01-03T14:42:27.968-03:00 level=INFO msg="story created" story_id=79dcbc35-7d48-4423-922c-11a619e62067 title="Test Story" tenant_id=7733835f-d4a5-4f8e-ae2b-f39b21f3a8b0
time=2026-01-03T14:42:27.968-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-03T14:42:27.969-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:27.970-03:00 level=INFO msg="chapter created" chapter_id=cdfb0909-00db-421a-a0d6-d75a61477f0c story_id=79dcbc35-7d48-4423-922c-11a619e62067 tenant_id=7733835f-d4a5-4f8e-ae2b-f39b21f3a8b0
time=2026-01-03T14:42:27.970-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter
time=2026-01-03T14:42:27.970-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.971-03:00 level=INFO msg="content block created" content_block_id=d0cb6ea5-5a64-4dc0-92b9-766adc22717d tenant_id=7733835f-d4a5-4f8e-ae2b-f39b21f3a8b0
time=2026-01-03T14:42:27.971-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-03T14:42:27.971-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.972-03:00 level=INFO msg="content block created" content_block_id=097287d4-6b02-4e6c-aea2-f696f9c61386 tenant_id=7733835f-d4a5-4f8e-ae2b-f39b21f3a8b0
time=2026-01-03T14:42:27.972-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-03T14:42:27.972-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:27.972-03:00 level=INFO msg="content block created" content_block_id=c1e6a535-95d1-46b3-a9e8-3a8514916bf3 tenant_id=7733835f-d4a5-4f8e-ae2b-f39b21f3a8b0
time=2026-01-03T14:42:27.972-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-03T14:42:27.973-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/ListContentBlocksByChapter
time=2026-01-03T14:42:27.973-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/ListContentBlocksByChapter duration_ms=0
time=2026-01-03T14:42:27.973-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_ListContentBlocksByChapter (0.20s)
    --- PASS: TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter (0.00s)
=== RUN   TestContentBlockReferenceHandler_CreateAndList
time=2026-01-03T14:42:28.224-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:28.224-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:28.224-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:28.224-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:28.224-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:28.224-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:28.224-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:28.225-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:28.227-03:00 level=INFO msg="tenant created" tenant_id=04be96ce-fcb0-476a-b49a-55107c815993 name="Test Tenant for ContentBlockReference"
time=2026-01-03T14:42:28.227-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:28.227-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:28.228-03:00 level=INFO msg="world created" world_id=76941240-1adb-4e7a-89aa-15c005697cea name="World of Test Story" tenant_id=04be96ce-fcb0-476a-b49a-55107c815993
time=2026-01-03T14:42:28.228-03:00 level=INFO msg="created implicit world for story" world_id=76941240-1adb-4e7a-89aa-15c005697cea story_title="Test Story"
time=2026-01-03T14:42:28.230-03:00 level=INFO msg="story created" story_id=6eb25f71-b64e-47f5-b3c2-47e1ea931478 title="Test Story" tenant_id=04be96ce-fcb0-476a-b49a-55107c815993
time=2026-01-03T14:42:28.230-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:28.230-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:28.231-03:00 level=INFO msg="chapter created" chapter_id=08234726-a05a-4908-a772-04725054c311 story_id=6eb25f71-b64e-47f5-b3c2-47e1ea931478 tenant_id=04be96ce-fcb0-476a-b49a-55107c815993
time=2026-01-03T14:42:28.231-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-03T14:42:28.231-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-03T14:42:28.232-03:00 level=INFO msg="content block created" content_block_id=a645d2eb-f43c-4e8b-b2a4-59f455e26bf5 tenant_id=04be96ce-fcb0-476a-b49a-55107c815993
time=2026-01-03T14:42:28.232-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockReferenceHandler_CreateAndList/create_and_list_references
time=2026-01-03T14:42:28.233-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-03T14:42:28.234-03:00 level=INFO msg="content block reference created" reference_id=51b06c39-c2e0-45c1-b84c-845b72e37635 content_block_id=a645d2eb-f43c-4e8b-b2a4-59f455e26bf5 tenant_id=04be96ce-fcb0-476a-b49a-55107c815993
time=2026-01-03T14:42:28.234-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=1
time=2026-01-03T14:42:28.234-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock
time=2026-01-03T14:42:28.235-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock duration_ms=0
time=2026-01-03T14:42:28.235-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference
time=2026-01-03T14:42:28.236-03:00 level=INFO msg="content block reference deleted" reference_id=51b06c39-c2e0-45c1-b84c-845b72e37635 tenant_id=04be96ce-fcb0-476a-b49a-55107c815993
time=2026-01-03T14:42:28.236-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference duration_ms=0
=== RUN   TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference
time=2026-01-03T14:42:28.236-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-03T14:42:28.236-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: f46f4e28-e8ff-4f0d-be5c-5856a8ceded8"
time=2026-01-03T14:42:28.236-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockReferenceHandler_CreateAndList (0.26s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/create_and_list_references (0.00s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference (0.00s)
=== RUN   TestEventHandler_CreateEvent
time=2026-01-03T14:42:28.445-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:28.445-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:28.445-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_CreateEvent/successful_creation
time=2026-01-03T14:42:28.446-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:28.448-03:00 level=INFO msg="tenant created" tenant_id=2a6f9846-8514-498b-b558-1550dea0d123 name="Test Tenant for Event"
time=2026-01-03T14:42:28.448-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:28.449-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:28.450-03:00 level=INFO msg="world created" world_id=21b35e7f-e584-4923-b4df-8d75a0556771 name="Test World" tenant_id=2a6f9846-8514-498b-b558-1550dea0d123
time=2026-01-03T14:42:28.450-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:28.450-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-03T14:42:28.451-03:00 level=INFO msg="event created" event_id=fb31168e-e5c3-4d7e-aea4-9e86b0471f5f world_id=21b35e7f-e584-4923-b4df-8d75a0556771
time=2026-01-03T14:42:28.451-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
=== RUN   TestEventHandler_CreateEvent/empty_name
time=2026-01-03T14:42:28.452-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:28.452-03:00 level=INFO msg="tenant created" tenant_id=f078f9c5-543d-4d0a-9ce2-305b34ffa58d name="Test Tenant 2"
time=2026-01-03T14:42:28.452-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:28.452-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:28.453-03:00 level=INFO msg="world created" world_id=f82ba4c2-83f3-4e06-9ef8-192c29c166a2 name="Test World 2" tenant_id=f078f9c5-543d-4d0a-9ce2-305b34ffa58d
time=2026-01-03T14:42:28.453-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-03T14:42:28.453-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-03T14:42:28.453-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/CreateEvent duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-03T14:42:28.453-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_CreateEvent (0.22s)
    --- PASS: TestEventHandler_CreateEvent/successful_creation (0.01s)
    --- PASS: TestEventHandler_CreateEvent/empty_name (0.00s)
=== RUN   TestEventHandler_GetEvent
time=2026-01-03T14:42:28.702-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:28.702-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:28.702-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_GetEvent/existing_event
time=2026-01-03T14:42:28.702-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:28.706-03:00 level=INFO msg="tenant created" tenant_id=bbb78cb0-d4b6-4391-9445-022e3ba0a803 name="Get Test Tenant"
time=2026-01-03T14:42:28.706-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-03T14:42:28.707-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:28.708-03:00 level=INFO msg="world created" world_id=f841e909-f5a8-42af-8d9f-e426b45a057c name="Get Test World" tenant_id=bbb78cb0-d4b6-4391-9445-022e3ba0a803
time=2026-01-03T14:42:28.708-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:28.708-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-03T14:42:28.714-03:00 level=INFO msg="event created" event_id=1b385aad-eb78-41b2-b3f3-ce01facf3dfb world_id=f841e909-f5a8-42af-8d9f-e426b45a057c
time=2026-01-03T14:42:28.714-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=6
time=2026-01-03T14:42:28.715-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-03T14:42:28.715-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/GetEvent duration_ms=0
=== RUN   TestEventHandler_GetEvent/non-existing_event
time=2026-01-03T14:42:28.715-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:28.716-03:00 level=INFO msg="tenant created" tenant_id=55b277f3-968f-4a42-9386-a02aacdb9078 name="Non-existing Test Tenant"
time=2026-01-03T14:42:28.716-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:28.716-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-03T14:42:28.716-03:00 level=ERROR msg="failed to get event" error="event not found: eddbea65-aa85-4904-86e9-5f252e462702" event_id=eddbea65-aa85-4904-86e9-5f252e462702
time=2026-01-03T14:42:28.716-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: eddbea65-aa85-4904-86e9-5f252e462702"
time=2026-01-03T14:42:28.716-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_GetEvent (0.27s)
    --- PASS: TestEventHandler_GetEvent/existing_event (0.01s)
    --- PASS: TestEventHandler_GetEvent/non-existing_event (0.00s)
=== RUN   TestEventHandler_ListEvents
time=2026-01-03T14:42:28.994-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:28.994-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:28.994-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_ListEvents/list_events
time=2026-01-03T14:42:28.995-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:28.997-03:00 level=INFO msg="tenant created" tenant_id=d949c11f-0777-4515-947e-1f649c7d784d name="List Test Tenant"
time=2026-01-03T14:42:28.997-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:28.997-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:28.999-03:00 level=INFO msg="world created" world_id=98841c51-9b36-4cb7-9adf-533aaa943931 name="List Test World" tenant_id=d949c11f-0777-4515-947e-1f649c7d784d
time=2026-01-03T14:42:28.999-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:28.999-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-03T14:42:29.000-03:00 level=INFO msg="event created" event_id=97772937-87fa-41b8-8efe-d95789f98607 world_id=98841c51-9b36-4cb7-9adf-533aaa943931
time=2026-01-03T14:42:29.000-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-03T14:42:29.000-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-03T14:42:29.001-03:00 level=INFO msg="event created" event_id=47561c40-82b9-4f91-8f28-25e94194f3db world_id=98841c51-9b36-4cb7-9adf-533aaa943931
time=2026-01-03T14:42:29.001-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=0
time=2026-01-03T14:42:29.001-03:00 level=INFO msg="gRPC request started" method=/event.EventService/ListEvents
time=2026-01-03T14:42:29.002-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/ListEvents duration_ms=0
time=2026-01-03T14:42:29.002-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_ListEvents (0.28s)
    --- PASS: TestEventHandler_ListEvents/list_events (0.01s)
=== RUN   TestEventHandler_UpdateEvent
time=2026-01-03T14:42:29.219-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:29.219-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:29.219-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_UpdateEvent/update_event
time=2026-01-03T14:42:29.219-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:29.222-03:00 level=INFO msg="tenant created" tenant_id=30805bc1-6d4a-4d6c-950d-96db5bd7be3a name="Update Test Tenant"
time=2026-01-03T14:42:29.222-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:29.223-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:29.224-03:00 level=INFO msg="world created" world_id=3ea75008-3f59-4ee0-93d2-27a34f698387 name="Update Test World" tenant_id=30805bc1-6d4a-4d6c-950d-96db5bd7be3a
time=2026-01-03T14:42:29.224-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:29.224-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-03T14:42:29.226-03:00 level=INFO msg="event created" event_id=0f3f5bcf-9f83-4ba4-ac81-0d4e12aaad9c world_id=3ea75008-3f59-4ee0-93d2-27a34f698387
time=2026-01-03T14:42:29.226-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-03T14:42:29.226-03:00 level=INFO msg="gRPC request started" method=/event.EventService/UpdateEvent
time=2026-01-03T14:42:29.227-03:00 level=INFO msg="event updated" event_id=0f3f5bcf-9f83-4ba4-ac81-0d4e12aaad9c
time=2026-01-03T14:42:29.227-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/UpdateEvent duration_ms=1
time=2026-01-03T14:42:29.227-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_UpdateEvent (0.32s)
    --- PASS: TestEventHandler_UpdateEvent/update_event (0.01s)
=== RUN   TestEventHandler_DeleteEvent
time=2026-01-03T14:42:29.496-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:29.496-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:29.496-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_DeleteEvent/delete_event
time=2026-01-03T14:42:29.497-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:29.499-03:00 level=INFO msg="tenant created" tenant_id=40b43a07-30c3-415b-a34a-71a935e22ea3 name="Delete Test Tenant"
time=2026-01-03T14:42:29.499-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:29.499-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:29.500-03:00 level=INFO msg="world created" world_id=ade0dc3a-7798-4a5f-a1cd-179cb5a1bf3a name="Delete Test World" tenant_id=40b43a07-30c3-415b-a34a-71a935e22ea3
time=2026-01-03T14:42:29.500-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-03T14:42:29.500-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-03T14:42:29.502-03:00 level=INFO msg="event created" event_id=e42332ca-4804-45cb-9da5-1f6769da2f43 world_id=ade0dc3a-7798-4a5f-a1cd-179cb5a1bf3a
time=2026-01-03T14:42:29.502-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-03T14:42:29.502-03:00 level=INFO msg="gRPC request started" method=/event.EventService/DeleteEvent
time=2026-01-03T14:42:29.505-03:00 level=INFO msg="event deleted" event_id=e42332ca-4804-45cb-9da5-1f6769da2f43
time=2026-01-03T14:42:29.505-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/DeleteEvent duration_ms=2
time=2026-01-03T14:42:29.505-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-03T14:42:29.505-03:00 level=ERROR msg="failed to get event" error="event not found: e42332ca-4804-45cb-9da5-1f6769da2f43" event_id=e42332ca-4804-45cb-9da5-1f6769da2f43
time=2026-01-03T14:42:29.505-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: e42332ca-4804-45cb-9da5-1f6769da2f43"
time=2026-01-03T14:42:29.506-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_DeleteEvent (0.19s)
    --- PASS: TestEventHandler_DeleteEvent/delete_event (0.01s)
=== RUN   TestInventoryHandler_AddItemToInventory
time=2026-01-03T14:42:29.690-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:29.690-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:29.690-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:29.690-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-03T14:42:29.690-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:29.690-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_AddItemToInventory/successful_add_item
time=2026-01-03T14:42:29.690-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:29.693-03:00 level=INFO msg="tenant created" tenant_id=8d594f7c-bbd2-4781-8af5-681d678cb609 name="Test Tenant for Inventory"
time=2026-01-03T14:42:29.693-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:29.693-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:29.694-03:00 level=INFO msg="world created" world_id=e716c73f-4a55-486d-b87b-ffdfac192bad name="Test World" tenant_id=8d594f7c-bbd2-4781-8af5-681d678cb609
time=2026-01-03T14:42:29.694-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:29.694-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:29.695-03:00 level=INFO msg="character created" character_id=6c15fee0-b49b-4686-8e12-e9ee4b68f832 name="Test Character"
time=2026-01-03T14:42:29.695-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:29.695-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:29.696-03:00 level=INFO msg="RPG system created" rpg_system_id=b030bc21-0b00-4eb2-a922-0fdd0483a703 name="Test System"
time=2026-01-03T14:42:29.696-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:29.698-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-03T14:42:29.700-03:00 level=INFO msg="item added to inventory" character_id=6c15fee0-b49b-4686-8e12-e9ee4b68f832 item_id=9882b62f-4df7-4268-9020-50ffaec4a730
time=2026-01-03T14:42:29.700-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-03T14:42:29.700-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_AddItemToInventory (0.19s)
    --- PASS: TestInventoryHandler_AddItemToInventory/successful_add_item (0.01s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-03T14:42:29.911-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:29.911-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:29.911-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:29.911-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-03T14:42:29.911-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:29.911-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
time=2026-01-03T14:42:29.912-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:29.915-03:00 level=INFO msg="tenant created" tenant_id=f01c6daf-064c-412c-84e6-f527271d3a49 name="List Test Tenant"
time=2026-01-03T14:42:29.915-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:29.916-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:29.917-03:00 level=INFO msg="world created" world_id=0e848a16-dbb1-479f-a2c8-809171523edf name="List Test World" tenant_id=f01c6daf-064c-412c-84e6-f527271d3a49
time=2026-01-03T14:42:29.917-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:29.917-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:29.919-03:00 level=INFO msg="character created" character_id=4d716b79-0705-40dc-810c-b93b02b1e163 name="List Test Character"
time=2026-01-03T14:42:29.919-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:29.919-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:29.920-03:00 level=INFO msg="RPG system created" rpg_system_id=6d6d209d-083c-4a33-83a3-2768df5f1c18 name="List Test System"
time=2026-01-03T14:42:29.920-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:29.921-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-03T14:42:29.922-03:00 level=INFO msg="item added to inventory" character_id=4d716b79-0705-40dc-810c-b93b02b1e163 item_id=074defad-08ec-47db-a077-87b4e11df93b
time=2026-01-03T14:42:29.922-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-03T14:42:29.923-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-03T14:42:29.923-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
time=2026-01-03T14:42:29.923-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_ListInventory (0.23s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.01s)
=== RUN   TestInventoryHandler_UpdateItemInInventory
time=2026-01-03T14:42:30.098-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:30.098-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:30.098-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:30.098-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-03T14:42:30.098-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:30.098-03:00 level=INFO msg="InventoryService registered"
time=2026-01-03T14:42:30.098-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:30.100-03:00 level=INFO msg="tenant created" tenant_id=7c34a536-3ac2-46b2-aa88-b288bb5b12bf name="Update Item Test Tenant"
time=2026-01-03T14:42:30.100-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:30.101-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:30.102-03:00 level=INFO msg="world created" world_id=2ee8d4f5-c537-476b-9a8e-54de2b6b1d7b name="Test World" tenant_id=7c34a536-3ac2-46b2-aa88-b288bb5b12bf
time=2026-01-03T14:42:30.102-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:30.102-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:30.103-03:00 level=INFO msg="character created" character_id=13859f3a-5d7a-40d1-b0c3-b187d86bccd6 name="Test Character"
time=2026-01-03T14:42:30.103-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:30.104-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:30.104-03:00 level=INFO msg="RPG system created" rpg_system_id=acf0e255-6a52-4ae9-8275-0c7b3ece931b name="Test System"
time=2026-01-03T14:42:30.104-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/successful_update
time=2026-01-03T14:42:30.105-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-03T14:42:30.107-03:00 level=INFO msg="item added to inventory" character_id=13859f3a-5d7a-40d1-b0c3-b187d86bccd6 item_id=35d20140-5d19-4a30-a4a1-ecf591eafa6b
time=2026-01-03T14:42:30.107-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-03T14:42:30.107-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-03T14:42:30.108-03:00 level=INFO msg="character inventory updated" id=1bb68a51-e517-4291-a468-99b1f629b78c
time=2026-01-03T14:42:30.108-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/non-existing_item
time=2026-01-03T14:42:30.108-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-03T14:42:30.108-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: b4a65b33-3c56-4749-9efd-f92ef4e0f4d7"
time=2026-01-03T14:42:30.108-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_UpdateItemInInventory (0.18s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/successful_update (0.00s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/non-existing_item (0.00s)
=== RUN   TestInventoryHandler_DeleteItemFromInventory
time=2026-01-03T14:42:30.342-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:30.342-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:30.342-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:30.342-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-03T14:42:30.342-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:30.342-03:00 level=INFO msg="InventoryService registered"
time=2026-01-03T14:42:30.344-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:30.345-03:00 level=INFO msg="tenant created" tenant_id=c952a961-2fc9-4be7-8faf-b6281bb20206 name="Delete Item Test Tenant"
time=2026-01-03T14:42:30.345-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-03T14:42:30.346-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:30.347-03:00 level=INFO msg="world created" world_id=1edfd11b-0ef8-4e9e-ba17-27fed0b71ef5 name="Test World" tenant_id=c952a961-2fc9-4be7-8faf-b6281bb20206
time=2026-01-03T14:42:30.347-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:30.347-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:30.348-03:00 level=INFO msg="character created" character_id=8ef0b117-255e-4734-8d51-175cf31ef23a name="Test Character"
time=2026-01-03T14:42:30.348-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:30.348-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:30.349-03:00 level=INFO msg="RPG system created" rpg_system_id=959bb410-7432-4eb7-b7a9-dce493b89271 name="Test System"
time=2026-01-03T14:42:30.349-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/successful_delete
time=2026-01-03T14:42:30.350-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-03T14:42:30.351-03:00 level=INFO msg="item added to inventory" character_id=8ef0b117-255e-4734-8d51-175cf31ef23a item_id=a75a23a6-5228-40ec-8a8b-f5815f31ba18
time=2026-01-03T14:42:30.351-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-03T14:42:30.351-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-03T14:42:30.351-03:00 level=INFO msg="item removed from inventory" id=33829c42-1348-4d3a-a027-1b5fc5362892
time=2026-01-03T14:42:30.351-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0
time=2026-01-03T14:42:30.352-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-03T14:42:30.352-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item
time=2026-01-03T14:42:30.352-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-03T14:42:30.352-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 2d7fbafc-4999-4e87-8a2a-7ba61a045ccc" id=2d7fbafc-4999-4e87-8a2a-7ba61a045ccc
time=2026-01-03T14:42:30.352-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 2d7fbafc-4999-4e87-8a2a-7ba61a045ccc"
time=2026-01-03T14:42:30.352-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_DeleteItemFromInventory (0.25s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/successful_delete (0.00s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item (0.00s)
=== RUN   TestLocationHandler_CreateLocation
time=2026-01-03T14:42:30.531-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:30.531-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:30.531-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_CreateLocation/successful_creation
time=2026-01-03T14:42:30.532-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:30.534-03:00 level=INFO msg="tenant created" tenant_id=784b5285-6095-4cc4-aefe-82b3f5963ef0 name="Test Tenant for Location"
time=2026-01-03T14:42:30.534-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-03T14:42:30.534-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:30.535-03:00 level=INFO msg="world created" world_id=a1cc7c94-634a-4436-ae5d-ab5536309954 name="Test World" tenant_id=784b5285-6095-4cc4-aefe-82b3f5963ef0
time=2026-01-03T14:42:30.535-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-03T14:42:30.536-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-03T14:42:30.537-03:00 level=INFO msg="location created" location_id=5cf7d422-3e0e-424f-b481-8b72d01ec1d2 name="Test Location"
time=2026-01-03T14:42:30.537-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
=== RUN   TestLocationHandler_CreateLocation/empty_name
time=2026-01-03T14:42:30.537-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:30.538-03:00 level=INFO msg="tenant created" tenant_id=8b29f8ea-40cf-48a3-b877-bc9c9f8b524f name="Test Tenant 2"
time=2026-01-03T14:42:30.538-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:30.539-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:30.539-03:00 level=INFO msg="world created" world_id=4500d721-7bbe-45f8-b2fe-784f0b2edde5 name="Test World 2" tenant_id=8b29f8ea-40cf-48a3-b877-bc9c9f8b524f
time=2026-01-03T14:42:30.539-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-03T14:42:30.540-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-03T14:42:30.540-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/CreateLocation duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-03T14:42:30.540-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_CreateLocation (0.20s)
    --- PASS: TestLocationHandler_CreateLocation/successful_creation (0.01s)
    --- PASS: TestLocationHandler_CreateLocation/empty_name (0.00s)
=== RUN   TestLocationHandler_GetLocation
time=2026-01-03T14:42:30.741-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:30.741-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:30.741-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_GetLocation/existing_location
time=2026-01-03T14:42:30.742-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:30.744-03:00 level=INFO msg="tenant created" tenant_id=3918fce0-10c1-4452-b577-7543351ea429 name="Get Test Tenant"
time=2026-01-03T14:42:30.744-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:30.745-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:30.746-03:00 level=INFO msg="world created" world_id=3e8d9172-24f6-4429-a6d9-926b8930954b name="Get Test World" tenant_id=3918fce0-10c1-4452-b577-7543351ea429
time=2026-01-03T14:42:30.746-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:30.746-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-03T14:42:30.747-03:00 level=INFO msg="location created" location_id=ead6fb0d-ccb1-41c1-b025-a61c31b7c212 name="Get Test Location"
time=2026-01-03T14:42:30.747-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-03T14:42:30.748-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-03T14:42:30.748-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/GetLocation duration_ms=0
=== RUN   TestLocationHandler_GetLocation/non-existing_location
time=2026-01-03T14:42:30.748-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:30.749-03:00 level=INFO msg="tenant created" tenant_id=7d412527-1ed2-4ed3-916d-8efd9b5e04b7 name="Non-existing Test Tenant"
time=2026-01-03T14:42:30.749-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:30.749-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-03T14:42:30.749-03:00 level=ERROR msg="failed to get location" error="location not found: b31c4c48-3d1c-4a25-9ecb-b4ba8f160447" location_id=b31c4c48-3d1c-4a25-9ecb-b4ba8f160447
time=2026-01-03T14:42:30.749-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: b31c4c48-3d1c-4a25-9ecb-b4ba8f160447"
time=2026-01-03T14:42:30.749-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_GetLocation (0.21s)
    --- PASS: TestLocationHandler_GetLocation/existing_location (0.01s)
    --- PASS: TestLocationHandler_GetLocation/non-existing_location (0.00s)
=== RUN   TestLocationHandler_ListLocations
time=2026-01-03T14:42:30.915-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:30.915-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:30.915-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_ListLocations/list_locations
time=2026-01-03T14:42:30.916-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:30.918-03:00 level=INFO msg="tenant created" tenant_id=85187f6f-89e7-402c-bb78-ff5c75860ece name="List Test Tenant"
time=2026-01-03T14:42:30.918-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:30.918-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:30.919-03:00 level=INFO msg="world created" world_id=e457edc2-636e-45d6-9e56-01b0f3ad3331 name="List Test World" tenant_id=85187f6f-89e7-402c-bb78-ff5c75860ece
time=2026-01-03T14:42:30.919-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:30.920-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-03T14:42:30.921-03:00 level=INFO msg="location created" location_id=6efd8bd6-eef4-4016-b256-8c0c8d1f42bf name="Location 1"
time=2026-01-03T14:42:30.922-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=2
time=2026-01-03T14:42:30.922-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-03T14:42:30.923-03:00 level=INFO msg="location created" location_id=d303b8c7-13c3-4c3d-8034-fd2f75babe48 name="Location 2"
time=2026-01-03T14:42:30.923-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-03T14:42:30.923-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/ListLocations
time=2026-01-03T14:42:30.924-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/ListLocations duration_ms=0
time=2026-01-03T14:42:30.924-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_ListLocations (0.16s)
    --- PASS: TestLocationHandler_ListLocations/list_locations (0.01s)
=== RUN   TestLocationHandler_UpdateLocation
time=2026-01-03T14:42:31.095-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:31.095-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:31.095-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_UpdateLocation/update_location
time=2026-01-03T14:42:31.096-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:31.099-03:00 level=INFO msg="tenant created" tenant_id=38da8ee3-86b1-48a2-ac37-9f4f58ac3898 name="Update Test Tenant"
time=2026-01-03T14:42:31.099-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:31.099-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:31.100-03:00 level=INFO msg="world created" world_id=509b8c4f-47cd-422e-b8b8-3935401efb04 name="Update Test World" tenant_id=38da8ee3-86b1-48a2-ac37-9f4f58ac3898
time=2026-01-03T14:42:31.100-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:31.100-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-03T14:42:31.102-03:00 level=INFO msg="location created" location_id=10cb41a3-4372-4860-a9bf-e76a0a55610d name="Original Location"
time=2026-01-03T14:42:31.102-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-03T14:42:31.102-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/UpdateLocation
time=2026-01-03T14:42:31.103-03:00 level=INFO msg="location updated" location_id=10cb41a3-4372-4860-a9bf-e76a0a55610d name="Updated Location"
time=2026-01-03T14:42:31.103-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/UpdateLocation duration_ms=0
time=2026-01-03T14:42:31.103-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_UpdateLocation (0.18s)
    --- PASS: TestLocationHandler_UpdateLocation/update_location (0.01s)
=== RUN   TestLocationHandler_DeleteLocation
time=2026-01-03T14:42:31.282-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:31.282-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:31.282-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_DeleteLocation/delete_location
time=2026-01-03T14:42:31.283-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:31.285-03:00 level=INFO msg="tenant created" tenant_id=1a67cfdd-581c-4092-bb48-8ad29e5c0585 name="Delete Test Tenant"
time=2026-01-03T14:42:31.285-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:31.285-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:31.286-03:00 level=INFO msg="world created" world_id=f641ccaa-e627-4fd8-8092-31a47cf7479f name="Delete Test World" tenant_id=1a67cfdd-581c-4092-bb48-8ad29e5c0585
time=2026-01-03T14:42:31.286-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:31.287-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-03T14:42:31.288-03:00 level=INFO msg="location created" location_id=9bd95e0b-bd0e-445a-9fce-2786ca28c1cb name="Location to Delete"
time=2026-01-03T14:42:31.288-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-03T14:42:31.288-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/DeleteLocation
time=2026-01-03T14:42:31.290-03:00 level=INFO msg="location deleted" location_id=9bd95e0b-bd0e-445a-9fce-2786ca28c1cb name="Location to Delete"
time=2026-01-03T14:42:31.290-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/DeleteLocation duration_ms=1
time=2026-01-03T14:42:31.290-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-03T14:42:31.290-03:00 level=ERROR msg="failed to get location" error="location not found: 9bd95e0b-bd0e-445a-9fce-2786ca28c1cb" location_id=9bd95e0b-bd0e-445a-9fce-2786ca28c1cb
time=2026-01-03T14:42:31.290-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: 9bd95e0b-bd0e-445a-9fce-2786ca28c1cb"
time=2026-01-03T14:42:31.291-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_DeleteLocation (0.25s)
    --- PASS: TestLocationHandler_DeleteLocation/delete_location (0.01s)
=== RUN   TestRPGClassHandler_CreateRPGClass
time=2026-01-03T14:42:31.517-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:31.517-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:31.517-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:31.517-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_CreateRPGClass/successful_creation
time=2026-01-03T14:42:31.518-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:31.521-03:00 level=INFO msg="tenant created" tenant_id=1f851184-466b-4e80-9916-0ec691e7446f name="Test Tenant for RPG Class"
time=2026-01-03T14:42:31.521-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:31.521-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:31.523-03:00 level=INFO msg="RPG system created" rpg_system_id=ee5f2b82-1ee4-4f2a-b1f5-004398e05bf6 name="Test System"
time=2026-01-03T14:42:31.523-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=2
time=2026-01-03T14:42:31.524-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:31.525-03:00 level=INFO msg="RPG class created" class_id=f007690a-3ff3-499c-a969-4b3010f2086a name=Warrior
time=2026-01-03T14:42:31.525-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_CreateRPGClass/empty_name
time=2026-01-03T14:42:31.526-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:31.528-03:00 level=INFO msg="tenant created" tenant_id=61efed50-72b7-40ee-9c75-5cdbb5b06757 name="Test Tenant 2"
time=2026-01-03T14:42:31.528-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:31.528-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:31.529-03:00 level=INFO msg="RPG system created" rpg_system_id=8fca0843-c512-46d3-bc73-073a3a3fae52 name="Test System 2"
time=2026-01-03T14:42:31.529-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:31.529-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:31.529-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-03T14:42:31.529-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_CreateRPGClass (0.19s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/successful_creation (0.01s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/empty_name (0.00s)
=== RUN   TestRPGClassHandler_GetRPGClass
time=2026-01-03T14:42:31.766-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:31.766-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:31.766-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:31.766-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_GetRPGClass/existing_RPG_class
time=2026-01-03T14:42:31.767-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:31.770-03:00 level=INFO msg="tenant created" tenant_id=123c4c98-a706-47a4-a235-08f179f2941e name="Get Test Tenant"
time=2026-01-03T14:42:31.770-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:31.770-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:31.771-03:00 level=INFO msg="RPG system created" rpg_system_id=dd23af60-1824-4e03-a96c-f9e39b2851d6 name="Get Test System"
time=2026-01-03T14:42:31.771-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:31.771-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:31.772-03:00 level=INFO msg="RPG class created" class_id=b6d36806-d69a-4405-94ae-d3747197a838 name="Get Test Class"
time=2026-01-03T14:42:31.772-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-03T14:42:31.772-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-03T14:42:31.772-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0
=== RUN   TestRPGClassHandler_GetRPGClass/non-existing_RPG_class
time=2026-01-03T14:42:31.773-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:31.773-03:00 level=INFO msg="tenant created" tenant_id=df34bb6e-2f54-445b-801c-a789208ed5c9 name="Non-existing Test Tenant"
time=2026-01-03T14:42:31.773-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:31.773-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-03T14:42:31.773-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 8430a94a-dde0-4996-878f-16016de2a842" class_id=8430a94a-dde0-4996-878f-16016de2a842
time=2026-01-03T14:42:31.773-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 8430a94a-dde0-4996-878f-16016de2a842"
time=2026-01-03T14:42:31.773-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_GetRPGClass (0.21s)
    --- PASS: TestRPGClassHandler_GetRPGClass/existing_RPG_class (0.01s)
    --- PASS: TestRPGClassHandler_GetRPGClass/non-existing_RPG_class (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClasses
time=2026-01-03T14:42:31.957-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:31.957-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:31.957-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:31.957-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_ListRPGClasses/list_RPG_classes
time=2026-01-03T14:42:31.958-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:31.960-03:00 level=INFO msg="tenant created" tenant_id=d47e13da-deaf-4b72-9758-507c48686c5d name="List Test Tenant"
time=2026-01-03T14:42:31.960-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:31.960-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:31.962-03:00 level=INFO msg="RPG system created" rpg_system_id=2d3435e8-1ce0-48cd-8bc5-afe2f2ce4555 name="List Test System"
time=2026-01-03T14:42:31.962-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:31.962-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:31.963-03:00 level=INFO msg="RPG class created" class_id=44dc783e-466d-4610-9b3c-a89ff727f1ac name="Class 1"
time=2026-01-03T14:42:31.963-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-03T14:42:31.963-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:31.964-03:00 level=INFO msg="RPG class created" class_id=077f5ea2-7df3-4242-af1c-6676761b151a name="Class 2"
time=2026-01-03T14:42:31.964-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-03T14:42:31.964-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClasses
time=2026-01-03T14:42:31.965-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClasses duration_ms=0
time=2026-01-03T14:42:31.965-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClasses (0.20s)
    --- PASS: TestRPGClassHandler_ListRPGClasses/list_RPG_classes (0.01s)
=== RUN   TestRPGClassHandler_UpdateRPGClass
time=2026-01-03T14:42:32.161-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:32.161-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:32.161-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:32.161-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_UpdateRPGClass/update_RPG_class
time=2026-01-03T14:42:32.162-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:32.165-03:00 level=INFO msg="tenant created" tenant_id=4b28e423-bb8c-4d9c-a232-a31355b474d8 name="Update Test Tenant"
time=2026-01-03T14:42:32.165-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:32.165-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:32.166-03:00 level=INFO msg="RPG system created" rpg_system_id=2ac9ac02-c98b-433d-afbe-ffc78ed20921 name="Update Test System"
time=2026-01-03T14:42:32.166-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:32.167-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:32.168-03:00 level=INFO msg="RPG class created" class_id=7f3beb30-d79c-401d-987d-c7d123b5857a name="Original Class"
time=2026-01-03T14:42:32.168-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-03T14:42:32.168-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/UpdateRPGClass
time=2026-01-03T14:42:32.169-03:00 level=INFO msg="RPG class updated" class_id=7f3beb30-d79c-401d-987d-c7d123b5857a
time=2026-01-03T14:42:32.169-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/UpdateRPGClass duration_ms=0
time=2026-01-03T14:42:32.169-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_UpdateRPGClass (0.26s)
    --- PASS: TestRPGClassHandler_UpdateRPGClass/update_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_DeleteRPGClass
time=2026-01-03T14:42:32.433-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:32.433-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:32.433-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:32.433-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_DeleteRPGClass/delete_RPG_class
time=2026-01-03T14:42:32.434-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:32.436-03:00 level=INFO msg="tenant created" tenant_id=7b2482c3-bf70-4e49-82a2-5031766883e5 name="Delete Test Tenant"
time=2026-01-03T14:42:32.436-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:32.436-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:32.437-03:00 level=INFO msg="RPG system created" rpg_system_id=d708fd24-7c0a-410b-be48-8f5642d9bcf5 name="Delete Test System"
time=2026-01-03T14:42:32.437-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:32.437-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:32.438-03:00 level=INFO msg="RPG class created" class_id=7afb02ba-da14-4175-b028-87d57d9be66b name="Class to Delete"
time=2026-01-03T14:42:32.438-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-03T14:42:32.439-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/DeleteRPGClass
time=2026-01-03T14:42:32.439-03:00 level=INFO msg="RPG class deleted" class_id=7afb02ba-da14-4175-b028-87d57d9be66b
time=2026-01-03T14:42:32.440-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/DeleteRPGClass duration_ms=0
time=2026-01-03T14:42:32.440-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-03T14:42:32.440-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 7afb02ba-da14-4175-b028-87d57d9be66b" class_id=7afb02ba-da14-4175-b028-87d57d9be66b
time=2026-01-03T14:42:32.440-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 7afb02ba-da14-4175-b028-87d57d9be66b"
time=2026-01-03T14:42:32.440-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_DeleteRPGClass (0.21s)
    --- PASS: TestRPGClassHandler_DeleteRPGClass/delete_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_AddSkillToClass
time=2026-01-03T14:42:32.654-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:32.654-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:32.654-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:32.654-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_AddSkillToClass/add_skill_to_class
time=2026-01-03T14:42:32.654-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:32.657-03:00 level=INFO msg="tenant created" tenant_id=5dd6a695-a129-4b83-aee9-17294ffee775 name="Add Skill Test Tenant"
time=2026-01-03T14:42:32.657-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:32.657-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:32.658-03:00 level=INFO msg="RPG system created" rpg_system_id=f67cd549-78bd-4e4c-9455-2e774dadd21e name="Add Skill Test System"
time=2026-01-03T14:42:32.658-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:32.658-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:32.660-03:00 level=INFO msg="RPG class created" class_id=6cdc6647-aeb4-4046-ab78-087be22b0c38 name=Warrior
time=2026-01-03T14:42:32.660-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-03T14:42:32.660-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:32.661-03:00 level=INFO msg="skill created" skill_id=f2828349-a339-4cd4-878d-e01d8fc30054 name="Sword Mastery"
time=2026-01-03T14:42:32.661-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-03T14:42:32.661-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-03T14:42:32.664-03:00 level=INFO msg="skill added to class" class_id=6cdc6647-aeb4-4046-ab78-087be22b0c38 skill_id=f2828349-a339-4cd4-878d-e01d8fc30054
time=2026-01-03T14:42:32.664-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=2
time=2026-01-03T14:42:32.664-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_AddSkillToClass (0.26s)
    --- PASS: TestRPGClassHandler_AddSkillToClass/add_skill_to_class (0.01s)
=== RUN   TestRPGClassHandler_RemoveSkillFromClass
time=2026-01-03T14:42:32.885-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:32.885-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:32.885-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:32.885-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-03T14:42:32.885-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:32.888-03:00 level=INFO msg="tenant created" tenant_id=6e523624-ee15-4a10-b797-45ff31b40b3d name="Remove Skill Test Tenant"
time=2026-01-03T14:42:32.888-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:32.888-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:32.889-03:00 level=INFO msg="RPG system created" rpg_system_id=22a36e24-252c-4c22-8a97-07fda9f0a442 name="Remove Skill Test System"
time=2026-01-03T14:42:32.889-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:32.889-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:32.891-03:00 level=INFO msg="RPG class created" class_id=e70e7792-70f4-4c6a-85a5-64261dac6ac4 name=Warrior
time=2026-01-03T14:42:32.891-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-03T14:42:32.891-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:32.892-03:00 level=INFO msg="skill created" skill_id=3b3916e0-972c-41c5-8514-49bca70e6981 name="Sword Mastery"
time=2026-01-03T14:42:32.892-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/successful_remove
time=2026-01-03T14:42:32.892-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-03T14:42:32.894-03:00 level=INFO msg="skill added to class" class_id=e70e7792-70f4-4c6a-85a5-64261dac6ac4 skill_id=3b3916e0-972c-41c5-8514-49bca70e6981
time=2026-01-03T14:42:32.894-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-03T14:42:32.894-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-03T14:42:32.894-03:00 level=INFO msg="skill removed from class" class_id=e70e7792-70f4-4c6a-85a5-64261dac6ac4 skill_id=3b3916e0-972c-41c5-8514-49bca70e6981
time=2026-01-03T14:42:32.894-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0
time=2026-01-03T14:42:32.895-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-03T14:42:32.895-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill
time=2026-01-03T14:42:32.895-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-03T14:42:32.895-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class_skill not found: e70e7792-70f4-4c6a-85a5-64261dac6ac4/37e30514-624c-4ae3-91a7-40367e814c1b"
time=2026-01-03T14:42:32.896-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_RemoveSkillFromClass (0.20s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/successful_remove (0.00s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClassSkills
time=2026-01-03T14:42:33.124-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:33.124-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:33.124-03:00 level=INFO msg="SkillService registered"
time=2026-01-03T14:42:33.124-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-03T14:42:33.124-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:33.127-03:00 level=INFO msg="tenant created" tenant_id=df45c877-ad0c-49b1-b8cc-ef184ecff22f name="List Skills Test Tenant"
time=2026-01-03T14:42:33.127-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:33.127-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:33.128-03:00 level=INFO msg="RPG system created" rpg_system_id=ecef357f-45da-4ab8-88ec-f0aaf2593fbc name="List Skills Test System"
time=2026-01-03T14:42:33.128-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:33.128-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:33.129-03:00 level=INFO msg="RPG class created" class_id=37d3085e-7b05-4b51-892a-c7d236dc6b5b name=Warrior
time=2026-01-03T14:42:33.129-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills
time=2026-01-03T14:42:33.129-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:33.130-03:00 level=INFO msg="skill created" skill_id=ecbd6c1b-9e9c-4f2f-a137-f0a8e35be43d name="Sword Mastery"
time=2026-01-03T14:42:33.130-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-03T14:42:33.130-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:33.131-03:00 level=INFO msg="skill created" skill_id=fbc89190-9e3c-429b-b091-c8c166404f3a name="Shield Defense"
time=2026-01-03T14:42:33.131-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-03T14:42:33.131-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:33.131-03:00 level=INFO msg="skill created" skill_id=2c0ad195-1606-4a96-9cfe-dc778dc4f9e8 name="Combat Tactics"
time=2026-01-03T14:42:33.131-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-03T14:42:33.131-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-03T14:42:33.133-03:00 level=INFO msg="skill added to class" class_id=37d3085e-7b05-4b51-892a-c7d236dc6b5b skill_id=ecbd6c1b-9e9c-4f2f-a137-f0a8e35be43d
time=2026-01-03T14:42:33.133-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-03T14:42:33.133-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-03T14:42:33.134-03:00 level=INFO msg="skill added to class" class_id=37d3085e-7b05-4b51-892a-c7d236dc6b5b skill_id=fbc89190-9e3c-429b-b091-c8c166404f3a
time=2026-01-03T14:42:33.134-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-03T14:42:33.134-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-03T14:42:33.135-03:00 level=INFO msg="skill added to class" class_id=37d3085e-7b05-4b51-892a-c7d236dc6b5b skill_id=2c0ad195-1606-4a96-9cfe-dc778dc4f9e8
time=2026-01-03T14:42:33.135-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-03T14:42:33.135-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-03T14:42:33.135-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class
time=2026-01-03T14:42:33.135-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-03T14:42:33.136-03:00 level=INFO msg="RPG class created" class_id=fa41c1be-9575-478e-a279-8b2ea0ff777e name=Mage
time=2026-01-03T14:42:33.136-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-03T14:42:33.136-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-03T14:42:33.136-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
time=2026-01-03T14:42:33.136-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClassSkills (0.24s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills (0.01s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class (0.00s)
=== RUN   TestRPGSystemHandler_CreateRPGSystem
time=2026-01-03T14:42:33.290-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:33.290-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/successful_creation
time=2026-01-03T14:42:33.290-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:33.293-03:00 level=INFO msg="tenant created" tenant_id=60e5eec0-ec88-488a-bcaf-bc9648f0e9c2 name="Test Tenant for RPG System"
time=2026-01-03T14:42:33.293-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:33.293-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:33.294-03:00 level=INFO msg="RPG system created" rpg_system_id=324e42d7-dc8f-4252-a365-b1c2899b61c5 name="D&D 5e"
time=2026-01-03T14:42:33.295-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_name
time=2026-01-03T14:42:33.295-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:33.296-03:00 level=INFO msg="tenant created" tenant_id=7b7237e9-f765-489f-b195-95c6046b5a69 name="Test Tenant 2"
time=2026-01-03T14:42:33.296-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:33.296-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:33.296-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema
time=2026-01-03T14:42:33.296-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:33.297-03:00 level=INFO msg="tenant created" tenant_id=196d686d-fe3c-40e4-b29b-f201c79dc46e name="Test Tenant 3"
time=2026-01-03T14:42:33.297-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:33.297-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:33.297-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = base_stats_schema is required"
time=2026-01-03T14:42:33.297-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_CreateRPGSystem (0.17s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_name (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema (0.00s)
=== RUN   TestRPGSystemHandler_GetRPGSystem
time=2026-01-03T14:42:33.474-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:33.474-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_GetRPGSystem/existing_RPG_system
time=2026-01-03T14:42:33.475-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:33.477-03:00 level=INFO msg="tenant created" tenant_id=3072cd64-c559-498c-b3fc-6b0007db7034 name="Get Test Tenant"
time=2026-01-03T14:42:33.477-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:33.477-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:33.478-03:00 level=INFO msg="RPG system created" rpg_system_id=4e9c53ba-fab8-4b9f-a97e-3775efb2f07f name="Get Test System"
time=2026-01-03T14:42:33.478-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:33.479-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-03T14:42:33.479-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0
=== RUN   TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system
time=2026-01-03T14:42:33.479-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:33.480-03:00 level=INFO msg="tenant created" tenant_id=1eece573-f869-4144-92a7-bc3519eb7a44 name="Non-existing Test Tenant"
time=2026-01-03T14:42:33.480-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:33.480-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-03T14:42:33.480-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 8e08e21a-da3e-40a9-878a-6b43e353faaf" rpg_system_id=8e08e21a-da3e-40a9-878a-6b43e353faaf
time=2026-01-03T14:42:33.480-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: 8e08e21a-da3e-40a9-878a-6b43e353faaf"
time=2026-01-03T14:42:33.480-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_GetRPGSystem (0.19s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/existing_RPG_system (0.00s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system (0.00s)
=== RUN   TestRPGSystemHandler_ListRPGSystems
time=2026-01-03T14:42:33.709-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:33.709-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_ListRPGSystems/list_RPG_systems
time=2026-01-03T14:42:33.710-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:33.712-03:00 level=INFO msg="tenant created" tenant_id=7b024183-a320-4c3f-8393-0c2f1fcb014b name="List Test Tenant"
time=2026-01-03T14:42:33.712-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:33.713-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:33.714-03:00 level=INFO msg="RPG system created" rpg_system_id=63865af0-f6b8-4553-9746-b0330b3c8ba8 name="System 1"
time=2026-01-03T14:42:33.714-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:33.714-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:33.715-03:00 level=INFO msg="RPG system created" rpg_system_id=3a68f246-952d-4647-923f-d26b279a9b5f name="System 2"
time=2026-01-03T14:42:33.715-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:33.715-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/ListRPGSystems
time=2026-01-03T14:42:33.715-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/ListRPGSystems duration_ms=0
time=2026-01-03T14:42:33.715-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_ListRPGSystems (0.23s)
    --- PASS: TestRPGSystemHandler_ListRPGSystems/list_RPG_systems (0.01s)
=== RUN   TestRPGSystemHandler_UpdateRPGSystem
time=2026-01-03T14:42:33.901-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:33.901-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system
time=2026-01-03T14:42:33.902-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:33.904-03:00 level=INFO msg="tenant created" tenant_id=0a8f1153-e75f-45c7-9e4b-4467b1f3b933 name="Update Test Tenant"
time=2026-01-03T14:42:33.904-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:33.905-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:33.905-03:00 level=INFO msg="RPG system created" rpg_system_id=9f2de1ca-a399-496c-8533-37ba9e152298 name="Original System"
time=2026-01-03T14:42:33.906-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:33.906-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/UpdateRPGSystem
time=2026-01-03T14:42:33.906-03:00 level=INFO msg="RPG system updated" rpg_system_id=9f2de1ca-a399-496c-8533-37ba9e152298
time=2026-01-03T14:42:33.906-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/UpdateRPGSystem duration_ms=0
time=2026-01-03T14:42:33.907-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_UpdateRPGSystem (0.20s)
    --- PASS: TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system (0.00s)
=== RUN   TestRPGSystemHandler_DeleteRPGSystem
time=2026-01-03T14:42:34.095-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:34.095-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system
time=2026-01-03T14:42:34.096-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:34.098-03:00 level=INFO msg="tenant created" tenant_id=00803baf-5cf7-495c-b0a1-e11df236d8bc name="Delete Test Tenant"
time=2026-01-03T14:42:34.098-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:34.098-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:34.099-03:00 level=INFO msg="RPG system created" rpg_system_id=843f87d9-9132-4d38-8f23-0d30b3564c6b name="System to Delete"
time=2026-01-03T14:42:34.099-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:34.100-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/DeleteRPGSystem
time=2026-01-03T14:42:34.101-03:00 level=INFO msg="RPG system deleted" rpg_system_id=843f87d9-9132-4d38-8f23-0d30b3564c6b
time=2026-01-03T14:42:34.101-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/DeleteRPGSystem duration_ms=1
time=2026-01-03T14:42:34.102-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-03T14:42:34.102-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 843f87d9-9132-4d38-8f23-0d30b3564c6b" rpg_system_id=843f87d9-9132-4d38-8f23-0d30b3564c6b
time=2026-01-03T14:42:34.102-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: 843f87d9-9132-4d38-8f23-0d30b3564c6b"
time=2026-01-03T14:42:34.102-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_DeleteRPGSystem (0.20s)
    --- PASS: TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system (0.01s)
=== RUN   TestSceneHandler_CreateScene
time=2026-01-03T14:42:34.289-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:34.289-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:34.289-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:34.289-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:34.289-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:34.289-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:34.289-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:34.289-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:34.292-03:00 level=INFO msg="tenant created" tenant_id=7ce5b4f1-fdd5-4692-a46f-a3f88dafed7e name="Test Tenant for Scene"
time=2026-01-03T14:42:34.292-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:34.292-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:34.294-03:00 level=INFO msg="world created" world_id=b105262d-ac57-4fb7-a024-d7cb86b27c1a name="World of Test Story" tenant_id=7ce5b4f1-fdd5-4692-a46f-a3f88dafed7e
time=2026-01-03T14:42:34.294-03:00 level=INFO msg="created implicit world for story" world_id=b105262d-ac57-4fb7-a024-d7cb86b27c1a story_title="Test Story"
time=2026-01-03T14:42:34.295-03:00 level=INFO msg="story created" story_id=230ce65a-7e10-4a2e-99db-a593dc91faba title="Test Story" tenant_id=7ce5b4f1-fdd5-4692-a46f-a3f88dafed7e
time=2026-01-03T14:42:34.295-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-03T14:42:34.295-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:34.297-03:00 level=INFO msg="chapter created" chapter_id=13e68956-314b-4dec-a02e-757b247d34a8 story_id=230ce65a-7e10-4a2e-99db-a593dc91faba tenant_id=7ce5b4f1-fdd5-4692-a46f-a3f88dafed7e
time=2026-01-03T14:42:34.297-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestSceneHandler_CreateScene/successful_creation_with_chapter
time=2026-01-03T14:42:34.297-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:34.298-03:00 level=INFO msg="scene created" scene_id=0410c91d-92f8-4712-83d6-0e65b228244c story_id=230ce65a-7e10-4a2e-99db-a593dc91faba tenant_id=7ce5b4f1-fdd5-4692-a46f-a3f88dafed7e
time=2026-01-03T14:42:34.298-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_CreateScene/successful_creation_without_chapter
time=2026-01-03T14:42:34.298-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:34.299-03:00 level=INFO msg="scene created" scene_id=04de285a-b8b1-4287-ade0-25d96119bff0 story_id=230ce65a-7e10-4a2e-99db-a593dc91faba tenant_id=7ce5b4f1-fdd5-4692-a46f-a3f88dafed7e
time=2026-01-03T14:42:34.299-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_CreateScene/invalid_story_id
time=2026-01-03T14:42:34.299-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:34.299-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = NotFound desc = story not found: b7ff5f6b-52dd-4ade-a5f9-a3e13cbf943b"
=== RUN   TestSceneHandler_CreateScene/invalid_order_num
time=2026-01-03T14:42:34.300-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:34.300-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-03T14:42:34.300-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_CreateScene (0.19s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_with_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_without_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_story_id (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_order_num (0.00s)
=== RUN   TestSceneHandler_GetScene
time=2026-01-03T14:42:34.493-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:34.493-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:34.493-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:34.493-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:34.493-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:34.493-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:34.493-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:34.494-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:34.496-03:00 level=INFO msg="tenant created" tenant_id=47c14d84-d8fa-4714-93ff-945fa7ed1f0b name="Test Tenant for Get Scene"
time=2026-01-03T14:42:34.496-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:34.496-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:34.498-03:00 level=INFO msg="world created" world_id=a6d35335-3a78-40d1-9e61-df51469c8381 name="World of Test Story" tenant_id=47c14d84-d8fa-4714-93ff-945fa7ed1f0b
time=2026-01-03T14:42:34.498-03:00 level=INFO msg="created implicit world for story" world_id=a6d35335-3a78-40d1-9e61-df51469c8381 story_title="Test Story"
time=2026-01-03T14:42:34.499-03:00 level=INFO msg="story created" story_id=0ad1fb27-5145-4db1-8b91-bb25e1190bfa title="Test Story" tenant_id=47c14d84-d8fa-4714-93ff-945fa7ed1f0b
time=2026-01-03T14:42:34.499-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_GetScene/existing_scene
time=2026-01-03T14:42:34.499-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:34.500-03:00 level=INFO msg="scene created" scene_id=f40fb460-b16e-4d6c-8ac1-ae0ea1427d42 story_id=0ad1fb27-5145-4db1-8b91-bb25e1190bfa tenant_id=47c14d84-d8fa-4714-93ff-945fa7ed1f0b
time=2026-01-03T14:42:34.500-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-03T14:42:34.500-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-03T14:42:34.500-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetScene duration_ms=0
=== RUN   TestSceneHandler_GetScene/non-existing_scene
time=2026-01-03T14:42:34.501-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-03T14:42:34.501-03:00 level=ERROR msg="failed to get scene" error="scene not found: 2643ed76-2456-44af-9b5c-6dfd963df98b" scene_id=2643ed76-2456-44af-9b5c-6dfd963df98b tenant_id=47c14d84-d8fa-4714-93ff-945fa7ed1f0b
time=2026-01-03T14:42:34.501-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetScene duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 2643ed76-2456-44af-9b5c-6dfd963df98b"
time=2026-01-03T14:42:34.501-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetScene (0.26s)
    --- PASS: TestSceneHandler_GetScene/existing_scene (0.00s)
    --- PASS: TestSceneHandler_GetScene/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_UpdateScene
time=2026-01-03T14:42:34.749-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:34.749-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:34.749-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:34.749-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:34.749-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:34.749-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:34.749-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:34.749-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:34.751-03:00 level=INFO msg="tenant created" tenant_id=f448afa0-e894-4cb5-9acf-096c056307f6 name="Test Tenant for Update Scene"
time=2026-01-03T14:42:34.751-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:34.752-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:34.753-03:00 level=INFO msg="world created" world_id=aacec7ef-8744-4385-8dcb-1c2a05a0fb95 name="World of Test Story" tenant_id=f448afa0-e894-4cb5-9acf-096c056307f6
time=2026-01-03T14:42:34.753-03:00 level=INFO msg="created implicit world for story" world_id=aacec7ef-8744-4385-8dcb-1c2a05a0fb95 story_title="Test Story"
time=2026-01-03T14:42:34.754-03:00 level=INFO msg="story created" story_id=70ee64a4-0f8b-4bd4-ac38-9a4fe3d33e8d title="Test Story" tenant_id=f448afa0-e894-4cb5-9acf-096c056307f6
time=2026-01-03T14:42:34.754-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_UpdateScene/successful_update
time=2026-01-03T14:42:34.754-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:34.755-03:00 level=INFO msg="scene created" scene_id=b7ca9f05-5093-4798-93a2-899fb914d61b story_id=70ee64a4-0f8b-4bd4-ac38-9a4fe3d33e8d tenant_id=f448afa0-e894-4cb5-9acf-096c056307f6
time=2026-01-03T14:42:34.755-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-03T14:42:34.755-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/UpdateScene
time=2026-01-03T14:42:34.756-03:00 level=INFO msg="scene updated" scene_id=b7ca9f05-5093-4798-93a2-899fb914d61b tenant_id=f448afa0-e894-4cb5-9acf-096c056307f6
time=2026-01-03T14:42:34.756-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/UpdateScene duration_ms=0
time=2026-01-03T14:42:34.756-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_UpdateScene (0.27s)
    --- PASS: TestSceneHandler_UpdateScene/successful_update (0.00s)
=== RUN   TestSceneHandler_MoveScene
time=2026-01-03T14:42:35.048-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:35.048-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:35.048-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:35.048-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:35.048-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:35.049-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:35.049-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:35.051-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:35.053-03:00 level=INFO msg="tenant created" tenant_id=8bd6f264-21da-4ef4-aab5-31d486554475 name="Test Tenant for Move Scene"
time=2026-01-03T14:42:35.053-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-03T14:42:35.053-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:35.055-03:00 level=INFO msg="world created" world_id=b5be649b-8d21-4090-af63-6c71a026a439 name="World of Test Story" tenant_id=8bd6f264-21da-4ef4-aab5-31d486554475
time=2026-01-03T14:42:35.055-03:00 level=INFO msg="created implicit world for story" world_id=b5be649b-8d21-4090-af63-6c71a026a439 story_title="Test Story"
time=2026-01-03T14:42:35.056-03:00 level=INFO msg="story created" story_id=d8ac5033-daf0-4bdf-8f7d-0f68f7fdc5a2 title="Test Story" tenant_id=8bd6f264-21da-4ef4-aab5-31d486554475
time=2026-01-03T14:42:35.056-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:35.056-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:35.057-03:00 level=INFO msg="chapter created" chapter_id=86c2f47c-2420-4e97-afe4-63a244aa5b56 story_id=d8ac5033-daf0-4bdf-8f7d-0f68f7fdc5a2 tenant_id=8bd6f264-21da-4ef4-aab5-31d486554475
time=2026-01-03T14:42:35.057-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-03T14:42:35.057-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-03T14:42:35.057-03:00 level=INFO msg="chapter created" chapter_id=5ae4cead-3342-4d29-bddd-60c781ea52fc story_id=d8ac5033-daf0-4bdf-8f7d-0f68f7fdc5a2 tenant_id=8bd6f264-21da-4ef4-aab5-31d486554475
time=2026-01-03T14:42:35.057-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_different_chapter
time=2026-01-03T14:42:35.058-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:35.058-03:00 level=INFO msg="scene created" scene_id=3a559dbd-fd4f-43b9-ae81-c27ab32a5b04 story_id=d8ac5033-daf0-4bdf-8f7d-0f68f7fdc5a2 tenant_id=8bd6f264-21da-4ef4-aab5-31d486554475
time=2026-01-03T14:42:35.058-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-03T14:42:35.059-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-03T14:42:35.059-03:00 level=INFO msg="scene moved" scene_id=3a559dbd-fd4f-43b9-ae81-c27ab32a5b04 new_chapter_id=5ae4cead-3342-4d29-bddd-60c781ea52fc tenant_id=8bd6f264-21da-4ef4-aab5-31d486554475
time=2026-01-03T14:42:35.059-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_no_chapter
time=2026-01-03T14:42:35.060-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:35.060-03:00 level=INFO msg="scene created" scene_id=39a294a2-7f07-4a2f-bcab-d38ce7b7babf story_id=d8ac5033-daf0-4bdf-8f7d-0f68f7fdc5a2 tenant_id=8bd6f264-21da-4ef4-aab5-31d486554475
time=2026-01-03T14:42:35.060-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-03T14:42:35.060-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-03T14:42:35.061-03:00 level=INFO msg="scene moved" scene_id=39a294a2-7f07-4a2f-bcab-d38ce7b7babf new_chapter_id=<nil> tenant_id=8bd6f264-21da-4ef4-aab5-31d486554475
time=2026-01-03T14:42:35.061-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
time=2026-01-03T14:42:35.061-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_MoveScene (0.26s)
    --- PASS: TestSceneHandler_MoveScene/move_to_different_chapter (0.00s)
    --- PASS: TestSceneHandler_MoveScene/move_to_no_chapter (0.00s)
=== RUN   TestSceneHandler_ListScenesByStory
time=2026-01-03T14:42:35.327-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:35.327-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:35.327-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:35.327-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:35.327-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:35.327-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:35.327-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:35.328-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:35.330-03:00 level=INFO msg="tenant created" tenant_id=b9bb17d5-7114-40b1-9df6-34fc969c57cc name="Test Tenant for List Scenes"
time=2026-01-03T14:42:35.330-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:35.330-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:35.332-03:00 level=INFO msg="world created" world_id=c7710243-4c9b-4b71-81ea-ebd2fc896f0e name="World of Test Story" tenant_id=b9bb17d5-7114-40b1-9df6-34fc969c57cc
time=2026-01-03T14:42:35.332-03:00 level=INFO msg="created implicit world for story" world_id=c7710243-4c9b-4b71-81ea-ebd2fc896f0e story_title="Test Story"
time=2026-01-03T14:42:35.333-03:00 level=INFO msg="story created" story_id=fa2d8705-6ef9-488e-832a-eae5a4d33fe8 title="Test Story" tenant_id=b9bb17d5-7114-40b1-9df6-34fc969c57cc
time=2026-01-03T14:42:35.333-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_ListScenesByStory/list_scenes_by_story
time=2026-01-03T14:42:35.333-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:35.334-03:00 level=INFO msg="scene created" scene_id=00d110fe-9d84-499e-b01e-09561341433a story_id=fa2d8705-6ef9-488e-832a-eae5a4d33fe8 tenant_id=b9bb17d5-7114-40b1-9df6-34fc969c57cc
time=2026-01-03T14:42:35.334-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-03T14:42:35.334-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:35.335-03:00 level=INFO msg="scene created" scene_id=e78d700b-dcce-4e1b-ac06-3750213dc356 story_id=fa2d8705-6ef9-488e-832a-eae5a4d33fe8 tenant_id=b9bb17d5-7114-40b1-9df6-34fc969c57cc
time=2026-01-03T14:42:35.335-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-03T14:42:35.335-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:35.335-03:00 level=INFO msg="scene created" scene_id=381a35da-4a5c-4e1b-b16e-af2fd5033f95 story_id=fa2d8705-6ef9-488e-832a-eae5a4d33fe8 tenant_id=b9bb17d5-7114-40b1-9df6-34fc969c57cc
time=2026-01-03T14:42:35.335-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-03T14:42:35.335-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/ListScenesByStory
time=2026-01-03T14:42:35.336-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/ListScenesByStory duration_ms=0
time=2026-01-03T14:42:35.336-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_ListScenesByStory (0.21s)
    --- PASS: TestSceneHandler_ListScenesByStory/list_scenes_by_story (0.00s)
=== RUN   TestSceneHandler_DeleteScene
time=2026-01-03T14:42:35.537-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:35.537-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:35.537-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:35.537-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:35.537-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:35.537-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:35.537-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-03T14:42:35.538-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:35.540-03:00 level=INFO msg="tenant created" tenant_id=dfab82e4-8fce-47c4-9f4d-a1c5f95821b2 name="Test Tenant for Delete Scene"
time=2026-01-03T14:42:35.540-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:35.541-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:35.544-03:00 level=INFO msg="world created" world_id=b1b62c48-cbf4-454f-bf60-855e11c819ac name="World of Test Story" tenant_id=dfab82e4-8fce-47c4-9f4d-a1c5f95821b2
time=2026-01-03T14:42:35.544-03:00 level=INFO msg="created implicit world for story" world_id=b1b62c48-cbf4-454f-bf60-855e11c819ac story_title="Test Story"
time=2026-01-03T14:42:35.545-03:00 level=INFO msg="story created" story_id=3ff0c250-4701-4823-9b13-c275d371b677 title="Test Story" tenant_id=dfab82e4-8fce-47c4-9f4d-a1c5f95821b2
time=2026-01-03T14:42:35.545-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
=== RUN   TestSceneHandler_DeleteScene/successful_delete
time=2026-01-03T14:42:35.545-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:35.551-03:00 level=INFO msg="scene created" scene_id=eb586bb9-2ce8-4ea0-b5d2-045c410618fa story_id=3ff0c250-4701-4823-9b13-c275d371b677 tenant_id=dfab82e4-8fce-47c4-9f4d-a1c5f95821b2
time=2026-01-03T14:42:35.551-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=5
time=2026-01-03T14:42:35.551-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/DeleteScene
time=2026-01-03T14:42:35.553-03:00 level=INFO msg="scene deleted" scene_id=eb586bb9-2ce8-4ea0-b5d2-045c410618fa tenant_id=dfab82e4-8fce-47c4-9f4d-a1c5f95821b2
time=2026-01-03T14:42:35.553-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/DeleteScene duration_ms=1
time=2026-01-03T14:42:35.553-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_DeleteScene (0.29s)
    --- PASS: TestSceneHandler_DeleteScene/successful_delete (0.01s)
=== RUN   TestSceneHandler_AddSceneReference
time=2026-01-03T14:42:35.866-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:35.866-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:35.866-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:35.866-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:35.866-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:35.866-03:00 level=INFO msg="LocationService registered"
time=2026-01-03T14:42:35.866-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:35.866-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-03T14:42:35.867-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:35.869-03:00 level=INFO msg="tenant created" tenant_id=2f9b6b6d-e5f0-45d9-8784-eb4ab4162c0d name="Test Tenant for Scene References"
time=2026-01-03T14:42:35.869-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:35.869-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:35.870-03:00 level=INFO msg="world created" world_id=3c73e420-4067-400c-9278-fddc97ff0783 name="Test World" tenant_id=2f9b6b6d-e5f0-45d9-8784-eb4ab4162c0d
time=2026-01-03T14:42:35.870-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:35.871-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:35.871-03:00 level=INFO msg="world created" world_id=1e5adeb4-c1a6-4eec-a345-96dc3caaf661 name="World of Test Story" tenant_id=2f9b6b6d-e5f0-45d9-8784-eb4ab4162c0d
time=2026-01-03T14:42:35.871-03:00 level=INFO msg="created implicit world for story" world_id=1e5adeb4-c1a6-4eec-a345-96dc3caaf661 story_title="Test Story"
time=2026-01-03T14:42:35.873-03:00 level=INFO msg="story created" story_id=fe6b2638-1da5-4c2e-85a6-11fe02466809 title="Test Story" tenant_id=2f9b6b6d-e5f0-45d9-8784-eb4ab4162c0d
time=2026-01-03T14:42:35.873-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:35.873-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:35.874-03:00 level=INFO msg="scene created" scene_id=f639c076-5c6c-4f17-b498-def19c28139e story_id=fe6b2638-1da5-4c2e-85a6-11fe02466809 tenant_id=2f9b6b6d-e5f0-45d9-8784-eb4ab4162c0d
time=2026-01-03T14:42:35.874-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_AddSceneReference/add_character_reference
time=2026-01-03T14:42:35.874-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:35.875-03:00 level=INFO msg="character created" character_id=9ed95fa0-b39f-43c3-b241-ca354f513085 name="Test Character"
time=2026-01-03T14:42:35.875-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:35.876-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-03T14:42:35.877-03:00 level=INFO msg="scene reference added" scene_id=f639c076-5c6c-4f17-b498-def19c28139e entity_type=character entity_id=9ed95fa0-b39f-43c3-b241-ca354f513085 story_id=fe6b2638-1da5-4c2e-85a6-11fe02466809
time=2026-01-03T14:42:35.877-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_location_reference
time=2026-01-03T14:42:35.878-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-03T14:42:35.879-03:00 level=INFO msg="location created" location_id=f104a092-c4af-40ed-a5df-b338dfbe7953 name="Test Location"
time=2026-01-03T14:42:35.879-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-03T14:42:35.879-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-03T14:42:35.880-03:00 level=INFO msg="scene reference added" scene_id=f639c076-5c6c-4f17-b498-def19c28139e entity_type=location entity_id=f104a092-c4af-40ed-a5df-b338dfbe7953 story_id=fe6b2638-1da5-4c2e-85a6-11fe02466809
time=2026-01-03T14:42:35.880-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=0
=== RUN   TestSceneHandler_AddSceneReference/add_artifact_reference
time=2026-01-03T14:42:35.880-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:35.881-03:00 level=INFO msg="artifact created" artifact_id=60a5de44-fe5b-4956-82df-ea543cace97b name="Test Artifact"
time=2026-01-03T14:42:35.881-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-03T14:42:35.881-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-03T14:42:35.882-03:00 level=INFO msg="scene reference added" scene_id=f639c076-5c6c-4f17-b498-def19c28139e entity_type=artifact entity_id=60a5de44-fe5b-4956-82df-ea543cace97b story_id=fe6b2638-1da5-4c2e-85a6-11fe02466809
time=2026-01-03T14:42:35.882-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=0
=== RUN   TestSceneHandler_AddSceneReference/invalid_entity_type
time=2026-01-03T14:42:35.882-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-03T14:42:35.882-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = InvalidArgument desc = entity_type must be 'character', 'location', or 'artifact'"
=== RUN   TestSceneHandler_AddSceneReference/invalid_scene_id
time=2026-01-03T14:42:35.882-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-03T14:42:35.882-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene not found: d0184dfa-6e5d-4aaf-abf3-a54c55076317"
time=2026-01-03T14:42:35.882-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_AddSceneReference (0.29s)
    --- PASS: TestSceneHandler_AddSceneReference/add_character_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_location_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_artifact_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_entity_type (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_scene_id (0.00s)
=== RUN   TestSceneHandler_RemoveSceneReference
time=2026-01-03T14:42:36.155-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:36.155-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:36.155-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:36.155-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:36.155-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:36.155-03:00 level=INFO msg="LocationService registered"
time=2026-01-03T14:42:36.155-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:36.155-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-03T14:42:36.156-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:36.158-03:00 level=INFO msg="tenant created" tenant_id=98b72972-e732-4833-bbed-b8b15a2f981a name="Test Tenant for Remove Reference"
time=2026-01-03T14:42:36.158-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:36.159-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:36.160-03:00 level=INFO msg="world created" world_id=d8c5c283-a1f1-4876-9939-95bd43ebb97a name="Test World" tenant_id=98b72972-e732-4833-bbed-b8b15a2f981a
time=2026-01-03T14:42:36.160-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:36.160-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:36.161-03:00 level=INFO msg="world created" world_id=177f08e5-6e3a-4fda-b15e-2167a7260439 name="World of Test Story" tenant_id=98b72972-e732-4833-bbed-b8b15a2f981a
time=2026-01-03T14:42:36.161-03:00 level=INFO msg="created implicit world for story" world_id=177f08e5-6e3a-4fda-b15e-2167a7260439 story_title="Test Story"
time=2026-01-03T14:42:36.163-03:00 level=INFO msg="story created" story_id=b24bf349-068b-4378-b612-64e4dad970da title="Test Story" tenant_id=98b72972-e732-4833-bbed-b8b15a2f981a
time=2026-01-03T14:42:36.163-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:36.163-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:36.165-03:00 level=INFO msg="scene created" scene_id=1084adf7-ed3d-4063-bba9-8991baf7edb3 story_id=b24bf349-068b-4378-b612-64e4dad970da tenant_id=98b72972-e732-4833-bbed-b8b15a2f981a
time=2026-01-03T14:42:36.165-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-03T14:42:36.165-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:36.167-03:00 level=INFO msg="character created" character_id=25b3f7f5-b9dc-4548-9a8b-ceae7feb7003 name="Test Character"
time=2026-01-03T14:42:36.167-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestSceneHandler_RemoveSceneReference/successful_remove
time=2026-01-03T14:42:36.167-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-03T14:42:36.169-03:00 level=INFO msg="scene reference added" scene_id=1084adf7-ed3d-4063-bba9-8991baf7edb3 entity_type=character entity_id=25b3f7f5-b9dc-4548-9a8b-ceae7feb7003 story_id=b24bf349-068b-4378-b612-64e4dad970da
time=2026-01-03T14:42:36.169-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-03T14:42:36.170-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-03T14:42:36.170-03:00 level=INFO msg="scene reference removed" scene_id=1084adf7-ed3d-4063-bba9-8991baf7edb3 entity_type=character entity_id=25b3f7f5-b9dc-4548-9a8b-ceae7feb7003
time=2026-01-03T14:42:36.170-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/RemoveSceneReference duration_ms=0
time=2026-01-03T14:42:36.170-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-03T14:42:36.171-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/remove_non-existing_reference
time=2026-01-03T14:42:36.171-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-03T14:42:36.171-03:00 level=ERROR msg="failed to remove scene reference" error="scene_reference not found: 1084adf7-ed3d-4063-bba9-8991baf7edb3/character/cc7e9c9e-45cd-41b4-8c7f-0454fee9105a" scene_id=1084adf7-ed3d-4063-bba9-8991baf7edb3
time=2026-01-03T14:42:36.171-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/RemoveSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene_reference not found: 1084adf7-ed3d-4063-bba9-8991baf7edb3/character/cc7e9c9e-45cd-41b4-8c7f-0454fee9105a"
time=2026-01-03T14:42:36.171-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_RemoveSceneReference (0.30s)
    --- PASS: TestSceneHandler_RemoveSceneReference/successful_remove (0.00s)
    --- PASS: TestSceneHandler_RemoveSceneReference/remove_non-existing_reference (0.00s)
=== RUN   TestSceneHandler_GetSceneReferences
time=2026-01-03T14:42:36.421-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:36.421-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:36.421-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:36.421-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:36.421-03:00 level=INFO msg="WorldService registered"
time=2026-01-03T14:42:36.421-03:00 level=INFO msg="LocationService registered"
time=2026-01-03T14:42:36.421-03:00 level=INFO msg="CharacterService registered"
time=2026-01-03T14:42:36.421-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-03T14:42:36.422-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:36.424-03:00 level=INFO msg="tenant created" tenant_id=31b64fb9-e719-4659-98c4-c3ded1b29c7f name="Test Tenant for Get References"
time=2026-01-03T14:42:36.424-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:36.424-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:36.426-03:00 level=INFO msg="world created" world_id=2b7e7770-602a-42ff-908c-b75ed8172b6f name="Test World" tenant_id=31b64fb9-e719-4659-98c4-c3ded1b29c7f
time=2026-01-03T14:42:36.426-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:36.426-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:36.427-03:00 level=INFO msg="world created" world_id=ff7ed035-8449-40c9-bbcc-9c196c098637 name="World of Test Story" tenant_id=31b64fb9-e719-4659-98c4-c3ded1b29c7f
time=2026-01-03T14:42:36.427-03:00 level=INFO msg="created implicit world for story" world_id=ff7ed035-8449-40c9-bbcc-9c196c098637 story_title="Test Story"
time=2026-01-03T14:42:36.428-03:00 level=INFO msg="story created" story_id=974faa5e-060d-4837-b009-f666e721682a title="Test Story" tenant_id=31b64fb9-e719-4659-98c4-c3ded1b29c7f
time=2026-01-03T14:42:36.428-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-03T14:42:36.428-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:36.429-03:00 level=INFO msg="scene created" scene_id=4a41b20e-7fff-4fc6-a7d2-6eafe4fbb745 story_id=974faa5e-060d-4837-b009-f666e721682a tenant_id=31b64fb9-e719-4659-98c4-c3ded1b29c7f
time=2026-01-03T14:42:36.429-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_multiple_references
time=2026-01-03T14:42:36.429-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-03T14:42:36.430-03:00 level=INFO msg="character created" character_id=014be4cd-6cb0-406e-b78f-63334eef4c30 name="Test Character"
time=2026-01-03T14:42:36.430-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-03T14:42:36.430-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-03T14:42:36.431-03:00 level=INFO msg="location created" location_id=f944e56d-2b7e-4375-abed-82d7bd177c0d name="Test Location"
time=2026-01-03T14:42:36.431-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-03T14:42:36.432-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-03T14:42:36.433-03:00 level=INFO msg="artifact created" artifact_id=8f703d10-5209-4cf4-8901-70a30da831e7 name="Test Artifact"
time=2026-01-03T14:42:36.433-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-03T14:42:36.433-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-03T14:42:36.434-03:00 level=INFO msg="scene reference added" scene_id=4a41b20e-7fff-4fc6-a7d2-6eafe4fbb745 entity_type=character entity_id=014be4cd-6cb0-406e-b78f-63334eef4c30 story_id=974faa5e-060d-4837-b009-f666e721682a
time=2026-01-03T14:42:36.435-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-03T14:42:36.435-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-03T14:42:36.436-03:00 level=INFO msg="scene reference added" scene_id=4a41b20e-7fff-4fc6-a7d2-6eafe4fbb745 entity_type=location entity_id=f944e56d-2b7e-4375-abed-82d7bd177c0d story_id=974faa5e-060d-4837-b009-f666e721682a
time=2026-01-03T14:42:36.436-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=0
time=2026-01-03T14:42:36.436-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-03T14:42:36.437-03:00 level=INFO msg="scene reference added" scene_id=4a41b20e-7fff-4fc6-a7d2-6eafe4fbb745 entity_type=artifact entity_id=8f703d10-5209-4cf4-8901-70a30da831e7 story_id=974faa5e-060d-4837-b009-f666e721682a
time=2026-01-03T14:42:36.437-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-03T14:42:36.438-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-03T14:42:36.438-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_empty_references
time=2026-01-03T14:42:36.438-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-03T14:42:36.438-03:00 level=INFO msg="scene created" scene_id=645ccaba-8fbc-4841-afe9-f626c3d64ae0 story_id=974faa5e-060d-4837-b009-f666e721682a tenant_id=31b64fb9-e719-4659-98c4-c3ded1b29c7f
time=2026-01-03T14:42:36.438-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-03T14:42:36.439-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-03T14:42:36.439-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/invalid_scene_id
time=2026-01-03T14:42:36.439-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-03T14:42:36.439-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetSceneReferences duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid scene_id: invalid UUID length: 10"
time=2026-01-03T14:42:36.439-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetSceneReferences (0.39s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_multiple_references (0.01s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_empty_references (0.00s)
    --- PASS: TestSceneHandler_GetSceneReferences/invalid_scene_id (0.00s)
=== RUN   TestSkillHandler_CreateSkill
time=2026-01-03T14:42:36.757-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:36.757-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:36.757-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_CreateSkill/successful_creation
time=2026-01-03T14:42:36.758-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:36.760-03:00 level=INFO msg="tenant created" tenant_id=7ae6d176-4caf-4e2d-9b2b-38eb96d969ca name="Test Tenant for Skill"
time=2026-01-03T14:42:36.760-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:36.760-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:36.761-03:00 level=INFO msg="RPG system created" rpg_system_id=f5f6732e-3142-4552-a9b7-d29068498d1e name="Test System"
time=2026-01-03T14:42:36.761-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:36.761-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:36.762-03:00 level=INFO msg="skill created" skill_id=9285681b-a3c9-4e31-bb1d-1db6dcd320a3 name=Fireball
time=2026-01-03T14:42:36.762-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestSkillHandler_CreateSkill/empty_name
time=2026-01-03T14:42:36.762-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:36.763-03:00 level=INFO msg="tenant created" tenant_id=92916301-07de-4a14-a787-1eae99dc3ad7 name="Test Tenant 2"
time=2026-01-03T14:42:36.763-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:36.763-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:36.763-03:00 level=INFO msg="RPG system created" rpg_system_id=2b0985e0-f7c7-4cb2-bd26-9d89d490f364 name="Test System 2"
time=2026-01-03T14:42:36.763-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:36.764-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:36.764-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/CreateSkill duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-03T14:42:36.764-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_CreateSkill (0.19s)
    --- PASS: TestSkillHandler_CreateSkill/successful_creation (0.00s)
    --- PASS: TestSkillHandler_CreateSkill/empty_name (0.00s)
=== RUN   TestSkillHandler_GetSkill
time=2026-01-03T14:42:37.017-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:37.017-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:37.017-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_GetSkill/existing_skill
time=2026-01-03T14:42:37.017-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:37.020-03:00 level=INFO msg="tenant created" tenant_id=58bc77a4-3eba-47ca-acf6-b8f6ae881cc1 name="Get Test Tenant"
time=2026-01-03T14:42:37.020-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:37.020-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:37.021-03:00 level=INFO msg="RPG system created" rpg_system_id=3e2d7442-a624-4c1d-a60c-8f0caf1d60da name="Get Test System"
time=2026-01-03T14:42:37.021-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:37.022-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:37.023-03:00 level=INFO msg="skill created" skill_id=63d9dcec-7d29-47e5-83e7-c48c9d98eb68 name="Get Test Skill"
time=2026-01-03T14:42:37.023-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-03T14:42:37.023-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-03T14:42:37.023-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/GetSkill duration_ms=0
=== RUN   TestSkillHandler_GetSkill/non-existing_skill
time=2026-01-03T14:42:37.024-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:37.024-03:00 level=INFO msg="tenant created" tenant_id=9bf5dadb-4f17-4897-b319-fb98f736e372 name="Non-existing Test Tenant"
time=2026-01-03T14:42:37.025-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:37.025-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-03T14:42:37.025-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 6b062885-595d-4a09-afcf-63f88698c237" skill_id=6b062885-595d-4a09-afcf-63f88698c237
time=2026-01-03T14:42:37.025-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 6b062885-595d-4a09-afcf-63f88698c237"
time=2026-01-03T14:42:37.025-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_GetSkill (0.27s)
    --- PASS: TestSkillHandler_GetSkill/existing_skill (0.01s)
    --- PASS: TestSkillHandler_GetSkill/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_ListSkills
time=2026-01-03T14:42:37.299-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:37.299-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:37.299-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_ListSkills/list_skills
time=2026-01-03T14:42:37.300-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:37.302-03:00 level=INFO msg="tenant created" tenant_id=9740f275-b485-4fe3-a11a-1a674f1fb9d3 name="List Test Tenant"
time=2026-01-03T14:42:37.302-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:37.302-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:37.303-03:00 level=INFO msg="RPG system created" rpg_system_id=39c88e9c-40e2-4bf8-98db-5670a5e72382 name="List Test System"
time=2026-01-03T14:42:37.303-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:37.303-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:37.305-03:00 level=INFO msg="skill created" skill_id=ab2e57b8-9e58-4d8b-9c88-8a8e0a57a39c name="Skill 1"
time=2026-01-03T14:42:37.305-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-03T14:42:37.305-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:37.306-03:00 level=INFO msg="skill created" skill_id=fbbdf787-b856-4a68-8072-5f7ac6cddebb name="Skill 2"
time=2026-01-03T14:42:37.306-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-03T14:42:37.306-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/ListSkills
time=2026-01-03T14:42:37.306-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/ListSkills duration_ms=0
time=2026-01-03T14:42:37.306-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_ListSkills (0.27s)
    --- PASS: TestSkillHandler_ListSkills/list_skills (0.01s)
=== RUN   TestSkillHandler_UpdateSkill
time=2026-01-03T14:42:37.565-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:37.565-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:37.565-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_UpdateSkill/update_skill
time=2026-01-03T14:42:37.566-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:37.569-03:00 level=INFO msg="tenant created" tenant_id=11066937-db67-46a4-b45f-72db209591dc name="Update Test Tenant"
time=2026-01-03T14:42:37.569-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:37.570-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:37.571-03:00 level=INFO msg="RPG system created" rpg_system_id=b021bece-a169-4c6c-bf3a-7a203d97de4c name="Update Test System"
time=2026-01-03T14:42:37.571-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-03T14:42:37.571-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:37.572-03:00 level=INFO msg="skill created" skill_id=9f7d50ab-52f4-47ac-9f7e-76dd876a236f name="Original Skill"
time=2026-01-03T14:42:37.572-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-03T14:42:37.572-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/UpdateSkill
time=2026-01-03T14:42:37.573-03:00 level=INFO msg="skill updated" skill_id=9f7d50ab-52f4-47ac-9f7e-76dd876a236f
time=2026-01-03T14:42:37.573-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/UpdateSkill duration_ms=0
time=2026-01-03T14:42:37.573-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_UpdateSkill (0.27s)
    --- PASS: TestSkillHandler_UpdateSkill/update_skill (0.01s)
=== RUN   TestSkillHandler_DeleteSkill
time=2026-01-03T14:42:37.788-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:37.788-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-03T14:42:37.788-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_DeleteSkill/delete_skill
time=2026-01-03T14:42:37.789-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:37.791-03:00 level=INFO msg="tenant created" tenant_id=f9f0ca75-2efa-452b-8ee5-54624bcb16d7 name="Delete Test Tenant"
time=2026-01-03T14:42:37.791-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:37.792-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-03T14:42:37.793-03:00 level=INFO msg="RPG system created" rpg_system_id=32ee95ee-89a7-4407-81c3-56bf120c8f6a name="Delete Test System"
time=2026-01-03T14:42:37.793-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-03T14:42:37.793-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-03T14:42:37.794-03:00 level=INFO msg="skill created" skill_id=44a3e4be-699f-40a1-9dea-bdf7e8fcfbbe name="Skill to Delete"
time=2026-01-03T14:42:37.794-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-03T14:42:37.795-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/DeleteSkill
time=2026-01-03T14:42:37.796-03:00 level=INFO msg="skill deleted" skill_id=44a3e4be-699f-40a1-9dea-bdf7e8fcfbbe
time=2026-01-03T14:42:37.796-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/DeleteSkill duration_ms=0
time=2026-01-03T14:42:37.796-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-03T14:42:37.796-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 44a3e4be-699f-40a1-9dea-bdf7e8fcfbbe" skill_id=44a3e4be-699f-40a1-9dea-bdf7e8fcfbbe
time=2026-01-03T14:42:37.796-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 44a3e4be-699f-40a1-9dea-bdf7e8fcfbbe"
time=2026-01-03T14:42:37.796-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_DeleteSkill (0.22s)
    --- PASS: TestSkillHandler_DeleteSkill/delete_skill (0.01s)
=== RUN   TestStoryHandler_CreateStory
time=2026-01-03T14:42:38.523-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:38.523-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:38.523-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:38.523-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:38.523-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:38.523-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:38.523-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata
time=2026-01-03T14:42:38.527-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:38.530-03:00 level=INFO msg="tenant created" tenant_id=18ead7d2-4ff5-4e94-9e84-cde62b7b6e13 name="Test Tenant for Story"
time=2026-01-03T14:42:38.530-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:38.530-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:38.532-03:00 level=INFO msg="world created" world_id=683fdc78-adb6-4162-85bc-f5360f0e383f name="World of Test Story" tenant_id=18ead7d2-4ff5-4e94-9e84-cde62b7b6e13
time=2026-01-03T14:42:38.532-03:00 level=INFO msg="created implicit world for story" world_id=683fdc78-adb6-4162-85bc-f5360f0e383f story_title="Test Story"
time=2026-01-03T14:42:38.533-03:00 level=INFO msg="story created" story_id=3d5b9022-9628-4749-9bd5-c504c503ffa5 title="Test Story" tenant_id=18ead7d2-4ff5-4e94-9e84-cde62b7b6e13
time=2026-01-03T14:42:38.533-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request
time=2026-01-03T14:42:38.534-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:38.534-03:00 level=INFO msg="tenant created" tenant_id=036ded99-247c-449c-95be-8f0c1aea6931 name="Test Tenant for Story 2"
time=2026-01-03T14:42:38.534-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:38.534-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:38.535-03:00 level=INFO msg="world created" world_id=a185f021-fa19-4479-be5a-50d4d6f14a90 name="World of Test Story 2" tenant_id=036ded99-247c-449c-95be-8f0c1aea6931
time=2026-01-03T14:42:38.535-03:00 level=INFO msg="created implicit world for story" world_id=a185f021-fa19-4479-be5a-50d4d6f14a90 story_title="Test Story 2"
time=2026-01-03T14:42:38.536-03:00 level=INFO msg="story created" story_id=9ccc41a2-edea-4d36-94e2-8d6a204b6158 title="Test Story 2" tenant_id=036ded99-247c-449c-95be-8f0c1aea6931
time=2026-01-03T14:42:38.536-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
=== RUN   TestStoryHandler_CreateStory/without_tenant_id
time=2026-01-03T14:42:38.536-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:38.536-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
=== RUN   TestStoryHandler_CreateStory/with_invalid_tenant
time=2026-01-03T14:42:38.536-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:38.537-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: e5c40cd8-e474-4e47-88ad-754aac73898e"
=== RUN   TestStoryHandler_CreateStory/empty_title
time=2026-01-03T14:42:38.537-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:38.538-03:00 level=INFO msg="tenant created" tenant_id=4b008e6f-94b9-4b9b-8a05-4e5b2926b996 name="Test Tenant for Empty Title"
time=2026-01-03T14:42:38.538-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:38.538-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:38.538-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = title is required"
time=2026-01-03T14:42:38.538-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CreateStory (0.77s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata (0.01s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestStoryHandler_CreateStory/without_tenant_id (0.00s)
    --- PASS: TestStoryHandler_CreateStory/with_invalid_tenant (0.00s)
    --- PASS: TestStoryHandler_CreateStory/empty_title (0.00s)
=== RUN   TestStoryHandler_GetStory
time=2026-01-03T14:42:38.805-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:38.805-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:38.805-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:38.805-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:38.805-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:38.805-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:38.805-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_GetStory/existing_story
time=2026-01-03T14:42:38.806-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:38.809-03:00 level=INFO msg="tenant created" tenant_id=1640ef22-40c5-40ea-873c-28b85d514dbd name="Test Tenant for Get"
time=2026-01-03T14:42:38.809-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:38.809-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:38.810-03:00 level=INFO msg="world created" world_id=ee886de7-6274-4cec-9eae-a99c1e756201 name="World of Get Test Story" tenant_id=1640ef22-40c5-40ea-873c-28b85d514dbd
time=2026-01-03T14:42:38.810-03:00 level=INFO msg="created implicit world for story" world_id=ee886de7-6274-4cec-9eae-a99c1e756201 story_title="Get Test Story"
time=2026-01-03T14:42:38.811-03:00 level=INFO msg="story created" story_id=3e4acaf9-181f-41f1-aa21-735fe9af9765 title="Get Test Story" tenant_id=1640ef22-40c5-40ea-873c-28b85d514dbd
time=2026-01-03T14:42:38.811-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
    story_handler_test.go:160: Created story ID: '3e4acaf9-181f-41f1-aa21-735fe9af9765' (length: 36)
time=2026-01-03T14:42:38.812-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-03T14:42:38.812-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/GetStory duration_ms=0
=== RUN   TestStoryHandler_GetStory/non-existing_story
time=2026-01-03T14:42:38.812-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:38.813-03:00 level=INFO msg="tenant created" tenant_id=5b19d462-fb02-4b52-a7e7-68e289c2a794 name="Test Tenant for Non-existing"
time=2026-01-03T14:42:38.813-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:38.813-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-03T14:42:38.813-03:00 level=ERROR msg="failed to get story" error="story not found: 05983bd0-efb2-4bad-af37-82092d74e018" story_id=05983bd0-efb2-4bad-af37-82092d74e018 tenant_id=5b19d462-fb02-4b52-a7e7-68e289c2a794
time=2026-01-03T14:42:38.813-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 05983bd0-efb2-4bad-af37-82092d74e018"
=== RUN   TestStoryHandler_GetStory/invalid_story_ID
time=2026-01-03T14:42:38.813-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:38.814-03:00 level=INFO msg="tenant created" tenant_id=c13158de-8d6b-4285-b303-e5a1ffaabeb9 name="Test Tenant for Invalid ID"
time=2026-01-03T14:42:38.814-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:38.814-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-03T14:42:38.814-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-03T14:42:38.814-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_GetStory (0.24s)
    --- PASS: TestStoryHandler_GetStory/existing_story (0.01s)
    --- PASS: TestStoryHandler_GetStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_GetStory/invalid_story_ID (0.00s)
=== RUN   TestStoryHandler_ListStories
time=2026-01-03T14:42:38.984-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:38.984-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:38.984-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:38.984-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:38.984-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:38.984-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:38.984-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStories/with_pagination
time=2026-01-03T14:42:38.985-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:38.987-03:00 level=INFO msg="tenant created" tenant_id=5532fdcb-5851-46d4-86df-02526591a8f9 name="Test Tenant for List"
time=2026-01-03T14:42:38.987-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:38.987-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:38.988-03:00 level=INFO msg="world created" world_id=13e70926-8aa5-4265-9bf5-3bee24925b62 name="World of List Test Story 1" tenant_id=5532fdcb-5851-46d4-86df-02526591a8f9
time=2026-01-03T14:42:38.988-03:00 level=INFO msg="created implicit world for story" world_id=13e70926-8aa5-4265-9bf5-3bee24925b62 story_title="List Test Story 1"
time=2026-01-03T14:42:38.990-03:00 level=INFO msg="story created" story_id=76384c6a-de29-411c-b48b-7397bce41b8f title="List Test Story 1" tenant_id=5532fdcb-5851-46d4-86df-02526591a8f9
time=2026-01-03T14:42:38.990-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:38.990-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:38.990-03:00 level=INFO msg="world created" world_id=1200e389-7b89-40a3-9646-32cd01791594 name="World of List Test Story 2" tenant_id=5532fdcb-5851-46d4-86df-02526591a8f9
time=2026-01-03T14:42:38.990-03:00 level=INFO msg="created implicit world for story" world_id=1200e389-7b89-40a3-9646-32cd01791594 story_title="List Test Story 2"
time=2026-01-03T14:42:38.991-03:00 level=INFO msg="story created" story_id=ffd83a84-139d-4ec6-bd02-cf4927275c5f title="List Test Story 2" tenant_id=5532fdcb-5851-46d4-86df-02526591a8f9
time=2026-01-03T14:42:38.991-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-03T14:42:38.991-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:38.992-03:00 level=INFO msg="world created" world_id=54d50f61-e8d6-4a0e-9b99-1bd69f26a34c name="World of List Test Story 3" tenant_id=5532fdcb-5851-46d4-86df-02526591a8f9
time=2026-01-03T14:42:38.992-03:00 level=INFO msg="created implicit world for story" world_id=54d50f61-e8d6-4a0e-9b99-1bd69f26a34c story_title="List Test Story 3"
time=2026-01-03T14:42:38.992-03:00 level=INFO msg="story created" story_id=1e8f3317-736d-46a6-813c-0f9b9eddd473 title="List Test Story 3" tenant_id=5532fdcb-5851-46d4-86df-02526591a8f9
time=2026-01-03T14:42:38.992-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-03T14:42:38.992-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-03T14:42:38.993-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStories duration_ms=0
=== RUN   TestStoryHandler_ListStories/without_tenant_id
time=2026-01-03T14:42:38.993-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-03T14:42:38.993-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/ListStories duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
time=2026-01-03T14:42:38.993-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStories (0.18s)
    --- PASS: TestStoryHandler_ListStories/with_pagination (0.01s)
    --- PASS: TestStoryHandler_ListStories/without_tenant_id (0.00s)
=== RUN   TestStoryHandler_CloneStory
time=2026-01-03T14:42:39.139-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:39.139-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:39.139-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:39.139-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:39.139-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:39.139-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:39.140-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CloneStory/successful_clone
time=2026-01-03T14:42:39.140-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.142-03:00 level=INFO msg="tenant created" tenant_id=9eb71927-ad24-479c-b72a-b87731a3c29c name="Test Tenant for Clone"
time=2026-01-03T14:42:39.142-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-03T14:42:39.142-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:39.143-03:00 level=INFO msg="world created" world_id=2b8f96ca-c95c-4465-89c3-f8095a46cbc8 name="World of Clone Test Story" tenant_id=9eb71927-ad24-479c-b72a-b87731a3c29c
time=2026-01-03T14:42:39.143-03:00 level=INFO msg="created implicit world for story" world_id=2b8f96ca-c95c-4465-89c3-f8095a46cbc8 story_title="Clone Test Story"
time=2026-01-03T14:42:39.144-03:00 level=INFO msg="story created" story_id=8d9eac96-be6f-4f7f-81e9-7abc813c03ec title="Clone Test Story" tenant_id=9eb71927-ad24-479c-b72a-b87731a3c29c
time=2026-01-03T14:42:39.144-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:39.145-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-03T14:42:39.147-03:00 level=INFO msg="story cloned" source_story_id=8d9eac96-be6f-4f7f-81e9-7abc813c03ec new_story_id=7d82e7fc-a152-4935-a6a2-f90308f61aeb version_number=2
time=2026-01-03T14:42:39.147-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
=== RUN   TestStoryHandler_CloneStory/non-existing_source_story
time=2026-01-03T14:42:39.147-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.147-03:00 level=INFO msg="tenant created" tenant_id=f919c5f3-4d53-4452-a205-452917e785f8 name="Test Tenant for Non-existing Clone"
time=2026-01-03T14:42:39.147-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:39.148-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-03T14:42:39.148-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CloneStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 01b8b463-0738-4de5-a33f-c68ee8640be4"
time=2026-01-03T14:42:39.148-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CloneStory (0.11s)
    --- PASS: TestStoryHandler_CloneStory/successful_clone (0.01s)
    --- PASS: TestStoryHandler_CloneStory/non-existing_source_story (0.00s)
=== RUN   TestStoryHandler_ListStoryVersions
time=2026-01-03T14:42:39.258-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:39.258-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:39.258-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:39.258-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:39.258-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:39.258-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:39.258-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStoryVersions/list_versions
time=2026-01-03T14:42:39.259-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.261-03:00 level=INFO msg="tenant created" tenant_id=53cfdc4c-f4e3-4b3c-a6b4-e73d5a9d5d2c name="Test Tenant for Versions"
time=2026-01-03T14:42:39.261-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-03T14:42:39.261-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:39.262-03:00 level=INFO msg="world created" world_id=1fc85fc3-848c-436d-9717-2daa7cd995c7 name="World of Version Test Story" tenant_id=53cfdc4c-f4e3-4b3c-a6b4-e73d5a9d5d2c
time=2026-01-03T14:42:39.262-03:00 level=INFO msg="created implicit world for story" world_id=1fc85fc3-848c-436d-9717-2daa7cd995c7 story_title="Version Test Story"
time=2026-01-03T14:42:39.263-03:00 level=INFO msg="story created" story_id=cc2cb151-330a-4955-8d1c-e4e33b459cde title="Version Test Story" tenant_id=53cfdc4c-f4e3-4b3c-a6b4-e73d5a9d5d2c
time=2026-01-03T14:42:39.263-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:39.263-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-03T14:42:39.265-03:00 level=INFO msg="story cloned" source_story_id=cc2cb151-330a-4955-8d1c-e4e33b459cde new_story_id=ebeaadef-cf7c-4d4d-a164-3381a185ff65 version_number=2
time=2026-01-03T14:42:39.266-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
time=2026-01-03T14:42:39.266-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-03T14:42:39.267-03:00 level=INFO msg="story cloned" source_story_id=ebeaadef-cf7c-4d4d-a164-3381a185ff65 new_story_id=49a9efa7-86f8-42a8-b586-06f8b651124a version_number=3
time=2026-01-03T14:42:39.267-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=1
time=2026-01-03T14:42:39.267-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-03T14:42:39.267-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
=== RUN   TestStoryHandler_ListStoryVersions/non-existing_root_story
time=2026-01-03T14:42:39.267-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.268-03:00 level=INFO msg="tenant created" tenant_id=948748ac-4b55-446f-8a31-6df20800f537 name="Test Tenant for Non-existing Root"
time=2026-01-03T14:42:39.268-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:39.268-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-03T14:42:39.268-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
time=2026-01-03T14:42:39.268-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStoryVersions (0.12s)
    --- PASS: TestStoryHandler_ListStoryVersions/list_versions (0.01s)
    --- PASS: TestStoryHandler_ListStoryVersions/non-existing_root_story (0.00s)
=== RUN   TestStoryHandler_UpdateStory
time=2026-01-03T14:42:39.380-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:39.380-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:39.380-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:39.380-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:39.380-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:39.380-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:39.380-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_UpdateStory/successful_update_title
time=2026-01-03T14:42:39.381-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.384-03:00 level=INFO msg="tenant created" tenant_id=b0250c16-28da-4474-bcce-a24cd07cb5f4 name="Test Tenant for Update Story"
time=2026-01-03T14:42:39.384-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:39.384-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:39.386-03:00 level=INFO msg="world created" world_id=8dd22f6c-d482-4ad0-bbd3-a9114fa4a7a6 name="World of Original Title" tenant_id=b0250c16-28da-4474-bcce-a24cd07cb5f4
time=2026-01-03T14:42:39.386-03:00 level=INFO msg="created implicit world for story" world_id=8dd22f6c-d482-4ad0-bbd3-a9114fa4a7a6 story_title="Original Title"
time=2026-01-03T14:42:39.387-03:00 level=INFO msg="story created" story_id=f6872ecf-3994-45f0-a6cc-f8d7ce9f049f title="Original Title" tenant_id=b0250c16-28da-4474-bcce-a24cd07cb5f4
time=2026-01-03T14:42:39.387-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-03T14:42:39.387-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-03T14:42:39.388-03:00 level=INFO msg="story updated" story_id=f6872ecf-3994-45f0-a6cc-f8d7ce9f049f tenant_id=b0250c16-28da-4474-bcce-a24cd07cb5f4
time=2026-01-03T14:42:39.388-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/successful_update_status
time=2026-01-03T14:42:39.388-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.389-03:00 level=INFO msg="tenant created" tenant_id=1d27725d-f1e3-4867-9c10-4b38457e1fd1 name="Test Tenant for Update Story Status"
time=2026-01-03T14:42:39.389-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:39.389-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-03T14:42:39.390-03:00 level=INFO msg="world created" world_id=886702ad-e1a5-48e8-b287-03a83494afb6 name="World of Test Story" tenant_id=1d27725d-f1e3-4867-9c10-4b38457e1fd1
time=2026-01-03T14:42:39.390-03:00 level=INFO msg="created implicit world for story" world_id=886702ad-e1a5-48e8-b287-03a83494afb6 story_title="Test Story"
time=2026-01-03T14:42:39.390-03:00 level=INFO msg="story created" story_id=8b06d89b-9872-4e42-a2a0-79bcd0cde19a title="Test Story" tenant_id=1d27725d-f1e3-4867-9c10-4b38457e1fd1
time=2026-01-03T14:42:39.390-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-03T14:42:39.390-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-03T14:42:39.390-03:00 level=INFO msg="story updated" story_id=8b06d89b-9872-4e42-a2a0-79bcd0cde19a tenant_id=1d27725d-f1e3-4867-9c10-4b38457e1fd1
time=2026-01-03T14:42:39.390-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/non-existing_story
time=2026-01-03T14:42:39.391-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.391-03:00 level=INFO msg="tenant created" tenant_id=dd05a8d3-7c42-4487-9f13-eabaf5c14f7f name="Test Tenant for Non-existing Update"
time=2026-01-03T14:42:39.391-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:39.391-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-03T14:42:39.391-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: a81f833a-19a3-4c08-8b5b-bc2f9a4c7236"
=== RUN   TestStoryHandler_UpdateStory/invalid_story_ID
time=2026-01-03T14:42:39.392-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.392-03:00 level=INFO msg="tenant created" tenant_id=57ad3732-4927-43f2-99e6-e87c3bff5a84 name="Test Tenant for Invalid Update ID"
time=2026-01-03T14:42:39.392-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:39.392-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-03T14:42:39.392-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-03T14:42:39.392-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_UpdateStory (0.12s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_title (0.01s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_status (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/invalid_story_ID (0.00s)
=== RUN   TestTenantHandler_CreateTenant
time=2026-01-03T14:42:39.506-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:39.506-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:39.506-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:39.506-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:39.506-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:39.506-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:39.506-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_CreateTenant/successful_creation
time=2026-01-03T14:42:39.507-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.509-03:00 level=INFO msg="tenant created" tenant_id=0b8b0ffa-c7c6-4ffc-94cc-f83c81a0d5b7 name="Test Tenant"
time=2026-01-03T14:42:39.509-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
=== RUN   TestTenantHandler_CreateTenant/duplicate_name
time=2026-01-03T14:42:39.509-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.509-03:00 level=INFO msg="tenant created" tenant_id=7e5db71d-62d6-4c19-a5b0-a855968e83ac name="Duplicate Tenant"
time=2026-01-03T14:42:39.509-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:39.510-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.510-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = AlreadyExists desc = tenant already exists with name: Duplicate Tenant"
=== RUN   TestTenantHandler_CreateTenant/empty_name
time=2026-01-03T14:42:39.510-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.510-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-03T14:42:39.510-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_CreateTenant (0.12s)
    --- PASS: TestTenantHandler_CreateTenant/successful_creation (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/empty_name (0.00s)
=== RUN   TestTenantHandler_GetTenant
time=2026-01-03T14:42:39.629-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:39.629-03:00 level=INFO msg="StoryService registered"
time=2026-01-03T14:42:39.629-03:00 level=INFO msg="ChapterService registered"
time=2026-01-03T14:42:39.629-03:00 level=INFO msg="SceneService registered"
time=2026-01-03T14:42:39.629-03:00 level=INFO msg="BeatService registered"
time=2026-01-03T14:42:39.629-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-03T14:42:39.629-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_GetTenant/existing_tenant
time=2026-01-03T14:42:39.631-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.634-03:00 level=INFO msg="tenant created" tenant_id=3e29f972-d24a-4bd8-b1c3-b3334116ab53 name="Get Test Tenant"
time=2026-01-03T14:42:39.634-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-03T14:42:39.634-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-03T14:42:39.635-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/GetTenant duration_ms=0
=== RUN   TestTenantHandler_GetTenant/non-existing_tenant
time=2026-01-03T14:42:39.635-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-03T14:42:39.635-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: e090f4cc-0c32-4825-98ab-54110b3fd32e"
=== RUN   TestTenantHandler_GetTenant/invalid_tenant_ID
time=2026-01-03T14:42:39.635-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-03T14:42:39.635-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant id: invalid UUID length: 10"
time=2026-01-03T14:42:39.635-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_GetTenant (0.13s)
    --- PASS: TestTenantHandler_GetTenant/existing_tenant (0.01s)
    --- PASS: TestTenantHandler_GetTenant/non-existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/invalid_tenant_ID (0.00s)
=== RUN   TestTraitHandler_CreateTrait
time=2026-01-03T14:42:39.751-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:39.751-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_CreateTrait/successful_creation
time=2026-01-03T14:42:39.751-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.754-03:00 level=INFO msg="tenant created" tenant_id=3385107f-64cc-4ac6-83f4-9f9bdbfbf465 name="Test Tenant for Trait"
time=2026-01-03T14:42:39.754-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:39.754-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-03T14:42:39.755-03:00 level=INFO msg="trait created" trait_id=6a9c5dc6-20a5-44bb-af77-7ec14df7e007 name=Brave
time=2026-01-03T14:42:39.755-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
=== RUN   TestTraitHandler_CreateTrait/empty_name
time=2026-01-03T14:42:39.755-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.756-03:00 level=INFO msg="tenant created" tenant_id=8b941abd-3ea9-4430-b842-8e2867049a4e name="Test Tenant 2"
time=2026-01-03T14:42:39.756-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:39.756-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-03T14:42:39.756-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/CreateTrait duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-03T14:42:39.756-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_CreateTrait (0.12s)
    --- PASS: TestTraitHandler_CreateTrait/successful_creation (0.00s)
    --- PASS: TestTraitHandler_CreateTrait/empty_name (0.00s)
=== RUN   TestTraitHandler_GetTrait
time=2026-01-03T14:42:39.871-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:39.871-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_GetTrait/existing_trait
time=2026-01-03T14:42:39.872-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.875-03:00 level=INFO msg="tenant created" tenant_id=cb8f2794-6d3c-43fc-bf15-939a0c5863c8 name="Get Test Tenant"
time=2026-01-03T14:42:39.875-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:39.875-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-03T14:42:39.876-03:00 level=INFO msg="trait created" trait_id=b6833ac4-ef6d-4c69-b307-deace3688bc9 name="Get Test Trait"
time=2026-01-03T14:42:39.876-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-03T14:42:39.876-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-03T14:42:39.876-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/GetTrait duration_ms=0
=== RUN   TestTraitHandler_GetTrait/non-existing_trait
time=2026-01-03T14:42:39.876-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.877-03:00 level=INFO msg="tenant created" tenant_id=1d4953f8-7b66-477a-b047-aa5bd989eb98 name="Non-existing Test Tenant"
time=2026-01-03T14:42:39.877-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:39.877-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-03T14:42:39.877-03:00 level=ERROR msg="failed to get trait" error="trait not found: 2f979287-ae41-4f88-8eda-142c492888d7" trait_id=2f979287-ae41-4f88-8eda-142c492888d7
time=2026-01-03T14:42:39.877-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 2f979287-ae41-4f88-8eda-142c492888d7"
time=2026-01-03T14:42:39.877-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_GetTrait (0.12s)
    --- PASS: TestTraitHandler_GetTrait/existing_trait (0.01s)
    --- PASS: TestTraitHandler_GetTrait/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_ListTraits
time=2026-01-03T14:42:39.996-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:39.996-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_ListTraits/list_traits
time=2026-01-03T14:42:39.996-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:39.999-03:00 level=INFO msg="tenant created" tenant_id=63a42bf2-17ab-48d1-b731-7acf620cd7ee name="List Test Tenant"
time=2026-01-03T14:42:39.999-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:39.999-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-03T14:42:40.000-03:00 level=INFO msg="trait created" trait_id=7b0e137f-c0ca-42c1-beee-3ce1fc400cff name="Trait 1"
time=2026-01-03T14:42:40.000-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-03T14:42:40.000-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-03T14:42:40.000-03:00 level=INFO msg="trait created" trait_id=afae57fe-3deb-46be-8001-75b5fc1428ee name="Trait 2"
time=2026-01-03T14:42:40.000-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-03T14:42:40.000-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/ListTraits
time=2026-01-03T14:42:40.001-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/ListTraits duration_ms=0
time=2026-01-03T14:42:40.001-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_ListTraits (0.12s)
    --- PASS: TestTraitHandler_ListTraits/list_traits (0.01s)
=== RUN   TestTraitHandler_UpdateTrait
time=2026-01-03T14:42:40.141-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:40.141-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_UpdateTrait/update_trait
time=2026-01-03T14:42:40.142-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.144-03:00 level=INFO msg="tenant created" tenant_id=28321dd9-b5bf-4b2a-8f44-dcffadcbc8bc name="Update Test Tenant"
time=2026-01-03T14:42:40.144-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:40.144-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-03T14:42:40.145-03:00 level=INFO msg="trait created" trait_id=272210e4-ad31-45b4-b507-3624b667d5ab name="Original Trait"
time=2026-01-03T14:42:40.145-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-03T14:42:40.146-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/UpdateTrait
time=2026-01-03T14:42:40.147-03:00 level=INFO msg="trait updated" trait_id=272210e4-ad31-45b4-b507-3624b667d5ab name="Updated Trait"
time=2026-01-03T14:42:40.147-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/UpdateTrait duration_ms=1
time=2026-01-03T14:42:40.148-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_UpdateTrait (0.14s)
    --- PASS: TestTraitHandler_UpdateTrait/update_trait (0.01s)
=== RUN   TestTraitHandler_DeleteTrait
time=2026-01-03T14:42:40.278-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:40.278-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_DeleteTrait/delete_trait
time=2026-01-03T14:42:40.279-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.281-03:00 level=INFO msg="tenant created" tenant_id=f746f77a-d348-43d8-aa00-74cf47bb8e2f name="Delete Test Tenant"
time=2026-01-03T14:42:40.281-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:40.281-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-03T14:42:40.283-03:00 level=INFO msg="trait created" trait_id=b49a3c16-181a-48eb-b745-df801fb11e56 name="Trait to Delete"
time=2026-01-03T14:42:40.283-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-03T14:42:40.283-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/DeleteTrait
time=2026-01-03T14:42:40.285-03:00 level=INFO msg="trait deleted" trait_id=b49a3c16-181a-48eb-b745-df801fb11e56 name="Trait to Delete"
time=2026-01-03T14:42:40.285-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/DeleteTrait duration_ms=1
time=2026-01-03T14:42:40.285-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-03T14:42:40.285-03:00 level=ERROR msg="failed to get trait" error="trait not found: b49a3c16-181a-48eb-b745-df801fb11e56" trait_id=b49a3c16-181a-48eb-b745-df801fb11e56
time=2026-01-03T14:42:40.285-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: b49a3c16-181a-48eb-b745-df801fb11e56"
time=2026-01-03T14:42:40.285-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_DeleteTrait (0.14s)
    --- PASS: TestTraitHandler_DeleteTrait/delete_trait (0.01s)
=== RUN   TestWorldHandler_CreateWorld
time=2026-01-03T14:42:40.419-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:40.419-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata
time=2026-01-03T14:42:40.420-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.422-03:00 level=INFO msg="tenant created" tenant_id=b3b8efa9-ea01-438b-87ae-78f464b8898c name="Test Tenant for World"
time=2026-01-03T14:42:40.422-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:40.423-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:40.424-03:00 level=INFO msg="world created" world_id=86dd375a-7628-4f50-a74b-90cf1190b10f name="Test World" tenant_id=b3b8efa9-ea01-438b-87ae-78f464b8898c
time=2026-01-03T14:42:40.424-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request
time=2026-01-03T14:42:40.424-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.424-03:00 level=INFO msg="tenant created" tenant_id=5854909a-4325-4659-8fd3-e16b1c5a408b name="Test Tenant 2"
time=2026-01-03T14:42:40.424-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:40.425-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:40.425-03:00 level=INFO msg="world created" world_id=0278be09-ab1f-4bf4-a218-fd8a57ddbca1 name="Test World 2" tenant_id=5854909a-4325-4659-8fd3-e16b1c5a408b
time=2026-01-03T14:42:40.425-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
=== RUN   TestWorldHandler_CreateWorld/empty_name
time=2026-01-03T14:42:40.425-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.426-03:00 level=INFO msg="tenant created" tenant_id=7f765121-68ab-457b-bd74-55ced9c716e9 name="Test Tenant 3"
time=2026-01-03T14:42:40.426-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:40.426-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:40.426-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestWorldHandler_CreateWorld/invalid_tenant_id
time=2026-01-03T14:42:40.426-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:40.426-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant_id: invalid UUID length: 10"
time=2026-01-03T14:42:40.427-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_CreateWorld (0.14s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/empty_name (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/invalid_tenant_id (0.00s)
=== RUN   TestWorldHandler_GetWorld
time=2026-01-03T14:42:40.556-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:40.556-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_GetWorld/existing_world
time=2026-01-03T14:42:40.557-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.564-03:00 level=INFO msg="tenant created" tenant_id=8a20411c-b54e-46ca-bd54-81d2da602621 name="Get Test Tenant"
time=2026-01-03T14:42:40.564-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=7
time=2026-01-03T14:42:40.565-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:40.566-03:00 level=INFO msg="world created" world_id=075a52df-65eb-480e-9a65-c0d5dc6f2d7f name="Get Test World" tenant_id=8a20411c-b54e-46ca-bd54-81d2da602621
time=2026-01-03T14:42:40.566-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:40.566-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-03T14:42:40.566-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/GetWorld duration_ms=0
=== RUN   TestWorldHandler_GetWorld/non-existing_world
time=2026-01-03T14:42:40.567-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.567-03:00 level=INFO msg="tenant created" tenant_id=6708dfaf-97c3-4ce2-a823-820778921f2d name="Non-existing Test Tenant"
time=2026-01-03T14:42:40.567-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:40.567-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-03T14:42:40.568-03:00 level=ERROR msg="failed to get world" error="world not found: b2303210-61af-4f8d-ad84-a58933b28a50" world_id=b2303210-61af-4f8d-ad84-a58933b28a50
time=2026-01-03T14:42:40.568-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: b2303210-61af-4f8d-ad84-a58933b28a50"
=== RUN   TestWorldHandler_GetWorld/invalid_world_ID
time=2026-01-03T14:42:40.568-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.568-03:00 level=INFO msg="tenant created" tenant_id=2ef6a299-9093-4265-9243-1542660f9313 name="Invalid ID Test Tenant"
time=2026-01-03T14:42:40.568-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:40.569-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-03T14:42:40.569-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid world id: invalid UUID length: 10"
time=2026-01-03T14:42:40.569-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_GetWorld (0.14s)
    --- PASS: TestWorldHandler_GetWorld/existing_world (0.01s)
    --- PASS: TestWorldHandler_GetWorld/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_GetWorld/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_ListWorlds
time=2026-01-03T14:42:40.678-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:40.678-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_ListWorlds/list_worlds_for_tenant
time=2026-01-03T14:42:40.679-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.681-03:00 level=INFO msg="tenant created" tenant_id=b31da42b-bda2-4884-bae8-8ce4e13205b4 name="List Test Tenant"
time=2026-01-03T14:42:40.681-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:40.681-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:40.683-03:00 level=INFO msg="world created" world_id=b1adc0f4-98a8-4135-b53a-1f673395f3e3 name="World 1" tenant_id=b31da42b-bda2-4884-bae8-8ce4e13205b4
time=2026-01-03T14:42:40.683-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:40.683-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:40.683-03:00 level=INFO msg="world created" world_id=c3f51619-3a23-4553-a494-8d1c92864a8b name="World 2" tenant_id=b31da42b-bda2-4884-bae8-8ce4e13205b4
time=2026-01-03T14:42:40.683-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-03T14:42:40.683-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/ListWorlds
time=2026-01-03T14:42:40.684-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/ListWorlds duration_ms=0
time=2026-01-03T14:42:40.684-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_ListWorlds (0.12s)
    --- PASS: TestWorldHandler_ListWorlds/list_worlds_for_tenant (0.01s)
=== RUN   TestWorldHandler_UpdateWorld
time=2026-01-03T14:42:40.804-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:40.804-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_UpdateWorld/update_world_name
time=2026-01-03T14:42:40.806-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.808-03:00 level=INFO msg="tenant created" tenant_id=913b2530-5a46-42a4-a54b-4f6804afb090 name="Update Test Tenant"
time=2026-01-03T14:42:40.808-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:40.808-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:40.809-03:00 level=INFO msg="world created" world_id=6866c19f-2f28-4fe3-816d-a3bd2f47b7fb name="Original World" tenant_id=913b2530-5a46-42a4-a54b-4f6804afb090
time=2026-01-03T14:42:40.809-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:40.810-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-03T14:42:40.811-03:00 level=INFO msg="world updated" world_id=6866c19f-2f28-4fe3-816d-a3bd2f47b7fb name="Updated World"
time=2026-01-03T14:42:40.811-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/UpdateWorld duration_ms=0
=== RUN   TestWorldHandler_UpdateWorld/non-existing_world
time=2026-01-03T14:42:40.811-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.812-03:00 level=INFO msg="tenant created" tenant_id=211dc0ec-5df1-4147-91a5-796e897d37c5 name="Update Test Tenant 2"
time=2026-01-03T14:42:40.812-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:40.812-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-03T14:42:40.812-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/UpdateWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 7e75baa1-b2e8-4f8d-af65-35edad0bb030"
time=2026-01-03T14:42:40.812-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_UpdateWorld (0.13s)
    --- PASS: TestWorldHandler_UpdateWorld/update_world_name (0.01s)
    --- PASS: TestWorldHandler_UpdateWorld/non-existing_world (0.00s)
=== RUN   TestWorldHandler_DeleteWorld
time=2026-01-03T14:42:40.918-03:00 level=INFO msg="TenantService registered"
time=2026-01-03T14:42:40.918-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_DeleteWorld/delete_existing_world
time=2026-01-03T14:42:40.919-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.921-03:00 level=INFO msg="tenant created" tenant_id=993926ba-8712-4a42-aa43-a0efb4e0ca6c name="Delete Test Tenant"
time=2026-01-03T14:42:40.921-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-03T14:42:40.921-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-03T14:42:40.923-03:00 level=INFO msg="world created" world_id=fbd557a9-0800-40c7-9f3d-c28064d22038 name="World to Delete" tenant_id=993926ba-8712-4a42-aa43-a0efb4e0ca6c
time=2026-01-03T14:42:40.923-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-03T14:42:40.923-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-03T14:42:40.925-03:00 level=INFO msg="world deleted" world_id=fbd557a9-0800-40c7-9f3d-c28064d22038 name="World to Delete"
time=2026-01-03T14:42:40.925-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/DeleteWorld duration_ms=1
time=2026-01-03T14:42:40.925-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-03T14:42:40.925-03:00 level=ERROR msg="failed to get world" error="world not found: fbd557a9-0800-40c7-9f3d-c28064d22038" world_id=fbd557a9-0800-40c7-9f3d-c28064d22038
time=2026-01-03T14:42:40.925-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: fbd557a9-0800-40c7-9f3d-c28064d22038"
=== RUN   TestWorldHandler_DeleteWorld/delete_non-existing_world
time=2026-01-03T14:42:40.925-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-03T14:42:40.926-03:00 level=INFO msg="tenant created" tenant_id=803cec92-d810-41b2-9dfc-74f653f8f376 name="Delete Test Tenant 2"
time=2026-01-03T14:42:40.926-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-03T14:42:40.926-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-03T14:42:40.926-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/DeleteWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: f1a73820-483b-4dd0-98d1-e38984e769c7"
time=2026-01-03T14:42:40.927-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_DeleteWorld (0.14s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_existing_world (0.01s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/grpc/handlers	25.965s
?   	github.com/story-engine/main-service/internal/transport/grpc/interceptors	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/mappers	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/testing	[no test files]
=== RUN   TestArchetypeHandler_Create
time=2026-01-03T14:42:16.414-03:00 level=INFO msg="tenant created" tenant_id=ff5c33cd-2ace-4dab-a595-97c8fae4535c name="Test Tenant"
=== RUN   TestArchetypeHandler_Create/successful_creation
time=2026-01-03T14:42:16.416-03:00 level=INFO msg="archetype created" archetype_id=1085a7fa-2e45-4240-87b1-e8ad50b8d588 name=Warrior
=== RUN   TestArchetypeHandler_Create/missing_tenant_id
=== RUN   TestArchetypeHandler_Create/empty_name
--- PASS: TestArchetypeHandler_Create (0.44s)
    --- PASS: TestArchetypeHandler_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArchetypeHandler_Create/empty_name (0.00s)
=== RUN   TestArchetypeHandler_Get
time=2026-01-03T14:42:16.884-03:00 level=INFO msg="tenant created" tenant_id=c2c93240-3953-4d6e-9361-c0c685c7c871 name="Test Tenant"
time=2026-01-03T14:42:16.886-03:00 level=INFO msg="archetype created" archetype_id=5fa1b8ea-0ac3-4231-adca-9d256ecf1907 name="Get Test Archetype"
=== RUN   TestArchetypeHandler_Get/existing_archetype
=== RUN   TestArchetypeHandler_Get/non-existing_archetype
time=2026-01-03T14:42:16.887-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 00000000-0000-0000-0000-000000000000" archetype_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArchetypeHandler_Get (0.47s)
    --- PASS: TestArchetypeHandler_Get/existing_archetype (0.00s)
    --- PASS: TestArchetypeHandler_Get/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_List
time=2026-01-03T14:42:17.236-03:00 level=INFO msg="tenant created" tenant_id=5e0ed78f-0711-4587-b70c-245d15434b67 name="Test Tenant"
time=2026-01-03T14:42:17.238-03:00 level=INFO msg="archetype created" archetype_id=d7279b7c-df6a-41b2-8f2b-c0db8ddd6f54 name="Archetype 1"
time=2026-01-03T14:42:17.238-03:00 level=INFO msg="archetype created" archetype_id=a38c74f1-9a9b-430d-ac89-837e1b8fbbd6 name="Archetype 2"
time=2026-01-03T14:42:17.239-03:00 level=INFO msg="archetype created" archetype_id=a13ed3af-1346-4434-93d5-74a06dc1197a name="Archetype 3"
=== RUN   TestArchetypeHandler_List/list_archetypes
--- PASS: TestArchetypeHandler_List (0.35s)
    --- PASS: TestArchetypeHandler_List/list_archetypes (0.00s)
=== RUN   TestArchetypeHandler_Update
time=2026-01-03T14:42:17.596-03:00 level=INFO msg="tenant created" tenant_id=c4971e10-dc04-40c1-9496-dd8d9349ce6b name="Test Tenant"
time=2026-01-03T14:42:17.598-03:00 level=INFO msg="archetype created" archetype_id=f4928b7a-ff1c-4e31-b85a-37ca50d64586 name="Original Archetype"
=== RUN   TestArchetypeHandler_Update/update_archetype
time=2026-01-03T14:42:17.600-03:00 level=INFO msg="archetype updated" archetype_id=f4928b7a-ff1c-4e31-b85a-37ca50d64586 name="Updated Archetype"
--- PASS: TestArchetypeHandler_Update (0.36s)
    --- PASS: TestArchetypeHandler_Update/update_archetype (0.00s)
=== RUN   TestArchetypeHandler_Delete
time=2026-01-03T14:42:17.980-03:00 level=INFO msg="tenant created" tenant_id=9af7bad0-0b2c-4f3a-871f-25e36fe42080 name="Test Tenant"
time=2026-01-03T14:42:17.982-03:00 level=INFO msg="archetype created" archetype_id=e8ba2d02-95f8-4a0d-8781-856d78a9f782 name="Archetype to Delete"
=== RUN   TestArchetypeHandler_Delete/delete_archetype
time=2026-01-03T14:42:17.985-03:00 level=INFO msg="archetype deleted" archetype_id=e8ba2d02-95f8-4a0d-8781-856d78a9f782 name="Archetype to Delete"
--- PASS: TestArchetypeHandler_Delete (0.43s)
    --- PASS: TestArchetypeHandler_Delete/delete_archetype (0.00s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-03T14:42:18.311-03:00 level=INFO msg="tenant created" tenant_id=e4d0b020-bf8c-46ad-bb30-412432167819 name="Test Tenant"
time=2026-01-03T14:42:18.313-03:00 level=INFO msg="archetype created" archetype_id=84082147-1730-4f42-9112-82a36152e2c7 name=Warrior
time=2026-01-03T14:42:18.314-03:00 level=INFO msg="trait created" trait_id=eb8ef418-b2c9-4aa0-adb5-8f708e8215de name=Brave
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-03T14:42:18.316-03:00 level=INFO msg="trait added to archetype" archetype_id=84082147-1730-4f42-9112-82a36152e2c7 trait_id=eb8ef418-b2c9-4aa0-adb5-8f708e8215de
--- PASS: TestArchetypeHandler_AddTrait (0.69s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.00s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-03T14:42:19.071-03:00 level=INFO msg="tenant created" tenant_id=22cd72af-9507-4891-962c-525da36a863c name="Test Tenant"
time=2026-01-03T14:42:19.073-03:00 level=INFO msg="archetype created" archetype_id=09934068-18f3-4431-b6c2-9ada78d30448 name=Warrior
time=2026-01-03T14:42:19.076-03:00 level=INFO msg="trait created" trait_id=46844585-94d1-43ed-8295-352d3e5242fa name=Brave
time=2026-01-03T14:42:19.078-03:00 level=INFO msg="trait added to archetype" archetype_id=09934068-18f3-4431-b6c2-9ada78d30448 trait_id=46844585-94d1-43ed-8295-352d3e5242fa
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-03T14:42:19.078-03:00 level=INFO msg="trait removed from archetype" archetype_id=09934068-18f3-4431-b6c2-9ada78d30448 trait_id=46844585-94d1-43ed-8295-352d3e5242fa
--- PASS: TestArchetypeHandler_RemoveTrait (0.38s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.00s)
=== RUN   TestArtifactHandler_Create
time=2026-01-03T14:42:19.416-03:00 level=INFO msg="tenant created" tenant_id=91556e82-7387-4195-9856-0cc44c62e0c3 name="Test Tenant"
time=2026-01-03T14:42:19.417-03:00 level=INFO msg="world created" world_id=2397d5b1-e100-434b-8a6f-499aa1de5fae name="Test World" tenant_id=91556e82-7387-4195-9856-0cc44c62e0c3
=== RUN   TestArtifactHandler_Create/successful_creation
time=2026-01-03T14:42:19.419-03:00 level=INFO msg="artifact created" artifact_id=9944a920-7cd7-40a8-920b-7f16f837a171 name="Test Artifact"
=== RUN   TestArtifactHandler_Create/missing_tenant_id
=== RUN   TestArtifactHandler_Create/empty_name
--- PASS: TestArtifactHandler_Create (0.40s)
    --- PASS: TestArtifactHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArtifactHandler_Create/empty_name (0.00s)
=== RUN   TestArtifactHandler_Get
time=2026-01-03T14:42:19.945-03:00 level=INFO msg="tenant created" tenant_id=bfe6e51f-bfbf-4cde-bf4c-98d595dc5bd8 name="Test Tenant"
time=2026-01-03T14:42:19.961-03:00 level=INFO msg="world created" world_id=fca33ba5-7494-48a0-b7a3-b536156e3673 name="Test World" tenant_id=bfe6e51f-bfbf-4cde-bf4c-98d595dc5bd8
time=2026-01-03T14:42:19.973-03:00 level=INFO msg="artifact created" artifact_id=b703424a-1d41-44d6-b90e-9eddb57df24f name="Get Test Artifact"
=== RUN   TestArtifactHandler_Get/existing_artifact
=== RUN   TestArtifactHandler_Get/non-existing_artifact
time=2026-01-03T14:42:19.978-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 00000000-0000-0000-0000-000000000000" artifact_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArtifactHandler_Get (0.57s)
    --- PASS: TestArtifactHandler_Get/existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Get/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_List
time=2026-01-03T14:42:20.628-03:00 level=INFO msg="tenant created" tenant_id=c06e96eb-a6bb-4994-949e-12db4141404b name="Test Tenant"
time=2026-01-03T14:42:20.629-03:00 level=INFO msg="world created" world_id=6abaae5a-acc9-4506-ad52-25881a5843b2 name="Test World" tenant_id=c06e96eb-a6bb-4994-949e-12db4141404b
time=2026-01-03T14:42:20.631-03:00 level=INFO msg="artifact created" artifact_id=c067b013-4ec5-4715-885c-c3a8e55e1855 name="Artifact 1"
time=2026-01-03T14:42:20.632-03:00 level=INFO msg="artifact created" artifact_id=d163b656-a868-474d-b72d-ed7072fd7818 name="Artifact 2"
time=2026-01-03T14:42:20.633-03:00 level=INFO msg="artifact created" artifact_id=37b387dc-891a-40e4-8587-7770c48149bf name="Artifact 3"
=== RUN   TestArtifactHandler_List/list_artifacts
--- PASS: TestArtifactHandler_List (0.69s)
    --- PASS: TestArtifactHandler_List/list_artifacts (0.00s)
=== RUN   TestArtifactHandler_Update
time=2026-01-03T14:42:21.041-03:00 level=INFO msg="tenant created" tenant_id=0e31cf30-7696-4411-85ef-a6f4a3c9436f name="Test Tenant"
time=2026-01-03T14:42:21.042-03:00 level=INFO msg="world created" world_id=a4e8eef8-a4f1-4179-bf81-867b503262ee name="Test World" tenant_id=0e31cf30-7696-4411-85ef-a6f4a3c9436f
time=2026-01-03T14:42:21.045-03:00 level=INFO msg="artifact created" artifact_id=f8e5be34-c692-4a45-aade-2b03e489615f name="Original Artifact"
=== RUN   TestArtifactHandler_Update/update_artifact_name
time=2026-01-03T14:42:21.046-03:00 level=INFO msg="artifact updated" artifact_id=f8e5be34-c692-4a45-aade-2b03e489615f name="Updated Artifact"
=== RUN   TestArtifactHandler_Update/non-existing_artifact
--- PASS: TestArtifactHandler_Update (0.36s)
    --- PASS: TestArtifactHandler_Update/update_artifact_name (0.00s)
    --- PASS: TestArtifactHandler_Update/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_Delete
time=2026-01-03T14:42:21.430-03:00 level=INFO msg="tenant created" tenant_id=0c66eeca-9a91-4eaf-aca0-accf1fc104c5 name="Test Tenant"
time=2026-01-03T14:42:21.434-03:00 level=INFO msg="world created" world_id=280b18f8-1291-4104-a9a8-02fed6316006 name="Test World" tenant_id=0c66eeca-9a91-4eaf-aca0-accf1fc104c5
time=2026-01-03T14:42:21.436-03:00 level=INFO msg="artifact created" artifact_id=db3d5bb1-5615-4928-892e-9e06d607f432 name="Artifact to Delete"
=== RUN   TestArtifactHandler_Delete/delete_existing_artifact
time=2026-01-03T14:42:21.440-03:00 level=INFO msg="artifact deleted" artifact_id=db3d5bb1-5615-4928-892e-9e06d607f432 name="Artifact to Delete"
time=2026-01-03T14:42:21.440-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: db3d5bb1-5615-4928-892e-9e06d607f432" artifact_id=db3d5bb1-5615-4928-892e-9e06d607f432
=== RUN   TestArtifactHandler_Delete/delete_non-existing_artifact
--- PASS: TestArtifactHandler_Delete (0.47s)
    --- PASS: TestArtifactHandler_Delete/delete_existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Delete/delete_non-existing_artifact (0.00s)
=== RUN   TestArtifactRPGStatsHandler_Create
time=2026-01-03T14:42:21.866-03:00 level=INFO msg="tenant created" tenant_id=0ffe3f74-3b11-4d0b-bff2-05339c2d6870 name="Test Tenant"
time=2026-01-03T14:42:21.868-03:00 level=INFO msg="world created" world_id=b40cb37c-8d57-4fab-b54b-474b38367538 name="Test World" tenant_id=0ffe3f74-3b11-4d0b-bff2-05339c2d6870
time=2026-01-03T14:42:21.871-03:00 level=INFO msg="artifact created" artifact_id=f0fd98c1-d801-4a87-b846-72c333aa286e name="Test Artifact"
=== RUN   TestArtifactRPGStatsHandler_Create/successful_creation
time=2026-01-03T14:42:21.873-03:00 level=INFO msg="artifact RPG stats created" artifact_id=f0fd98c1-d801-4a87-b846-72c333aa286e version=1
=== RUN   TestArtifactRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestArtifactRPGStatsHandler_Create (0.31s)
    --- PASS: TestArtifactRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestArtifactRPGStatsHandler_GetActive
time=2026-01-03T14:42:22.105-03:00 level=INFO msg="tenant created" tenant_id=db5499e9-f93a-4d61-a5f5-e002340c2ffd name="Test Tenant"
time=2026-01-03T14:42:22.107-03:00 level=INFO msg="world created" world_id=40b2b2c4-de69-4318-b2be-36e09e6ed643 name="Test World" tenant_id=db5499e9-f93a-4d61-a5f5-e002340c2ffd
time=2026-01-03T14:42:22.109-03:00 level=INFO msg="artifact created" artifact_id=0ce27e79-9195-46d9-a22a-ff68a660e4bf name="Test Artifact"
time=2026-01-03T14:42:22.111-03:00 level=INFO msg="artifact RPG stats created" artifact_id=0ce27e79-9195-46d9-a22a-ff68a660e4bf version=1
=== RUN   TestArtifactRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestArtifactRPGStatsHandler_GetActive (0.17s)
    --- PASS: TestArtifactRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestBeatHandler_Create
time=2026-01-03T14:42:22.356-03:00 level=INFO msg="tenant created" tenant_id=e91d978a-7e31-4bcb-b599-5c62f4b7a41c name="Test Tenant"
time=2026-01-03T14:42:22.358-03:00 level=INFO msg="world created" world_id=8d63f374-af53-435c-bbfa-653e060d7a42 name="World of Test Story" tenant_id=e91d978a-7e31-4bcb-b599-5c62f4b7a41c
time=2026-01-03T14:42:22.358-03:00 level=INFO msg="created implicit world for story" world_id=8d63f374-af53-435c-bbfa-653e060d7a42 story_title="Test Story"
time=2026-01-03T14:42:22.359-03:00 level=INFO msg="story created" story_id=69b87e15-ef67-42e0-923a-29d3e3b27808 title="Test Story" tenant_id=e91d978a-7e31-4bcb-b599-5c62f4b7a41c
time=2026-01-03T14:42:22.360-03:00 level=INFO msg="scene created" scene_id=0eeb4762-c222-4523-b99a-8f975216bcbf story_id=69b87e15-ef67-42e0-923a-29d3e3b27808 tenant_id=e91d978a-7e31-4bcb-b599-5c62f4b7a41c
=== RUN   TestBeatHandler_Create/successful_creation
time=2026-01-03T14:42:22.361-03:00 level=INFO msg="beat created" beat_id=acb6f1a7-7f10-4746-ae7a-829f51b6b9af scene_id=0eeb4762-c222-4523-b99a-8f975216bcbf tenant_id=e91d978a-7e31-4bcb-b599-5c62f4b7a41c
=== RUN   TestBeatHandler_Create/missing_tenant_id
--- PASS: TestBeatHandler_Create (0.25s)
    --- PASS: TestBeatHandler_Create/successful_creation (0.00s)
    --- PASS: TestBeatHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestBeatHandler_Get
time=2026-01-03T14:42:22.580-03:00 level=INFO msg="tenant created" tenant_id=ef30b022-e53e-41ff-aa87-52a7afe58ba7 name="Test Tenant"
time=2026-01-03T14:42:22.582-03:00 level=INFO msg="world created" world_id=f3610477-2239-46d1-a797-5a402e1c922c name="World of Test Story" tenant_id=ef30b022-e53e-41ff-aa87-52a7afe58ba7
time=2026-01-03T14:42:22.582-03:00 level=INFO msg="created implicit world for story" world_id=f3610477-2239-46d1-a797-5a402e1c922c story_title="Test Story"
time=2026-01-03T14:42:22.583-03:00 level=INFO msg="story created" story_id=79155752-e96b-4835-b26c-190fb9557a09 title="Test Story" tenant_id=ef30b022-e53e-41ff-aa87-52a7afe58ba7
time=2026-01-03T14:42:22.584-03:00 level=INFO msg="scene created" scene_id=4db99044-c3a1-4019-ba51-0d1ee5aa54ec story_id=79155752-e96b-4835-b26c-190fb9557a09 tenant_id=ef30b022-e53e-41ff-aa87-52a7afe58ba7
time=2026-01-03T14:42:22.585-03:00 level=INFO msg="beat created" beat_id=b73e69f1-9efa-4359-8c52-a093ad5b97f4 scene_id=4db99044-c3a1-4019-ba51-0d1ee5aa54ec tenant_id=ef30b022-e53e-41ff-aa87-52a7afe58ba7
=== RUN   TestBeatHandler_Get/existing_beat
=== RUN   TestBeatHandler_Get/non-existing_beat
time=2026-01-03T14:42:22.586-03:00 level=ERROR msg="failed to get beat" error="beat not found: 00000000-0000-0000-0000-000000000000" beat_id=00000000-0000-0000-0000-000000000000 tenant_id=ef30b022-e53e-41ff-aa87-52a7afe58ba7
--- PASS: TestBeatHandler_Get (0.23s)
    --- PASS: TestBeatHandler_Get/existing_beat (0.00s)
    --- PASS: TestBeatHandler_Get/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_List
time=2026-01-03T14:42:22.787-03:00 level=INFO msg="tenant created" tenant_id=6d0243c1-67aa-41e1-b2c0-2f0451e924c3 name="Test Tenant"
time=2026-01-03T14:42:22.788-03:00 level=INFO msg="world created" world_id=71949085-4c58-49a7-b6a3-ea61cfd8305f name="World of Test Story" tenant_id=6d0243c1-67aa-41e1-b2c0-2f0451e924c3
time=2026-01-03T14:42:22.788-03:00 level=INFO msg="created implicit world for story" world_id=71949085-4c58-49a7-b6a3-ea61cfd8305f story_title="Test Story"
time=2026-01-03T14:42:22.791-03:00 level=INFO msg="story created" story_id=9961c229-f794-451b-bd7a-214483930349 title="Test Story" tenant_id=6d0243c1-67aa-41e1-b2c0-2f0451e924c3
time=2026-01-03T14:42:22.792-03:00 level=INFO msg="scene created" scene_id=47ca786e-9204-4a4d-92b3-d83e7c226bfe story_id=9961c229-f794-451b-bd7a-214483930349 tenant_id=6d0243c1-67aa-41e1-b2c0-2f0451e924c3
time=2026-01-03T14:42:22.792-03:00 level=INFO msg="beat created" beat_id=bb7e4aa4-fcca-4118-9398-470e109d1268 scene_id=47ca786e-9204-4a4d-92b3-d83e7c226bfe tenant_id=6d0243c1-67aa-41e1-b2c0-2f0451e924c3
time=2026-01-03T14:42:22.793-03:00 level=INFO msg="beat created" beat_id=ee2dee22-d13e-40ce-8edb-fc047272cf10 scene_id=47ca786e-9204-4a4d-92b3-d83e7c226bfe tenant_id=6d0243c1-67aa-41e1-b2c0-2f0451e924c3
time=2026-01-03T14:42:22.793-03:00 level=INFO msg="beat created" beat_id=a62e1b6b-100c-4166-8413-ebda33230e23 scene_id=47ca786e-9204-4a4d-92b3-d83e7c226bfe tenant_id=6d0243c1-67aa-41e1-b2c0-2f0451e924c3
=== RUN   TestBeatHandler_List/list_beats
--- PASS: TestBeatHandler_List (0.24s)
    --- PASS: TestBeatHandler_List/list_beats (0.00s)
=== RUN   TestBeatHandler_Update
time=2026-01-03T14:42:23.054-03:00 level=INFO msg="tenant created" tenant_id=3eef44f2-4ea1-4d86-a51e-3fea61881161 name="Test Tenant"
time=2026-01-03T14:42:23.055-03:00 level=INFO msg="world created" world_id=dfff2cb3-aec2-4a8c-859b-936ff4cfc8e9 name="World of Test Story" tenant_id=3eef44f2-4ea1-4d86-a51e-3fea61881161
time=2026-01-03T14:42:23.055-03:00 level=INFO msg="created implicit world for story" world_id=dfff2cb3-aec2-4a8c-859b-936ff4cfc8e9 story_title="Test Story"
time=2026-01-03T14:42:23.056-03:00 level=INFO msg="story created" story_id=b33f88bc-4655-4e43-9ed6-d3ef2c82bb19 title="Test Story" tenant_id=3eef44f2-4ea1-4d86-a51e-3fea61881161
time=2026-01-03T14:42:23.057-03:00 level=INFO msg="scene created" scene_id=a8fa22a3-7fac-4444-b887-f61173c3c003 story_id=b33f88bc-4655-4e43-9ed6-d3ef2c82bb19 tenant_id=3eef44f2-4ea1-4d86-a51e-3fea61881161
time=2026-01-03T14:42:23.058-03:00 level=INFO msg="beat created" beat_id=1cfa089b-775f-4e59-af6c-a4795eebc8bb scene_id=a8fa22a3-7fac-4444-b887-f61173c3c003 tenant_id=3eef44f2-4ea1-4d86-a51e-3fea61881161
=== RUN   TestBeatHandler_Update/update_beat_intent
time=2026-01-03T14:42:23.059-03:00 level=INFO msg="beat updated" beat_id=1cfa089b-775f-4e59-af6c-a4795eebc8bb tenant_id=3eef44f2-4ea1-4d86-a51e-3fea61881161
=== RUN   TestBeatHandler_Update/non-existing_beat
--- PASS: TestBeatHandler_Update (0.26s)
    --- PASS: TestBeatHandler_Update/update_beat_intent (0.00s)
    --- PASS: TestBeatHandler_Update/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_Delete
time=2026-01-03T14:42:23.317-03:00 level=INFO msg="tenant created" tenant_id=a98393e4-f826-4130-8945-c24082f2b4fe name="Test Tenant"
time=2026-01-03T14:42:23.319-03:00 level=INFO msg="world created" world_id=665c37bf-a9b1-46b2-9792-acb6e4cad8b9 name="World of Test Story" tenant_id=a98393e4-f826-4130-8945-c24082f2b4fe
time=2026-01-03T14:42:23.319-03:00 level=INFO msg="created implicit world for story" world_id=665c37bf-a9b1-46b2-9792-acb6e4cad8b9 story_title="Test Story"
time=2026-01-03T14:42:23.320-03:00 level=INFO msg="story created" story_id=e7e2903d-25ba-441a-ac43-995ae7972541 title="Test Story" tenant_id=a98393e4-f826-4130-8945-c24082f2b4fe
time=2026-01-03T14:42:23.321-03:00 level=INFO msg="scene created" scene_id=3ed8a99d-ab32-4248-ad7f-408b940b681e story_id=e7e2903d-25ba-441a-ac43-995ae7972541 tenant_id=a98393e4-f826-4130-8945-c24082f2b4fe
time=2026-01-03T14:42:23.324-03:00 level=INFO msg="beat created" beat_id=a4dcbb29-fb66-436e-80b0-cbaa2ca3741e scene_id=3ed8a99d-ab32-4248-ad7f-408b940b681e tenant_id=a98393e4-f826-4130-8945-c24082f2b4fe
=== RUN   TestBeatHandler_Delete/delete_existing_beat
time=2026-01-03T14:42:23.325-03:00 level=INFO msg="beat deleted" beat_id=a4dcbb29-fb66-436e-80b0-cbaa2ca3741e tenant_id=a98393e4-f826-4130-8945-c24082f2b4fe
time=2026-01-03T14:42:23.328-03:00 level=ERROR msg="failed to get beat" error="beat not found: a4dcbb29-fb66-436e-80b0-cbaa2ca3741e" beat_id=a4dcbb29-fb66-436e-80b0-cbaa2ca3741e tenant_id=a98393e4-f826-4130-8945-c24082f2b4fe
=== RUN   TestBeatHandler_Delete/delete_non-existing_beat
--- PASS: TestBeatHandler_Delete (0.28s)
    --- PASS: TestBeatHandler_Delete/delete_existing_beat (0.00s)
    --- PASS: TestBeatHandler_Delete/delete_non-existing_beat (0.00s)
=== RUN   TestChapterHandler_Create
time=2026-01-03T14:42:23.579-03:00 level=INFO msg="tenant created" tenant_id=4f465b72-7cd5-4b1f-ae42-9d3e50d63d89 name="Test Tenant"
time=2026-01-03T14:42:23.580-03:00 level=INFO msg="world created" world_id=4316cdd4-cdb7-4ec3-8031-ad720b3a17c1 name="World of Test Story" tenant_id=4f465b72-7cd5-4b1f-ae42-9d3e50d63d89
time=2026-01-03T14:42:23.580-03:00 level=INFO msg="created implicit world for story" world_id=4316cdd4-cdb7-4ec3-8031-ad720b3a17c1 story_title="Test Story"
time=2026-01-03T14:42:23.585-03:00 level=INFO msg="story created" story_id=ebee789d-314b-4932-a6f1-80361f77fcad title="Test Story" tenant_id=4f465b72-7cd5-4b1f-ae42-9d3e50d63d89
=== RUN   TestChapterHandler_Create/successful_creation
time=2026-01-03T14:42:23.587-03:00 level=INFO msg="chapter created" chapter_id=452273d0-dcfa-40bd-a80f-448df5941d5e story_id=ebee789d-314b-4932-a6f1-80361f77fcad tenant_id=4f465b72-7cd5-4b1f-ae42-9d3e50d63d89
=== RUN   TestChapterHandler_Create/missing_tenant_id
--- PASS: TestChapterHandler_Create (0.21s)
    --- PASS: TestChapterHandler_Create/successful_creation (0.00s)
    --- PASS: TestChapterHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestChapterHandler_Get
time=2026-01-03T14:42:23.752-03:00 level=INFO msg="tenant created" tenant_id=9905a25b-b081-4d40-839f-38232ea39a1e name="Test Tenant"
time=2026-01-03T14:42:23.753-03:00 level=INFO msg="world created" world_id=b0d0cf3e-71bc-4a76-b722-d1d8036e6335 name="World of Test Story" tenant_id=9905a25b-b081-4d40-839f-38232ea39a1e
time=2026-01-03T14:42:23.753-03:00 level=INFO msg="created implicit world for story" world_id=b0d0cf3e-71bc-4a76-b722-d1d8036e6335 story_title="Test Story"
time=2026-01-03T14:42:23.754-03:00 level=INFO msg="story created" story_id=f393b217-6589-417f-a484-0f016fbf1c7c title="Test Story" tenant_id=9905a25b-b081-4d40-839f-38232ea39a1e
time=2026-01-03T14:42:23.757-03:00 level=INFO msg="chapter created" chapter_id=a6e006f2-7fd4-4a1a-a6ab-1602d804065e story_id=f393b217-6589-417f-a484-0f016fbf1c7c tenant_id=9905a25b-b081-4d40-839f-38232ea39a1e
=== RUN   TestChapterHandler_Get/existing_chapter
=== RUN   TestChapterHandler_Get/non-existing_chapter
time=2026-01-03T14:42:23.758-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 00000000-0000-0000-0000-000000000000" chapter_id=00000000-0000-0000-0000-000000000000 tenant_id=9905a25b-b081-4d40-839f-38232ea39a1e
--- PASS: TestChapterHandler_Get (0.18s)
    --- PASS: TestChapterHandler_Get/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Get/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_List
time=2026-01-03T14:42:23.974-03:00 level=INFO msg="tenant created" tenant_id=a30e50d1-bb06-4860-b052-41efe4f1c2af name="Test Tenant"
time=2026-01-03T14:42:23.975-03:00 level=INFO msg="world created" world_id=def8babf-b666-4352-ae9b-d413af316b84 name="World of Test Story" tenant_id=a30e50d1-bb06-4860-b052-41efe4f1c2af
time=2026-01-03T14:42:23.975-03:00 level=INFO msg="created implicit world for story" world_id=def8babf-b666-4352-ae9b-d413af316b84 story_title="Test Story"
time=2026-01-03T14:42:23.983-03:00 level=INFO msg="story created" story_id=d10e0e8f-386b-4caf-ab03-c9da864dc6b6 title="Test Story" tenant_id=a30e50d1-bb06-4860-b052-41efe4f1c2af
time=2026-01-03T14:42:23.988-03:00 level=INFO msg="chapter created" chapter_id=bda738b1-8bd9-4f99-a353-e16a6178edab story_id=d10e0e8f-386b-4caf-ab03-c9da864dc6b6 tenant_id=a30e50d1-bb06-4860-b052-41efe4f1c2af
time=2026-01-03T14:42:23.991-03:00 level=INFO msg="chapter created" chapter_id=544ae96e-f6a0-402a-8652-0bbbd39fc6b0 story_id=d10e0e8f-386b-4caf-ab03-c9da864dc6b6 tenant_id=a30e50d1-bb06-4860-b052-41efe4f1c2af
time=2026-01-03T14:42:23.991-03:00 level=INFO msg="chapter created" chapter_id=ffd78db0-2db4-437a-9016-5cd002761952 story_id=d10e0e8f-386b-4caf-ab03-c9da864dc6b6 tenant_id=a30e50d1-bb06-4860-b052-41efe4f1c2af
=== RUN   TestChapterHandler_List/list_chapters
--- PASS: TestChapterHandler_List (0.26s)
    --- PASS: TestChapterHandler_List/list_chapters (0.00s)
=== RUN   TestChapterHandler_Update
time=2026-01-03T14:42:24.203-03:00 level=INFO msg="tenant created" tenant_id=16d2e6a0-d169-4934-b0af-98c7a96eee0c name="Test Tenant"
time=2026-01-03T14:42:24.204-03:00 level=INFO msg="world created" world_id=d70d4d21-7e26-4b8d-b39b-e14ddb114163 name="World of Test Story" tenant_id=16d2e6a0-d169-4934-b0af-98c7a96eee0c
time=2026-01-03T14:42:24.204-03:00 level=INFO msg="created implicit world for story" world_id=d70d4d21-7e26-4b8d-b39b-e14ddb114163 story_title="Test Story"
time=2026-01-03T14:42:24.205-03:00 level=INFO msg="story created" story_id=5d3a6e63-69c5-4b0b-b8dc-cbaa3992cd69 title="Test Story" tenant_id=16d2e6a0-d169-4934-b0af-98c7a96eee0c
time=2026-01-03T14:42:24.206-03:00 level=INFO msg="chapter created" chapter_id=59c88d05-460c-44a5-9766-82a84826146e story_id=5d3a6e63-69c5-4b0b-b8dc-cbaa3992cd69 tenant_id=16d2e6a0-d169-4934-b0af-98c7a96eee0c
=== RUN   TestChapterHandler_Update/update_chapter_title
time=2026-01-03T14:42:24.207-03:00 level=INFO msg="chapter updated" chapter_id=59c88d05-460c-44a5-9766-82a84826146e tenant_id=16d2e6a0-d169-4934-b0af-98c7a96eee0c
=== RUN   TestChapterHandler_Update/non-existing_chapter
--- PASS: TestChapterHandler_Update (0.20s)
    --- PASS: TestChapterHandler_Update/update_chapter_title (0.00s)
    --- PASS: TestChapterHandler_Update/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_Delete
time=2026-01-03T14:42:24.451-03:00 level=INFO msg="tenant created" tenant_id=26c8dd9b-ecd3-406d-8ee2-bc833b318897 name="Test Tenant"
time=2026-01-03T14:42:24.452-03:00 level=INFO msg="world created" world_id=89940be2-e839-435d-b605-bad09039da2d name="World of Test Story" tenant_id=26c8dd9b-ecd3-406d-8ee2-bc833b318897
time=2026-01-03T14:42:24.452-03:00 level=INFO msg="created implicit world for story" world_id=89940be2-e839-435d-b605-bad09039da2d story_title="Test Story"
time=2026-01-03T14:42:24.453-03:00 level=INFO msg="story created" story_id=9ed81e10-a92d-4a9c-a02b-acfa000459a8 title="Test Story" tenant_id=26c8dd9b-ecd3-406d-8ee2-bc833b318897
time=2026-01-03T14:42:24.454-03:00 level=INFO msg="chapter created" chapter_id=14943c91-a603-4c76-8565-fcf1d8d5b1f8 story_id=9ed81e10-a92d-4a9c-a02b-acfa000459a8 tenant_id=26c8dd9b-ecd3-406d-8ee2-bc833b318897
=== RUN   TestChapterHandler_Delete/delete_existing_chapter
time=2026-01-03T14:42:24.456-03:00 level=INFO msg="chapter deleted" chapter_id=14943c91-a603-4c76-8565-fcf1d8d5b1f8 tenant_id=26c8dd9b-ecd3-406d-8ee2-bc833b318897
time=2026-01-03T14:42:24.457-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 14943c91-a603-4c76-8565-fcf1d8d5b1f8" chapter_id=14943c91-a603-4c76-8565-fcf1d8d5b1f8 tenant_id=26c8dd9b-ecd3-406d-8ee2-bc833b318897
=== RUN   TestChapterHandler_Delete/delete_non-existing_chapter
--- PASS: TestChapterHandler_Delete (0.24s)
    --- PASS: TestChapterHandler_Delete/delete_existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Delete/delete_non-existing_chapter (0.00s)
=== RUN   TestCharacterHandler_Create
time=2026-01-03T14:42:24.721-03:00 level=INFO msg="tenant created" tenant_id=1e8c9c8f-8ba1-42a4-bee0-53fc81d7d142 name="Test Tenant"
time=2026-01-03T14:42:24.722-03:00 level=INFO msg="world created" world_id=737b06f0-769a-4668-8e7f-88f1addfd5b9 name="Test World" tenant_id=1e8c9c8f-8ba1-42a4-bee0-53fc81d7d142
=== RUN   TestCharacterHandler_Create/successful_creation
time=2026-01-03T14:42:24.724-03:00 level=INFO msg="character created" character_id=26245603-71c3-48a8-8eaa-0e654ec23b61 name="Test Character"
=== RUN   TestCharacterHandler_Create/missing_tenant_id
=== RUN   TestCharacterHandler_Create/empty_name
--- PASS: TestCharacterHandler_Create (0.27s)
    --- PASS: TestCharacterHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestCharacterHandler_Create/empty_name (0.00s)
=== RUN   TestCharacterHandler_Get
time=2026-01-03T14:42:24.957-03:00 level=INFO msg="tenant created" tenant_id=f851b01c-97b7-497d-9120-4d82640f92d3 name="Test Tenant"
time=2026-01-03T14:42:24.958-03:00 level=INFO msg="world created" world_id=5510c392-170c-4261-a2ed-dbb18f15f11f name="Test World" tenant_id=f851b01c-97b7-497d-9120-4d82640f92d3
time=2026-01-03T14:42:24.960-03:00 level=INFO msg="character created" character_id=3b02855d-ce06-4a56-abcd-5a1c429a2f2c name="Get Test Character"
=== RUN   TestCharacterHandler_Get/existing_character
=== RUN   TestCharacterHandler_Get/non-existing_character
time=2026-01-03T14:42:24.960-03:00 level=ERROR msg="failed to get character" error="character not found: 00000000-0000-0000-0000-000000000000" character_id=00000000-0000-0000-0000-000000000000
=== RUN   TestCharacterHandler_Get/invalid_character_ID
--- PASS: TestCharacterHandler_Get (0.23s)
    --- PASS: TestCharacterHandler_Get/existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/non-existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/invalid_character_ID (0.00s)
=== RUN   TestCharacterHandler_List
time=2026-01-03T14:42:25.173-03:00 level=INFO msg="tenant created" tenant_id=ddf7cc32-e845-4d09-a421-427bd08d68d0 name="Test Tenant"
time=2026-01-03T14:42:25.174-03:00 level=INFO msg="world created" world_id=58b95cde-1f90-4e4c-a766-49cb05c3aee4 name="Test World" tenant_id=ddf7cc32-e845-4d09-a421-427bd08d68d0
time=2026-01-03T14:42:25.175-03:00 level=INFO msg="character created" character_id=160352b3-1804-4206-b4ea-fcfb873b0775 name="Character 1"
time=2026-01-03T14:42:25.176-03:00 level=INFO msg="character created" character_id=74ec427f-b179-4f3a-8676-023868da9be2 name="Character 2"
time=2026-01-03T14:42:25.177-03:00 level=INFO msg="character created" character_id=2e046730-2c1a-4fec-90b3-b33e938a3685 name="Character 3"
=== RUN   TestCharacterHandler_List/list_characters
=== RUN   TestCharacterHandler_List/missing_tenant_id
--- PASS: TestCharacterHandler_List (0.24s)
    --- PASS: TestCharacterHandler_List/list_characters (0.00s)
    --- PASS: TestCharacterHandler_List/missing_tenant_id (0.00s)
=== RUN   TestCharacterHandler_Update
time=2026-01-03T14:42:25.383-03:00 level=INFO msg="tenant created" tenant_id=5204f0b2-d4e7-44b9-8651-61ed3e1b8d36 name="Test Tenant"
time=2026-01-03T14:42:25.384-03:00 level=INFO msg="world created" world_id=44df1d3f-60ca-4071-9362-b0b9d8744bd0 name="Test World" tenant_id=5204f0b2-d4e7-44b9-8651-61ed3e1b8d36
time=2026-01-03T14:42:25.386-03:00 level=INFO msg="character created" character_id=b8f33f42-2e88-45a8-92b5-7bb986fc09ab name="Original Character"
=== RUN   TestCharacterHandler_Update/update_character_name
time=2026-01-03T14:42:25.387-03:00 level=INFO msg="character updated" character_id=b8f33f42-2e88-45a8-92b5-7bb986fc09ab name="Updated Character"
=== RUN   TestCharacterHandler_Update/non-existing_character
--- PASS: TestCharacterHandler_Update (0.19s)
    --- PASS: TestCharacterHandler_Update/update_character_name (0.00s)
    --- PASS: TestCharacterHandler_Update/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_Delete
time=2026-01-03T14:42:25.625-03:00 level=INFO msg="tenant created" tenant_id=3c25fe4a-42e9-4689-b6b7-3e2bb75ee967 name="Test Tenant"
time=2026-01-03T14:42:25.626-03:00 level=INFO msg="world created" world_id=274b4841-ec3d-4d23-8df1-be8b4cfbbf1d name="Test World" tenant_id=3c25fe4a-42e9-4689-b6b7-3e2bb75ee967
time=2026-01-03T14:42:25.628-03:00 level=INFO msg="character created" character_id=53a8065d-0894-4f31-8294-ae53fb6c879e name="Character to Delete"
=== RUN   TestCharacterHandler_Delete/delete_existing_character
time=2026-01-03T14:42:25.630-03:00 level=INFO msg="character deleted" character_id=53a8065d-0894-4f31-8294-ae53fb6c879e name="Character to Delete"
time=2026-01-03T14:42:25.631-03:00 level=ERROR msg="failed to get character" error="character not found: 53a8065d-0894-4f31-8294-ae53fb6c879e" character_id=53a8065d-0894-4f31-8294-ae53fb6c879e
=== RUN   TestCharacterHandler_Delete/delete_non-existing_character
--- PASS: TestCharacterHandler_Delete (0.25s)
    --- PASS: TestCharacterHandler_Delete/delete_existing_character (0.00s)
    --- PASS: TestCharacterHandler_Delete/delete_non-existing_character (0.00s)
=== RUN   TestCharacterRPGStatsHandler_Create
time=2026-01-03T14:42:25.827-03:00 level=INFO msg="tenant created" tenant_id=e0450016-bea4-401b-8874-9e3b41e1caa2 name="Test Tenant"
time=2026-01-03T14:42:25.828-03:00 level=INFO msg="world created" world_id=f6645118-c800-42d4-8544-d6ac73b7329e name="Test World" tenant_id=e0450016-bea4-401b-8874-9e3b41e1caa2
time=2026-01-03T14:42:25.830-03:00 level=INFO msg="character created" character_id=00d079e4-c03c-43d5-8bf5-58339143b63c name="Test Character"
=== RUN   TestCharacterRPGStatsHandler_Create/successful_creation
time=2026-01-03T14:42:25.833-03:00 level=INFO msg="character RPG stats created" character_id=00d079e4-c03c-43d5-8bf5-58339143b63c version=1
=== RUN   TestCharacterRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestCharacterRPGStatsHandler_Create (0.19s)
    --- PASS: TestCharacterRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestCharacterRPGStatsHandler_GetActive
time=2026-01-03T14:42:26.058-03:00 level=INFO msg="tenant created" tenant_id=ab32e132-5d04-4e51-b854-29b7c69fe582 name="Test Tenant"
time=2026-01-03T14:42:26.059-03:00 level=INFO msg="world created" world_id=9ff44a1a-6278-4970-a8cd-7535b08a7233 name="Test World" tenant_id=ab32e132-5d04-4e51-b854-29b7c69fe582
time=2026-01-03T14:42:26.061-03:00 level=INFO msg="character created" character_id=3272248c-d5d1-41f3-9701-e3c05149ee58 name="Test Character"
time=2026-01-03T14:42:26.064-03:00 level=INFO msg="character RPG stats created" character_id=3272248c-d5d1-41f3-9701-e3c05149ee58 version=1
=== RUN   TestCharacterRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestCharacterRPGStatsHandler_GetActive (0.26s)
    --- PASS: TestCharacterRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestCharacterSkillHandler_Learn
time=2026-01-03T14:42:26.292-03:00 level=INFO msg="tenant created" tenant_id=b96f235a-1a9f-4f69-8459-d06fe966bb30 name="Test Tenant"
time=2026-01-03T14:42:26.293-03:00 level=INFO msg="world created" world_id=8d883f7f-6f71-4016-b179-cef0ffa5040a name="Test World" tenant_id=b96f235a-1a9f-4f69-8459-d06fe966bb30
time=2026-01-03T14:42:26.295-03:00 level=INFO msg="character created" character_id=13fbb99b-132b-46fd-9358-ee2a14079aaf name="Test Character"
time=2026-01-03T14:42:26.296-03:00 level=INFO msg="RPG system created" rpg_system_id=22675122-75ee-4097-9e18-ae04897fa592 name="Test RPG System"
time=2026-01-03T14:42:26.297-03:00 level=INFO msg="skill created" skill_id=dd2d55bb-68df-4906-a43f-b7521df3ae6e name="Test Skill"
=== RUN   TestCharacterSkillHandler_Learn/successful_learning
time=2026-01-03T14:42:26.299-03:00 level=INFO msg="character learned skill" character_id=13fbb99b-132b-46fd-9358-ee2a14079aaf skill_id=dd2d55bb-68df-4906-a43f-b7521df3ae6e
=== RUN   TestCharacterSkillHandler_Learn/missing_tenant_id
--- PASS: TestCharacterSkillHandler_Learn (0.22s)
    --- PASS: TestCharacterSkillHandler_Learn/successful_learning (0.00s)
    --- PASS: TestCharacterSkillHandler_Learn/missing_tenant_id (0.00s)
=== RUN   TestCharacterSkillHandler_List
time=2026-01-03T14:42:26.550-03:00 level=INFO msg="tenant created" tenant_id=1fdf6ba4-125e-4fe1-95ad-8bcda1fa6545 name="Test Tenant"
time=2026-01-03T14:42:26.551-03:00 level=INFO msg="world created" world_id=41d7ef14-0f28-4bac-a46e-4be4431a51f6 name="Test World" tenant_id=1fdf6ba4-125e-4fe1-95ad-8bcda1fa6545
time=2026-01-03T14:42:26.552-03:00 level=INFO msg="character created" character_id=ccd7309f-6088-4170-bb62-724b0d5ac765 name="Test Character"
=== RUN   TestCharacterSkillHandler_List/list_skills
--- PASS: TestCharacterSkillHandler_List (0.32s)
    --- PASS: TestCharacterSkillHandler_List/list_skills (0.00s)
=== RUN   TestContentBlockHandler_Create
time=2026-01-03T14:42:26.887-03:00 level=INFO msg="tenant created" tenant_id=5370bf4b-6b0c-4bf1-a5c1-899d18d13573 name="Test Tenant"
time=2026-01-03T14:42:26.888-03:00 level=INFO msg="world created" world_id=80f2690c-8540-4664-986b-a7efcf617e73 name="World of Test Story" tenant_id=5370bf4b-6b0c-4bf1-a5c1-899d18d13573
time=2026-01-03T14:42:26.888-03:00 level=INFO msg="created implicit world for story" world_id=80f2690c-8540-4664-986b-a7efcf617e73 story_title="Test Story"
time=2026-01-03T14:42:26.890-03:00 level=INFO msg="story created" story_id=8d2eaff5-9840-42b0-b189-9bce0c81f611 title="Test Story" tenant_id=5370bf4b-6b0c-4bf1-a5c1-899d18d13573
time=2026-01-03T14:42:26.890-03:00 level=INFO msg="chapter created" chapter_id=d6dfe3c2-082b-4823-ba9f-d914a1b4de0f story_id=8d2eaff5-9840-42b0-b189-9bce0c81f611 tenant_id=5370bf4b-6b0c-4bf1-a5c1-899d18d13573
=== RUN   TestContentBlockHandler_Create/successful_creation
time=2026-01-03T14:42:26.892-03:00 level=INFO msg="content block created" content_block_id=7249d433-4c11-4081-a972-f6ddbe078303 tenant_id=5370bf4b-6b0c-4bf1-a5c1-899d18d13573
=== RUN   TestContentBlockHandler_Create/missing_tenant_id
--- PASS: TestContentBlockHandler_Create (0.26s)
    --- PASS: TestContentBlockHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockHandler_Get
time=2026-01-03T14:42:27.074-03:00 level=INFO msg="tenant created" tenant_id=8bb180e4-e1dd-4de7-aeb3-8f0edce21a48 name="Test Tenant"
time=2026-01-03T14:42:27.076-03:00 level=INFO msg="world created" world_id=7f886e50-5cb5-46ac-b196-6a05284b3486 name="World of Test Story" tenant_id=8bb180e4-e1dd-4de7-aeb3-8f0edce21a48
time=2026-01-03T14:42:27.076-03:00 level=INFO msg="created implicit world for story" world_id=7f886e50-5cb5-46ac-b196-6a05284b3486 story_title="Test Story"
time=2026-01-03T14:42:27.078-03:00 level=INFO msg="story created" story_id=b78b9c2d-ba74-4477-8277-133c587f387f title="Test Story" tenant_id=8bb180e4-e1dd-4de7-aeb3-8f0edce21a48
time=2026-01-03T14:42:27.079-03:00 level=INFO msg="chapter created" chapter_id=4a8bc148-49b7-45dd-8d47-9d6e365979f9 story_id=b78b9c2d-ba74-4477-8277-133c587f387f tenant_id=8bb180e4-e1dd-4de7-aeb3-8f0edce21a48
time=2026-01-03T14:42:27.080-03:00 level=INFO msg="content block created" content_block_id=8d2d085a-0401-4968-903b-44c4842c1881 tenant_id=8bb180e4-e1dd-4de7-aeb3-8f0edce21a48
=== RUN   TestContentBlockHandler_Get/existing_content_block
=== RUN   TestContentBlockHandler_Get/non-existing_content_block
time=2026-01-03T14:42:27.081-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 00000000-0000-0000-0000-000000000000" content_block_id=00000000-0000-0000-0000-000000000000 tenant_id=8bb180e4-e1dd-4de7-aeb3-8f0edce21a48
--- PASS: TestContentBlockHandler_Get (0.20s)
    --- PASS: TestContentBlockHandler_Get/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Get/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_List
time=2026-01-03T14:42:27.293-03:00 level=INFO msg="tenant created" tenant_id=933418fe-0a6b-4929-8cdc-73c8e881d76d name="Test Tenant"
time=2026-01-03T14:42:27.294-03:00 level=INFO msg="world created" world_id=b63b2591-8186-4d55-9289-9800e44d531a name="World of Test Story" tenant_id=933418fe-0a6b-4929-8cdc-73c8e881d76d
time=2026-01-03T14:42:27.294-03:00 level=INFO msg="created implicit world for story" world_id=b63b2591-8186-4d55-9289-9800e44d531a story_title="Test Story"
time=2026-01-03T14:42:27.296-03:00 level=INFO msg="story created" story_id=fa913666-ed33-4b09-8330-f59d7de0bb90 title="Test Story" tenant_id=933418fe-0a6b-4929-8cdc-73c8e881d76d
time=2026-01-03T14:42:27.297-03:00 level=INFO msg="chapter created" chapter_id=4e6712f2-f497-4c49-bfd2-4e7a5d477932 story_id=fa913666-ed33-4b09-8330-f59d7de0bb90 tenant_id=933418fe-0a6b-4929-8cdc-73c8e881d76d
time=2026-01-03T14:42:27.298-03:00 level=INFO msg="content block created" content_block_id=38f7df18-92c3-4e5c-8ec7-e6075cf35449 tenant_id=933418fe-0a6b-4929-8cdc-73c8e881d76d
time=2026-01-03T14:42:27.299-03:00 level=INFO msg="content block created" content_block_id=ebd928de-aae0-4a5b-ab60-4cf5965a80d9 tenant_id=933418fe-0a6b-4929-8cdc-73c8e881d76d
time=2026-01-03T14:42:27.299-03:00 level=INFO msg="content block created" content_block_id=91abe811-ab56-4ca6-b110-2addb0e74e20 tenant_id=933418fe-0a6b-4929-8cdc-73c8e881d76d
=== RUN   TestContentBlockHandler_List/list_content_blocks
--- PASS: TestContentBlockHandler_List (0.22s)
    --- PASS: TestContentBlockHandler_List/list_content_blocks (0.00s)
=== RUN   TestContentBlockHandler_Update
time=2026-01-03T14:42:27.493-03:00 level=INFO msg="tenant created" tenant_id=fd7db4e7-2eeb-43fd-ae52-6a2233cf6bea name="Test Tenant"
time=2026-01-03T14:42:27.494-03:00 level=INFO msg="world created" world_id=5163221c-059a-40d5-8ecb-83ffcf3a84db name="World of Test Story" tenant_id=fd7db4e7-2eeb-43fd-ae52-6a2233cf6bea
time=2026-01-03T14:42:27.494-03:00 level=INFO msg="created implicit world for story" world_id=5163221c-059a-40d5-8ecb-83ffcf3a84db story_title="Test Story"
time=2026-01-03T14:42:27.496-03:00 level=INFO msg="story created" story_id=e1ebb7ef-edf8-48bc-93df-b5aba454a0eb title="Test Story" tenant_id=fd7db4e7-2eeb-43fd-ae52-6a2233cf6bea
time=2026-01-03T14:42:27.497-03:00 level=INFO msg="chapter created" chapter_id=27530d76-8909-4274-80aa-89b7b46bf302 story_id=e1ebb7ef-edf8-48bc-93df-b5aba454a0eb tenant_id=fd7db4e7-2eeb-43fd-ae52-6a2233cf6bea
time=2026-01-03T14:42:27.498-03:00 level=INFO msg="content block created" content_block_id=71c3dcee-d2f0-4ad6-a56e-c29e16a0d01e tenant_id=fd7db4e7-2eeb-43fd-ae52-6a2233cf6bea
=== RUN   TestContentBlockHandler_Update/update_content_block_content
time=2026-01-03T14:42:27.499-03:00 level=INFO msg="content block updated" content_block_id=71c3dcee-d2f0-4ad6-a56e-c29e16a0d01e tenant_id=fd7db4e7-2eeb-43fd-ae52-6a2233cf6bea
=== RUN   TestContentBlockHandler_Update/non-existing_content_block
--- PASS: TestContentBlockHandler_Update (0.19s)
    --- PASS: TestContentBlockHandler_Update/update_content_block_content (0.00s)
    --- PASS: TestContentBlockHandler_Update/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_Delete
time=2026-01-03T14:42:27.709-03:00 level=INFO msg="tenant created" tenant_id=cf87c27c-3d99-48b7-b5e7-e20ca0aaf919 name="Test Tenant"
time=2026-01-03T14:42:27.710-03:00 level=INFO msg="world created" world_id=bfa03696-6a93-47b8-9a1b-a38eb56bb1f4 name="World of Test Story" tenant_id=cf87c27c-3d99-48b7-b5e7-e20ca0aaf919
time=2026-01-03T14:42:27.710-03:00 level=INFO msg="created implicit world for story" world_id=bfa03696-6a93-47b8-9a1b-a38eb56bb1f4 story_title="Test Story"
time=2026-01-03T14:42:27.712-03:00 level=INFO msg="story created" story_id=4800d941-4158-4ef1-9ddf-d3c1ae1ff83b title="Test Story" tenant_id=cf87c27c-3d99-48b7-b5e7-e20ca0aaf919
time=2026-01-03T14:42:27.713-03:00 level=INFO msg="chapter created" chapter_id=ad1a92c7-705e-4078-b6f9-2583a426b569 story_id=4800d941-4158-4ef1-9ddf-d3c1ae1ff83b tenant_id=cf87c27c-3d99-48b7-b5e7-e20ca0aaf919
time=2026-01-03T14:42:27.714-03:00 level=INFO msg="content block created" content_block_id=363c68fa-a3d7-47ab-8769-1523fba9f2b3 tenant_id=cf87c27c-3d99-48b7-b5e7-e20ca0aaf919
=== RUN   TestContentBlockHandler_Delete/delete_existing_content_block
time=2026-01-03T14:42:27.715-03:00 level=INFO msg="content block deleted" content_block_id=363c68fa-a3d7-47ab-8769-1523fba9f2b3 tenant_id=cf87c27c-3d99-48b7-b5e7-e20ca0aaf919
time=2026-01-03T14:42:27.715-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 363c68fa-a3d7-47ab-8769-1523fba9f2b3" content_block_id=363c68fa-a3d7-47ab-8769-1523fba9f2b3 tenant_id=cf87c27c-3d99-48b7-b5e7-e20ca0aaf919
=== RUN   TestContentBlockHandler_Delete/delete_non-existing_content_block
--- PASS: TestContentBlockHandler_Delete (0.24s)
    --- PASS: TestContentBlockHandler_Delete/delete_existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Delete/delete_non-existing_content_block (0.00s)
=== RUN   TestContentBlockReferenceHandler_Create
time=2026-01-03T14:42:27.922-03:00 level=INFO msg="tenant created" tenant_id=f15d9327-a162-4244-8aff-68eaab3799be name="Test Tenant"
time=2026-01-03T14:42:27.924-03:00 level=INFO msg="world created" world_id=f36db3cf-9838-44b4-96c4-e039c005b51a name="World of Test Story" tenant_id=f15d9327-a162-4244-8aff-68eaab3799be
time=2026-01-03T14:42:27.924-03:00 level=INFO msg="created implicit world for story" world_id=f36db3cf-9838-44b4-96c4-e039c005b51a story_title="Test Story"
time=2026-01-03T14:42:27.925-03:00 level=INFO msg="story created" story_id=3fb1e670-e925-4f2c-9b84-203d727097d4 title="Test Story" tenant_id=f15d9327-a162-4244-8aff-68eaab3799be
time=2026-01-03T14:42:27.929-03:00 level=INFO msg="chapter created" chapter_id=4ee119c2-65ad-4df8-9780-828e83c4c7c9 story_id=3fb1e670-e925-4f2c-9b84-203d727097d4 tenant_id=f15d9327-a162-4244-8aff-68eaab3799be
time=2026-01-03T14:42:27.930-03:00 level=INFO msg="content block created" content_block_id=480bc2b3-898a-4070-885f-a8e19cfb8fd2 tenant_id=f15d9327-a162-4244-8aff-68eaab3799be
=== RUN   TestContentBlockReferenceHandler_Create/successful_creation
time=2026-01-03T14:42:27.930-03:00 level=INFO msg="world created" world_id=974fd55a-60c8-44bf-9359-75fa611702c1 name="Test World" tenant_id=f15d9327-a162-4244-8aff-68eaab3799be
time=2026-01-03T14:42:27.932-03:00 level=INFO msg="character created" character_id=774ecfa6-cf0a-4db1-bdc2-b7992f52a48a name="Test Character"
time=2026-01-03T14:42:27.933-03:00 level=INFO msg="content block reference created" reference_id=e24625eb-25af-4abe-aad1-8454bdaf0d52 content_block_id=480bc2b3-898a-4070-885f-a8e19cfb8fd2 tenant_id=f15d9327-a162-4244-8aff-68eaab3799be
=== RUN   TestContentBlockReferenceHandler_Create/missing_tenant_id
--- PASS: TestContentBlockReferenceHandler_Create (0.20s)
    --- PASS: TestContentBlockReferenceHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockReferenceHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockReferenceHandler_ListByContentBlock
time=2026-01-03T14:42:28.166-03:00 level=INFO msg="tenant created" tenant_id=cd5d5608-d4e5-4a4d-a612-5b96ec81b9e2 name="Test Tenant"
time=2026-01-03T14:42:28.167-03:00 level=INFO msg="world created" world_id=530a9d35-11c9-418f-9709-e6eeb3311fae name="World of Test Story" tenant_id=cd5d5608-d4e5-4a4d-a612-5b96ec81b9e2
time=2026-01-03T14:42:28.167-03:00 level=INFO msg="created implicit world for story" world_id=530a9d35-11c9-418f-9709-e6eeb3311fae story_title="Test Story"
time=2026-01-03T14:42:28.168-03:00 level=INFO msg="story created" story_id=94dafd1e-1f3d-4b5d-984f-5c5dcd75e0e0 title="Test Story" tenant_id=cd5d5608-d4e5-4a4d-a612-5b96ec81b9e2
time=2026-01-03T14:42:28.169-03:00 level=INFO msg="chapter created" chapter_id=13a9e853-568c-4cf1-958e-64cf40e5ab22 story_id=94dafd1e-1f3d-4b5d-984f-5c5dcd75e0e0 tenant_id=cd5d5608-d4e5-4a4d-a612-5b96ec81b9e2
time=2026-01-03T14:42:28.171-03:00 level=INFO msg="content block created" content_block_id=52a0266d-1c3b-4e62-a7b8-d52000dd5091 tenant_id=cd5d5608-d4e5-4a4d-a612-5b96ec81b9e2
=== RUN   TestContentBlockReferenceHandler_ListByContentBlock/list_references
--- PASS: TestContentBlockReferenceHandler_ListByContentBlock (0.26s)
    --- PASS: TestContentBlockReferenceHandler_ListByContentBlock/list_references (0.01s)
=== RUN   TestEventHandler_Create
time=2026-01-03T14:42:28.405-03:00 level=INFO msg="tenant created" tenant_id=c6231ad9-6b49-4e43-be87-284b58ba80f1 name="Test Tenant"
time=2026-01-03T14:42:28.407-03:00 level=INFO msg="world created" world_id=44de6596-bb7c-4fda-be4f-3bf8afa78ce1 name="Test World" tenant_id=c6231ad9-6b49-4e43-be87-284b58ba80f1
time=2026-01-03T14:42:28.407-03:00 level=INFO msg="world created" world_id=9737f1a4-bd6c-4671-a437-a2777a13779d name="World of Test Story" tenant_id=c6231ad9-6b49-4e43-be87-284b58ba80f1
time=2026-01-03T14:42:28.407-03:00 level=INFO msg="created implicit world for story" world_id=9737f1a4-bd6c-4671-a437-a2777a13779d story_title="Test Story"
time=2026-01-03T14:42:28.409-03:00 level=INFO msg="story created" story_id=236e70a5-3078-4e17-8d93-cf24f3a7cac0 title="Test Story" tenant_id=c6231ad9-6b49-4e43-be87-284b58ba80f1
time=2026-01-03T14:42:28.410-03:00 level=INFO msg="chapter created" chapter_id=797e4ef2-e61f-46c6-b41a-76a9ade23efc story_id=236e70a5-3078-4e17-8d93-cf24f3a7cac0 tenant_id=c6231ad9-6b49-4e43-be87-284b58ba80f1
time=2026-01-03T14:42:28.411-03:00 level=INFO msg="scene created" scene_id=135df8ff-2499-4a3f-8b66-415a8ec23d82 story_id=236e70a5-3078-4e17-8d93-cf24f3a7cac0 tenant_id=c6231ad9-6b49-4e43-be87-284b58ba80f1
=== RUN   TestEventHandler_Create/successful_creation
time=2026-01-03T14:42:28.412-03:00 level=INFO msg="event created" event_id=6f1a4b6d-f0a5-4003-9f71-b935057380f4 world_id=44de6596-bb7c-4fda-be4f-3bf8afa78ce1
=== RUN   TestEventHandler_Create/empty_name
=== RUN   TestEventHandler_Create/missing_tenant_id
--- PASS: TestEventHandler_Create (0.22s)
    --- PASS: TestEventHandler_Create/successful_creation (0.00s)
    --- PASS: TestEventHandler_Create/empty_name (0.00s)
    --- PASS: TestEventHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestEventHandler_Get
time=2026-01-03T14:42:28.652-03:00 level=INFO msg="tenant created" tenant_id=c2eaec14-739a-40a9-88e1-af8e199d43ab name="Test Tenant"
time=2026-01-03T14:42:28.654-03:00 level=INFO msg="world created" world_id=be287e61-20c6-4232-8439-6e8959b7e876 name="Test World" tenant_id=c2eaec14-739a-40a9-88e1-af8e199d43ab
time=2026-01-03T14:42:28.660-03:00 level=INFO msg="world created" world_id=beb9a739-3483-438a-966b-ace08fb4a92a name="World of Test Story" tenant_id=c2eaec14-739a-40a9-88e1-af8e199d43ab
time=2026-01-03T14:42:28.660-03:00 level=INFO msg="created implicit world for story" world_id=beb9a739-3483-438a-966b-ace08fb4a92a story_title="Test Story"
time=2026-01-03T14:42:28.661-03:00 level=INFO msg="story created" story_id=798fe276-1613-4023-a159-f0b5f668e8f9 title="Test Story" tenant_id=c2eaec14-739a-40a9-88e1-af8e199d43ab
time=2026-01-03T14:42:28.662-03:00 level=INFO msg="chapter created" chapter_id=460102e5-1620-4303-9041-03ee47371d2e story_id=798fe276-1613-4023-a159-f0b5f668e8f9 tenant_id=c2eaec14-739a-40a9-88e1-af8e199d43ab
time=2026-01-03T14:42:28.663-03:00 level=INFO msg="scene created" scene_id=385c3e72-00d9-45ee-9108-8b5a7192a418 story_id=798fe276-1613-4023-a159-f0b5f668e8f9 tenant_id=c2eaec14-739a-40a9-88e1-af8e199d43ab
time=2026-01-03T14:42:28.669-03:00 level=INFO msg="event created" event_id=bebf93ae-0b2a-4708-89b6-af2a50716111 world_id=be287e61-20c6-4232-8439-6e8959b7e876
=== RUN   TestEventHandler_Get/get_existing_event
=== RUN   TestEventHandler_Get/get_non-existing_event
time=2026-01-03T14:42:28.670-03:00 level=ERROR msg="failed to get event" error="event not found: 00000000-0000-0000-0000-000000000000" event_id=00000000-0000-0000-0000-000000000000
--- PASS: TestEventHandler_Get (0.27s)
    --- PASS: TestEventHandler_Get/get_existing_event (0.00s)
    --- PASS: TestEventHandler_Get/get_non-existing_event (0.00s)
=== RUN   TestInventoryHandler_AddItem
time=2026-01-03T14:42:28.950-03:00 level=INFO msg="tenant created" tenant_id=954971af-235e-4206-877a-a3313951baaa name="Test Tenant"
time=2026-01-03T14:42:28.951-03:00 level=INFO msg="world created" world_id=d0b722cd-f8b5-41b8-ac2d-41b5bbf517ab name="Test World" tenant_id=954971af-235e-4206-877a-a3313951baaa
time=2026-01-03T14:42:28.955-03:00 level=INFO msg="character created" character_id=57e414fd-b039-45c8-8502-61a6ac19fb31 name="Test Character"
time=2026-01-03T14:42:28.956-03:00 level=INFO msg="RPG system created" rpg_system_id=980d7cb7-dbe8-487e-bf4a-20e96c81a6f0 name="Test RPG System"
time=2026-01-03T14:42:28.957-03:00 level=INFO msg="inventory item created" item_id=c2429dca-e306-4fb0-8e4d-cd10ee25ea01 name="Test Item"
=== RUN   TestInventoryHandler_AddItem/successful_add_item
time=2026-01-03T14:42:28.960-03:00 level=INFO msg="item added to inventory" character_id=57e414fd-b039-45c8-8502-61a6ac19fb31 item_id=c2429dca-e306-4fb0-8e4d-cd10ee25ea01
=== RUN   TestInventoryHandler_AddItem/missing_tenant_id
--- PASS: TestInventoryHandler_AddItem (0.28s)
    --- PASS: TestInventoryHandler_AddItem/successful_add_item (0.00s)
    --- PASS: TestInventoryHandler_AddItem/missing_tenant_id (0.00s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-03T14:42:29.194-03:00 level=INFO msg="tenant created" tenant_id=148afd13-01c9-4f9a-9368-94765a72b296 name="Test Tenant"
time=2026-01-03T14:42:29.195-03:00 level=INFO msg="world created" world_id=ca644c3e-9b21-45db-8234-dd082412a619 name="Test World" tenant_id=148afd13-01c9-4f9a-9368-94765a72b296
time=2026-01-03T14:42:29.197-03:00 level=INFO msg="character created" character_id=19196de3-80ae-4148-b398-1f7fbda54cdf name="Test Character"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
--- PASS: TestInventoryHandler_ListInventory (0.23s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.00s)
=== RUN   TestInventoryHandler_DeleteInventory
time=2026-01-03T14:42:29.467-03:00 level=INFO msg="tenant created" tenant_id=99ffa1af-8ddd-4873-943a-d09458d3fad6 name="Test Tenant"
time=2026-01-03T14:42:29.468-03:00 level=INFO msg="world created" world_id=ee4f435e-89e3-4371-809c-5d3007f8d5bc name="Test World" tenant_id=99ffa1af-8ddd-4873-943a-d09458d3fad6
time=2026-01-03T14:42:29.470-03:00 level=INFO msg="character created" character_id=85e0be0d-4198-4b96-8163-40910b05ec8d name="Test Character"
time=2026-01-03T14:42:29.470-03:00 level=INFO msg="RPG system created" rpg_system_id=020536ed-2216-47ed-b05c-ae4e9b3a15af name="Test RPG System"
time=2026-01-03T14:42:29.474-03:00 level=INFO msg="inventory item created" item_id=31b97576-5c48-4c07-ac73-4ad2a2f2a7e7 name="Test Item"
time=2026-01-03T14:42:29.475-03:00 level=INFO msg="item added to inventory" character_id=85e0be0d-4198-4b96-8163-40910b05ec8d item_id=31b97576-5c48-4c07-ac73-4ad2a2f2a7e7
=== RUN   TestInventoryHandler_DeleteInventory/delete_existing_inventory_item
time=2026-01-03T14:42:29.475-03:00 level=INFO msg="item removed from inventory" id=b05a6a8e-8bb2-4c97-8587-35dd770da8a8
=== RUN   TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item
time=2026-01-03T14:42:29.475-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 00000000-0000-0000-0000-000000000000" id=00000000-0000-0000-0000-000000000000
--- PASS: TestInventoryHandler_DeleteInventory (0.28s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_existing_inventory_item (0.00s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item (0.00s)
=== RUN   TestLocationHandler_Create
time=2026-01-03T14:42:29.661-03:00 level=INFO msg="tenant created" tenant_id=04428de7-05b4-4804-ab8d-e132cddd9a25 name="Test Tenant"
time=2026-01-03T14:42:29.662-03:00 level=INFO msg="world created" world_id=e4a35a1d-6143-484c-8c66-14820f6c6c9d name="Test World" tenant_id=04428de7-05b4-4804-ab8d-e132cddd9a25
=== RUN   TestLocationHandler_Create/successful_creation
time=2026-01-03T14:42:29.664-03:00 level=INFO msg="location created" location_id=449dce24-9081-406b-9731-51f3a1221e0e name="Test Location"
=== RUN   TestLocationHandler_Create/missing_tenant_id
=== RUN   TestLocationHandler_Create/empty_name
--- PASS: TestLocationHandler_Create (0.19s)
    --- PASS: TestLocationHandler_Create/successful_creation (0.00s)
    --- PASS: TestLocationHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestLocationHandler_Create/empty_name (0.00s)
=== RUN   TestLocationHandler_Get
time=2026-01-03T14:42:29.890-03:00 level=INFO msg="tenant created" tenant_id=1b63afa0-b141-4996-b8bc-90f34bfe64af name="Test Tenant"
time=2026-01-03T14:42:29.891-03:00 level=INFO msg="world created" world_id=6dbed483-5391-403c-9d0c-e676d934447f name="Test World" tenant_id=1b63afa0-b141-4996-b8bc-90f34bfe64af
time=2026-01-03T14:42:29.893-03:00 level=INFO msg="location created" location_id=5c0d2c6a-1a68-48b7-89ea-99b3d61b3ce4 name="Get Test Location"
=== RUN   TestLocationHandler_Get/existing_location
=== RUN   TestLocationHandler_Get/non-existing_location
time=2026-01-03T14:42:29.894-03:00 level=ERROR msg="failed to get location" error="location not found: 00000000-0000-0000-0000-000000000000" location_id=00000000-0000-0000-0000-000000000000
=== RUN   TestLocationHandler_Get/invalid_location_ID
--- PASS: TestLocationHandler_Get (0.23s)
    --- PASS: TestLocationHandler_Get/existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/non-existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/invalid_location_ID (0.00s)
=== RUN   TestLocationHandler_List
time=2026-01-03T14:42:30.067-03:00 level=INFO msg="tenant created" tenant_id=abe96b6b-28a2-4629-a290-53e90c697c15 name="Test Tenant"
time=2026-01-03T14:42:30.069-03:00 level=INFO msg="world created" world_id=21bf815a-1f6f-4bcf-9f3e-8f83b4b24db6 name="Test World" tenant_id=abe96b6b-28a2-4629-a290-53e90c697c15
time=2026-01-03T14:42:30.070-03:00 level=INFO msg="location created" location_id=e13ba169-ef49-4600-8151-1bae004eb879 name="Location 1"
time=2026-01-03T14:42:30.071-03:00 level=INFO msg="location created" location_id=fe8bf4b7-53ff-4970-9bb2-12736756bf6c name="Location 2"
time=2026-01-03T14:42:30.072-03:00 level=INFO msg="location created" location_id=fab51933-5541-40c8-ae3f-a89a96c6797d name="Location 3"
=== RUN   TestLocationHandler_List/list_locations
=== RUN   TestLocationHandler_List/missing_tenant_id
--- PASS: TestLocationHandler_List (0.18s)
    --- PASS: TestLocationHandler_List/list_locations (0.00s)
    --- PASS: TestLocationHandler_List/missing_tenant_id (0.00s)
=== RUN   TestLocationHandler_Update
time=2026-01-03T14:42:30.338-03:00 level=INFO msg="tenant created" tenant_id=542e6f81-aafa-4b86-9e93-a82a0d7a3105 name="Test Tenant"
time=2026-01-03T14:42:30.340-03:00 level=INFO msg="world created" world_id=64e63621-8098-479b-a254-805f6e60437f name="Test World" tenant_id=542e6f81-aafa-4b86-9e93-a82a0d7a3105
time=2026-01-03T14:42:30.342-03:00 level=INFO msg="location created" location_id=61cfc611-f213-4bc6-b5d8-b2650e519373 name="Original Location"
=== RUN   TestLocationHandler_Update/update_location_name
time=2026-01-03T14:42:30.343-03:00 level=INFO msg="location updated" location_id=61cfc611-f213-4bc6-b5d8-b2650e519373 name="Updated Location"
=== RUN   TestLocationHandler_Update/non-existing_location
--- PASS: TestLocationHandler_Update (0.24s)
    --- PASS: TestLocationHandler_Update/update_location_name (0.00s)
    --- PASS: TestLocationHandler_Update/non-existing_location (0.00s)
=== RUN   TestLocationHandler_Delete
time=2026-01-03T14:42:30.506-03:00 level=INFO msg="tenant created" tenant_id=c9906b64-c8f8-4150-9119-8daa0d7a9004 name="Test Tenant"
time=2026-01-03T14:42:30.508-03:00 level=INFO msg="world created" world_id=5e75bb88-76ae-458e-944a-026de88e91de name="Test World" tenant_id=c9906b64-c8f8-4150-9119-8daa0d7a9004
time=2026-01-03T14:42:30.509-03:00 level=INFO msg="location created" location_id=96353332-b921-4463-a16c-2168a130d29a name="Location to Delete"
=== RUN   TestLocationHandler_Delete/delete_existing_location
time=2026-01-03T14:42:30.511-03:00 level=INFO msg="location deleted" location_id=96353332-b921-4463-a16c-2168a130d29a name="Location to Delete"
time=2026-01-03T14:42:30.511-03:00 level=ERROR msg="failed to get location" error="location not found: 96353332-b921-4463-a16c-2168a130d29a" location_id=96353332-b921-4463-a16c-2168a130d29a
=== RUN   TestLocationHandler_Delete/delete_non-existing_location
--- PASS: TestLocationHandler_Delete (0.20s)
    --- PASS: TestLocationHandler_Delete/delete_existing_location (0.00s)
    --- PASS: TestLocationHandler_Delete/delete_non-existing_location (0.00s)
=== RUN   TestRPGClassHandler_Create
time=2026-01-03T14:42:30.703-03:00 level=INFO msg="tenant created" tenant_id=e04cc8f9-f264-4987-aa3b-28c6edd18e95 name="Test Tenant"
time=2026-01-03T14:42:30.704-03:00 level=INFO msg="RPG system created" rpg_system_id=9689df12-0d9e-4ffb-a8d8-09d7b7601308 name="Test RPG System"
=== RUN   TestRPGClassHandler_Create/successful_creation
time=2026-01-03T14:42:30.706-03:00 level=INFO msg="RPG class created" class_id=d1dae05b-4e98-4d7a-a69c-a6eff76af9a6 name="Test Class"
=== RUN   TestRPGClassHandler_Create/missing_tenant_id
--- PASS: TestRPGClassHandler_Create (0.20s)
    --- PASS: TestRPGClassHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGClassHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGClassHandler_Get
time=2026-01-03T14:42:30.877-03:00 level=INFO msg="tenant created" tenant_id=ca47c5da-4246-4d83-99f4-44dd4c172f87 name="Test Tenant"
time=2026-01-03T14:42:30.878-03:00 level=INFO msg="RPG system created" rpg_system_id=dbc868de-7387-4e34-9cad-a226c3fa2293 name="Test RPG System"
time=2026-01-03T14:42:30.880-03:00 level=INFO msg="RPG class created" class_id=de81944a-670f-4871-aa2e-f353de177520 name="Get Test Class"
=== RUN   TestRPGClassHandler_Get/existing_rpg_class
=== RUN   TestRPGClassHandler_Get/non-existing_rpg_class
time=2026-01-03T14:42:30.880-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Get (0.17s)
    --- PASS: TestRPGClassHandler_Get/existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Get/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_List
time=2026-01-03T14:42:31.070-03:00 level=INFO msg="tenant created" tenant_id=6ed2953f-a38e-45c5-87aa-fc10efa9c12a name="Test Tenant"
time=2026-01-03T14:42:31.071-03:00 level=INFO msg="RPG system created" rpg_system_id=1371d21e-3f0d-4c0c-8ac9-e1e5d166380d name="Test RPG System"
time=2026-01-03T14:42:31.073-03:00 level=INFO msg="RPG class created" class_id=eb5ad3cd-c3fd-4a0d-af75-86a69efa63e1 name="Class 1"
time=2026-01-03T14:42:31.073-03:00 level=INFO msg="RPG class created" class_id=0b341d6e-8f13-4708-87bd-3520019d496d name="Class 2"
time=2026-01-03T14:42:31.073-03:00 level=INFO msg="RPG class created" class_id=7273cb60-f2f2-41a9-af2d-7887493257b3 name="Class 3"
=== RUN   TestRPGClassHandler_List/list_rpg_classes
--- PASS: TestRPGClassHandler_List (0.18s)
    --- PASS: TestRPGClassHandler_List/list_rpg_classes (0.00s)
=== RUN   TestRPGClassHandler_Update
time=2026-01-03T14:42:31.259-03:00 level=INFO msg="tenant created" tenant_id=e0176a76-84d1-4abf-b268-49e25f8ab6f9 name="Test Tenant"
time=2026-01-03T14:42:31.260-03:00 level=INFO msg="RPG system created" rpg_system_id=1a0f1e2b-26f6-4376-b42e-1c03d41adb93 name="Test RPG System"
time=2026-01-03T14:42:31.262-03:00 level=INFO msg="RPG class created" class_id=48b4b6a4-0054-43a9-b13e-cb941e5fe59a name="Original Class"
=== RUN   TestRPGClassHandler_Update/update_rpg_class_name
time=2026-01-03T14:42:31.263-03:00 level=INFO msg="RPG class updated" class_id=48b4b6a4-0054-43a9-b13e-cb941e5fe59a
=== RUN   TestRPGClassHandler_Update/non-existing_rpg_class
--- PASS: TestRPGClassHandler_Update (0.20s)
    --- PASS: TestRPGClassHandler_Update/update_rpg_class_name (0.00s)
    --- PASS: TestRPGClassHandler_Update/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_Delete
time=2026-01-03T14:42:31.422-03:00 level=INFO msg="tenant created" tenant_id=ca69101e-2320-4d8e-83ae-deb1fb8a5b01 name="Test Tenant"
time=2026-01-03T14:42:31.424-03:00 level=INFO msg="RPG system created" rpg_system_id=78ed906b-4b7e-48d3-a49d-c59a686c2fd5 name="Test RPG System"
time=2026-01-03T14:42:31.425-03:00 level=INFO msg="RPG class created" class_id=b5eb8f89-f2fa-4e4c-ba04-378dde7b7f41 name="Class to Delete"
=== RUN   TestRPGClassHandler_Delete/delete_existing_rpg_class
time=2026-01-03T14:42:31.426-03:00 level=INFO msg="RPG class deleted" class_id=b5eb8f89-f2fa-4e4c-ba04-378dde7b7f41
time=2026-01-03T14:42:31.426-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: b5eb8f89-f2fa-4e4c-ba04-378dde7b7f41" class_id=b5eb8f89-f2fa-4e4c-ba04-378dde7b7f41
=== RUN   TestRPGClassHandler_Delete/delete_non-existing_rpg_class
time=2026-01-03T14:42:31.427-03:00 level=ERROR msg="failed to delete RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Delete (0.16s)
    --- PASS: TestRPGClassHandler_Delete/delete_existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Delete/delete_non-existing_rpg_class (0.00s)
=== RUN   TestRPGSystemHandler_Create
time=2026-01-03T14:42:31.589-03:00 level=INFO msg="tenant created" tenant_id=6779f618-4fcd-45fc-bc92-303f40f5ce1c name="Test Tenant"
=== RUN   TestRPGSystemHandler_Create/successful_creation
time=2026-01-03T14:42:31.591-03:00 level=INFO msg="RPG system created" rpg_system_id=3b45ed92-dd93-4a69-a7d6-15ad562b8b46 name="Test RPG System"
=== RUN   TestRPGSystemHandler_Create/missing_tenant_id
--- PASS: TestRPGSystemHandler_Create (0.17s)
    --- PASS: TestRPGSystemHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGSystemHandler_Get
time=2026-01-03T14:42:31.800-03:00 level=INFO msg="tenant created" tenant_id=d1d3c571-4859-431d-a88a-8064d3884fb8 name="Test Tenant"
time=2026-01-03T14:42:31.800-03:00 level=INFO msg="RPG system created" rpg_system_id=7235e731-bada-4e17-bb78-c97e1926d3e0 name="Get Test RPG System"
=== RUN   TestRPGSystemHandler_Get/existing_rpg_system
=== RUN   TestRPGSystemHandler_Get/non-existing_rpg_system
time=2026-01-03T14:42:31.801-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 00000000-0000-0000-0000-000000000000" rpg_system_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGSystemHandler_Get (0.21s)
    --- PASS: TestRPGSystemHandler_Get/existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Get/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_List
time=2026-01-03T14:42:32.002-03:00 level=INFO msg="tenant created" tenant_id=4b030060-933a-4ae3-ac2d-c7bae0a3b783 name="Test Tenant"
time=2026-01-03T14:42:32.002-03:00 level=INFO msg="RPG system created" rpg_system_id=2fd4550c-9d0d-4916-9814-c211dc7f5ad8 name="RPG System 1"
time=2026-01-03T14:42:32.003-03:00 level=INFO msg="RPG system created" rpg_system_id=0372ed91-d418-4d66-8c74-60795f65c4c6 name="RPG System 2"
time=2026-01-03T14:42:32.003-03:00 level=INFO msg="RPG system created" rpg_system_id=09619f26-0da7-4369-988c-07ff37816223 name="RPG System 3"
=== RUN   TestRPGSystemHandler_List/list_rpg_systems
--- PASS: TestRPGSystemHandler_List (0.21s)
    --- PASS: TestRPGSystemHandler_List/list_rpg_systems (0.00s)
=== RUN   TestRPGSystemHandler_Update
time=2026-01-03T14:42:32.234-03:00 level=INFO msg="tenant created" tenant_id=bb12b512-623c-4108-8c8a-c075eafc217d name="Test Tenant"
time=2026-01-03T14:42:32.235-03:00 level=INFO msg="RPG system created" rpg_system_id=6ee3d038-3044-4d94-a452-2aa029577403 name="Original RPG System"
=== RUN   TestRPGSystemHandler_Update/update_rpg_system_name
time=2026-01-03T14:42:32.235-03:00 level=INFO msg="RPG system updated" rpg_system_id=6ee3d038-3044-4d94-a452-2aa029577403
=== RUN   TestRPGSystemHandler_Update/non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Update (0.22s)
    --- PASS: TestRPGSystemHandler_Update/update_rpg_system_name (0.00s)
    --- PASS: TestRPGSystemHandler_Update/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_Delete
time=2026-01-03T14:42:32.436-03:00 level=INFO msg="tenant created" tenant_id=a736da0f-4251-47b0-9bd6-e48dcd66342a name="Test Tenant"
time=2026-01-03T14:42:32.437-03:00 level=INFO msg="RPG system created" rpg_system_id=b8b5583d-65f5-443f-b00c-5b843b52289a name="RPG System to Delete"
=== RUN   TestRPGSystemHandler_Delete/delete_existing_rpg_system
time=2026-01-03T14:42:32.439-03:00 level=INFO msg="RPG system deleted" rpg_system_id=b8b5583d-65f5-443f-b00c-5b843b52289a
time=2026-01-03T14:42:32.439-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: b8b5583d-65f5-443f-b00c-5b843b52289a" rpg_system_id=b8b5583d-65f5-443f-b00c-5b843b52289a
=== RUN   TestRPGSystemHandler_Delete/delete_non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Delete (0.21s)
    --- PASS: TestRPGSystemHandler_Delete/delete_existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Delete/delete_non-existing_rpg_system (0.00s)
=== RUN   TestSceneHandler_Create
time=2026-01-03T14:42:32.656-03:00 level=INFO msg="tenant created" tenant_id=0f6f53aa-c2d6-4860-bed4-c39be68aee51 name="Test Tenant"
time=2026-01-03T14:42:32.658-03:00 level=INFO msg="world created" world_id=661ebf6d-b01f-433f-9891-4384bd67a4f4 name="World of Test Story" tenant_id=0f6f53aa-c2d6-4860-bed4-c39be68aee51
time=2026-01-03T14:42:32.658-03:00 level=INFO msg="created implicit world for story" world_id=661ebf6d-b01f-433f-9891-4384bd67a4f4 story_title="Test Story"
time=2026-01-03T14:42:32.659-03:00 level=INFO msg="story created" story_id=5c4f8e63-c407-48d9-8a2e-02bd0b905707 title="Test Story" tenant_id=0f6f53aa-c2d6-4860-bed4-c39be68aee51
=== RUN   TestSceneHandler_Create/successful_creation
time=2026-01-03T14:42:32.661-03:00 level=INFO msg="scene created" scene_id=f44ca006-fdd4-4e02-8892-7168d1eebc0c story_id=5c4f8e63-c407-48d9-8a2e-02bd0b905707 tenant_id=0f6f53aa-c2d6-4860-bed4-c39be68aee51
=== RUN   TestSceneHandler_Create/missing_tenant_id
--- PASS: TestSceneHandler_Create (0.21s)
    --- PASS: TestSceneHandler_Create/successful_creation (0.00s)
    --- PASS: TestSceneHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSceneHandler_Get
time=2026-01-03T14:42:32.857-03:00 level=INFO msg="tenant created" tenant_id=32cfa90e-3a00-4a47-8272-903f0e0ffac1 name="Test Tenant"
time=2026-01-03T14:42:32.859-03:00 level=INFO msg="world created" world_id=8045f303-afe1-4e33-9e07-783fbd9a51ba name="World of Test Story" tenant_id=32cfa90e-3a00-4a47-8272-903f0e0ffac1
time=2026-01-03T14:42:32.859-03:00 level=INFO msg="created implicit world for story" world_id=8045f303-afe1-4e33-9e07-783fbd9a51ba story_title="Test Story"
time=2026-01-03T14:42:32.860-03:00 level=INFO msg="story created" story_id=6baeed5d-854c-4a23-a7bb-7197c18d655e title="Test Story" tenant_id=32cfa90e-3a00-4a47-8272-903f0e0ffac1
time=2026-01-03T14:42:32.861-03:00 level=INFO msg="scene created" scene_id=589187de-c1eb-4f52-9161-15d0517ffab5 story_id=6baeed5d-854c-4a23-a7bb-7197c18d655e tenant_id=32cfa90e-3a00-4a47-8272-903f0e0ffac1
=== RUN   TestSceneHandler_Get/existing_scene
=== RUN   TestSceneHandler_Get/non-existing_scene
time=2026-01-03T14:42:32.861-03:00 level=ERROR msg="failed to get scene" error="scene not found: 00000000-0000-0000-0000-000000000000" scene_id=00000000-0000-0000-0000-000000000000 tenant_id=32cfa90e-3a00-4a47-8272-903f0e0ffac1
--- PASS: TestSceneHandler_Get (0.24s)
    --- PASS: TestSceneHandler_Get/existing_scene (0.00s)
    --- PASS: TestSceneHandler_Get/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_List
time=2026-01-03T14:42:33.126-03:00 level=INFO msg="tenant created" tenant_id=70c448e2-34e4-4d0f-b583-a65a78bb9b91 name="Test Tenant"
time=2026-01-03T14:42:33.127-03:00 level=INFO msg="world created" world_id=d42a8b8d-71d3-45fa-9a83-23c37b702f5e name="World of Test Story" tenant_id=70c448e2-34e4-4d0f-b583-a65a78bb9b91
time=2026-01-03T14:42:33.127-03:00 level=INFO msg="created implicit world for story" world_id=d42a8b8d-71d3-45fa-9a83-23c37b702f5e story_title="Test Story"
time=2026-01-03T14:42:33.128-03:00 level=INFO msg="story created" story_id=c7c7ba44-66a0-4ba7-af95-0d997b79f267 title="Test Story" tenant_id=70c448e2-34e4-4d0f-b583-a65a78bb9b91
time=2026-01-03T14:42:33.129-03:00 level=INFO msg="scene created" scene_id=7c5f6528-d798-4b33-a2c2-66db145ef4e0 story_id=c7c7ba44-66a0-4ba7-af95-0d997b79f267 tenant_id=70c448e2-34e4-4d0f-b583-a65a78bb9b91
time=2026-01-03T14:42:33.130-03:00 level=INFO msg="scene created" scene_id=63b16684-2d87-4ff5-ba88-5f4cf91e6b23 story_id=c7c7ba44-66a0-4ba7-af95-0d997b79f267 tenant_id=70c448e2-34e4-4d0f-b583-a65a78bb9b91
time=2026-01-03T14:42:33.130-03:00 level=INFO msg="scene created" scene_id=62fff871-896e-4726-9179-4931f763250e story_id=c7c7ba44-66a0-4ba7-af95-0d997b79f267 tenant_id=70c448e2-34e4-4d0f-b583-a65a78bb9b91
=== RUN   TestSceneHandler_List/list_scenes
--- PASS: TestSceneHandler_List (0.20s)
    --- PASS: TestSceneHandler_List/list_scenes (0.00s)
=== RUN   TestSceneHandler_Update
time=2026-01-03T14:42:33.257-03:00 level=INFO msg="tenant created" tenant_id=c53fc14a-7894-43fc-8d7d-1d1a6dcd8628 name="Test Tenant"
time=2026-01-03T14:42:33.259-03:00 level=INFO msg="world created" world_id=37b1cf5a-fe4b-4c3b-81cb-df85c8520c3b name="World of Test Story" tenant_id=c53fc14a-7894-43fc-8d7d-1d1a6dcd8628
time=2026-01-03T14:42:33.259-03:00 level=INFO msg="created implicit world for story" world_id=37b1cf5a-fe4b-4c3b-81cb-df85c8520c3b story_title="Test Story"
time=2026-01-03T14:42:33.260-03:00 level=INFO msg="story created" story_id=5aa066e7-28d2-4d6b-9fe3-009d3693b045 title="Test Story" tenant_id=c53fc14a-7894-43fc-8d7d-1d1a6dcd8628
time=2026-01-03T14:42:33.261-03:00 level=INFO msg="scene created" scene_id=1ca08fdc-0ba2-4375-8953-a7d024f6e321 story_id=5aa066e7-28d2-4d6b-9fe3-009d3693b045 tenant_id=c53fc14a-7894-43fc-8d7d-1d1a6dcd8628
=== RUN   TestSceneHandler_Update/update_scene_goal
time=2026-01-03T14:42:33.262-03:00 level=INFO msg="scene updated" scene_id=1ca08fdc-0ba2-4375-8953-a7d024f6e321 tenant_id=c53fc14a-7894-43fc-8d7d-1d1a6dcd8628
=== RUN   TestSceneHandler_Update/non-existing_scene
--- PASS: TestSceneHandler_Update (0.17s)
    --- PASS: TestSceneHandler_Update/update_scene_goal (0.00s)
    --- PASS: TestSceneHandler_Update/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_Delete
time=2026-01-03T14:42:33.448-03:00 level=INFO msg="tenant created" tenant_id=572bd91e-efc0-422f-9af8-eda389ad7102 name="Test Tenant"
time=2026-01-03T14:42:33.450-03:00 level=INFO msg="world created" world_id=8acf5f25-5f00-4128-b32e-8b391514e07b name="World of Test Story" tenant_id=572bd91e-efc0-422f-9af8-eda389ad7102
time=2026-01-03T14:42:33.450-03:00 level=INFO msg="created implicit world for story" world_id=8acf5f25-5f00-4128-b32e-8b391514e07b story_title="Test Story"
time=2026-01-03T14:42:33.451-03:00 level=INFO msg="story created" story_id=8b21da26-f4ad-48b4-b87d-66888b287df1 title="Test Story" tenant_id=572bd91e-efc0-422f-9af8-eda389ad7102
time=2026-01-03T14:42:33.452-03:00 level=INFO msg="scene created" scene_id=d23cfb6d-c100-402e-a646-ff609bf59081 story_id=8b21da26-f4ad-48b4-b87d-66888b287df1 tenant_id=572bd91e-efc0-422f-9af8-eda389ad7102
=== RUN   TestSceneHandler_Delete/delete_existing_scene
time=2026-01-03T14:42:33.453-03:00 level=INFO msg="scene deleted" scene_id=d23cfb6d-c100-402e-a646-ff609bf59081 tenant_id=572bd91e-efc0-422f-9af8-eda389ad7102
time=2026-01-03T14:42:33.453-03:00 level=ERROR msg="failed to get scene" error="scene not found: d23cfb6d-c100-402e-a646-ff609bf59081" scene_id=d23cfb6d-c100-402e-a646-ff609bf59081 tenant_id=572bd91e-efc0-422f-9af8-eda389ad7102
=== RUN   TestSceneHandler_Delete/delete_non-existing_scene
--- PASS: TestSceneHandler_Delete (0.19s)
    --- PASS: TestSceneHandler_Delete/delete_existing_scene (0.00s)
    --- PASS: TestSceneHandler_Delete/delete_non-existing_scene (0.00s)
=== RUN   TestSkillHandler_Create
time=2026-01-03T14:42:33.678-03:00 level=INFO msg="tenant created" tenant_id=03a85bf8-49c3-4da3-8c1a-790186328856 name="Test Tenant"
time=2026-01-03T14:42:33.679-03:00 level=INFO msg="RPG system created" rpg_system_id=6e50a6f7-0b63-436d-ab51-acf5adcf6076 name="Test RPG System"
=== RUN   TestSkillHandler_Create/successful_creation
time=2026-01-03T14:42:33.681-03:00 level=INFO msg="skill created" skill_id=96b36275-1f87-4f21-8a21-faf1f4508347 name="Test Skill"
=== RUN   TestSkillHandler_Create/missing_tenant_id
--- PASS: TestSkillHandler_Create (0.23s)
    --- PASS: TestSkillHandler_Create/successful_creation (0.00s)
    --- PASS: TestSkillHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSkillHandler_Get
time=2026-01-03T14:42:33.869-03:00 level=INFO msg="tenant created" tenant_id=1e5699b6-db34-42d2-b571-777d9d7085d9 name="Test Tenant"
time=2026-01-03T14:42:33.870-03:00 level=INFO msg="RPG system created" rpg_system_id=584ed2c1-5ea9-4f64-a567-5290b433acf0 name="Test RPG System"
time=2026-01-03T14:42:33.871-03:00 level=INFO msg="skill created" skill_id=8ba5726f-297a-4de4-a015-5c8c9e396dd4 name="Get Test Skill"
=== RUN   TestSkillHandler_Get/existing_skill
=== RUN   TestSkillHandler_Get/non-existing_skill
time=2026-01-03T14:42:33.871-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Get (0.20s)
    --- PASS: TestSkillHandler_Get/existing_skill (0.00s)
    --- PASS: TestSkillHandler_Get/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_List
time=2026-01-03T14:42:34.066-03:00 level=INFO msg="tenant created" tenant_id=4a80aa9a-cbbd-4a96-9b4f-41322d3cd734 name="Test Tenant"
time=2026-01-03T14:42:34.067-03:00 level=INFO msg="RPG system created" rpg_system_id=bbb39671-10f7-42b8-b701-65a0a5615498 name="Test RPG System"
time=2026-01-03T14:42:34.069-03:00 level=INFO msg="skill created" skill_id=a8ee8b14-ab6e-46bd-8162-d2351e2c45c4 name="Skill 1"
time=2026-01-03T14:42:34.069-03:00 level=INFO msg="skill created" skill_id=13ac31de-8224-4847-ace1-58f60f703d37 name="Skill 2"
time=2026-01-03T14:42:34.070-03:00 level=INFO msg="skill created" skill_id=098b7f7f-69a3-41f4-bcc6-6194b9e67b01 name="Skill 3"
=== RUN   TestSkillHandler_List/list_skills
--- PASS: TestSkillHandler_List (0.20s)
    --- PASS: TestSkillHandler_List/list_skills (0.00s)
=== RUN   TestSkillHandler_Update
time=2026-01-03T14:42:34.260-03:00 level=INFO msg="tenant created" tenant_id=8428ac91-afd3-49b0-a6ed-8023663a6b4f name="Test Tenant"
time=2026-01-03T14:42:34.261-03:00 level=INFO msg="RPG system created" rpg_system_id=ef43ed05-1a3b-45cd-b893-31d338f75a9a name="Test RPG System"
time=2026-01-03T14:42:34.263-03:00 level=INFO msg="skill created" skill_id=44848b0a-30c7-4a12-8813-1dd5f2b0f91c name="Original Skill"
=== RUN   TestSkillHandler_Update/update_skill_name
time=2026-01-03T14:42:34.264-03:00 level=INFO msg="skill updated" skill_id=44848b0a-30c7-4a12-8813-1dd5f2b0f91c
=== RUN   TestSkillHandler_Update/non-existing_skill
--- PASS: TestSkillHandler_Update (0.19s)
    --- PASS: TestSkillHandler_Update/update_skill_name (0.00s)
    --- PASS: TestSkillHandler_Update/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_Delete
time=2026-01-03T14:42:34.463-03:00 level=INFO msg="tenant created" tenant_id=1642b707-f809-49c6-9570-8179def96819 name="Test Tenant"
time=2026-01-03T14:42:34.465-03:00 level=INFO msg="RPG system created" rpg_system_id=913dcfa2-f5e9-48a0-bb81-efe44e6d8de4 name="Test RPG System"
time=2026-01-03T14:42:34.466-03:00 level=INFO msg="skill created" skill_id=de2e034f-f0bb-4d58-a6af-df59e489ce62 name="Skill to Delete"
=== RUN   TestSkillHandler_Delete/delete_existing_skill
time=2026-01-03T14:42:34.467-03:00 level=INFO msg="skill deleted" skill_id=de2e034f-f0bb-4d58-a6af-df59e489ce62
time=2026-01-03T14:42:34.467-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: de2e034f-f0bb-4d58-a6af-df59e489ce62" skill_id=de2e034f-f0bb-4d58-a6af-df59e489ce62
=== RUN   TestSkillHandler_Delete/delete_non-existing_skill
time=2026-01-03T14:42:34.467-03:00 level=ERROR msg="failed to delete skill" error="skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Delete (0.23s)
    --- PASS: TestSkillHandler_Delete/delete_existing_skill (0.00s)
    --- PASS: TestSkillHandler_Delete/delete_non-existing_skill (0.00s)
=== RUN   TestStoryHandler_Create
time=2026-01-03T14:42:34.715-03:00 level=INFO msg="tenant created" tenant_id=5c9860ba-5c6f-40c6-8160-42b4b9a0a259 name="Test Tenant"
=== RUN   TestStoryHandler_Create/successful_creation
time=2026-01-03T14:42:34.716-03:00 level=INFO msg="world created" world_id=7a6ff021-f4d3-402a-9767-433df4362538 name="World of Test Story" tenant_id=5c9860ba-5c6f-40c6-8160-42b4b9a0a259
time=2026-01-03T14:42:34.716-03:00 level=INFO msg="created implicit world for story" world_id=7a6ff021-f4d3-402a-9767-433df4362538 story_title="Test Story"
time=2026-01-03T14:42:34.718-03:00 level=INFO msg="story created" story_id=fb267a1f-a5d7-44f1-a869-73ca09a27155 title="Test Story" tenant_id=5c9860ba-5c6f-40c6-8160-42b4b9a0a259
=== RUN   TestStoryHandler_Create/missing_tenant_id
=== RUN   TestStoryHandler_Create/empty_title
--- PASS: TestStoryHandler_Create (0.34s)
    --- PASS: TestStoryHandler_Create/successful_creation (0.00s)
    --- PASS: TestStoryHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestStoryHandler_Create/empty_title (0.00s)
=== RUN   TestStoryHandler_Get
time=2026-01-03T14:42:35.052-03:00 level=INFO msg="tenant created" tenant_id=3b6f28b3-3a33-430a-9f7b-9692051ce72f name="Test Tenant"
time=2026-01-03T14:42:35.053-03:00 level=INFO msg="world created" world_id=bc264462-072f-4d0c-854e-e72264888383 name="World of Get Test Story" tenant_id=3b6f28b3-3a33-430a-9f7b-9692051ce72f
time=2026-01-03T14:42:35.053-03:00 level=INFO msg="created implicit world for story" world_id=bc264462-072f-4d0c-854e-e72264888383 story_title="Get Test Story"
time=2026-01-03T14:42:35.054-03:00 level=INFO msg="story created" story_id=575f76b0-d555-4933-8e22-17d95c2c63e5 title="Get Test Story" tenant_id=3b6f28b3-3a33-430a-9f7b-9692051ce72f
=== RUN   TestStoryHandler_Get/existing_story
=== RUN   TestStoryHandler_Get/non-existing_story
time=2026-01-03T14:42:35.055-03:00 level=ERROR msg="failed to get story" error="story not found: 00000000-0000-0000-0000-000000000000" story_id=00000000-0000-0000-0000-000000000000 tenant_id=3b6f28b3-3a33-430a-9f7b-9692051ce72f
--- PASS: TestStoryHandler_Get (0.26s)
    --- PASS: TestStoryHandler_Get/existing_story (0.00s)
    --- PASS: TestStoryHandler_Get/non-existing_story (0.00s)
=== RUN   TestStoryHandler_List
time=2026-01-03T14:42:35.330-03:00 level=INFO msg="tenant created" tenant_id=5a981e47-347b-4ddc-801c-fb120e7d2ab7 name="Test Tenant"
time=2026-01-03T14:42:35.331-03:00 level=INFO msg="world created" world_id=575c50ed-67ea-494e-a026-12c2644b25f3 name="World of Story 1" tenant_id=5a981e47-347b-4ddc-801c-fb120e7d2ab7
time=2026-01-03T14:42:35.331-03:00 level=INFO msg="created implicit world for story" world_id=575c50ed-67ea-494e-a026-12c2644b25f3 story_title="Story 1"
time=2026-01-03T14:42:35.332-03:00 level=INFO msg="story created" story_id=8d461480-07ca-4bbe-96fe-ed50eb7b7c10 title="Story 1" tenant_id=5a981e47-347b-4ddc-801c-fb120e7d2ab7
time=2026-01-03T14:42:35.333-03:00 level=INFO msg="world created" world_id=4486b367-d9d9-4559-8798-cb731b988de6 name="World of Story 2" tenant_id=5a981e47-347b-4ddc-801c-fb120e7d2ab7
time=2026-01-03T14:42:35.333-03:00 level=INFO msg="created implicit world for story" world_id=4486b367-d9d9-4559-8798-cb731b988de6 story_title="Story 2"
time=2026-01-03T14:42:35.334-03:00 level=INFO msg="story created" story_id=c5a26199-4f68-420f-ba05-0e22650b2ec3 title="Story 2" tenant_id=5a981e47-347b-4ddc-801c-fb120e7d2ab7
time=2026-01-03T14:42:35.335-03:00 level=INFO msg="world created" world_id=2e6c51e3-804e-403b-a89d-1211ae826353 name="World of Story 3" tenant_id=5a981e47-347b-4ddc-801c-fb120e7d2ab7
time=2026-01-03T14:42:35.335-03:00 level=INFO msg="created implicit world for story" world_id=2e6c51e3-804e-403b-a89d-1211ae826353 story_title="Story 3"
time=2026-01-03T14:42:35.335-03:00 level=INFO msg="story created" story_id=e88b55d2-1641-487c-b481-b5726dec19e2 title="Story 3" tenant_id=5a981e47-347b-4ddc-801c-fb120e7d2ab7
=== RUN   TestStoryHandler_List/list_stories
=== RUN   TestStoryHandler_List/missing_tenant_id
--- PASS: TestStoryHandler_List (0.21s)
    --- PASS: TestStoryHandler_List/list_stories (0.00s)
    --- PASS: TestStoryHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTenantHandler_Create
=== RUN   TestTenantHandler_Create/successful_creation
time=2026-01-03T14:42:35.540-03:00 level=INFO msg="tenant created" tenant_id=ad2361bc-8b7b-4b93-9c0d-b25e9a0d5371 name="Test Tenant"
=== RUN   TestTenantHandler_Create/duplicate_name
time=2026-01-03T14:42:35.540-03:00 level=INFO msg="tenant created" tenant_id=9f407de8-30b3-4508-8868-7370448d039e name="Duplicate Tenant"
=== RUN   TestTenantHandler_Create/empty_name
=== RUN   TestTenantHandler_Create/invalid_JSON
--- PASS: TestTenantHandler_Create (0.29s)
    --- PASS: TestTenantHandler_Create/successful_creation (0.00s)
    --- PASS: TestTenantHandler_Create/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_Create/empty_name (0.00s)
    --- PASS: TestTenantHandler_Create/invalid_JSON (0.00s)
=== RUN   TestTenantHandler_Get
time=2026-01-03T14:42:35.869-03:00 level=INFO msg="tenant created" tenant_id=e08862f0-ce6f-47a4-b286-c246e8ad4a9b name="Get Test Tenant"
=== RUN   TestTenantHandler_Get/existing_tenant
=== RUN   TestTenantHandler_Get/invalid_UUID
=== RUN   TestTenantHandler_Get/non-existing_tenant
--- PASS: TestTenantHandler_Get (0.25s)
    --- PASS: TestTenantHandler_Get/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_Get/invalid_UUID (0.00s)
    --- PASS: TestTenantHandler_Get/non-existing_tenant (0.00s)
=== RUN   TestTraitHandler_Create
time=2026-01-03T14:42:36.119-03:00 level=INFO msg="tenant created" tenant_id=02fdc020-42a4-4d9c-841b-6923f1a0777b name="Test Tenant"
=== RUN   TestTraitHandler_Create/successful_creation
time=2026-01-03T14:42:36.121-03:00 level=INFO msg="trait created" trait_id=1ca612e3-19a1-4d93-afc7-f09176074275 name=Brave
=== RUN   TestTraitHandler_Create/missing_tenant_id
=== RUN   TestTraitHandler_Create/empty_name
--- PASS: TestTraitHandler_Create (0.29s)
    --- PASS: TestTraitHandler_Create/successful_creation (0.00s)
    --- PASS: TestTraitHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestTraitHandler_Create/empty_name (0.00s)
=== RUN   TestTraitHandler_Get
time=2026-01-03T14:42:36.396-03:00 level=INFO msg="tenant created" tenant_id=c39c2e40-0b73-4af0-986f-a036c2b282b0 name="Test Tenant"
time=2026-01-03T14:42:36.400-03:00 level=INFO msg="trait created" trait_id=1ff55fcb-45e9-4008-9804-410a23ba447b name="Get Test Trait"
=== RUN   TestTraitHandler_Get/existing_trait
=== RUN   TestTraitHandler_Get/non-existing_trait
time=2026-01-03T14:42:36.400-03:00 level=ERROR msg="failed to get trait" error="trait not found: 00000000-0000-0000-0000-000000000000" trait_id=00000000-0000-0000-0000-000000000000
=== RUN   TestTraitHandler_Get/invalid_trait_ID
--- PASS: TestTraitHandler_Get (0.40s)
    --- PASS: TestTraitHandler_Get/existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/non-existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/invalid_trait_ID (0.00s)
=== RUN   TestTraitHandler_List
time=2026-01-03T14:42:36.721-03:00 level=INFO msg="tenant created" tenant_id=90e7d0cb-85b5-4f4b-ba6d-1ec89b47886e name="Test Tenant"
time=2026-01-03T14:42:36.722-03:00 level=INFO msg="trait created" trait_id=aab95873-0f02-498c-af09-8e1ac7e0af98 name="Trait 1"
time=2026-01-03T14:42:36.722-03:00 level=INFO msg="trait created" trait_id=0573a99b-5d0a-4497-b726-04bd560279bf name="Trait 2"
time=2026-01-03T14:42:36.723-03:00 level=INFO msg="trait created" trait_id=1108fc45-a141-4217-b8a6-b82f032d7ea2 name="Trait 3"
=== RUN   TestTraitHandler_List/list_traits
=== RUN   TestTraitHandler_List/missing_tenant_id
--- PASS: TestTraitHandler_List (0.19s)
    --- PASS: TestTraitHandler_List/list_traits (0.00s)
    --- PASS: TestTraitHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTraitHandler_Update
time=2026-01-03T14:42:36.976-03:00 level=INFO msg="tenant created" tenant_id=d3d39b1a-daad-4f28-b073-433f27f6fce2 name="Test Tenant"
time=2026-01-03T14:42:36.978-03:00 level=INFO msg="trait created" trait_id=fe3e9893-f488-4b37-935c-93e6fbf31708 name="Original Trait"
=== RUN   TestTraitHandler_Update/update_trait_name
time=2026-01-03T14:42:36.979-03:00 level=INFO msg="trait updated" trait_id=fe3e9893-f488-4b37-935c-93e6fbf31708 name="Updated Trait"
=== RUN   TestTraitHandler_Update/non-existing_trait
--- PASS: TestTraitHandler_Update (0.26s)
    --- PASS: TestTraitHandler_Update/update_trait_name (0.00s)
    --- PASS: TestTraitHandler_Update/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_Delete
time=2026-01-03T14:42:37.258-03:00 level=INFO msg="tenant created" tenant_id=4dfaef26-fb76-4db1-9a51-d32b17d353c6 name="Test Tenant"
time=2026-01-03T14:42:37.260-03:00 level=INFO msg="trait created" trait_id=8f7ae985-2f74-4173-ac3d-acc007ab23ca name="Trait to Delete"
=== RUN   TestTraitHandler_Delete/delete_existing_trait
time=2026-01-03T14:42:37.262-03:00 level=INFO msg="trait deleted" trait_id=8f7ae985-2f74-4173-ac3d-acc007ab23ca name="Trait to Delete"
time=2026-01-03T14:42:37.262-03:00 level=ERROR msg="failed to get trait" error="trait not found: 8f7ae985-2f74-4173-ac3d-acc007ab23ca" trait_id=8f7ae985-2f74-4173-ac3d-acc007ab23ca
=== RUN   TestTraitHandler_Delete/delete_non-existing_trait
--- PASS: TestTraitHandler_Delete (0.28s)
    --- PASS: TestTraitHandler_Delete/delete_existing_trait (0.00s)
    --- PASS: TestTraitHandler_Delete/delete_non-existing_trait (0.00s)
=== RUN   TestWorldHandler_Create
time=2026-01-03T14:42:37.526-03:00 level=INFO msg="tenant created" tenant_id=59f47ae4-8109-4e05-a202-2d2acc68b07c name="Test Tenant"
=== RUN   TestWorldHandler_Create/successful_creation
time=2026-01-03T14:42:37.527-03:00 level=INFO msg="world created" world_id=90e27d5f-cb81-4e1f-8097-97d161776b72 name="Test World" tenant_id=59f47ae4-8109-4e05-a202-2d2acc68b07c
=== RUN   TestWorldHandler_Create/missing_tenant_id
=== RUN   TestWorldHandler_Create/empty_name
--- PASS: TestWorldHandler_Create (0.27s)
    --- PASS: TestWorldHandler_Create/successful_creation (0.00s)
    --- PASS: TestWorldHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestWorldHandler_Create/empty_name (0.00s)
=== RUN   TestWorldHandler_Get
time=2026-01-03T14:42:37.758-03:00 level=INFO msg="tenant created" tenant_id=75d51c9a-602c-44ba-8442-254075f5c9cb name="Test Tenant"
time=2026-01-03T14:42:37.759-03:00 level=INFO msg="world created" world_id=edf9f433-adb0-48d1-bf90-1d2b41a9c64c name="Get Test World" tenant_id=75d51c9a-602c-44ba-8442-254075f5c9cb
=== RUN   TestWorldHandler_Get/existing_world
=== RUN   TestWorldHandler_Get/non-existing_world
time=2026-01-03T14:42:37.760-03:00 level=ERROR msg="failed to get world" error="world not found: 00000000-0000-0000-0000-000000000000" world_id=00000000-0000-0000-0000-000000000000
=== RUN   TestWorldHandler_Get/invalid_world_ID
--- PASS: TestWorldHandler_Get (0.22s)
    --- PASS: TestWorldHandler_Get/existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_List
time=2026-01-03T14:42:38.483-03:00 level=INFO msg="tenant created" tenant_id=8c1211bd-9c4c-41aa-9fae-2dbb6b2a9639 name="Test Tenant"
time=2026-01-03T14:42:38.494-03:00 level=INFO msg="world created" world_id=4132ecee-337b-4912-9de9-1b510515cc67 name="World 1" tenant_id=8c1211bd-9c4c-41aa-9fae-2dbb6b2a9639
time=2026-01-03T14:42:38.496-03:00 level=INFO msg="world created" world_id=757c2f8c-3f59-42c5-a99c-bb761f3dcf96 name="World 2" tenant_id=8c1211bd-9c4c-41aa-9fae-2dbb6b2a9639
time=2026-01-03T14:42:38.497-03:00 level=INFO msg="world created" world_id=a01a9cdc-c143-41b3-835b-49c26ad5ba51 name="World 3" tenant_id=8c1211bd-9c4c-41aa-9fae-2dbb6b2a9639
=== RUN   TestWorldHandler_List/list_worlds
=== RUN   TestWorldHandler_List/missing_tenant_id
--- PASS: TestWorldHandler_List (0.76s)
    --- PASS: TestWorldHandler_List/list_worlds (0.00s)
    --- PASS: TestWorldHandler_List/missing_tenant_id (0.00s)
=== RUN   TestWorldHandler_Update
time=2026-01-03T14:42:38.764-03:00 level=INFO msg="tenant created" tenant_id=df81b4f1-4b80-4034-b885-d579f84e9fc0 name="Test Tenant"
time=2026-01-03T14:42:38.765-03:00 level=INFO msg="world created" world_id=d42dc91d-b0ec-4ddf-8a14-c448b227bb5b name="Original World" tenant_id=df81b4f1-4b80-4034-b885-d579f84e9fc0
=== RUN   TestWorldHandler_Update/update_world_name
time=2026-01-03T14:42:38.766-03:00 level=INFO msg="world updated" world_id=d42dc91d-b0ec-4ddf-8a14-c448b227bb5b name="Updated World"
=== RUN   TestWorldHandler_Update/non-existing_world
--- PASS: TestWorldHandler_Update (0.26s)
    --- PASS: TestWorldHandler_Update/update_world_name (0.00s)
    --- PASS: TestWorldHandler_Update/non-existing_world (0.00s)
=== RUN   TestWorldHandler_Delete
time=2026-01-03T14:42:38.960-03:00 level=INFO msg="tenant created" tenant_id=04883ba8-13a5-4413-963d-fdabcd52d82f name="Test Tenant"
time=2026-01-03T14:42:38.962-03:00 level=INFO msg="world created" world_id=43ea4479-17b7-4c07-ab0a-34aae08aadb1 name="World to Delete" tenant_id=04883ba8-13a5-4413-963d-fdabcd52d82f
=== RUN   TestWorldHandler_Delete/delete_existing_world
time=2026-01-03T14:42:38.965-03:00 level=INFO msg="world deleted" world_id=43ea4479-17b7-4c07-ab0a-34aae08aadb1 name="World to Delete"
time=2026-01-03T14:42:38.965-03:00 level=ERROR msg="failed to get world" error="world not found: 43ea4479-17b7-4c07-ab0a-34aae08aadb1" world_id=43ea4479-17b7-4c07-ab0a-34aae08aadb1
=== RUN   TestWorldHandler_Delete/delete_non-existing_world
--- PASS: TestWorldHandler_Delete (0.19s)
    --- PASS: TestWorldHandler_Delete/delete_existing_world (0.00s)
    --- PASS: TestWorldHandler_Delete/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/http/handlers	23.960s
?   	github.com/story-engine/main-service/internal/transport/http/middleware	[no test files]
?   	github.com/story-engine/main-service/proto/archetype	[no test files]
?   	github.com/story-engine/main-service/proto/artifact	[no test files]
?   	github.com/story-engine/main-service/proto/artifact_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/beat	[no test files]
?   	github.com/story-engine/main-service/proto/chapter	[no test files]
?   	github.com/story-engine/main-service/proto/character	[no test files]
?   	github.com/story-engine/main-service/proto/character_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/character_skill	[no test files]
?   	github.com/story-engine/main-service/proto/common	[no test files]
?   	github.com/story-engine/main-service/proto/content_block	[no test files]
?   	github.com/story-engine/main-service/proto/event	[no test files]
?   	github.com/story-engine/main-service/proto/inventory	[no test files]
?   	github.com/story-engine/main-service/proto/location	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_class	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_system	[no test files]
?   	github.com/story-engine/main-service/proto/scene	[no test files]
?   	github.com/story-engine/main-service/proto/skill	[no test files]
?   	github.com/story-engine/main-service/proto/story	[no test files]
?   	github.com/story-engine/main-service/proto/tenant	[no test files]
?   	github.com/story-engine/main-service/proto/trait	[no test files]
?   	github.com/story-engine/main-service/proto/world	[no test files]
