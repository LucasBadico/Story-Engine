Checking if PostgreSQL is running locally...
PostgreSQL is ready!
Creating database if it doesn't exist...
Database 'storyengine' already exists
Running integration tests with database cloning...
go test -v -tags=integration ./... 2>&1 | tee /tmp/gotest-integration.log
?   	github.com/story-engine/main-service/cmd/api-grpc	[no test files]
?   	github.com/story-engine/main-service/cmd/api-http	[no test files]
?   	github.com/story-engine/main-service/cmd/api-offline	[no test files]
=== RUN   TestMembershipRepository_Create
=== RUN   TestMembershipRepository_Create/successful_creation
=== RUN   TestMembershipRepository_Create/duplicate_tenant-user_constraint
--- PASS: TestMembershipRepository_Create (0.85s)
    --- PASS: TestMembershipRepository_Create/successful_creation (0.00s)
    --- PASS: TestMembershipRepository_Create/duplicate_tenant-user_constraint (0.00s)
=== RUN   TestMembershipRepository_GetByID
=== RUN   TestMembershipRepository_GetByID/existing_membership
=== RUN   TestMembershipRepository_GetByID/non-existing_membership
--- PASS: TestMembershipRepository_GetByID (0.53s)
    --- PASS: TestMembershipRepository_GetByID/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByID/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_GetByTenantAndUser
=== RUN   TestMembershipRepository_GetByTenantAndUser/existing_membership
=== RUN   TestMembershipRepository_GetByTenantAndUser/non-existing_membership
--- PASS: TestMembershipRepository_GetByTenantAndUser (0.30s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_ListByTenant
--- PASS: TestMembershipRepository_ListByTenant (0.83s)
=== RUN   TestMembershipRepository_ListByUser
--- PASS: TestMembershipRepository_ListByUser (0.36s)
=== RUN   TestMembershipRepository_Update
--- PASS: TestMembershipRepository_Update (0.46s)
=== RUN   TestMembershipRepository_Delete
--- PASS: TestMembershipRepository_Delete (0.64s)
=== RUN   TestMembershipRepository_CountOwnersByTenant
--- PASS: TestMembershipRepository_CountOwnersByTenant (0.54s)
=== RUN   TestUserRepository_Create
=== RUN   TestUserRepository_Create/successful_creation
=== RUN   TestUserRepository_Create/duplicate_email_constraint
--- PASS: TestUserRepository_Create (0.41s)
    --- PASS: TestUserRepository_Create/successful_creation (0.00s)
    --- PASS: TestUserRepository_Create/duplicate_email_constraint (0.00s)
=== RUN   TestUserRepository_GetByID
=== RUN   TestUserRepository_GetByID/existing_user
=== RUN   TestUserRepository_GetByID/non-existing_user
--- PASS: TestUserRepository_GetByID (0.38s)
    --- PASS: TestUserRepository_GetByID/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByID/non-existing_user (0.00s)
=== RUN   TestUserRepository_GetByEmail
=== RUN   TestUserRepository_GetByEmail/existing_user
=== RUN   TestUserRepository_GetByEmail/non-existing_email
--- PASS: TestUserRepository_GetByEmail (0.38s)
    --- PASS: TestUserRepository_GetByEmail/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByEmail/non-existing_email (0.00s)
=== RUN   TestUserRepository_Update
--- PASS: TestUserRepository_Update (0.46s)
=== RUN   TestUserRepository_Delete
--- PASS: TestUserRepository_Delete (0.36s)
=== RUN   TestUserRepository_List
=== RUN   TestUserRepository_List/list_with_limit
=== RUN   TestUserRepository_List/list_with_offset
=== RUN   TestUserRepository_List/list_all
--- PASS: TestUserRepository_List (0.30s)
    --- PASS: TestUserRepository_List/list_with_limit (0.00s)
    --- PASS: TestUserRepository_List/list_with_offset (0.00s)
    --- PASS: TestUserRepository_List/list_all (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/postgres	(cached)
=== RUN   TestArchetypeRepository_Create
=== RUN   TestArchetypeRepository_Create/successful_creation
=== RUN   TestArchetypeRepository_Create/creation_with_description
--- PASS: TestArchetypeRepository_Create (0.03s)
    --- PASS: TestArchetypeRepository_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeRepository_Create/creation_with_description (0.00s)
=== RUN   TestArchetypeRepository_GetByID
=== RUN   TestArchetypeRepository_GetByID/existing_archetype
=== RUN   TestArchetypeRepository_GetByID/non-existent_archetype
--- PASS: TestArchetypeRepository_GetByID (0.02s)
    --- PASS: TestArchetypeRepository_GetByID/existing_archetype (0.00s)
    --- PASS: TestArchetypeRepository_GetByID/non-existent_archetype (0.00s)
=== RUN   TestArchetypeRepository_ListByTenant
=== RUN   TestArchetypeRepository_ListByTenant/empty_list
=== RUN   TestArchetypeRepository_ListByTenant/list_with_archetypes
=== RUN   TestArchetypeRepository_ListByTenant/pagination
=== RUN   TestArchetypeRepository_ListByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_ListByTenant (0.01s)
    --- PASS: TestArchetypeRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/list_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeRepository_Update
=== RUN   TestArchetypeRepository_Update/successful_update
--- PASS: TestArchetypeRepository_Update (0.01s)
    --- PASS: TestArchetypeRepository_Update/successful_update (0.00s)
=== RUN   TestArchetypeRepository_Delete
=== RUN   TestArchetypeRepository_Delete/successful_delete
--- PASS: TestArchetypeRepository_Delete (0.01s)
    --- PASS: TestArchetypeRepository_Delete/successful_delete (0.00s)
=== RUN   TestArchetypeRepository_CountByTenant
=== RUN   TestArchetypeRepository_CountByTenant/empty_count
=== RUN   TestArchetypeRepository_CountByTenant/count_with_archetypes
=== RUN   TestArchetypeRepository_CountByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_CountByTenant (0.01s)
    --- PASS: TestArchetypeRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/count_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeTraitRepository_Create
=== RUN   TestArchetypeTraitRepository_Create/successful_creation
--- PASS: TestArchetypeTraitRepository_Create (0.01s)
    --- PASS: TestArchetypeTraitRepository_Create/successful_creation (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByArchetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/empty_list
--- PASS: TestArchetypeTraitRepository_GetByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype (0.00s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/empty_list (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByTrait
=== RUN   TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait
--- PASS: TestArchetypeTraitRepository_GetByTrait (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait (0.00s)
=== RUN   TestArchetypeTraitRepository_Delete
=== RUN   TestArchetypeTraitRepository_Delete/delete_specific_relationship
--- PASS: TestArchetypeTraitRepository_Delete (0.01s)
    --- PASS: TestArchetypeTraitRepository_Delete/delete_specific_relationship (0.00s)
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype
--- PASS: TestArchetypeTraitRepository_DeleteByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype (0.00s)
=== RUN   TestArtifactRepository_Create
=== RUN   TestArtifactRepository_Create/successful_creation
=== RUN   TestArtifactRepository_Create/successful_creation_with_description
=== RUN   TestArtifactRepository_Create/successful_creation_with_rarity
--- PASS: TestArtifactRepository_Create (0.01s)
    --- PASS: TestArtifactRepository_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_rarity (0.00s)
=== RUN   TestArtifactRepository_GetByID
=== RUN   TestArtifactRepository_GetByID/existing_artifact
=== RUN   TestArtifactRepository_GetByID/non-existent_artifact
--- PASS: TestArtifactRepository_GetByID (0.01s)
    --- PASS: TestArtifactRepository_GetByID/existing_artifact (0.00s)
    --- PASS: TestArtifactRepository_GetByID/non-existent_artifact (0.00s)
=== RUN   TestArtifactRepository_ListByWorld
=== RUN   TestArtifactRepository_ListByWorld/empty_list
=== RUN   TestArtifactRepository_ListByWorld/list_with_artifacts
=== RUN   TestArtifactRepository_ListByWorld/pagination
--- PASS: TestArtifactRepository_ListByWorld (0.29s)
    --- PASS: TestArtifactRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestArtifactRepository_ListByWorld/list_with_artifacts (0.13s)
    --- PASS: TestArtifactRepository_ListByWorld/pagination (0.15s)
=== RUN   TestArtifactRepository_Update
=== RUN   TestArtifactRepository_Update/successful_update
--- PASS: TestArtifactRepository_Update (0.21s)
    --- PASS: TestArtifactRepository_Update/successful_update (0.00s)
=== RUN   TestArtifactRepository_Delete
=== RUN   TestArtifactRepository_Delete/successful_delete
--- PASS: TestArtifactRepository_Delete (0.18s)
    --- PASS: TestArtifactRepository_Delete/successful_delete (0.00s)
=== RUN   TestArtifactRepository_CountByWorld
=== RUN   TestArtifactRepository_CountByWorld/empty_count
=== RUN   TestArtifactRepository_CountByWorld/count_with_artifacts
--- PASS: TestArtifactRepository_CountByWorld (0.03s)
    --- PASS: TestArtifactRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestArtifactRepository_CountByWorld/count_with_artifacts (0.00s)
=== RUN   TestBeatRepository_Create
=== RUN   TestBeatRepository_Create/successful_creation
=== RUN   TestBeatRepository_Create/creation_with_intent_and_outcome
--- PASS: TestBeatRepository_Create (0.03s)
    --- PASS: TestBeatRepository_Create/successful_creation (0.00s)
    --- PASS: TestBeatRepository_Create/creation_with_intent_and_outcome (0.00s)
=== RUN   TestBeatRepository_GetByID
=== RUN   TestBeatRepository_GetByID/existing_beat
=== RUN   TestBeatRepository_GetByID/non-existent_beat
--- PASS: TestBeatRepository_GetByID (0.02s)
    --- PASS: TestBeatRepository_GetByID/existing_beat (0.00s)
    --- PASS: TestBeatRepository_GetByID/non-existent_beat (0.00s)
=== RUN   TestBeatRepository_ListByScene
=== RUN   TestBeatRepository_ListByScene/list_with_beats
=== RUN   TestBeatRepository_ListByScene/empty_list
--- PASS: TestBeatRepository_ListByScene (0.02s)
    --- PASS: TestBeatRepository_ListByScene/list_with_beats (0.00s)
    --- PASS: TestBeatRepository_ListByScene/empty_list (0.00s)
=== RUN   TestBeatRepository_ListBySceneOrdered
=== RUN   TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num
--- PASS: TestBeatRepository_ListBySceneOrdered (0.02s)
    --- PASS: TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestBeatRepository_ListByStory
=== RUN   TestBeatRepository_ListByStory/list_by_story
--- PASS: TestBeatRepository_ListByStory (0.02s)
    --- PASS: TestBeatRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestBeatRepository_Update
=== RUN   TestBeatRepository_Update/successful_update
--- PASS: TestBeatRepository_Update (0.02s)
    --- PASS: TestBeatRepository_Update/successful_update (0.00s)
=== RUN   TestBeatRepository_Delete
=== RUN   TestBeatRepository_Delete/successful_delete
--- PASS: TestBeatRepository_Delete (0.02s)
    --- PASS: TestBeatRepository_Delete/successful_delete (0.00s)
=== RUN   TestBeatRepository_DeleteByScene
=== RUN   TestBeatRepository_DeleteByScene/delete_all_beats_for_scene
--- PASS: TestBeatRepository_DeleteByScene (0.02s)
    --- PASS: TestBeatRepository_DeleteByScene/delete_all_beats_for_scene (0.00s)
=== RUN   TestChapterRepository_Create
=== RUN   TestChapterRepository_Create/successful_creation
=== RUN   TestChapterRepository_Create/creation_without_title
--- PASS: TestChapterRepository_Create (0.01s)
    --- PASS: TestChapterRepository_Create/successful_creation (0.00s)
    --- PASS: TestChapterRepository_Create/creation_without_title (0.00s)
=== RUN   TestChapterRepository_GetByID
=== RUN   TestChapterRepository_GetByID/existing_chapter
=== RUN   TestChapterRepository_GetByID/non-existent_chapter
--- PASS: TestChapterRepository_GetByID (0.04s)
    --- PASS: TestChapterRepository_GetByID/existing_chapter (0.00s)
    --- PASS: TestChapterRepository_GetByID/non-existent_chapter (0.00s)
=== RUN   TestChapterRepository_ListByStory
=== RUN   TestChapterRepository_ListByStory/empty_list
=== RUN   TestChapterRepository_ListByStory/list_with_chapters
--- PASS: TestChapterRepository_ListByStory (0.02s)
    --- PASS: TestChapterRepository_ListByStory/empty_list (0.00s)
    --- PASS: TestChapterRepository_ListByStory/list_with_chapters (0.00s)
=== RUN   TestChapterRepository_ListByStoryOrdered
=== RUN   TestChapterRepository_ListByStoryOrdered/list_ordered_by_number
--- PASS: TestChapterRepository_ListByStoryOrdered (0.02s)
    --- PASS: TestChapterRepository_ListByStoryOrdered/list_ordered_by_number (0.00s)
=== RUN   TestChapterRepository_Update
=== RUN   TestChapterRepository_Update/successful_update
--- PASS: TestChapterRepository_Update (0.02s)
    --- PASS: TestChapterRepository_Update/successful_update (0.00s)
=== RUN   TestChapterRepository_Delete
=== RUN   TestChapterRepository_Delete/successful_delete
--- PASS: TestChapterRepository_Delete (0.03s)
    --- PASS: TestChapterRepository_Delete/successful_delete (0.00s)
=== RUN   TestChapterRepository_DeleteByStory
=== RUN   TestChapterRepository_DeleteByStory/delete_all_chapters_for_story
--- PASS: TestChapterRepository_DeleteByStory (0.02s)
    --- PASS: TestChapterRepository_DeleteByStory/delete_all_chapters_for_story (0.00s)
=== RUN   TestCharacterRepository_Create
=== RUN   TestCharacterRepository_Create/successful_creation
=== RUN   TestCharacterRepository_Create/successful_creation_with_archetype
=== RUN   TestCharacterRepository_Create/successful_creation_with_class
=== RUN   TestCharacterRepository_Create/successful_creation_with_description
--- PASS: TestCharacterRepository_Create (0.01s)
    --- PASS: TestCharacterRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_archetype (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_class (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_description (0.00s)
=== RUN   TestCharacterRepository_GetByID
=== RUN   TestCharacterRepository_GetByID/existing_character
=== RUN   TestCharacterRepository_GetByID/non-existent_character
--- PASS: TestCharacterRepository_GetByID (0.02s)
    --- PASS: TestCharacterRepository_GetByID/existing_character (0.00s)
    --- PASS: TestCharacterRepository_GetByID/non-existent_character (0.00s)
=== RUN   TestCharacterRepository_ListByWorld
=== RUN   TestCharacterRepository_ListByWorld/empty_list
=== RUN   TestCharacterRepository_ListByWorld/list_with_characters
=== RUN   TestCharacterRepository_ListByWorld/pagination
--- PASS: TestCharacterRepository_ListByWorld (0.12s)
    --- PASS: TestCharacterRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestCharacterRepository_ListByWorld/list_with_characters (0.03s)
    --- PASS: TestCharacterRepository_ListByWorld/pagination (0.06s)
=== RUN   TestCharacterRepository_Update
=== RUN   TestCharacterRepository_Update/successful_update
=== RUN   TestCharacterRepository_Update/update_archetype
=== RUN   TestCharacterRepository_Update/update_class
--- PASS: TestCharacterRepository_Update (0.03s)
    --- PASS: TestCharacterRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterRepository_Update/update_archetype (0.00s)
    --- PASS: TestCharacterRepository_Update/update_class (0.00s)
=== RUN   TestCharacterRepository_Delete
=== RUN   TestCharacterRepository_Delete/successful_delete
--- PASS: TestCharacterRepository_Delete (0.02s)
    --- PASS: TestCharacterRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterRepository_CountByWorld
=== RUN   TestCharacterRepository_CountByWorld/empty_count
=== RUN   TestCharacterRepository_CountByWorld/count_with_characters
--- PASS: TestCharacterRepository_CountByWorld (0.02s)
    --- PASS: TestCharacterRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestCharacterRepository_CountByWorld/count_with_characters (0.00s)
=== RUN   TestCharacterTraitRepository_Create
=== RUN   TestCharacterTraitRepository_Create/successful_creation
=== RUN   TestCharacterTraitRepository_Create/successful_creation_with_notes
=== RUN   TestCharacterTraitRepository_Create/trait_snapshot_copied
--- PASS: TestCharacterTraitRepository_Create (0.02s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation_with_notes (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/trait_snapshot_copied (0.00s)
=== RUN   TestCharacterTraitRepository_GetByID
=== RUN   TestCharacterTraitRepository_GetByID/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByID/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByID (0.03s)
    --- PASS: TestCharacterTraitRepository_GetByID/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByID/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_GetByCharacter
=== RUN   TestCharacterTraitRepository_GetByCharacter/empty_list
=== RUN   TestCharacterTraitRepository_GetByCharacter/list_with_character-traits
--- PASS: TestCharacterTraitRepository_GetByCharacter (0.04s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/empty_list (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/list_with_character-traits (0.02s)
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait (0.02s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_Update
=== RUN   TestCharacterTraitRepository_Update/successful_update
=== RUN   TestCharacterTraitRepository_Update/update_trait_snapshot
--- PASS: TestCharacterTraitRepository_Update (0.02s)
    --- PASS: TestCharacterTraitRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterTraitRepository_Update/update_trait_snapshot (0.00s)
=== RUN   TestCharacterTraitRepository_Delete
=== RUN   TestCharacterTraitRepository_Delete/successful_delete
--- PASS: TestCharacterTraitRepository_Delete (0.01s)
    --- PASS: TestCharacterTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterTraitRepository_DeleteByCharacter
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits
--- PASS: TestCharacterTraitRepository_DeleteByCharacter (0.02s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character (0.00s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits (0.00s)
=== RUN   TestContentAnchorRepository_Create
=== RUN   TestContentAnchorRepository_Create/create_with_character
=== RUN   TestContentAnchorRepository_Create/create_with_location
=== RUN   TestContentAnchorRepository_Create/create_with_artifact
--- PASS: TestContentAnchorRepository_Create (0.02s)
    --- PASS: TestContentAnchorRepository_Create/create_with_character (0.00s)
    --- PASS: TestContentAnchorRepository_Create/create_with_location (0.00s)
    --- PASS: TestContentAnchorRepository_Create/create_with_artifact (0.00s)
=== RUN   TestContentAnchorRepository_GetByID
=== RUN   TestContentAnchorRepository_GetByID/existing_content_anchor
=== RUN   TestContentAnchorRepository_GetByID/non-existent_content_anchor
--- PASS: TestContentAnchorRepository_GetByID (0.01s)
    --- PASS: TestContentAnchorRepository_GetByID/existing_content_anchor (0.00s)
    --- PASS: TestContentAnchorRepository_GetByID/non-existent_content_anchor (0.00s)
=== RUN   TestContentAnchorRepository_ListByContentBlock
=== RUN   TestContentAnchorRepository_ListByContentBlock/list_by_content_block
--- PASS: TestContentAnchorRepository_ListByContentBlock (0.01s)
    --- PASS: TestContentAnchorRepository_ListByContentBlock/list_by_content_block (0.00s)
=== RUN   TestContentAnchorRepository_ListByEntity
=== RUN   TestContentAnchorRepository_ListByEntity/list_by_entity
--- PASS: TestContentAnchorRepository_ListByEntity (0.01s)
    --- PASS: TestContentAnchorRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestContentAnchorRepository_Delete
=== RUN   TestContentAnchorRepository_Delete/delete_by_id
=== RUN   TestContentAnchorRepository_Delete/delete_by_content_block
--- PASS: TestContentAnchorRepository_Delete (0.02s)
    --- PASS: TestContentAnchorRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestContentAnchorRepository_Delete/delete_by_content_block (0.00s)
=== RUN   TestContentBlockRepository_Create
=== RUN   TestContentBlockRepository_Create/successful_creation
=== RUN   TestContentBlockRepository_Create/creation_without_chapter
--- PASS: TestContentBlockRepository_Create (0.01s)
    --- PASS: TestContentBlockRepository_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockRepository_Create/creation_without_chapter (0.00s)
=== RUN   TestContentBlockRepository_GetByID
=== RUN   TestContentBlockRepository_GetByID/existing_content_block
=== RUN   TestContentBlockRepository_GetByID/non-existent_content_block
--- PASS: TestContentBlockRepository_GetByID (0.02s)
    --- PASS: TestContentBlockRepository_GetByID/existing_content_block (0.00s)
    --- PASS: TestContentBlockRepository_GetByID/non-existent_content_block (0.00s)
=== RUN   TestContentBlockRepository_ListByChapter
=== RUN   TestContentBlockRepository_ListByChapter/list_with_content_blocks
=== RUN   TestContentBlockRepository_ListByChapter/empty_list
--- PASS: TestContentBlockRepository_ListByChapter (0.02s)
    --- PASS: TestContentBlockRepository_ListByChapter/list_with_content_blocks (0.00s)
    --- PASS: TestContentBlockRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestContentBlockRepository_GetByChapterAndKind
=== RUN   TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind
--- PASS: TestContentBlockRepository_GetByChapterAndKind (0.01s)
    --- PASS: TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind (0.00s)
=== RUN   TestContentBlockRepository_Update
=== RUN   TestContentBlockRepository_Update/successful_update
--- PASS: TestContentBlockRepository_Update (0.01s)
    --- PASS: TestContentBlockRepository_Update/successful_update (0.00s)
=== RUN   TestContentBlockRepository_Delete
=== RUN   TestContentBlockRepository_Delete/successful_delete
--- PASS: TestContentBlockRepository_Delete (0.03s)
    --- PASS: TestContentBlockRepository_Delete/successful_delete (0.00s)
=== RUN   TestContentBlockRepository_DeleteByChapter
=== RUN   TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter
--- PASS: TestContentBlockRepository_DeleteByChapter (0.02s)
    --- PASS: TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter (0.00s)
=== RUN   TestEntityRelationRepository_Create
=== RUN   TestEntityRelationRepository_Create/successful_creation
=== RUN   TestEntityRelationRepository_Create/create_with_attributes
--- PASS: TestEntityRelationRepository_Create (0.02s)
    --- PASS: TestEntityRelationRepository_Create/successful_creation (0.00s)
    --- PASS: TestEntityRelationRepository_Create/create_with_attributes (0.00s)
=== RUN   TestEntityRelationRepository_GetByID
=== RUN   TestEntityRelationRepository_GetByID/existing_relation
=== RUN   TestEntityRelationRepository_GetByID/non-existing_relation
--- PASS: TestEntityRelationRepository_GetByID (0.01s)
    --- PASS: TestEntityRelationRepository_GetByID/existing_relation (0.00s)
    --- PASS: TestEntityRelationRepository_GetByID/non-existing_relation (0.00s)
=== RUN   TestEntityRelationRepository_ListBySource
=== RUN   TestEntityRelationRepository_ListBySource/list_by_source
=== RUN   TestEntityRelationRepository_ListBySource/list_by_source_with_filter
--- PASS: TestEntityRelationRepository_ListBySource (0.01s)
    --- PASS: TestEntityRelationRepository_ListBySource/list_by_source (0.00s)
    --- PASS: TestEntityRelationRepository_ListBySource/list_by_source_with_filter (0.00s)
=== RUN   TestEntityRelationRepository_ListByTarget
=== RUN   TestEntityRelationRepository_ListByTarget/list_by_target
--- PASS: TestEntityRelationRepository_ListByTarget (0.01s)
    --- PASS: TestEntityRelationRepository_ListByTarget/list_by_target (0.00s)
=== RUN   TestEntityRelationRepository_Update
=== RUN   TestEntityRelationRepository_Update/update_relation_type
--- PASS: TestEntityRelationRepository_Update (0.01s)
    --- PASS: TestEntityRelationRepository_Update/update_relation_type (0.00s)
=== RUN   TestEntityRelationRepository_Delete
=== RUN   TestEntityRelationRepository_Delete/delete_existing_relation
=== RUN   TestEntityRelationRepository_Delete/delete_non-existing_relation
--- PASS: TestEntityRelationRepository_Delete (0.01s)
    --- PASS: TestEntityRelationRepository_Delete/delete_existing_relation (0.00s)
    --- PASS: TestEntityRelationRepository_Delete/delete_non-existing_relation (0.00s)
=== RUN   TestEntityRelationRepository_CreateWithMirror
=== RUN   TestEntityRelationRepository_CreateWithMirror/create_with_mirror
--- PASS: TestEntityRelationRepository_CreateWithMirror (0.01s)
    --- PASS: TestEntityRelationRepository_CreateWithMirror/create_with_mirror (0.00s)
=== RUN   TestEventRepository_Create
=== RUN   TestEventRepository_Create/successful_creation
=== RUN   TestEventRepository_Create/successful_creation_with_type
=== RUN   TestEventRepository_Create/successful_creation_with_description
=== RUN   TestEventRepository_Create/successful_creation_with_timeline
=== RUN   TestEventRepository_Create/successful_creation_with_importance
--- PASS: TestEventRepository_Create (0.02s)
    --- PASS: TestEventRepository_Create/successful_creation (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_type (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_timeline (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_importance (0.00s)
=== RUN   TestEventRepository_GetByID
=== RUN   TestEventRepository_GetByID/existing_event
=== RUN   TestEventRepository_GetByID/non-existent_event
--- PASS: TestEventRepository_GetByID (0.01s)
    --- PASS: TestEventRepository_GetByID/existing_event (0.00s)
    --- PASS: TestEventRepository_GetByID/non-existent_event (0.00s)
=== RUN   TestEventRepository_ListByWorld
=== RUN   TestEventRepository_ListByWorld/empty_list
=== RUN   TestEventRepository_ListByWorld/list_with_events
--- PASS: TestEventRepository_ListByWorld (0.05s)
    --- PASS: TestEventRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestEventRepository_ListByWorld/list_with_events (0.03s)
=== RUN   TestEventRepository_Update
=== RUN   TestEventRepository_Update/successful_update
=== RUN   TestEventRepository_Update/update_nullable_fields_to_nil
--- PASS: TestEventRepository_Update (0.01s)
    --- PASS: TestEventRepository_Update/successful_update (0.00s)
    --- PASS: TestEventRepository_Update/update_nullable_fields_to_nil (0.00s)
=== RUN   TestEventRepository_Delete
=== RUN   TestEventRepository_Delete/successful_delete
--- PASS: TestEventRepository_Delete (0.01s)
    --- PASS: TestEventRepository_Delete/successful_delete (0.00s)
=== RUN   TestFactionRepository_Create
=== RUN   TestFactionRepository_Create/successful_creation_root_faction
=== RUN   TestFactionRepository_Create/successful_creation_with_parent
=== RUN   TestFactionRepository_Create/creation_with_type_and_fields
--- PASS: TestFactionRepository_Create (0.01s)
    --- PASS: TestFactionRepository_Create/successful_creation_root_faction (0.00s)
    --- PASS: TestFactionRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestFactionRepository_Create/creation_with_type_and_fields (0.00s)
=== RUN   TestFactionRepository_GetByID
=== RUN   TestFactionRepository_GetByID/existing_faction
=== RUN   TestFactionRepository_GetByID/non-existent_faction
--- PASS: TestFactionRepository_GetByID (0.01s)
    --- PASS: TestFactionRepository_GetByID/existing_faction (0.00s)
    --- PASS: TestFactionRepository_GetByID/non-existent_faction (0.00s)
=== RUN   TestFactionRepository_ListByWorld
=== RUN   TestFactionRepository_ListByWorld/empty_list
=== RUN   TestFactionRepository_ListByWorld/list_with_factions
--- PASS: TestFactionRepository_ListByWorld (0.05s)
    --- PASS: TestFactionRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestFactionRepository_ListByWorld/list_with_factions (0.03s)
=== RUN   TestFactionRepository_GetChildren
=== RUN   TestFactionRepository_GetChildren/get_direct_children
=== RUN   TestFactionRepository_GetChildren/no_children
--- PASS: TestFactionRepository_GetChildren (0.01s)
    --- PASS: TestFactionRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestFactionRepository_GetChildren/no_children (0.00s)
=== RUN   TestFactionRepository_Update
=== RUN   TestFactionRepository_Update/successful_update
=== RUN   TestFactionRepository_Update/update_parent
--- PASS: TestFactionRepository_Update (0.01s)
    --- PASS: TestFactionRepository_Update/successful_update (0.00s)
    --- PASS: TestFactionRepository_Update/update_parent (0.00s)
=== RUN   TestFactionRepository_Delete
=== RUN   TestFactionRepository_Delete/successful_delete
--- PASS: TestFactionRepository_Delete (0.02s)
    --- PASS: TestFactionRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_Create
=== RUN   TestLocationRepository_Create/successful_creation_root_location
=== RUN   TestLocationRepository_Create/successful_creation_with_parent
=== RUN   TestLocationRepository_Create/creation_with_type_and_description
--- PASS: TestLocationRepository_Create (0.01s)
    --- PASS: TestLocationRepository_Create/successful_creation_root_location (0.00s)
    --- PASS: TestLocationRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLocationRepository_Create/creation_with_type_and_description (0.00s)
=== RUN   TestLocationRepository_GetByID
=== RUN   TestLocationRepository_GetByID/existing_location
=== RUN   TestLocationRepository_GetByID/non-existent_location
--- PASS: TestLocationRepository_GetByID (0.01s)
    --- PASS: TestLocationRepository_GetByID/existing_location (0.00s)
    --- PASS: TestLocationRepository_GetByID/non-existent_location (0.00s)
=== RUN   TestLocationRepository_ListByWorld
=== RUN   TestLocationRepository_ListByWorld/empty_list
=== RUN   TestLocationRepository_ListByWorld/list_with_locations
=== RUN   TestLocationRepository_ListByWorld/pagination
--- PASS: TestLocationRepository_ListByWorld (0.11s)
    --- PASS: TestLocationRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLocationRepository_ListByWorld/list_with_locations (0.03s)
    --- PASS: TestLocationRepository_ListByWorld/pagination (0.06s)
=== RUN   TestLocationRepository_ListByWorldTree
=== RUN   TestLocationRepository_ListByWorldTree/tree_structure
--- PASS: TestLocationRepository_ListByWorldTree (0.03s)
    --- PASS: TestLocationRepository_ListByWorldTree/tree_structure (0.00s)
=== RUN   TestLocationRepository_GetChildren
=== RUN   TestLocationRepository_GetChildren/get_direct_children
=== RUN   TestLocationRepository_GetChildren/no_children
--- PASS: TestLocationRepository_GetChildren (0.02s)
    --- PASS: TestLocationRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLocationRepository_GetChildren/no_children (0.00s)
=== RUN   TestLocationRepository_GetAncestors
=== RUN   TestLocationRepository_GetAncestors/get_ancestors
=== RUN   TestLocationRepository_GetAncestors/root_has_no_ancestors
--- PASS: TestLocationRepository_GetAncestors (0.02s)
    --- PASS: TestLocationRepository_GetAncestors/get_ancestors (0.00s)
    --- PASS: TestLocationRepository_GetAncestors/root_has_no_ancestors (0.00s)
=== RUN   TestLocationRepository_GetDescendants
=== RUN   TestLocationRepository_GetDescendants/get_descendants
=== RUN   TestLocationRepository_GetDescendants/no_descendants
--- PASS: TestLocationRepository_GetDescendants (0.02s)
    --- PASS: TestLocationRepository_GetDescendants/get_descendants (0.00s)
    --- PASS: TestLocationRepository_GetDescendants/no_descendants (0.00s)
=== RUN   TestLocationRepository_Update
=== RUN   TestLocationRepository_Update/successful_update
=== RUN   TestLocationRepository_Update/update_parent
--- PASS: TestLocationRepository_Update (0.02s)
    --- PASS: TestLocationRepository_Update/successful_update (0.00s)
    --- PASS: TestLocationRepository_Update/update_parent (0.00s)
=== RUN   TestLocationRepository_Delete
=== RUN   TestLocationRepository_Delete/successful_delete
--- PASS: TestLocationRepository_Delete (0.02s)
    --- PASS: TestLocationRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_CountByWorld
=== RUN   TestLocationRepository_CountByWorld/empty_count
=== RUN   TestLocationRepository_CountByWorld/count_with_locations
--- PASS: TestLocationRepository_CountByWorld (0.02s)
    --- PASS: TestLocationRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestLocationRepository_CountByWorld/count_with_locations (0.00s)
=== RUN   TestLoreRepository_Create
=== RUN   TestLoreRepository_Create/successful_creation_root_lore
=== RUN   TestLoreRepository_Create/successful_creation_with_parent
=== RUN   TestLoreRepository_Create/creation_with_category_and_fields
--- PASS: TestLoreRepository_Create (0.02s)
    --- PASS: TestLoreRepository_Create/successful_creation_root_lore (0.00s)
    --- PASS: TestLoreRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLoreRepository_Create/creation_with_category_and_fields (0.00s)
=== RUN   TestLoreRepository_GetByID
=== RUN   TestLoreRepository_GetByID/existing_lore
=== RUN   TestLoreRepository_GetByID/non-existent_lore
--- PASS: TestLoreRepository_GetByID (0.02s)
    --- PASS: TestLoreRepository_GetByID/existing_lore (0.00s)
    --- PASS: TestLoreRepository_GetByID/non-existent_lore (0.00s)
=== RUN   TestLoreRepository_ListByWorld
=== RUN   TestLoreRepository_ListByWorld/empty_list
=== RUN   TestLoreRepository_ListByWorld/list_with_lores
--- PASS: TestLoreRepository_ListByWorld (0.05s)
    --- PASS: TestLoreRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLoreRepository_ListByWorld/list_with_lores (0.03s)
=== RUN   TestLoreRepository_GetChildren
=== RUN   TestLoreRepository_GetChildren/get_direct_children
=== RUN   TestLoreRepository_GetChildren/no_children
--- PASS: TestLoreRepository_GetChildren (0.02s)
    --- PASS: TestLoreRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLoreRepository_GetChildren/no_children (0.00s)
=== RUN   TestLoreRepository_Update
=== RUN   TestLoreRepository_Update/successful_update
=== RUN   TestLoreRepository_Update/update_parent
--- PASS: TestLoreRepository_Update (0.04s)
    --- PASS: TestLoreRepository_Update/successful_update (0.00s)
    --- PASS: TestLoreRepository_Update/update_parent (0.00s)
=== RUN   TestLoreRepository_Delete
=== RUN   TestLoreRepository_Delete/successful_delete
--- PASS: TestLoreRepository_Delete (0.02s)
    --- PASS: TestLoreRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneRepository_Create
=== RUN   TestSceneRepository_Create/successful_creation
=== RUN   TestSceneRepository_Create/creation_with_chapter
--- PASS: TestSceneRepository_Create (0.02s)
    --- PASS: TestSceneRepository_Create/successful_creation (0.00s)
    --- PASS: TestSceneRepository_Create/creation_with_chapter (0.00s)
=== RUN   TestSceneRepository_GetByID
=== RUN   TestSceneRepository_GetByID/existing_scene
=== RUN   TestSceneRepository_GetByID/non-existent_scene
--- PASS: TestSceneRepository_GetByID (0.02s)
    --- PASS: TestSceneRepository_GetByID/existing_scene (0.00s)
    --- PASS: TestSceneRepository_GetByID/non-existent_scene (0.00s)
=== RUN   TestSceneRepository_ListByChapter
=== RUN   TestSceneRepository_ListByChapter/list_with_scenes
=== RUN   TestSceneRepository_ListByChapter/empty_list
--- PASS: TestSceneRepository_ListByChapter (0.02s)
    --- PASS: TestSceneRepository_ListByChapter/list_with_scenes (0.00s)
    --- PASS: TestSceneRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestSceneRepository_ListByChapterOrdered
=== RUN   TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num
--- PASS: TestSceneRepository_ListByChapterOrdered (0.02s)
    --- PASS: TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestSceneRepository_ListByStory
=== RUN   TestSceneRepository_ListByStory/list_by_story
--- PASS: TestSceneRepository_ListByStory (0.02s)
    --- PASS: TestSceneRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestSceneRepository_Update
=== RUN   TestSceneRepository_Update/successful_update
--- PASS: TestSceneRepository_Update (0.02s)
    --- PASS: TestSceneRepository_Update/successful_update (0.00s)
=== RUN   TestSceneRepository_Delete
=== RUN   TestSceneRepository_Delete/successful_delete
--- PASS: TestSceneRepository_Delete (0.02s)
    --- PASS: TestSceneRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneRepository_DeleteByChapter
=== RUN   TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter
--- PASS: TestSceneRepository_DeleteByChapter (0.01s)
    --- PASS: TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter (0.00s)
=== RUN   TestSceneRepository_DeleteByStory
=== RUN   TestSceneRepository_DeleteByStory/delete_all_scenes_for_story
--- PASS: TestSceneRepository_DeleteByStory (0.02s)
    --- PASS: TestSceneRepository_DeleteByStory/delete_all_scenes_for_story (0.00s)
=== RUN   TestStoryRepository_Create
=== RUN   TestStoryRepository_Create/successful_creation_root_story
=== RUN   TestStoryRepository_Create/creation_with_world_and_user
--- PASS: TestStoryRepository_Create (0.02s)
    --- PASS: TestStoryRepository_Create/successful_creation_root_story (0.00s)
    --- PASS: TestStoryRepository_Create/creation_with_world_and_user (0.00s)
=== RUN   TestStoryRepository_GetByID
=== RUN   TestStoryRepository_GetByID/existing_story
=== RUN   TestStoryRepository_GetByID/non-existent_story
--- PASS: TestStoryRepository_GetByID (0.01s)
    --- PASS: TestStoryRepository_GetByID/existing_story (0.00s)
    --- PASS: TestStoryRepository_GetByID/non-existent_story (0.00s)
=== RUN   TestStoryRepository_ListByTenant
=== RUN   TestStoryRepository_ListByTenant/empty_list
=== RUN   TestStoryRepository_ListByTenant/list_with_stories
=== RUN   TestStoryRepository_ListByTenant/pagination
--- PASS: TestStoryRepository_ListByTenant (0.02s)
    --- PASS: TestStoryRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/list_with_stories (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/pagination (0.00s)
=== RUN   TestStoryRepository_ListVersionsByRoot
=== RUN   TestStoryRepository_ListVersionsByRoot/list_versions
=== RUN   TestStoryRepository_ListVersionsByRoot/single_version
--- PASS: TestStoryRepository_ListVersionsByRoot (0.02s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/list_versions (0.00s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/single_version (0.00s)
=== RUN   TestStoryRepository_GetVersionGraph
=== RUN   TestStoryRepository_GetVersionGraph/get_version_graph
--- PASS: TestStoryRepository_GetVersionGraph (0.02s)
    --- PASS: TestStoryRepository_GetVersionGraph/get_version_graph (0.00s)
=== RUN   TestStoryRepository_Update
=== RUN   TestStoryRepository_Update/successful_update
--- PASS: TestStoryRepository_Update (0.02s)
    --- PASS: TestStoryRepository_Update/successful_update (0.00s)
=== RUN   TestStoryRepository_Delete
=== RUN   TestStoryRepository_Delete/successful_delete
--- PASS: TestStoryRepository_Delete (0.01s)
    --- PASS: TestStoryRepository_Delete/successful_delete (0.00s)
=== RUN   TestStoryRepository_CountByTenant
=== RUN   TestStoryRepository_CountByTenant/empty_count
=== RUN   TestStoryRepository_CountByTenant/count_with_stories
--- PASS: TestStoryRepository_CountByTenant (0.01s)
    --- PASS: TestStoryRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestStoryRepository_CountByTenant/count_with_stories (0.00s)
=== RUN   TestTenantRepository_Create
=== RUN   TestTenantRepository_Create/successful_creation
=== RUN   TestTenantRepository_Create/duplicate_name_constraint
--- PASS: TestTenantRepository_Create (0.01s)
    --- PASS: TestTenantRepository_Create/successful_creation (0.00s)
    --- PASS: TestTenantRepository_Create/duplicate_name_constraint (0.00s)
=== RUN   TestTenantRepository_GetByID
=== RUN   TestTenantRepository_GetByID/existing_tenant
=== RUN   TestTenantRepository_GetByID/non-existent_tenant
--- PASS: TestTenantRepository_GetByID (0.01s)
    --- PASS: TestTenantRepository_GetByID/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByID/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_GetByName
=== RUN   TestTenantRepository_GetByName/existing_tenant
=== RUN   TestTenantRepository_GetByName/non-existent_tenant
--- PASS: TestTenantRepository_GetByName (0.01s)
    --- PASS: TestTenantRepository_GetByName/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByName/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_Update
=== RUN   TestTenantRepository_Update/successful_update
--- PASS: TestTenantRepository_Update (0.01s)
    --- PASS: TestTenantRepository_Update/successful_update (0.00s)
=== RUN   TestTenantRepository_Delete
=== RUN   TestTenantRepository_Delete/successful_delete
--- PASS: TestTenantRepository_Delete (0.01s)
    --- PASS: TestTenantRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_Create
=== RUN   TestTraitRepository_Create/successful_creation
=== RUN   TestTraitRepository_Create/creation_with_category_and_description
--- PASS: TestTraitRepository_Create (0.01s)
    --- PASS: TestTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestTraitRepository_Create/creation_with_category_and_description (0.00s)
=== RUN   TestTraitRepository_GetByID
=== RUN   TestTraitRepository_GetByID/existing_trait
=== RUN   TestTraitRepository_GetByID/non-existent_trait
--- PASS: TestTraitRepository_GetByID (0.01s)
    --- PASS: TestTraitRepository_GetByID/existing_trait (0.00s)
    --- PASS: TestTraitRepository_GetByID/non-existent_trait (0.00s)
=== RUN   TestTraitRepository_ListByTenant
=== RUN   TestTraitRepository_ListByTenant/empty_list
=== RUN   TestTraitRepository_ListByTenant/list_with_traits
=== RUN   TestTraitRepository_ListByTenant/pagination
=== RUN   TestTraitRepository_ListByTenant/tenant_isolation
--- PASS: TestTraitRepository_ListByTenant (0.01s)
    --- PASS: TestTraitRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/list_with_traits (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestTraitRepository_Update
=== RUN   TestTraitRepository_Update/successful_update
--- PASS: TestTraitRepository_Update (0.01s)
    --- PASS: TestTraitRepository_Update/successful_update (0.00s)
=== RUN   TestTraitRepository_Delete
=== RUN   TestTraitRepository_Delete/successful_delete
--- PASS: TestTraitRepository_Delete (0.01s)
    --- PASS: TestTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_CountByTenant
=== RUN   TestTraitRepository_CountByTenant/empty_count
=== RUN   TestTraitRepository_CountByTenant/count_with_traits
=== RUN   TestTraitRepository_CountByTenant/tenant_isolation
--- PASS: TestTraitRepository_CountByTenant (0.01s)
    --- PASS: TestTraitRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/count_with_traits (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Create
=== RUN   TestWorldRepository_Create/successful_creation
=== RUN   TestWorldRepository_Create/successful_creation_with_RPG_system
=== RUN   TestWorldRepository_Create/successful_creation_with_implicit_flag
--- PASS: TestWorldRepository_Create (0.01s)
    --- PASS: TestWorldRepository_Create/successful_creation (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_RPG_system (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_implicit_flag (0.00s)
=== RUN   TestWorldRepository_GetByID
=== RUN   TestWorldRepository_GetByID/existing_world
=== RUN   TestWorldRepository_GetByID/non-existent_world
=== RUN   TestWorldRepository_GetByID/wrong_tenant
--- PASS: TestWorldRepository_GetByID (0.01s)
    --- PASS: TestWorldRepository_GetByID/existing_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/non-existent_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/wrong_tenant (0.00s)
=== RUN   TestWorldRepository_ListByTenant
=== RUN   TestWorldRepository_ListByTenant/empty_list
=== RUN   TestWorldRepository_ListByTenant/list_with_worlds
=== RUN   TestWorldRepository_ListByTenant/pagination
=== RUN   TestWorldRepository_ListByTenant/tenant_isolation
--- PASS: TestWorldRepository_ListByTenant (0.10s)
    --- PASS: TestWorldRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestWorldRepository_ListByTenant/list_with_worlds (0.03s)
    --- PASS: TestWorldRepository_ListByTenant/pagination (0.05s)
    --- PASS: TestWorldRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Update
=== RUN   TestWorldRepository_Update/successful_update
=== RUN   TestWorldRepository_Update/update_RPG_system
--- PASS: TestWorldRepository_Update (0.02s)
    --- PASS: TestWorldRepository_Update/successful_update (0.00s)
    --- PASS: TestWorldRepository_Update/update_RPG_system (0.00s)
=== RUN   TestWorldRepository_Delete
=== RUN   TestWorldRepository_Delete/successful_delete
=== RUN   TestWorldRepository_Delete/delete_non-existent_world
--- PASS: TestWorldRepository_Delete (0.02s)
    --- PASS: TestWorldRepository_Delete/successful_delete (0.00s)
    --- PASS: TestWorldRepository_Delete/delete_non-existent_world (0.00s)
=== RUN   TestWorldRepository_CountByTenant
=== RUN   TestWorldRepository_CountByTenant/empty_count
=== RUN   TestWorldRepository_CountByTenant/count_with_worlds
=== RUN   TestWorldRepository_CountByTenant/tenant_isolation
--- PASS: TestWorldRepository_CountByTenant (0.02s)
    --- PASS: TestWorldRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/count_with_worlds (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/tenant_isolation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/sqlite	(cached)
?   	github.com/story-engine/main-service/internal/adapters/redis	[no test files]
?   	github.com/story-engine/main-service/internal/application/relation	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/artifact_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_inventory	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_skill	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_item	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_slot	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_class	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_system	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/skill	[no test files]
=== RUN   TestCloneStoryUseCase_Execute
time=2026-01-10T15:54:04.353-03:00 level=INFO msg="tenant created" tenant_id=95076f9f-fce3-4f31-b5af-61d0d350d5c9 name="Test Tenant"
time=2026-01-10T15:54:04.355-03:00 level=INFO msg="world created" world_id=31b70ddf-f435-4bb3-b0c8-f88fd9d8a514 name="World of Test Story" tenant_id=95076f9f-fce3-4f31-b5af-61d0d350d5c9
time=2026-01-10T15:54:04.355-03:00 level=INFO msg="created implicit world for story" world_id=31b70ddf-f435-4bb3-b0c8-f88fd9d8a514 story_title="Test Story"
time=2026-01-10T15:54:04.360-03:00 level=INFO msg="story created" story_id=9fc17eed-671a-4781-a59a-24e5253c7bf8 title="Test Story" tenant_id=95076f9f-fce3-4f31-b5af-61d0d350d5c9
=== RUN   TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters)
time=2026-01-10T15:54:04.363-03:00 level=INFO msg="story cloned" source_story_id=9fc17eed-671a-4781-a59a-24e5253c7bf8 new_story_id=2fdbe232-0a0c-4da9-a4a5-9b9c137fe849 version_number=2
=== RUN   TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy
time=2026-01-10T15:54:04.390-03:00 level=INFO msg="story cloned" source_story_id=715f46af-59fa-4adc-8af5-3e67122ae512 new_story_id=0fabb8d6-dbc1-4bbd-b127-b3ed90c3aa79 version_number=2
--- PASS: TestCloneStoryUseCase_Execute (2.23s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters) (0.00s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy (0.03s)
=== RUN   TestCreateStoryUseCase_Execute
time=2026-01-10T15:54:05.497-03:00 level=INFO msg="tenant created" tenant_id=0398da70-704f-44e4-8ab2-52d7ae3d9208 name="Test Tenant"
=== RUN   TestCreateStoryUseCase_Execute/successful_creation
time=2026-01-10T15:54:05.499-03:00 level=INFO msg="world created" world_id=e108f6dd-6516-48c0-be73-8ae7dd02cb73 name="World of Test Story" tenant_id=0398da70-704f-44e4-8ab2-52d7ae3d9208
time=2026-01-10T15:54:05.499-03:00 level=INFO msg="created implicit world for story" world_id=e108f6dd-6516-48c0-be73-8ae7dd02cb73 story_title="Test Story"
time=2026-01-10T15:54:05.502-03:00 level=INFO msg="story created" story_id=732c3458-417c-4967-b99b-658067bae467 title="Test Story" tenant_id=0398da70-704f-44e4-8ab2-52d7ae3d9208
=== RUN   TestCreateStoryUseCase_Execute/multi-tenant_isolation
time=2026-01-10T15:54:05.503-03:00 level=INFO msg="tenant created" tenant_id=e762a695-9e13-4c25-a255-d41961f81795 name="Test Tenant 2"
time=2026-01-10T15:54:05.504-03:00 level=INFO msg="world created" world_id=248106e7-ea56-43a4-bf86-1bc1a2a9a7c2 name="World of Test Story 2" tenant_id=e762a695-9e13-4c25-a255-d41961f81795
time=2026-01-10T15:54:05.504-03:00 level=INFO msg="created implicit world for story" world_id=248106e7-ea56-43a4-bf86-1bc1a2a9a7c2 story_title="Test Story 2"
time=2026-01-10T15:54:05.505-03:00 level=INFO msg="story created" story_id=4441a994-3370-4edc-91f0-7e3e04c2557f title="Test Story 2" tenant_id=e762a695-9e13-4c25-a255-d41961f81795
=== RUN   TestCreateStoryUseCase_Execute/invalid_tenant
=== RUN   TestCreateStoryUseCase_Execute/empty_title_validation
--- PASS: TestCreateStoryUseCase_Execute (0.78s)
    --- PASS: TestCreateStoryUseCase_Execute/successful_creation (0.01s)
    --- PASS: TestCreateStoryUseCase_Execute/multi-tenant_isolation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/invalid_tenant (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/empty_title_validation (0.00s)
=== RUN   TestCreateStoryUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateStoryUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateStoryUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateStoryUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story	(cached)
=== RUN   TestCreateBeatUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateBeatUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateBeatUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateBeatUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/beat	(cached)
=== RUN   TestCreateChapterUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateChapterUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateChapterUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateChapterUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/chapter	(cached)
=== RUN   TestCreateContentBlockUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateContentBlockUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateContentBlockUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateContentBlockUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/content_block	(cached)
=== RUN   TestCreateSceneUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateSceneUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateSceneUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateSceneUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/scene	(cached)
=== RUN   TestCreateTenantUseCase_Execute
=== RUN   TestCreateTenantUseCase_Execute/successful_creation
time=2026-01-10T15:54:04.622-03:00 level=INFO msg="tenant created" tenant_id=a62435d4-ec6a-44f1-a583-3c193b8e8975 name="Test Tenant"
=== RUN   TestCreateTenantUseCase_Execute/duplicate_name_validation
=== RUN   TestCreateTenantUseCase_Execute/empty_name_validation
--- PASS: TestCreateTenantUseCase_Execute (1.37s)
    --- PASS: TestCreateTenantUseCase_Execute/successful_creation (0.02s)
    --- PASS: TestCreateTenantUseCase_Execute/duplicate_name_validation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/empty_name_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/tenant	(cached)
?   	github.com/story-engine/main-service/internal/application/world	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/archetype	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/artifact	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/faction	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/location	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/lore	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/trait	[no test files]
?   	github.com/story-engine/main-service/internal/core/audit	[no test files]
?   	github.com/story-engine/main-service/internal/core/auth	[no test files]
?   	github.com/story-engine/main-service/internal/core/relation	[no test files]
?   	github.com/story-engine/main-service/internal/core/rpg	[no test files]
?   	github.com/story-engine/main-service/internal/core/story	[no test files]
?   	github.com/story-engine/main-service/internal/core/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/core/versioning	[no test files]
?   	github.com/story-engine/main-service/internal/core/world	[no test files]
?   	github.com/story-engine/main-service/internal/platform/config	[no test files]
?   	github.com/story-engine/main-service/internal/platform/database	[no test files]
?   	github.com/story-engine/main-service/internal/platform/errors	[no test files]
?   	github.com/story-engine/main-service/internal/platform/logger	[no test files]
?   	github.com/story-engine/main-service/internal/platform/relationmaps	[no test files]
?   	github.com/story-engine/main-service/internal/platform/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/ports/queue	[no test files]
?   	github.com/story-engine/main-service/internal/ports/repositories	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/grpcctx	[no test files]
=== RUN   TestArchetypeHandler_CreateArchetype
time=2026-01-10T16:00:12.981-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:12.981-03:00 level=INFO msg="TraitService registered"
time=2026-01-10T16:00:12.981-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_CreateArchetype/successful_creation
time=2026-01-10T16:00:12.983-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:12.985-03:00 level=INFO msg="tenant created" tenant_id=b7e8a5aa-af6f-4255-bea4-eaa396935099 name="Test Tenant for Archetype"
time=2026-01-10T16:00:12.985-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:12.987-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:12.988-03:00 level=INFO msg="archetype created" archetype_id=7bfdf0bf-f861-4b4c-a35f-05ee4858c6a6 name=Warrior
time=2026-01-10T16:00:12.988-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
=== RUN   TestArchetypeHandler_CreateArchetype/empty_name
time=2026-01-10T16:00:12.989-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:12.990-03:00 level=INFO msg="tenant created" tenant_id=5433e7bd-d032-430e-85f0-309b5c687461 name="Test Tenant 2"
time=2026-01-10T16:00:12.990-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:12.990-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:12.990-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-10T16:00:12.991-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_CreateArchetype (0.32s)
    --- PASS: TestArchetypeHandler_CreateArchetype/successful_creation (0.01s)
    --- PASS: TestArchetypeHandler_CreateArchetype/empty_name (0.00s)
=== RUN   TestArchetypeHandler_GetArchetype
time=2026-01-10T16:00:13.427-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:13.427-03:00 level=INFO msg="TraitService registered"
time=2026-01-10T16:00:13.427-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetype/existing_archetype
time=2026-01-10T16:00:13.429-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:13.431-03:00 level=INFO msg="tenant created" tenant_id=2f61594b-f9d7-4658-96c2-632a0b95f5d8 name="Get Test Tenant"
time=2026-01-10T16:00:13.431-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:13.432-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:13.434-03:00 level=INFO msg="archetype created" archetype_id=5b0e1c51-389f-4f8b-b4e6-5e81a10a4736 name="Get Test Archetype"
time=2026-01-10T16:00:13.434-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-10T16:00:13.434-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-10T16:00:13.435-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetype/non-existing_archetype
time=2026-01-10T16:00:13.435-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:13.436-03:00 level=INFO msg="tenant created" tenant_id=f0cf73a2-2c15-47fe-a516-94a5bcdb7910 name="Non-existing Test Tenant"
time=2026-01-10T16:00:13.436-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:13.436-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-10T16:00:13.436-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 23f9214a-186a-4397-b79e-d1fcb6b4e13d" archetype_id=23f9214a-186a-4397-b79e-d1fcb6b4e13d
time=2026-01-10T16:00:13.436-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: 23f9214a-186a-4397-b79e-d1fcb6b4e13d"
time=2026-01-10T16:00:13.436-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetype (0.48s)
    --- PASS: TestArchetypeHandler_GetArchetype/existing_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetype/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_ListArchetypes
time=2026-01-10T16:00:13.959-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:13.959-03:00 level=INFO msg="TraitService registered"
time=2026-01-10T16:00:13.959-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_ListArchetypes/list_archetypes
time=2026-01-10T16:00:13.961-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:13.976-03:00 level=INFO msg="tenant created" tenant_id=607666a1-7afc-4589-8894-7d1ac9537dc4 name="List Test Tenant"
time=2026-01-10T16:00:13.976-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=15
time=2026-01-10T16:00:13.977-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:13.978-03:00 level=INFO msg="archetype created" archetype_id=dfe22add-2185-483c-97ef-ecd6536909bb name="Archetype 1"
time=2026-01-10T16:00:13.978-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-10T16:00:13.978-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:13.979-03:00 level=INFO msg="archetype created" archetype_id=dd940d1b-c39c-4edf-9639-17290d8c557e name="Archetype 2"
time=2026-01-10T16:00:13.979-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-10T16:00:13.979-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/ListArchetypes
time=2026-01-10T16:00:13.980-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/ListArchetypes duration_ms=0
time=2026-01-10T16:00:13.980-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_ListArchetypes (0.49s)
    --- PASS: TestArchetypeHandler_ListArchetypes/list_archetypes (0.02s)
=== RUN   TestArchetypeHandler_UpdateArchetype
time=2026-01-10T16:00:14.302-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:14.302-03:00 level=INFO msg="TraitService registered"
time=2026-01-10T16:00:14.302-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_UpdateArchetype/update_archetype
time=2026-01-10T16:00:14.303-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:14.306-03:00 level=INFO msg="tenant created" tenant_id=d21fcc9b-1b4d-4162-8ed7-a7d90d31d087 name="Update Test Tenant"
time=2026-01-10T16:00:14.306-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:14.306-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:14.308-03:00 level=INFO msg="archetype created" archetype_id=9e4754fc-9071-42b3-aa9b-8883f92751ea name="Original Archetype"
time=2026-01-10T16:00:14.308-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-10T16:00:14.309-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/UpdateArchetype
time=2026-01-10T16:00:14.310-03:00 level=INFO msg="archetype updated" archetype_id=9e4754fc-9071-42b3-aa9b-8883f92751ea name="Updated Archetype"
time=2026-01-10T16:00:14.310-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/UpdateArchetype duration_ms=1
time=2026-01-10T16:00:14.310-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_UpdateArchetype (0.41s)
    --- PASS: TestArchetypeHandler_UpdateArchetype/update_archetype (0.01s)
=== RUN   TestArchetypeHandler_DeleteArchetype
time=2026-01-10T16:00:14.647-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:14.647-03:00 level=INFO msg="TraitService registered"
time=2026-01-10T16:00:14.647-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_DeleteArchetype/delete_archetype
time=2026-01-10T16:00:14.661-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:14.663-03:00 level=INFO msg="tenant created" tenant_id=fc5e6c1b-b585-4279-b530-12cf7240598b name="Delete Test Tenant"
time=2026-01-10T16:00:14.663-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:14.664-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:14.665-03:00 level=INFO msg="archetype created" archetype_id=f86581fc-9960-46d1-b825-3fa531ca3ad1 name="Archetype to Delete"
time=2026-01-10T16:00:14.665-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-10T16:00:14.665-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/DeleteArchetype
time=2026-01-10T16:00:14.668-03:00 level=INFO msg="archetype deleted" archetype_id=f86581fc-9960-46d1-b825-3fa531ca3ad1 name="Archetype to Delete"
time=2026-01-10T16:00:14.668-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/DeleteArchetype duration_ms=2
time=2026-01-10T16:00:14.668-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-10T16:00:14.668-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: f86581fc-9960-46d1-b825-3fa531ca3ad1" archetype_id=f86581fc-9960-46d1-b825-3fa531ca3ad1
time=2026-01-10T16:00:14.668-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: f86581fc-9960-46d1-b825-3fa531ca3ad1"
time=2026-01-10T16:00:14.668-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_DeleteArchetype (0.38s)
    --- PASS: TestArchetypeHandler_DeleteArchetype/delete_archetype (0.02s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-10T16:00:15.012-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:15.012-03:00 level=INFO msg="TraitService registered"
time=2026-01-10T16:00:15.012-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-10T16:00:15.013-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:15.020-03:00 level=INFO msg="tenant created" tenant_id=9b62a006-589d-4f52-99be-d10359e35d26 name="Add Trait Test Tenant"
time=2026-01-10T16:00:15.020-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-10T16:00:15.020-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:15.022-03:00 level=INFO msg="archetype created" archetype_id=e11f6a93-96c7-407f-a488-4e15b950bdbc name=Warrior
time=2026-01-10T16:00:15.022-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=2
time=2026-01-10T16:00:15.023-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:15.027-03:00 level=INFO msg="trait created" trait_id=98049eb6-2e7a-4dfc-b181-f0ada44548e7 name=Brave
time=2026-01-10T16:00:15.027-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=4
time=2026-01-10T16:00:15.027-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-10T16:00:15.029-03:00 level=INFO msg="trait added to archetype" archetype_id=e11f6a93-96c7-407f-a488-4e15b950bdbc trait_id=98049eb6-2e7a-4dfc-b181-f0ada44548e7
time=2026-01-10T16:00:15.029-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-10T16:00:15.029-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_AddTrait (0.28s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.02s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-10T16:00:15.314-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:15.314-03:00 level=INFO msg="TraitService registered"
time=2026-01-10T16:00:15.314-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-10T16:00:15.318-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:15.320-03:00 level=INFO msg="tenant created" tenant_id=b4bd00ef-4328-4e5f-977f-5ba81fb1b1b9 name="Remove Trait Test Tenant"
time=2026-01-10T16:00:15.320-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:15.320-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:15.321-03:00 level=INFO msg="archetype created" archetype_id=2c5c5929-1730-4f60-bcb1-7fcb0c5f9991 name=Warrior
time=2026-01-10T16:00:15.321-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-10T16:00:15.321-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:15.322-03:00 level=INFO msg="trait created" trait_id=7b52c2f3-08d3-4e41-989b-a1f5464bbeb4 name=Brave
time=2026-01-10T16:00:15.322-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-10T16:00:15.323-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-10T16:00:15.325-03:00 level=INFO msg="trait added to archetype" archetype_id=2c5c5929-1730-4f60-bcb1-7fcb0c5f9991 trait_id=7b52c2f3-08d3-4e41-989b-a1f5464bbeb4
time=2026-01-10T16:00:15.325-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=2
time=2026-01-10T16:00:15.326-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/RemoveTraitFromArchetype
time=2026-01-10T16:00:15.326-03:00 level=INFO msg="trait removed from archetype" archetype_id=2c5c5929-1730-4f60-bcb1-7fcb0c5f9991 trait_id=7b52c2f3-08d3-4e41-989b-a1f5464bbeb4
time=2026-01-10T16:00:15.326-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/RemoveTraitFromArchetype duration_ms=0
time=2026-01-10T16:00:15.326-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_RemoveTrait (0.30s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.01s)
=== RUN   TestArchetypeHandler_GetArchetypeTraits
time=2026-01-10T16:00:15.634-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:15.634-03:00 level=INFO msg="TraitService registered"
time=2026-01-10T16:00:15.634-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype
time=2026-01-10T16:00:15.635-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:15.637-03:00 level=INFO msg="tenant created" tenant_id=b5997cc5-3382-470f-a39c-e8d0bd79adc6 name="Get Traits Test Tenant"
time=2026-01-10T16:00:15.637-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:15.637-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:15.638-03:00 level=INFO msg="archetype created" archetype_id=687b2110-11f8-4f45-b625-d4a51772a6c7 name=Warrior
time=2026-01-10T16:00:15.638-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-10T16:00:15.639-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:15.639-03:00 level=INFO msg="trait created" trait_id=b0de92f5-15ba-4bf4-a6d2-766abf828e73 name=Brave
time=2026-01-10T16:00:15.639-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-10T16:00:15.640-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:15.640-03:00 level=INFO msg="trait created" trait_id=0b726e99-de64-4a7f-b194-eb803d512e08 name=Strong
time=2026-01-10T16:00:15.640-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-10T16:00:15.640-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-10T16:00:15.641-03:00 level=INFO msg="trait added to archetype" archetype_id=687b2110-11f8-4f45-b625-d4a51772a6c7 trait_id=b0de92f5-15ba-4bf4-a6d2-766abf828e73
time=2026-01-10T16:00:15.641-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-10T16:00:15.642-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-10T16:00:15.642-03:00 level=INFO msg="trait added to archetype" archetype_id=687b2110-11f8-4f45-b625-d4a51772a6c7 trait_id=0b726e99-de64-4a7f-b194-eb803d512e08
time=2026-01-10T16:00:15.642-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=0
time=2026-01-10T16:00:15.642-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-10T16:00:15.643-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits
time=2026-01-10T16:00:15.643-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:15.643-03:00 level=INFO msg="tenant created" tenant_id=bb335b46-b515-4409-9698-073f91c6b65e name="Empty Traits Test Tenant"
time=2026-01-10T16:00:15.643-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:15.643-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-10T16:00:15.644-03:00 level=INFO msg="archetype created" archetype_id=897345fd-954f-49cf-aa22-9d0a50a218cd name=Mage
time=2026-01-10T16:00:15.644-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-10T16:00:15.644-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-10T16:00:15.644-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id
time=2026-01-10T16:00:15.644-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:15.645-03:00 level=INFO msg="tenant created" tenant_id=6963b3f6-8162-4c26-8d3e-45ab50d94073 name="Invalid ID Test Tenant"
time=2026-01-10T16:00:15.645-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:15.645-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-10T16:00:15.645-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid archetype_id: invalid UUID length: 12"
time=2026-01-10T16:00:15.645-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetypeTraits (0.39s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits (0.00s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id (0.00s)
=== RUN   TestArtifactHandler_CreateArtifact
time=2026-01-10T16:00:16.084-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:16.084-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:16.084-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_CreateArtifact/successful_creation
time=2026-01-10T16:00:16.085-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:16.088-03:00 level=INFO msg="tenant created" tenant_id=594cb012-8d93-4b87-9e18-7ed63bb8b7c3 name="Test Tenant for Artifact"
time=2026-01-10T16:00:16.088-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:16.089-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:16.091-03:00 level=INFO msg="world created" world_id=54048492-9d58-4806-8d47-cbcb83d1bc90 name="Test World" tenant_id=594cb012-8d93-4b87-9e18-7ed63bb8b7c3
time=2026-01-10T16:00:16.091-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=2
time=2026-01-10T16:00:16.092-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:16.093-03:00 level=INFO msg="artifact created" artifact_id=bc0c4476-a7cf-4a29-8dc9-ec8d16bc247e name="Test Artifact"
time=2026-01-10T16:00:16.093-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
=== RUN   TestArtifactHandler_CreateArtifact/empty_name
time=2026-01-10T16:00:16.094-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:16.094-03:00 level=INFO msg="tenant created" tenant_id=5c1e31bf-acf4-442e-b08b-25d0d1ce032a name="Test Tenant 2"
time=2026-01-10T16:00:16.094-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:16.094-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:16.095-03:00 level=INFO msg="world created" world_id=7e4dd787-eaed-4a2f-95d5-c3d4967763c8 name="Test World 2" tenant_id=5c1e31bf-acf4-442e-b08b-25d0d1ce032a
time=2026-01-10T16:00:16.095-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:16.095-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:16.095-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-10T16:00:16.096-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_CreateArtifact (0.45s)
    --- PASS: TestArtifactHandler_CreateArtifact/successful_creation (0.01s)
    --- PASS: TestArtifactHandler_CreateArtifact/empty_name (0.00s)
=== RUN   TestArtifactHandler_GetArtifact
time=2026-01-10T16:00:16.450-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:16.450-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:16.450-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_GetArtifact/existing_artifact
time=2026-01-10T16:00:16.452-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:16.455-03:00 level=INFO msg="tenant created" tenant_id=d5f618a2-93db-4927-a193-85c2f704c010 name="Get Test Tenant"
time=2026-01-10T16:00:16.455-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:16.455-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:16.456-03:00 level=INFO msg="world created" world_id=b4564edf-967b-4351-af69-f65e1390d9e3 name="Get Test World" tenant_id=d5f618a2-93db-4927-a193-85c2f704c010
time=2026-01-10T16:00:16.456-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:16.456-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:16.457-03:00 level=INFO msg="artifact created" artifact_id=f98515e0-0746-4049-9ee8-625794c8e8ea name="Get Test Artifact"
time=2026-01-10T16:00:16.457-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-10T16:00:16.457-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-10T16:00:16.458-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/GetArtifact duration_ms=0
=== RUN   TestArtifactHandler_GetArtifact/non-existing_artifact
time=2026-01-10T16:00:16.458-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:16.458-03:00 level=INFO msg="tenant created" tenant_id=4c1babc2-45b4-4652-854c-bb67e1ffb196 name="Non-existing Test Tenant"
time=2026-01-10T16:00:16.458-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:16.458-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-10T16:00:16.459-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 7cfe4b1a-1d8e-41d4-adb5-b4df9c21b851" artifact_id=7cfe4b1a-1d8e-41d4-adb5-b4df9c21b851
time=2026-01-10T16:00:16.459-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 7cfe4b1a-1d8e-41d4-adb5-b4df9c21b851"
time=2026-01-10T16:00:16.459-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_GetArtifact (0.35s)
    --- PASS: TestArtifactHandler_GetArtifact/existing_artifact (0.01s)
    --- PASS: TestArtifactHandler_GetArtifact/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_ListArtifacts
time=2026-01-10T16:00:16.753-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:16.753-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:16.753-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_ListArtifacts/list_artifacts
time=2026-01-10T16:00:16.756-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:16.759-03:00 level=INFO msg="tenant created" tenant_id=77f6c2ff-9e17-4337-b611-8ed7a094e883 name="List Test Tenant"
time=2026-01-10T16:00:16.759-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:16.759-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:16.761-03:00 level=INFO msg="world created" world_id=5a70a759-0137-490b-a2e5-50518056ab06 name="List Test World" tenant_id=77f6c2ff-9e17-4337-b611-8ed7a094e883
time=2026-01-10T16:00:16.761-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:16.761-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:16.762-03:00 level=INFO msg="artifact created" artifact_id=db6179f8-e8aa-4dec-a66f-18004ce0ac50 name="Artifact 1"
time=2026-01-10T16:00:16.762-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-10T16:00:16.762-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:16.763-03:00 level=INFO msg="artifact created" artifact_id=d2a02798-9630-4cb1-b130-d61552ce6fa4 name="Artifact 2"
time=2026-01-10T16:00:16.763-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-10T16:00:16.763-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/ListArtifacts
time=2026-01-10T16:00:16.764-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/ListArtifacts duration_ms=0
time=2026-01-10T16:00:16.764-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_ListArtifacts (0.30s)
    --- PASS: TestArtifactHandler_ListArtifacts/list_artifacts (0.01s)
=== RUN   TestArtifactHandler_UpdateArtifact
time=2026-01-10T16:00:17.012-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:17.012-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:17.012-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_UpdateArtifact/update_artifact
time=2026-01-10T16:00:17.014-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:17.017-03:00 level=INFO msg="tenant created" tenant_id=8464c5cb-7525-46c2-93f3-60c1e2fb1535 name="Update Test Tenant"
time=2026-01-10T16:00:17.017-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:17.018-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:17.019-03:00 level=INFO msg="world created" world_id=7251bf04-589e-4cd3-92c4-d3ad9aa75578 name="Update Test World" tenant_id=8464c5cb-7525-46c2-93f3-60c1e2fb1535
time=2026-01-10T16:00:17.019-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:17.019-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:17.020-03:00 level=INFO msg="artifact created" artifact_id=af318d57-25df-4a13-84b7-66f4dbaf60df name="Original Artifact"
time=2026-01-10T16:00:17.020-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-10T16:00:17.020-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/UpdateArtifact
time=2026-01-10T16:00:17.022-03:00 level=INFO msg="artifact updated" artifact_id=af318d57-25df-4a13-84b7-66f4dbaf60df name="Updated Artifact"
time=2026-01-10T16:00:17.022-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/UpdateArtifact duration_ms=1
time=2026-01-10T16:00:17.022-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_UpdateArtifact (0.19s)
    --- PASS: TestArtifactHandler_UpdateArtifact/update_artifact (0.01s)
=== RUN   TestArtifactHandler_DeleteArtifact
time=2026-01-10T16:00:17.283-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:17.283-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:17.283-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_DeleteArtifact/delete_artifact
time=2026-01-10T16:00:17.284-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:17.286-03:00 level=INFO msg="tenant created" tenant_id=81de0fb8-655b-460e-8223-91db77a5f541 name="Delete Test Tenant"
time=2026-01-10T16:00:17.286-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:17.287-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:17.288-03:00 level=INFO msg="world created" world_id=9c9154dc-42a6-44b4-a4d9-996ecc0443c3 name="Delete Test World" tenant_id=81de0fb8-655b-460e-8223-91db77a5f541
time=2026-01-10T16:00:17.288-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:17.288-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:17.290-03:00 level=INFO msg="artifact created" artifact_id=6dfcee1e-c9b9-49f3-b87c-385b8166fd40 name="Artifact to Delete"
time=2026-01-10T16:00:17.290-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-10T16:00:17.290-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/DeleteArtifact
time=2026-01-10T16:00:17.293-03:00 level=INFO msg="artifact deleted" artifact_id=6dfcee1e-c9b9-49f3-b87c-385b8166fd40 name="Artifact to Delete"
time=2026-01-10T16:00:17.293-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/DeleteArtifact duration_ms=3
time=2026-01-10T16:00:17.294-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-10T16:00:17.294-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 6dfcee1e-c9b9-49f3-b87c-385b8166fd40" artifact_id=6dfcee1e-c9b9-49f3-b87c-385b8166fd40
time=2026-01-10T16:00:17.294-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 6dfcee1e-c9b9-49f3-b87c-385b8166fd40"
time=2026-01-10T16:00:17.294-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_DeleteArtifact (0.27s)
    --- PASS: TestArtifactHandler_DeleteArtifact/delete_artifact (0.01s)
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats
time=2026-01-10T16:00:17.559-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:17.559-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:17.559-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-10T16:00:17.559-03:00 level=INFO msg="ArtifactRPGStatsService registered"
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation
time=2026-01-10T16:00:17.561-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:17.563-03:00 level=INFO msg="tenant created" tenant_id=2a792ecc-7a69-4b76-adc1-f6ae774a858a name="Test Tenant for Artifact Stats"
time=2026-01-10T16:00:17.563-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:17.563-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:17.564-03:00 level=INFO msg="world created" world_id=89c07d46-dd48-4af5-9c05-20294cd7182c name="Test World" tenant_id=2a792ecc-7a69-4b76-adc1-f6ae774a858a
time=2026-01-10T16:00:17.564-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:17.564-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:17.565-03:00 level=INFO msg="artifact created" artifact_id=8bac96f4-6b37-4edf-bda4-d8bb5cfe6a64 name="Test Artifact"
time=2026-01-10T16:00:17.565-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-10T16:00:17.565-03:00 level=INFO msg="gRPC request started" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats
time=2026-01-10T16:00:17.567-03:00 level=INFO msg="artifact RPG stats created" artifact_id=8bac96f4-6b37-4edf-bda4-d8bb5cfe6a64 version=1
time=2026-01-10T16:00:17.567-03:00 level=INFO msg="gRPC request completed" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats duration_ms=1
time=2026-01-10T16:00:17.567-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats (0.28s)
    --- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation (0.01s)
=== RUN   TestBeatHandler_CreateBeat
time=2026-01-10T16:00:17.730-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:17.730-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:17.731-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:17.731-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:17.731-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:17.731-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:17.731-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:17.734-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:17.739-03:00 level=INFO msg="tenant created" tenant_id=563abd82-7b08-4057-b13b-688928c3f128 name="Test Tenant for Beat"
time=2026-01-10T16:00:17.739-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:17.740-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:17.741-03:00 level=INFO msg="world created" world_id=e46fd0e4-052f-4a36-a60b-f735f227bac6 name="World of Test Story" tenant_id=563abd82-7b08-4057-b13b-688928c3f128
time=2026-01-10T16:00:17.741-03:00 level=INFO msg="created implicit world for story" world_id=e46fd0e4-052f-4a36-a60b-f735f227bac6 story_title="Test Story"
time=2026-01-10T16:00:17.742-03:00 level=INFO msg="story created" story_id=0b87f1d0-c10e-437e-87ff-b19348a17c48 title="Test Story" tenant_id=563abd82-7b08-4057-b13b-688928c3f128
time=2026-01-10T16:00:17.742-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:17.742-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:17.743-03:00 level=INFO msg="scene created" scene_id=f8092e01-f805-4943-880a-642d3c4ae43f story_id=0b87f1d0-c10e-437e-87ff-b19348a17c48 tenant_id=563abd82-7b08-4057-b13b-688928c3f128
time=2026-01-10T16:00:17.743-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_CreateBeat/successful_creation
time=2026-01-10T16:00:17.744-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:17.745-03:00 level=INFO msg="beat created" beat_id=88f0f33c-94fc-400f-927d-69b55ed7df73 scene_id=f8092e01-f805-4943-880a-642d3c4ae43f tenant_id=563abd82-7b08-4057-b13b-688928c3f128
time=2026-01-10T16:00:17.745-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/invalid_scene_id
time=2026-01-10T16:00:17.745-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:17.745-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = NotFound desc = scene not found: de06b5fd-4f6d-491b-969d-50816a210873"
=== RUN   TestBeatHandler_CreateBeat/invalid_type
time=2026-01-10T16:00:17.746-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:17.746-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on beat: invalid beat type"
=== RUN   TestBeatHandler_CreateBeat/missing_type
time=2026-01-10T16:00:17.746-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:17.747-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on type: type is required"
=== RUN   TestBeatHandler_CreateBeat/invalid_order_num
time=2026-01-10T16:00:17.747-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:17.748-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-10T16:00:17.748-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_CreateBeat (0.18s)
    --- PASS: TestBeatHandler_CreateBeat/successful_creation (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_scene_id (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/missing_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_order_num (0.00s)
=== RUN   TestBeatHandler_GetBeat
time=2026-01-10T16:00:17.974-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:17.974-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:17.974-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:17.974-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:17.974-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:17.974-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:17.974-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:17.978-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:17.980-03:00 level=INFO msg="tenant created" tenant_id=77af63c1-c393-4d2a-9e00-f3cd1895ab37 name="Test Tenant for Get Beat"
time=2026-01-10T16:00:17.980-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:17.981-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:17.982-03:00 level=INFO msg="world created" world_id=affc27b8-025b-42d7-a041-51d4dacc194b name="World of Test Story" tenant_id=77af63c1-c393-4d2a-9e00-f3cd1895ab37
time=2026-01-10T16:00:17.982-03:00 level=INFO msg="created implicit world for story" world_id=affc27b8-025b-42d7-a041-51d4dacc194b story_title="Test Story"
time=2026-01-10T16:00:17.983-03:00 level=INFO msg="story created" story_id=b47ea441-c751-45ca-a4d4-6691ada61abf title="Test Story" tenant_id=77af63c1-c393-4d2a-9e00-f3cd1895ab37
time=2026-01-10T16:00:17.983-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:17.984-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:17.985-03:00 level=INFO msg="scene created" scene_id=f062a910-5acc-4189-9477-c8a34cba63d9 story_id=b47ea441-c751-45ca-a4d4-6691ada61abf tenant_id=77af63c1-c393-4d2a-9e00-f3cd1895ab37
time=2026-01-10T16:00:17.985-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_GetBeat/existing_beat
time=2026-01-10T16:00:17.985-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:17.986-03:00 level=INFO msg="beat created" beat_id=4ec4a96e-17b4-4267-b4f7-f48172fc5216 scene_id=f062a910-5acc-4189-9477-c8a34cba63d9 tenant_id=77af63c1-c393-4d2a-9e00-f3cd1895ab37
time=2026-01-10T16:00:17.986-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-10T16:00:17.987-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-10T16:00:17.987-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/GetBeat duration_ms=0
=== RUN   TestBeatHandler_GetBeat/non-existing_beat
time=2026-01-10T16:00:17.987-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-10T16:00:17.987-03:00 level=ERROR msg="failed to get beat" error="beat not found: 08f0b155-fd81-40c0-b6e9-d760980f290f" beat_id=08f0b155-fd81-40c0-b6e9-d760980f290f tenant_id=77af63c1-c393-4d2a-9e00-f3cd1895ab37
time=2026-01-10T16:00:17.987-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/GetBeat duration_ms=0 error="rpc error: code = NotFound desc = beat not found: 08f0b155-fd81-40c0-b6e9-d760980f290f"
time=2026-01-10T16:00:17.987-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_GetBeat (0.24s)
    --- PASS: TestBeatHandler_GetBeat/existing_beat (0.00s)
    --- PASS: TestBeatHandler_GetBeat/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_UpdateBeat
time=2026-01-10T16:00:18.275-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:18.275-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:18.275-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:18.275-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:18.275-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:18.275-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:18.275-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:18.276-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:18.278-03:00 level=INFO msg="tenant created" tenant_id=08b51c0a-364f-454c-aae3-18d02ea36055 name="Test Tenant for Update Beat"
time=2026-01-10T16:00:18.278-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:18.279-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:18.281-03:00 level=INFO msg="world created" world_id=ee35a6dd-fc0f-4adc-bb3f-b5be78a9ed0b name="World of Test Story" tenant_id=08b51c0a-364f-454c-aae3-18d02ea36055
time=2026-01-10T16:00:18.281-03:00 level=INFO msg="created implicit world for story" world_id=ee35a6dd-fc0f-4adc-bb3f-b5be78a9ed0b story_title="Test Story"
time=2026-01-10T16:00:18.284-03:00 level=INFO msg="story created" story_id=ad61bce6-ebdb-46f7-ac40-639d5e25de82 title="Test Story" tenant_id=08b51c0a-364f-454c-aae3-18d02ea36055
time=2026-01-10T16:00:18.284-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
time=2026-01-10T16:00:18.284-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:18.286-03:00 level=INFO msg="scene created" scene_id=109cd9dc-eefc-48ac-934c-e41ff489fc86 story_id=ad61bce6-ebdb-46f7-ac40-639d5e25de82 tenant_id=08b51c0a-364f-454c-aae3-18d02ea36055
time=2026-01-10T16:00:18.286-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
=== RUN   TestBeatHandler_UpdateBeat/successful_update
time=2026-01-10T16:00:18.288-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:18.289-03:00 level=INFO msg="beat created" beat_id=cebbc683-833a-4a6a-94f2-3ff2a77182ce scene_id=109cd9dc-eefc-48ac-934c-e41ff489fc86 tenant_id=08b51c0a-364f-454c-aae3-18d02ea36055
time=2026-01-10T16:00:18.289-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-10T16:00:18.289-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/UpdateBeat
time=2026-01-10T16:00:18.290-03:00 level=INFO msg="beat updated" beat_id=cebbc683-833a-4a6a-94f2-3ff2a77182ce tenant_id=08b51c0a-364f-454c-aae3-18d02ea36055
time=2026-01-10T16:00:18.290-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/UpdateBeat duration_ms=0
time=2026-01-10T16:00:18.290-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_UpdateBeat (0.31s)
    --- PASS: TestBeatHandler_UpdateBeat/successful_update (0.00s)
=== RUN   TestBeatHandler_MoveBeat
time=2026-01-10T16:00:18.505-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:18.505-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:18.505-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:18.505-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:18.505-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:18.505-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:18.505-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:18.506-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:18.508-03:00 level=INFO msg="tenant created" tenant_id=5010dfd0-20a0-449c-9a40-df68295766ce name="Test Tenant for Move Beat"
time=2026-01-10T16:00:18.508-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:18.508-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:18.510-03:00 level=INFO msg="world created" world_id=1734d351-dcb3-4f56-b821-6553a592d3cb name="World of Test Story" tenant_id=5010dfd0-20a0-449c-9a40-df68295766ce
time=2026-01-10T16:00:18.510-03:00 level=INFO msg="created implicit world for story" world_id=1734d351-dcb3-4f56-b821-6553a592d3cb story_title="Test Story"
time=2026-01-10T16:00:18.511-03:00 level=INFO msg="story created" story_id=ee3a3bd7-45e3-4b31-8fbe-06c744cc5397 title="Test Story" tenant_id=5010dfd0-20a0-449c-9a40-df68295766ce
time=2026-01-10T16:00:18.511-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:18.511-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:18.512-03:00 level=INFO msg="scene created" scene_id=0a05d79d-e439-4740-9a49-af225d4bb842 story_id=ee3a3bd7-45e3-4b31-8fbe-06c744cc5397 tenant_id=5010dfd0-20a0-449c-9a40-df68295766ce
time=2026-01-10T16:00:18.512-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-10T16:00:18.513-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:18.513-03:00 level=INFO msg="scene created" scene_id=a5fe151c-e83b-4e2b-ac64-5652043127c7 story_id=ee3a3bd7-45e3-4b31-8fbe-06c744cc5397 tenant_id=5010dfd0-20a0-449c-9a40-df68295766ce
time=2026-01-10T16:00:18.513-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_MoveBeat/move_to_different_scene
time=2026-01-10T16:00:18.513-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:18.514-03:00 level=INFO msg="beat created" beat_id=0de85c32-2b74-4403-8036-9991f5566151 scene_id=0a05d79d-e439-4740-9a49-af225d4bb842 tenant_id=5010dfd0-20a0-449c-9a40-df68295766ce
time=2026-01-10T16:00:18.514-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-10T16:00:18.515-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/MoveBeat
time=2026-01-10T16:00:18.519-03:00 level=INFO msg="beat moved" beat_id=0de85c32-2b74-4403-8036-9991f5566151 new_scene_id=a5fe151c-e83b-4e2b-ac64-5652043127c7 tenant_id=5010dfd0-20a0-449c-9a40-df68295766ce
time=2026-01-10T16:00:18.519-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/MoveBeat duration_ms=4
time=2026-01-10T16:00:18.522-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_MoveBeat (0.24s)
    --- PASS: TestBeatHandler_MoveBeat/move_to_different_scene (0.01s)
=== RUN   TestBeatHandler_ListBeatsByScene
time=2026-01-10T16:00:18.752-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:18.752-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:18.752-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:18.752-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:18.752-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:18.752-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:18.752-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:18.753-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:18.755-03:00 level=INFO msg="tenant created" tenant_id=d9124d50-2098-40af-8e6d-1265a254c89f name="Test Tenant for List Beats"
time=2026-01-10T16:00:18.755-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:18.755-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:18.757-03:00 level=INFO msg="world created" world_id=8878352f-6096-4bb6-b5c4-e76377c6318e name="World of Test Story" tenant_id=d9124d50-2098-40af-8e6d-1265a254c89f
time=2026-01-10T16:00:18.757-03:00 level=INFO msg="created implicit world for story" world_id=8878352f-6096-4bb6-b5c4-e76377c6318e story_title="Test Story"
time=2026-01-10T16:00:18.760-03:00 level=INFO msg="story created" story_id=fdf1886f-4b45-4f3e-af38-85fafddc2003 title="Test Story" tenant_id=d9124d50-2098-40af-8e6d-1265a254c89f
time=2026-01-10T16:00:18.760-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
time=2026-01-10T16:00:18.760-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:18.761-03:00 level=INFO msg="scene created" scene_id=941ee583-4e06-4225-9843-4020208eddfd story_id=fdf1886f-4b45-4f3e-af38-85fafddc2003 tenant_id=d9124d50-2098-40af-8e6d-1265a254c89f
time=2026-01-10T16:00:18.761-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_ListBeatsByScene/list_beats_by_scene
time=2026-01-10T16:00:18.762-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:18.763-03:00 level=INFO msg="beat created" beat_id=4b935f67-001d-491f-9125-7d0e5af87db8 scene_id=941ee583-4e06-4225-9843-4020208eddfd tenant_id=d9124d50-2098-40af-8e6d-1265a254c89f
time=2026-01-10T16:00:18.763-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-10T16:00:18.763-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:18.763-03:00 level=INFO msg="beat created" beat_id=9d4cfd01-6e81-4fd2-a579-24f9ab6b2b08 scene_id=941ee583-4e06-4225-9843-4020208eddfd tenant_id=d9124d50-2098-40af-8e6d-1265a254c89f
time=2026-01-10T16:00:18.763-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-10T16:00:18.764-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:18.764-03:00 level=INFO msg="beat created" beat_id=abcc4008-b45b-4a1d-a2e6-5d36f13deea6 scene_id=941ee583-4e06-4225-9843-4020208eddfd tenant_id=d9124d50-2098-40af-8e6d-1265a254c89f
time=2026-01-10T16:00:18.764-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-10T16:00:18.764-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/ListBeatsByScene
time=2026-01-10T16:00:18.765-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/ListBeatsByScene duration_ms=0
time=2026-01-10T16:00:18.765-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_ListBeatsByScene (0.24s)
    --- PASS: TestBeatHandler_ListBeatsByScene/list_beats_by_scene (0.00s)
=== RUN   TestBeatHandler_DeleteBeat
time=2026-01-10T16:00:19.029-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:19.029-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:19.029-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:19.029-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:19.029-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:19.029-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:19.029-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:19.030-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:19.033-03:00 level=INFO msg="tenant created" tenant_id=e78e92e7-f57c-4722-b3c1-da331104996b name="Test Tenant for Delete Beat"
time=2026-01-10T16:00:19.033-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:19.033-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:19.035-03:00 level=INFO msg="world created" world_id=c6d91479-0876-4ad8-abf8-b44e2e827575 name="World of Test Story" tenant_id=e78e92e7-f57c-4722-b3c1-da331104996b
time=2026-01-10T16:00:19.035-03:00 level=INFO msg="created implicit world for story" world_id=c6d91479-0876-4ad8-abf8-b44e2e827575 story_title="Test Story"
time=2026-01-10T16:00:19.036-03:00 level=INFO msg="story created" story_id=d1146d99-ea2d-48bb-a5d3-26e5ea6e82ff title="Test Story" tenant_id=e78e92e7-f57c-4722-b3c1-da331104996b
time=2026-01-10T16:00:19.036-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:19.036-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:19.037-03:00 level=INFO msg="scene created" scene_id=52a3d6bc-7c1d-4278-a6c6-430368a72892 story_id=d1146d99-ea2d-48bb-a5d3-26e5ea6e82ff tenant_id=e78e92e7-f57c-4722-b3c1-da331104996b
time=2026-01-10T16:00:19.037-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_DeleteBeat/successful_delete
time=2026-01-10T16:00:19.039-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-10T16:00:19.041-03:00 level=INFO msg="beat created" beat_id=672597d4-4f64-49ba-84dd-017de609c2da scene_id=52a3d6bc-7c1d-4278-a6c6-430368a72892 tenant_id=e78e92e7-f57c-4722-b3c1-da331104996b
time=2026-01-10T16:00:19.041-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=2
time=2026-01-10T16:00:19.041-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/DeleteBeat
time=2026-01-10T16:00:19.042-03:00 level=INFO msg="beat deleted" beat_id=672597d4-4f64-49ba-84dd-017de609c2da tenant_id=e78e92e7-f57c-4722-b3c1-da331104996b
time=2026-01-10T16:00:19.042-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/DeleteBeat duration_ms=0
time=2026-01-10T16:00:19.042-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_DeleteBeat (0.27s)
    --- PASS: TestBeatHandler_DeleteBeat/successful_delete (0.00s)
=== RUN   TestChapterHandler_CreateChapter
time=2026-01-10T16:00:19.346-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:19.346-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:19.346-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:19.346-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:19.346-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:19.346-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:19.346-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:19.351-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:19.353-03:00 level=INFO msg="tenant created" tenant_id=7eff7ea2-2d00-4123-9551-abad8089e328 name="Test Tenant for Chapter"
time=2026-01-10T16:00:19.353-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:19.353-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:19.354-03:00 level=INFO msg="world created" world_id=34fcfcfc-cf12-4f0a-b173-77d24bfcdc64 name="World of Test Story for Chapter" tenant_id=7eff7ea2-2d00-4123-9551-abad8089e328
time=2026-01-10T16:00:19.354-03:00 level=INFO msg="created implicit world for story" world_id=34fcfcfc-cf12-4f0a-b173-77d24bfcdc64 story_title="Test Story for Chapter"
time=2026-01-10T16:00:19.355-03:00 level=INFO msg="story created" story_id=330587ec-cb15-43bc-9354-0949fa1bcac0 title="Test Story for Chapter" tenant_id=7eff7ea2-2d00-4123-9551-abad8089e328
time=2026-01-10T16:00:19.355-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_CreateChapter/successful_creation
time=2026-01-10T16:00:19.356-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:19.358-03:00 level=INFO msg="chapter created" chapter_id=733c419a-09cf-427f-be5c-837e9fb7361a story_id=330587ec-cb15-43bc-9354-0949fa1bcac0 tenant_id=7eff7ea2-2d00-4123-9551-abad8089e328
time=2026-01-10T16:00:19.358-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=2
=== RUN   TestChapterHandler_CreateChapter/invalid_story_id
time=2026-01-10T16:00:19.359-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:19.359-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = NotFound desc = story not found: d2832bc5-dbf4-4341-92d0-9f77850f44e0"
=== RUN   TestChapterHandler_CreateChapter/invalid_number
time=2026-01-10T16:00:19.359-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:19.360-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on number: must be greater than 0"
=== RUN   TestChapterHandler_CreateChapter/empty_title
time=2026-01-10T16:00:19.360-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:19.360-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on title: title is required"
time=2026-01-10T16:00:19.360-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_CreateChapter (0.32s)
    --- PASS: TestChapterHandler_CreateChapter/successful_creation (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_story_id (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_number (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/empty_title (0.00s)
=== RUN   TestChapterHandler_GetChapter
time=2026-01-10T16:00:19.629-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:19.629-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:19.629-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:19.629-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:19.629-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:19.629-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:19.629-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:19.630-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:19.634-03:00 level=INFO msg="tenant created" tenant_id=71e6230f-86b8-42e8-b52b-18ecbfff8609 name="Test Tenant for Get Chapter"
time=2026-01-10T16:00:19.634-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:19.635-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:19.638-03:00 level=INFO msg="world created" world_id=d64723ff-b1d3-4004-88cd-af708c2acf37 name="World of Test Story" tenant_id=71e6230f-86b8-42e8-b52b-18ecbfff8609
time=2026-01-10T16:00:19.638-03:00 level=INFO msg="created implicit world for story" world_id=d64723ff-b1d3-4004-88cd-af708c2acf37 story_title="Test Story"
time=2026-01-10T16:00:19.639-03:00 level=INFO msg="story created" story_id=05d13e21-88af-4cf0-a5ec-f4fc4854a6ce title="Test Story" tenant_id=71e6230f-86b8-42e8-b52b-18ecbfff8609
time=2026-01-10T16:00:19.639-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
=== RUN   TestChapterHandler_GetChapter/existing_chapter
time=2026-01-10T16:00:19.640-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:19.642-03:00 level=INFO msg="chapter created" chapter_id=74d0c956-5150-4373-8006-4e3c881ec633 story_id=05d13e21-88af-4cf0-a5ec-f4fc4854a6ce tenant_id=71e6230f-86b8-42e8-b52b-18ecbfff8609
time=2026-01-10T16:00:19.642-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=2
time=2026-01-10T16:00:19.642-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-10T16:00:19.642-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/GetChapter duration_ms=0
=== RUN   TestChapterHandler_GetChapter/non-existing_chapter
time=2026-01-10T16:00:19.643-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-10T16:00:19.643-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: ae23660f-9aac-473c-a801-258b7c5a141a" chapter_id=ae23660f-9aac-473c-a801-258b7c5a141a tenant_id=71e6230f-86b8-42e8-b52b-18ecbfff8609
time=2026-01-10T16:00:19.643-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: ae23660f-9aac-473c-a801-258b7c5a141a"
=== RUN   TestChapterHandler_GetChapter/invalid_ID
time=2026-01-10T16:00:19.643-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-10T16:00:19.643-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid id: invalid UUID length: 10"
time=2026-01-10T16:00:19.643-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_GetChapter (0.28s)
    --- PASS: TestChapterHandler_GetChapter/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/non-existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/invalid_ID (0.00s)
=== RUN   TestChapterHandler_UpdateChapter
time=2026-01-10T16:00:19.922-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:19.922-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:19.922-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:19.922-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:19.922-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:19.922-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:19.922-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:19.923-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:19.926-03:00 level=INFO msg="tenant created" tenant_id=46765de2-d0ca-4cb2-8d01-7e0d90f83293 name="Test Tenant for Update Chapter"
time=2026-01-10T16:00:19.926-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:19.926-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:19.928-03:00 level=INFO msg="world created" world_id=bcbb309a-6b06-4422-a65b-7d11990e5709 name="World of Test Story" tenant_id=46765de2-d0ca-4cb2-8d01-7e0d90f83293
time=2026-01-10T16:00:19.928-03:00 level=INFO msg="created implicit world for story" world_id=bcbb309a-6b06-4422-a65b-7d11990e5709 story_title="Test Story"
time=2026-01-10T16:00:19.929-03:00 level=INFO msg="story created" story_id=6ade9e64-f891-4a3c-a3c2-2d840821f331 title="Test Story" tenant_id=46765de2-d0ca-4cb2-8d01-7e0d90f83293
time=2026-01-10T16:00:19.929-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_UpdateChapter/successful_update
time=2026-01-10T16:00:19.929-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:19.930-03:00 level=INFO msg="chapter created" chapter_id=047a7f6e-a177-41e7-bb3e-f29d8bef1005 story_id=6ade9e64-f891-4a3c-a3c2-2d840821f331 tenant_id=46765de2-d0ca-4cb2-8d01-7e0d90f83293
time=2026-01-10T16:00:19.930-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-10T16:00:19.930-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-10T16:00:19.931-03:00 level=INFO msg="chapter updated" chapter_id=047a7f6e-a177-41e7-bb3e-f29d8bef1005 tenant_id=46765de2-d0ca-4cb2-8d01-7e0d90f83293
time=2026-01-10T16:00:19.931-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/UpdateChapter duration_ms=0
=== RUN   TestChapterHandler_UpdateChapter/non-existing_chapter
time=2026-01-10T16:00:19.931-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-10T16:00:19.932-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/UpdateChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 9e8e9111-f9a3-4776-9ba4-26de009a461b"
time=2026-01-10T16:00:19.932-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_UpdateChapter (0.29s)
    --- PASS: TestChapterHandler_UpdateChapter/successful_update (0.00s)
    --- PASS: TestChapterHandler_UpdateChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_DeleteChapter
time=2026-01-10T16:00:20.190-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:20.190-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:20.190-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:20.190-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:20.190-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:20.190-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:20.190-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:20.192-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:20.195-03:00 level=INFO msg="tenant created" tenant_id=5809fa20-519e-45e6-953f-ac813c4c0e52 name="Test Tenant for Delete Chapter"
time=2026-01-10T16:00:20.195-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:20.195-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:20.196-03:00 level=INFO msg="world created" world_id=bd076122-726c-44c7-bb79-21aef5d4511e name="World of Test Story" tenant_id=5809fa20-519e-45e6-953f-ac813c4c0e52
time=2026-01-10T16:00:20.196-03:00 level=INFO msg="created implicit world for story" world_id=bd076122-726c-44c7-bb79-21aef5d4511e story_title="Test Story"
time=2026-01-10T16:00:20.198-03:00 level=INFO msg="story created" story_id=0b34b1f9-9436-4ea0-9c40-095d2693c0bc title="Test Story" tenant_id=5809fa20-519e-45e6-953f-ac813c4c0e52
time=2026-01-10T16:00:20.198-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_DeleteChapter/successful_delete
time=2026-01-10T16:00:20.198-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:20.203-03:00 level=INFO msg="chapter created" chapter_id=fe3eaff3-73fc-4afe-bd38-94b487c96ecc story_id=0b34b1f9-9436-4ea0-9c40-095d2693c0bc tenant_id=5809fa20-519e-45e6-953f-ac813c4c0e52
time=2026-01-10T16:00:20.203-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=5
time=2026-01-10T16:00:20.204-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-10T16:00:20.205-03:00 level=INFO msg="chapter deleted" chapter_id=fe3eaff3-73fc-4afe-bd38-94b487c96ecc tenant_id=5809fa20-519e-45e6-953f-ac813c4c0e52
time=2026-01-10T16:00:20.205-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/DeleteChapter duration_ms=1
time=2026-01-10T16:00:20.206-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-10T16:00:20.209-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: fe3eaff3-73fc-4afe-bd38-94b487c96ecc" chapter_id=fe3eaff3-73fc-4afe-bd38-94b487c96ecc tenant_id=5809fa20-519e-45e6-953f-ac813c4c0e52
time=2026-01-10T16:00:20.209-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=3 error="rpc error: code = NotFound desc = chapter not found: fe3eaff3-73fc-4afe-bd38-94b487c96ecc"
=== RUN   TestChapterHandler_DeleteChapter/non-existing_chapter
time=2026-01-10T16:00:20.209-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-10T16:00:20.210-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/DeleteChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 3512eb9b-6935-4959-a135-87ffd9128bb8"
time=2026-01-10T16:00:20.210-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_DeleteChapter (0.28s)
    --- PASS: TestChapterHandler_DeleteChapter/successful_delete (0.01s)
    --- PASS: TestChapterHandler_DeleteChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_ListChaptersByStory
time=2026-01-10T16:00:20.463-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:20.463-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:20.463-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:20.463-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:20.463-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:20.463-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:20.463-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:20.464-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:20.467-03:00 level=INFO msg="tenant created" tenant_id=142b89e1-c6a2-4279-af34-1a6d1d0c18f2 name="Test Tenant for List Chapters"
time=2026-01-10T16:00:20.467-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:20.468-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:20.470-03:00 level=INFO msg="world created" world_id=d9672388-435d-4707-9477-256e677ffbf2 name="World of Test Story" tenant_id=142b89e1-c6a2-4279-af34-1a6d1d0c18f2
time=2026-01-10T16:00:20.470-03:00 level=INFO msg="created implicit world for story" world_id=d9672388-435d-4707-9477-256e677ffbf2 story_title="Test Story"
time=2026-01-10T16:00:20.472-03:00 level=INFO msg="story created" story_id=f57e8d48-5bb4-4b2b-8a81-f981b05c137a title="Test Story" tenant_id=142b89e1-c6a2-4279-af34-1a6d1d0c18f2
time=2026-01-10T16:00:20.472-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
=== RUN   TestChapterHandler_ListChaptersByStory/list_chapters
time=2026-01-10T16:00:20.473-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:20.474-03:00 level=INFO msg="chapter created" chapter_id=f73ad0f8-d18c-44cd-8a4f-4f80009f27a6 story_id=f57e8d48-5bb4-4b2b-8a81-f981b05c137a tenant_id=142b89e1-c6a2-4279-af34-1a6d1d0c18f2
time=2026-01-10T16:00:20.474-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-10T16:00:20.474-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:20.474-03:00 level=INFO msg="chapter created" chapter_id=ffc25a71-9a1d-4f7c-aa96-767cd9222382 story_id=f57e8d48-5bb4-4b2b-8a81-f981b05c137a tenant_id=142b89e1-c6a2-4279-af34-1a6d1d0c18f2
time=2026-01-10T16:00:20.475-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-10T16:00:20.475-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:20.475-03:00 level=INFO msg="chapter created" chapter_id=9e4fb17a-6165-4343-a67c-bc42d88a9a80 story_id=f57e8d48-5bb4-4b2b-8a81-f981b05c137a tenant_id=142b89e1-c6a2-4279-af34-1a6d1d0c18f2
time=2026-01-10T16:00:20.475-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-10T16:00:20.475-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-10T16:00:20.476-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
=== RUN   TestChapterHandler_ListChaptersByStory/empty_list_for_new_story
time=2026-01-10T16:00:20.476-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:20.477-03:00 level=INFO msg="world created" world_id=45365533-5699-4f22-8b54-a886f00034a8 name="World of Empty Story" tenant_id=142b89e1-c6a2-4279-af34-1a6d1d0c18f2
time=2026-01-10T16:00:20.477-03:00 level=INFO msg="created implicit world for story" world_id=45365533-5699-4f22-8b54-a886f00034a8 story_title="Empty Story"
time=2026-01-10T16:00:20.478-03:00 level=INFO msg="story created" story_id=ae66e69a-af48-4f91-8d9d-9b126c27915b title="Empty Story" tenant_id=142b89e1-c6a2-4279-af34-1a6d1d0c18f2
time=2026-01-10T16:00:20.478-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-10T16:00:20.478-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-10T16:00:20.479-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
time=2026-01-10T16:00:20.479-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_ListChaptersByStory (0.27s)
    --- PASS: TestChapterHandler_ListChaptersByStory/list_chapters (0.00s)
    --- PASS: TestChapterHandler_ListChaptersByStory/empty_list_for_new_story (0.00s)
=== RUN   TestCharacterHandler_CreateCharacter
time=2026-01-10T16:00:20.777-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:20.777-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:20.777-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_CreateCharacter/successful_creation
time=2026-01-10T16:00:20.778-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:20.780-03:00 level=INFO msg="tenant created" tenant_id=499bfcea-49f5-4416-8342-80340cbf6860 name="Test Tenant for Character"
time=2026-01-10T16:00:20.780-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:20.781-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:20.782-03:00 level=INFO msg="world created" world_id=3edc6050-8abc-445f-832f-45dae31757fc name="Test World" tenant_id=499bfcea-49f5-4416-8342-80340cbf6860
time=2026-01-10T16:00:20.782-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:20.786-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:20.787-03:00 level=INFO msg="character created" character_id=8a0322e2-2c2b-4838-bf0f-c642212e0e64 name="Test Character"
time=2026-01-10T16:00:20.787-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestCharacterHandler_CreateCharacter/empty_name
time=2026-01-10T16:00:20.787-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:20.788-03:00 level=INFO msg="tenant created" tenant_id=28441ca5-abb2-4346-895a-cfed5acc8fd6 name="Test Tenant 2"
time=2026-01-10T16:00:20.788-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:20.788-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:20.789-03:00 level=INFO msg="world created" world_id=07b38850-62ef-4650-8c11-0221c8e60239 name="Test World 2" tenant_id=28441ca5-abb2-4346-895a-cfed5acc8fd6
time=2026-01-10T16:00:20.789-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:20.789-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:20.789-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacter duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-10T16:00:20.789-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_CreateCharacter (0.30s)
    --- PASS: TestCharacterHandler_CreateCharacter/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacter/empty_name (0.00s)
=== RUN   TestCharacterHandler_GetCharacter
time=2026-01-10T16:00:21.093-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:21.093-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:21.093-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacter/existing_character
time=2026-01-10T16:00:21.096-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:21.098-03:00 level=INFO msg="tenant created" tenant_id=d81851c8-f0b6-4e81-b814-af6f6bb68fc2 name="Get Test Tenant"
time=2026-01-10T16:00:21.098-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:21.098-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:21.099-03:00 level=INFO msg="world created" world_id=278b9bc3-1bc8-4658-a920-69367392c19d name="Get Test World" tenant_id=d81851c8-f0b6-4e81-b814-af6f6bb68fc2
time=2026-01-10T16:00:21.099-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:21.099-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:21.100-03:00 level=INFO msg="character created" character_id=38a64e5d-ebd7-4de3-96f0-31fae0612be5 name="Get Test Character"
time=2026-01-10T16:00:21.100-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-10T16:00:21.100-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-10T16:00:21.101-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacter duration_ms=0
=== RUN   TestCharacterHandler_GetCharacter/non-existing_character
time=2026-01-10T16:00:21.101-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:21.101-03:00 level=INFO msg="tenant created" tenant_id=b592b685-b507-44c0-9183-b296c26c6f91 name="Non-existing Test Tenant"
time=2026-01-10T16:00:21.101-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:21.101-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-10T16:00:21.102-03:00 level=ERROR msg="failed to get character" error="character not found: fc299e97-b920-4bbe-837b-b1891678d551" character_id=fc299e97-b920-4bbe-837b-b1891678d551
time=2026-01-10T16:00:21.102-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: fc299e97-b920-4bbe-837b-b1891678d551"
time=2026-01-10T16:00:21.102-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacter (0.31s)
    --- PASS: TestCharacterHandler_GetCharacter/existing_character (0.01s)
    --- PASS: TestCharacterHandler_GetCharacter/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListCharacters
time=2026-01-10T16:00:21.421-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:21.421-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:21.421-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_ListCharacters/list_characters
time=2026-01-10T16:00:21.422-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:21.423-03:00 level=INFO msg="tenant created" tenant_id=27c88cdb-7d14-4e22-b14a-11ac5eb3344c name="List Test Tenant"
time=2026-01-10T16:00:21.423-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:21.424-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:21.425-03:00 level=INFO msg="world created" world_id=a76a6bdc-c4cf-48f1-96ab-355c949862c7 name="List Test World" tenant_id=27c88cdb-7d14-4e22-b14a-11ac5eb3344c
time=2026-01-10T16:00:21.425-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:21.425-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:21.425-03:00 level=INFO msg="character created" character_id=ae88c67e-285c-46cc-8084-92340afc58ab name="Character 1"
time=2026-01-10T16:00:21.425-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-10T16:00:21.426-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:21.426-03:00 level=INFO msg="character created" character_id=80d44a4b-2482-43a4-b65e-a70ba66ebce4 name="Character 2"
time=2026-01-10T16:00:21.426-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-10T16:00:21.426-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacters
time=2026-01-10T16:00:21.427-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacters duration_ms=0
time=2026-01-10T16:00:21.427-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_ListCharacters (0.33s)
    --- PASS: TestCharacterHandler_ListCharacters/list_characters (0.01s)
=== RUN   TestCharacterHandler_UpdateCharacter
time=2026-01-10T16:00:21.750-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:21.750-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:21.750-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_UpdateCharacter/update_character
time=2026-01-10T16:00:21.751-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:21.753-03:00 level=INFO msg="tenant created" tenant_id=aa029b27-cb16-417a-be0c-a9a2dda7ddc4 name="Update Test Tenant"
time=2026-01-10T16:00:21.753-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:21.753-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:21.754-03:00 level=INFO msg="world created" world_id=225000bd-92cc-4802-b5b5-bcbf568c6bdd name="Update Test World" tenant_id=aa029b27-cb16-417a-be0c-a9a2dda7ddc4
time=2026-01-10T16:00:21.754-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:21.754-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:21.755-03:00 level=INFO msg="character created" character_id=a4b6b40b-325e-4b3d-9472-c97d3a855f4e name="Original Character"
time=2026-01-10T16:00:21.755-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:21.756-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacter
time=2026-01-10T16:00:21.757-03:00 level=INFO msg="character updated" character_id=a4b6b40b-325e-4b3d-9472-c97d3a855f4e name="Updated Character"
time=2026-01-10T16:00:21.757-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacter duration_ms=1
time=2026-01-10T16:00:21.757-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_UpdateCharacter (0.33s)
    --- PASS: TestCharacterHandler_UpdateCharacter/update_character (0.01s)
=== RUN   TestCharacterHandler_DeleteCharacter
time=2026-01-10T16:00:22.077-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:22.077-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:22.077-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_DeleteCharacter/delete_character
time=2026-01-10T16:00:22.078-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:22.080-03:00 level=INFO msg="tenant created" tenant_id=3ca767a9-2867-4114-b1e8-77fb4033d6e7 name="Delete Test Tenant"
time=2026-01-10T16:00:22.080-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:22.080-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:22.081-03:00 level=INFO msg="world created" world_id=8313d73c-caee-4a9a-a4b4-97b7a5e21e5c name="Delete Test World" tenant_id=3ca767a9-2867-4114-b1e8-77fb4033d6e7
time=2026-01-10T16:00:22.081-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:22.081-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:22.083-03:00 level=INFO msg="character created" character_id=131b71ac-d886-4fcf-aa25-1b744cef79a3 name="Character to Delete"
time=2026-01-10T16:00:22.083-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:22.083-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/DeleteCharacter
time=2026-01-10T16:00:22.086-03:00 level=INFO msg="character deleted" character_id=131b71ac-d886-4fcf-aa25-1b744cef79a3 name="Character to Delete"
time=2026-01-10T16:00:22.086-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/DeleteCharacter duration_ms=3
time=2026-01-10T16:00:22.086-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-10T16:00:22.086-03:00 level=ERROR msg="failed to get character" error="character not found: 131b71ac-d886-4fcf-aa25-1b744cef79a3" character_id=131b71ac-d886-4fcf-aa25-1b744cef79a3
time=2026-01-10T16:00:22.086-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: 131b71ac-d886-4fcf-aa25-1b744cef79a3"
time=2026-01-10T16:00:22.087-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_DeleteCharacter (0.33s)
    --- PASS: TestCharacterHandler_DeleteCharacter/delete_character (0.01s)
=== RUN   TestCharacterHandler_GetCharacterEvents
time=2026-01-10T16:00:22.269-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:22.269-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:22.269-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events
time=2026-01-10T16:00:22.270-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:22.276-03:00 level=INFO msg="tenant created" tenant_id=0b635209-8fc6-4297-b235-43e82958a30c name="Events Test Tenant"
time=2026-01-10T16:00:22.276-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-10T16:00:22.277-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:22.278-03:00 level=INFO msg="world created" world_id=bf9b828a-dd60-4a2b-b595-43c650059573 name="Events Test World" tenant_id=0b635209-8fc6-4297-b235-43e82958a30c
time=2026-01-10T16:00:22.278-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:22.278-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:22.280-03:00 level=INFO msg="character created" character_id=58c2ee1f-fd48-4dea-9192-89c9b7eab777 name="Character With Events"
time=2026-01-10T16:00:22.280-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:22.280-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-10T16:00:22.281-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacterEvents duration_ms=1
=== RUN   TestCharacterHandler_GetCharacterEvents/invalid_character_id
time=2026-01-10T16:00:22.282-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:22.283-03:00 level=INFO msg="tenant created" tenant_id=c65447c1-1295-409f-bd5d-006b0c32482e name="Invalid Events Test Tenant"
time=2026-01-10T16:00:22.283-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:22.284-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-10T16:00:22.284-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacterEvents duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid character_id: invalid UUID length: 12"
time=2026-01-10T16:00:22.284-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacterEvents (0.20s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events (0.01s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/invalid_character_id (0.00s)
=== RUN   TestCharacterHandler_CreateCharacterRelationship
    character_handler_test.go:417: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_CreateCharacterRelationship (0.00s)
=== RUN   TestCharacterHandler_GetCharacterRelationship
    character_handler_test.go:564: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_GetCharacterRelationship (0.00s)
=== RUN   TestCharacterHandler_ListCharacterRelationships
    character_handler_test.go:659: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_ListCharacterRelationships (0.00s)
=== RUN   TestCharacterHandler_UpdateCharacterRelationship
    character_handler_test.go:800: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_UpdateCharacterRelationship (0.00s)
=== RUN   TestCharacterHandler_DeleteCharacterRelationship
    character_handler_test.go:943: Character relationships now use entity_relations - use EntityRelationService instead
--- SKIP: TestCharacterHandler_DeleteCharacterRelationship (0.00s)
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats
time=2026-01-10T16:00:22.592-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:22.592-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:22.592-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:22.592-03:00 level=INFO msg="CharacterRPGStatsService registered"
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation
time=2026-01-10T16:00:22.593-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:22.595-03:00 level=INFO msg="tenant created" tenant_id=5c4eb495-5219-4b1b-9efe-fec18236db6c name="Test Tenant for Character Stats"
time=2026-01-10T16:00:22.595-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:22.596-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:22.597-03:00 level=INFO msg="world created" world_id=862f0237-a4ee-453f-ba20-a9a9627976a1 name="Test World" tenant_id=5c4eb495-5219-4b1b-9efe-fec18236db6c
time=2026-01-10T16:00:22.597-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:22.597-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:22.599-03:00 level=INFO msg="character created" character_id=ad1bb2f6-4df2-46d8-92ae-fdd6bf2da301 name="Test Character"
time=2026-01-10T16:00:22.599-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:22.599-03:00 level=INFO msg="gRPC request started" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats
time=2026-01-10T16:00:22.603-03:00 level=INFO msg="character RPG stats created" character_id=ad1bb2f6-4df2-46d8-92ae-fdd6bf2da301 version=1
time=2026-01-10T16:00:22.603-03:00 level=INFO msg="gRPC request completed" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats duration_ms=4
time=2026-01-10T16:00:22.603-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats (0.34s)
    --- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation (0.01s)
=== RUN   TestCharacterSkillHandler_AddCharacterSkill
time=2026-01-10T16:00:22.884-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:22.884-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:22.885-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:22.885-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:22.885-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:22.885-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill
time=2026-01-10T16:00:22.885-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:22.888-03:00 level=INFO msg="tenant created" tenant_id=17f1e1c4-2c15-4d90-867c-5feabfc9bc90 name="Test Tenant for Character Skill"
time=2026-01-10T16:00:22.888-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:22.888-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:22.889-03:00 level=INFO msg="world created" world_id=62ea20d0-5ba1-4d58-9c34-d0b50192fe55 name="Test World" tenant_id=17f1e1c4-2c15-4d90-867c-5feabfc9bc90
time=2026-01-10T16:00:22.889-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:22.889-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:22.890-03:00 level=INFO msg="character created" character_id=b16d921b-4de8-4cdc-a222-6af25d1706c2 name="Test Character"
time=2026-01-10T16:00:22.890-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:22.891-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:22.892-03:00 level=INFO msg="RPG system created" rpg_system_id=34865aef-146a-451d-b18e-8569ad172839 name="Test System"
time=2026-01-10T16:00:22.892-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:22.892-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:22.893-03:00 level=INFO msg="skill created" skill_id=b4468fce-b5a5-4fe0-8734-f72bbb5a8f1f name=Fireball
time=2026-01-10T16:00:22.893-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-10T16:00:22.894-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-10T16:00:22.896-03:00 level=INFO msg="character learned skill" character_id=b16d921b-4de8-4cdc-a222-6af25d1706c2 skill_id=b4468fce-b5a5-4fe0-8734-f72bbb5a8f1f
time=2026-01-10T16:00:22.896-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-10T16:00:22.896-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_AddCharacterSkill (0.28s)
    --- PASS: TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill (0.01s)
=== RUN   TestCharacterSkillHandler_ListCharacterSkills
time=2026-01-10T16:00:23.194-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:23.194-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:23.194-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:23.194-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:23.194-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:23.194-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_ListCharacterSkills/list_character_skills
time=2026-01-10T16:00:23.194-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:23.197-03:00 level=INFO msg="tenant created" tenant_id=00e481b8-c4cb-4a2d-8aec-39e30801519d name="List Test Tenant"
time=2026-01-10T16:00:23.197-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:23.197-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:23.198-03:00 level=INFO msg="world created" world_id=9cf8a369-86d6-427f-83db-a004067c480f name="List Test World" tenant_id=00e481b8-c4cb-4a2d-8aec-39e30801519d
time=2026-01-10T16:00:23.198-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:23.198-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:23.200-03:00 level=INFO msg="character created" character_id=265b25cd-b4cf-4f9f-b4f9-cfc5fa0c0577 name="List Test Character"
time=2026-01-10T16:00:23.200-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:23.200-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:23.201-03:00 level=INFO msg="RPG system created" rpg_system_id=35d10348-8c51-4959-8ccc-7a2b079a0edf name="List Test System"
time=2026-01-10T16:00:23.201-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:23.201-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:23.202-03:00 level=INFO msg="skill created" skill_id=1f261394-0316-411f-9f8d-07445869a0ec name="List Test Skill"
time=2026-01-10T16:00:23.202-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-10T16:00:23.203-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-10T16:00:23.205-03:00 level=INFO msg="character learned skill" character_id=265b25cd-b4cf-4f9f-b4f9-cfc5fa0c0577 skill_id=1f261394-0316-411f-9f8d-07445869a0ec
time=2026-01-10T16:00:23.205-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-10T16:00:23.205-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-10T16:00:23.206-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
time=2026-01-10T16:00:23.206-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_ListCharacterSkills (0.34s)
    --- PASS: TestCharacterSkillHandler_ListCharacterSkills/list_character_skills (0.01s)
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill
time=2026-01-10T16:00:23.430-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:23.430-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:23.430-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:23.430-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:23.430-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:23.430-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-10T16:00:23.431-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:23.433-03:00 level=INFO msg="tenant created" tenant_id=7d8e9781-5d95-4d1f-a6b4-425f9ea1db33 name="Update Skill Test Tenant"
time=2026-01-10T16:00:23.433-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:23.434-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:23.435-03:00 level=INFO msg="world created" world_id=bfbe52c0-30a2-4fdd-912e-b6cee986bec5 name="Test World" tenant_id=7d8e9781-5d95-4d1f-a6b4-425f9ea1db33
time=2026-01-10T16:00:23.435-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:23.435-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:23.436-03:00 level=INFO msg="character created" character_id=eb279ec8-b9cd-4283-8b14-66155aa59bb6 name="Test Character"
time=2026-01-10T16:00:23.436-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:23.437-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:23.437-03:00 level=INFO msg="RPG system created" rpg_system_id=b29cfc98-57b1-4e10-80e8-dea6caa60c6c name="Test System"
time=2026-01-10T16:00:23.437-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:23.437-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:23.438-03:00 level=INFO msg="skill created" skill_id=3456be0d-a0fb-4525-af27-e4759f55e019 name=Fireball
time=2026-01-10T16:00:23.438-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/successful_update
time=2026-01-10T16:00:23.439-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-10T16:00:23.449-03:00 level=INFO msg="character learned skill" character_id=eb279ec8-b9cd-4283-8b14-66155aa59bb6 skill_id=3456be0d-a0fb-4525-af27-e4759f55e019
time=2026-01-10T16:00:23.449-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=10
time=2026-01-10T16:00:23.449-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-10T16:00:23.450-03:00 level=INFO msg="character skill updated" id=7ecf3d72-1d16-437d-9142-9c92c002548f character_id=eb279ec8-b9cd-4283-8b14-66155aa59bb6
time=2026-01-10T16:00:23.450-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill
time=2026-01-10T16:00:23.450-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-10T16:00:23.450-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: 37145b79-29e5-4722-8edb-085a1f2eeb4a"
time=2026-01-10T16:00:23.450-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_UpdateCharacterSkill (0.22s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/successful_update (0.01s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill (0.00s)
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill
time=2026-01-10T16:00:23.668-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:23.668-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:23.668-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:23.668-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:23.668-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:23.668-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-10T16:00:23.669-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:23.671-03:00 level=INFO msg="tenant created" tenant_id=c3471e5b-1440-4589-80bc-b4fc5334e5b9 name="Delete Skill Test Tenant"
time=2026-01-10T16:00:23.671-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:23.672-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:23.672-03:00 level=INFO msg="world created" world_id=01e38984-f226-4999-b878-11658c31c399 name="Test World" tenant_id=c3471e5b-1440-4589-80bc-b4fc5334e5b9
time=2026-01-10T16:00:23.672-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:23.673-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:23.674-03:00 level=INFO msg="character created" character_id=537f7f3d-b58e-40ac-8d7d-cf7c4df5c2a6 name="Test Character"
time=2026-01-10T16:00:23.674-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:23.675-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:23.676-03:00 level=INFO msg="RPG system created" rpg_system_id=e5f541de-9bb8-4c1a-aaf1-f884d43cefa0 name="Test System"
time=2026-01-10T16:00:23.676-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:23.676-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:23.677-03:00 level=INFO msg="skill created" skill_id=159ff456-cbee-47c6-bd9d-697860484140 name=Fireball
time=2026-01-10T16:00:23.677-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete
time=2026-01-10T16:00:23.677-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-10T16:00:23.679-03:00 level=INFO msg="character learned skill" character_id=537f7f3d-b58e-40ac-8d7d-cf7c4df5c2a6 skill_id=159ff456-cbee-47c6-bd9d-697860484140
time=2026-01-10T16:00:23.679-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-10T16:00:23.680-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-10T16:00:23.680-03:00 level=INFO msg="character skill deleted" id=c1825bd8-62a6-47c2-a4e1-fb49888498ac
time=2026-01-10T16:00:23.680-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0
time=2026-01-10T16:00:23.680-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-10T16:00:23.684-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=4
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill
time=2026-01-10T16:00:23.685-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-10T16:00:23.685-03:00 level=ERROR msg="failed to delete character skill" error="character_skill not found: 3f9d7961-a9f2-4502-a0bc-15fc62904e74" id=3f9d7961-a9f2-4502-a0bc-15fc62904e74
time=2026-01-10T16:00:23.685-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: 3f9d7961-a9f2-4502-a0bc-15fc62904e74"
time=2026-01-10T16:00:23.685-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_DeleteCharacterSkill (0.23s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete (0.01s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill (0.00s)
=== RUN   TestContentBlockHandler_CreateContentBlock
time=2026-01-10T16:00:23.896-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:23.896-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:23.896-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:23.896-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:23.896-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:23.896-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:23.896-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:23.897-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:23.899-03:00 level=INFO msg="tenant created" tenant_id=9a7ecb46-2b6b-4202-8c0d-8eda870e50da name="Test Tenant for ContentBlock"
time=2026-01-10T16:00:23.899-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:23.900-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:23.901-03:00 level=INFO msg="world created" world_id=06eea383-211e-4486-a039-e1f00e826796 name="World of Test Story" tenant_id=9a7ecb46-2b6b-4202-8c0d-8eda870e50da
time=2026-01-10T16:00:23.901-03:00 level=INFO msg="created implicit world for story" world_id=06eea383-211e-4486-a039-e1f00e826796 story_title="Test Story"
time=2026-01-10T16:00:23.902-03:00 level=INFO msg="story created" story_id=f8f6f9e4-9454-4c72-afc9-ce701f27d990 title="Test Story" tenant_id=9a7ecb46-2b6b-4202-8c0d-8eda870e50da
time=2026-01-10T16:00:23.902-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:23.902-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:23.903-03:00 level=INFO msg="chapter created" chapter_id=243b62d5-10f8-404d-8cee-35c886efd0d6 story_id=f8f6f9e4-9454-4c72-afc9-ce701f27d990 tenant_id=9a7ecb46-2b6b-4202-8c0d-8eda870e50da
time=2026-01-10T16:00:23.903-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/successful_creation
time=2026-01-10T16:00:23.903-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:23.904-03:00 level=INFO msg="content block created" content_block_id=aa4d6088-141b-481e-bd98-73247e5e43be tenant_id=9a7ecb46-2b6b-4202-8c0d-8eda870e50da
time=2026-01-10T16:00:23.904-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/default_kind
time=2026-01-10T16:00:23.905-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:23.905-03:00 level=INFO msg="content block created" content_block_id=b59c6616-cfbb-40fa-9f11-cedaa4d73dd9 tenant_id=9a7ecb46-2b6b-4202-8c0d-8eda870e50da
time=2026-01-10T16:00:23.905-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_chapter_id
time=2026-01-10T16:00:23.905-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:23.906-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 2c400a43-dcf0-42c2-b313-869e4a0ac2fb"
=== RUN   TestContentBlockHandler_CreateContentBlock/empty_content
time=2026-01-10T16:00:23.906-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:23.906-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on content: content is required"
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_order_num
time=2026-01-10T16:00:23.906-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:23.906-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-10T16:00:23.907-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_CreateContentBlock (0.22s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/default_kind (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_chapter_id (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/empty_content (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_order_num (0.00s)
=== RUN   TestContentBlockHandler_GetContentBlock
time=2026-01-10T16:00:24.140-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:24.140-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:24.140-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:24.140-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:24.140-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:24.140-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:24.140-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:24.141-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:24.146-03:00 level=INFO msg="tenant created" tenant_id=70911fde-95ad-4813-bb13-70c8df43bb6c name="Test Tenant for Get ContentBlock"
time=2026-01-10T16:00:24.146-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:24.146-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:24.149-03:00 level=INFO msg="world created" world_id=ec23d8ed-7e90-4535-8202-ef30596fab5a name="World of Test Story" tenant_id=70911fde-95ad-4813-bb13-70c8df43bb6c
time=2026-01-10T16:00:24.149-03:00 level=INFO msg="created implicit world for story" world_id=ec23d8ed-7e90-4535-8202-ef30596fab5a story_title="Test Story"
time=2026-01-10T16:00:24.150-03:00 level=INFO msg="story created" story_id=d9f8d280-3120-4bae-b164-5300e53930e8 title="Test Story" tenant_id=70911fde-95ad-4813-bb13-70c8df43bb6c
time=2026-01-10T16:00:24.151-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
time=2026-01-10T16:00:24.151-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:24.152-03:00 level=INFO msg="chapter created" chapter_id=01de6b45-f72f-4978-bc1b-61aaa1f585bb story_id=d9f8d280-3120-4bae-b164-5300e53930e8 tenant_id=70911fde-95ad-4813-bb13-70c8df43bb6c
time=2026-01-10T16:00:24.152-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_GetContentBlock/existing_content_block
time=2026-01-10T16:00:24.152-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:24.153-03:00 level=INFO msg="content block created" content_block_id=b0f7c56a-4f81-433c-8ae8-6fe54e7ced8f tenant_id=70911fde-95ad-4813-bb13-70c8df43bb6c
time=2026-01-10T16:00:24.153-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-10T16:00:24.154-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-10T16:00:24.154-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_GetContentBlock/non-existing_content_block
time=2026-01-10T16:00:24.154-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-10T16:00:24.155-03:00 level=ERROR msg="failed to get content block" error="content_block not found: a25d4a05-1e02-4634-a105-11e4af34cfb4" content_block_id=a25d4a05-1e02-4634-a105-11e4af34cfb4 tenant_id=70911fde-95ad-4813-bb13-70c8df43bb6c
time=2026-01-10T16:00:24.155-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: a25d4a05-1e02-4634-a105-11e4af34cfb4"
time=2026-01-10T16:00:24.155-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_GetContentBlock (0.26s)
    --- PASS: TestContentBlockHandler_GetContentBlock/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_GetContentBlock/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_UpdateContentBlock
time=2026-01-10T16:00:24.402-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:24.402-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:24.402-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:24.402-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:24.402-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:24.402-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:24.402-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:24.403-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:24.405-03:00 level=INFO msg="tenant created" tenant_id=9e0833eb-d48e-4525-a11b-92987e6b7c0c name="Test Tenant for Update ContentBlock"
time=2026-01-10T16:00:24.405-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:24.405-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:24.406-03:00 level=INFO msg="world created" world_id=6a92b9bb-49c5-4339-88eb-bbf75c728c6c name="World of Test Story" tenant_id=9e0833eb-d48e-4525-a11b-92987e6b7c0c
time=2026-01-10T16:00:24.406-03:00 level=INFO msg="created implicit world for story" world_id=6a92b9bb-49c5-4339-88eb-bbf75c728c6c story_title="Test Story"
time=2026-01-10T16:00:24.408-03:00 level=INFO msg="story created" story_id=6b8b0bf7-7f22-4e3a-8861-f0402aa745f3 title="Test Story" tenant_id=9e0833eb-d48e-4525-a11b-92987e6b7c0c
time=2026-01-10T16:00:24.408-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:24.408-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:24.409-03:00 level=INFO msg="chapter created" chapter_id=6a9365a7-402a-4677-83eb-4bccb9430a79 story_id=6b8b0bf7-7f22-4e3a-8861-f0402aa745f3 tenant_id=9e0833eb-d48e-4525-a11b-92987e6b7c0c
time=2026-01-10T16:00:24.409-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_UpdateContentBlock/successful_update
time=2026-01-10T16:00:24.409-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:24.411-03:00 level=INFO msg="content block created" content_block_id=f53bba17-c921-4a1e-94aa-9c8bcab82c80 tenant_id=9e0833eb-d48e-4525-a11b-92987e6b7c0c
time=2026-01-10T16:00:24.411-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-10T16:00:24.411-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/UpdateContentBlock
time=2026-01-10T16:00:24.412-03:00 level=INFO msg="content block updated" content_block_id=f53bba17-c921-4a1e-94aa-9c8bcab82c80 tenant_id=9e0833eb-d48e-4525-a11b-92987e6b7c0c
time=2026-01-10T16:00:24.412-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/UpdateContentBlock duration_ms=1
time=2026-01-10T16:00:24.412-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_UpdateContentBlock (0.24s)
    --- PASS: TestContentBlockHandler_UpdateContentBlock/successful_update (0.00s)
=== RUN   TestContentBlockHandler_DeleteContentBlock
time=2026-01-10T16:00:24.594-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:24.594-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:24.594-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:24.594-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:24.594-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:24.594-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:24.594-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:24.596-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:24.598-03:00 level=INFO msg="tenant created" tenant_id=4215f3b0-bc58-4e50-a59e-4d0ec7d05320 name="Test Tenant for Delete ContentBlock"
time=2026-01-10T16:00:24.598-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:24.599-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:24.600-03:00 level=INFO msg="world created" world_id=05b46917-4db7-4a22-ac61-198510a96207 name="World of Test Story" tenant_id=4215f3b0-bc58-4e50-a59e-4d0ec7d05320
time=2026-01-10T16:00:24.600-03:00 level=INFO msg="created implicit world for story" world_id=05b46917-4db7-4a22-ac61-198510a96207 story_title="Test Story"
time=2026-01-10T16:00:24.601-03:00 level=INFO msg="story created" story_id=cdf40b1f-e834-4fa6-b354-91a1a56ea8e4 title="Test Story" tenant_id=4215f3b0-bc58-4e50-a59e-4d0ec7d05320
time=2026-01-10T16:00:24.601-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:24.601-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:24.602-03:00 level=INFO msg="chapter created" chapter_id=0072fc1c-7911-40f1-bd0c-46d2565c6a38 story_id=cdf40b1f-e834-4fa6-b354-91a1a56ea8e4 tenant_id=4215f3b0-bc58-4e50-a59e-4d0ec7d05320
time=2026-01-10T16:00:24.602-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_DeleteContentBlock/successful_delete
time=2026-01-10T16:00:24.603-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:24.604-03:00 level=INFO msg="content block created" content_block_id=55a11e1c-ebaa-45db-9583-f83cb43533d4 tenant_id=4215f3b0-bc58-4e50-a59e-4d0ec7d05320
time=2026-01-10T16:00:24.604-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-10T16:00:24.604-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/DeleteContentBlock
time=2026-01-10T16:00:24.605-03:00 level=INFO msg="content block deleted" content_block_id=55a11e1c-ebaa-45db-9583-f83cb43533d4 tenant_id=4215f3b0-bc58-4e50-a59e-4d0ec7d05320
time=2026-01-10T16:00:24.605-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/DeleteContentBlock duration_ms=1
time=2026-01-10T16:00:24.605-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_DeleteContentBlock (0.19s)
    --- PASS: TestContentBlockHandler_DeleteContentBlock/successful_delete (0.00s)
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter
time=2026-01-10T16:00:24.850-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:24.850-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:24.850-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:24.850-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:24.850-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:24.850-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:24.850-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:24.850-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:24.853-03:00 level=INFO msg="tenant created" tenant_id=acc77596-418e-43df-ab6e-0a1c3a7ae938 name="Test Tenant for List ContentBlocks"
time=2026-01-10T16:00:24.853-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:24.853-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:24.854-03:00 level=INFO msg="world created" world_id=ecb9d825-e5e8-47bb-b81a-501ce63a8556 name="World of Test Story" tenant_id=acc77596-418e-43df-ab6e-0a1c3a7ae938
time=2026-01-10T16:00:24.854-03:00 level=INFO msg="created implicit world for story" world_id=ecb9d825-e5e8-47bb-b81a-501ce63a8556 story_title="Test Story"
time=2026-01-10T16:00:24.855-03:00 level=INFO msg="story created" story_id=97cd45b3-3160-48cd-8815-c3e8efc291dc title="Test Story" tenant_id=acc77596-418e-43df-ab6e-0a1c3a7ae938
time=2026-01-10T16:00:24.855-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:24.855-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:24.856-03:00 level=INFO msg="chapter created" chapter_id=ad16d978-0e8f-4897-a839-2b3e5df83417 story_id=97cd45b3-3160-48cd-8815-c3e8efc291dc tenant_id=acc77596-418e-43df-ab6e-0a1c3a7ae938
time=2026-01-10T16:00:24.856-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter
time=2026-01-10T16:00:24.856-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:24.858-03:00 level=INFO msg="content block created" content_block_id=efe87837-ee85-4e91-ae00-520020c0b14f tenant_id=acc77596-418e-43df-ab6e-0a1c3a7ae938
time=2026-01-10T16:00:24.858-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-10T16:00:24.859-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:24.859-03:00 level=INFO msg="content block created" content_block_id=dd4f86d1-c23b-4ebf-8d45-ba35d257e1e8 tenant_id=acc77596-418e-43df-ab6e-0a1c3a7ae938
time=2026-01-10T16:00:24.859-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-10T16:00:24.859-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:24.860-03:00 level=INFO msg="content block created" content_block_id=9825189c-377e-4f00-9669-343523fffe4b tenant_id=acc77596-418e-43df-ab6e-0a1c3a7ae938
time=2026-01-10T16:00:24.860-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-10T16:00:24.860-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/ListContentBlocksByChapter
time=2026-01-10T16:00:24.860-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/ListContentBlocksByChapter duration_ms=0
time=2026-01-10T16:00:24.861-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_ListContentBlocksByChapter (0.26s)
    --- PASS: TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter (0.00s)
=== RUN   TestContentAnchorHandler_CreateAndList
time=2026-01-10T16:00:25.114-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:25.114-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:25.114-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:25.114-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:25.114-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:25.114-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:25.114-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:25.115-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:25.118-03:00 level=INFO msg="tenant created" tenant_id=34848212-d7ae-4222-bd28-f2fcab482c1d name="Test Tenant for ContentAnchor"
time=2026-01-10T16:00:25.118-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:25.118-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:25.120-03:00 level=INFO msg="world created" world_id=6dc36853-a5e6-4dd8-9788-9b173c072764 name="World of Test Story" tenant_id=34848212-d7ae-4222-bd28-f2fcab482c1d
time=2026-01-10T16:00:25.120-03:00 level=INFO msg="created implicit world for story" world_id=6dc36853-a5e6-4dd8-9788-9b173c072764 story_title="Test Story"
time=2026-01-10T16:00:25.121-03:00 level=INFO msg="story created" story_id=d288c743-f4cf-4f30-95e2-d78721d4a697 title="Test Story" tenant_id=34848212-d7ae-4222-bd28-f2fcab482c1d
time=2026-01-10T16:00:25.121-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:25.121-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:25.122-03:00 level=INFO msg="chapter created" chapter_id=edb53fc4-379e-40bd-badd-c881dfab917f story_id=d288c743-f4cf-4f30-95e2-d78721d4a697 tenant_id=34848212-d7ae-4222-bd28-f2fcab482c1d
time=2026-01-10T16:00:25.122-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-10T16:00:25.123-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-10T16:00:25.124-03:00 level=INFO msg="content block created" content_block_id=886a73a5-3ad6-4f86-9c96-eae35dafdab3 tenant_id=34848212-d7ae-4222-bd28-f2fcab482c1d
time=2026-01-10T16:00:25.124-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentAnchorHandler_CreateAndList/create_and_list_anchors
time=2026-01-10T16:00:25.124-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentAnchorService/CreateContentAnchor
time=2026-01-10T16:00:25.126-03:00 level=INFO msg="content anchor created" anchor_id=57ff0a6c-0745-4b33-b946-021235fa8617 content_block_id=886a73a5-3ad6-4f86-9c96-eae35dafdab3 tenant_id=34848212-d7ae-4222-bd28-f2fcab482c1d
time=2026-01-10T16:00:25.126-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentAnchorService/CreateContentAnchor duration_ms=1
time=2026-01-10T16:00:25.126-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentAnchorService/ListContentAnchorsByContentBlock
time=2026-01-10T16:00:25.127-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentAnchorService/ListContentAnchorsByContentBlock duration_ms=0
time=2026-01-10T16:00:25.127-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentAnchorService/DeleteContentAnchor
time=2026-01-10T16:00:25.128-03:00 level=INFO msg="content anchor deleted" anchor_id=57ff0a6c-0745-4b33-b946-021235fa8617 tenant_id=34848212-d7ae-4222-bd28-f2fcab482c1d
time=2026-01-10T16:00:25.128-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentAnchorService/DeleteContentAnchor duration_ms=0
=== RUN   TestContentAnchorHandler_CreateAndList/invalid_content_block_for_anchor
time=2026-01-10T16:00:25.128-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentAnchorService/CreateContentAnchor
time=2026-01-10T16:00:25.128-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentAnchorService/CreateContentAnchor duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: 2050b31b-d1b2-412a-8bfd-f3cf5aca6dd7"
time=2026-01-10T16:00:25.128-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentAnchorHandler_CreateAndList (0.26s)
    --- PASS: TestContentAnchorHandler_CreateAndList/create_and_list_anchors (0.00s)
    --- PASS: TestContentAnchorHandler_CreateAndList/invalid_content_block_for_anchor (0.00s)
=== RUN   TestEventHandler_CreateEvent
time=2026-01-10T16:00:25.352-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:25.352-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:25.352-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_CreateEvent/successful_creation
time=2026-01-10T16:00:25.352-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:25.355-03:00 level=INFO msg="tenant created" tenant_id=3f4ff5e2-1c48-4f55-b12d-e514fd45166c name="Test Tenant for Event"
time=2026-01-10T16:00:25.355-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:25.355-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:25.356-03:00 level=INFO msg="world created" world_id=77533f03-57ed-4eb8-8292-75604e9804aa name="Test World" tenant_id=3f4ff5e2-1c48-4f55-b12d-e514fd45166c
time=2026-01-10T16:00:25.356-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:25.356-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-10T16:00:25.357-03:00 level=INFO msg="event created" event_id=09255aab-8cd4-44b7-9994-6e334736c34f world_id=77533f03-57ed-4eb8-8292-75604e9804aa
time=2026-01-10T16:00:25.358-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
=== RUN   TestEventHandler_CreateEvent/empty_name
time=2026-01-10T16:00:25.358-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:25.359-03:00 level=INFO msg="tenant created" tenant_id=92dcf604-6ba1-4c08-88be-5bd2c5654b8f name="Test Tenant 2"
time=2026-01-10T16:00:25.359-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:25.359-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:25.359-03:00 level=INFO msg="world created" world_id=c43870c2-f3aa-46e3-9160-f6b0b603ffa2 name="Test World 2" tenant_id=92dcf604-6ba1-4c08-88be-5bd2c5654b8f
time=2026-01-10T16:00:25.359-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:25.360-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-10T16:00:25.360-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/CreateEvent duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-10T16:00:25.360-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_CreateEvent (0.23s)
    --- PASS: TestEventHandler_CreateEvent/successful_creation (0.01s)
    --- PASS: TestEventHandler_CreateEvent/empty_name (0.00s)
=== RUN   TestEventHandler_GetEvent
time=2026-01-10T16:00:25.585-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:25.585-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:25.585-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_GetEvent/existing_event
time=2026-01-10T16:00:25.586-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:25.588-03:00 level=INFO msg="tenant created" tenant_id=d8b1e87c-11a3-4ed7-bdc2-5defdea6eea0 name="Get Test Tenant"
time=2026-01-10T16:00:25.588-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:25.588-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:25.589-03:00 level=INFO msg="world created" world_id=72adfc96-75ea-419b-b84d-ed5a383c4440 name="Get Test World" tenant_id=d8b1e87c-11a3-4ed7-bdc2-5defdea6eea0
time=2026-01-10T16:00:25.589-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:25.589-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-10T16:00:25.591-03:00 level=INFO msg="event created" event_id=cf702281-711b-46db-9072-796fdf142971 world_id=72adfc96-75ea-419b-b84d-ed5a383c4440
time=2026-01-10T16:00:25.591-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-10T16:00:25.591-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-10T16:00:25.591-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/GetEvent duration_ms=0
=== RUN   TestEventHandler_GetEvent/non-existing_event
time=2026-01-10T16:00:25.592-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:25.592-03:00 level=INFO msg="tenant created" tenant_id=ea5a4da9-5971-40f9-bcbd-748785e25b57 name="Non-existing Test Tenant"
time=2026-01-10T16:00:25.592-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:25.592-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-10T16:00:25.592-03:00 level=ERROR msg="failed to get event" error="event not found: aa19ff6f-57d2-4c51-98aa-bc461454aaa9" event_id=aa19ff6f-57d2-4c51-98aa-bc461454aaa9
time=2026-01-10T16:00:25.593-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: aa19ff6f-57d2-4c51-98aa-bc461454aaa9"
time=2026-01-10T16:00:25.593-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_GetEvent (0.24s)
    --- PASS: TestEventHandler_GetEvent/existing_event (0.01s)
    --- PASS: TestEventHandler_GetEvent/non-existing_event (0.00s)
=== RUN   TestEventHandler_ListEvents
time=2026-01-10T16:00:25.843-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:25.843-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:25.843-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_ListEvents/list_events
time=2026-01-10T16:00:25.847-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:25.849-03:00 level=INFO msg="tenant created" tenant_id=ac9f3a42-d746-427c-9325-56e32d540fa1 name="List Test Tenant"
time=2026-01-10T16:00:25.849-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:25.849-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:25.850-03:00 level=INFO msg="world created" world_id=03738293-9534-4637-b5cf-e6b0b87074eb name="List Test World" tenant_id=ac9f3a42-d746-427c-9325-56e32d540fa1
time=2026-01-10T16:00:25.850-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:25.850-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-10T16:00:25.851-03:00 level=INFO msg="event created" event_id=4f4976b8-f20c-4ac1-8201-4170a3103ab2 world_id=03738293-9534-4637-b5cf-e6b0b87074eb
time=2026-01-10T16:00:25.851-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-10T16:00:25.851-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-10T16:00:25.852-03:00 level=INFO msg="event created" event_id=9c0766ba-d4b6-4770-9dfa-64387356e572 world_id=03738293-9534-4637-b5cf-e6b0b87074eb
time=2026-01-10T16:00:25.852-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=0
time=2026-01-10T16:00:25.852-03:00 level=INFO msg="gRPC request started" method=/event.EventService/ListEvents
time=2026-01-10T16:00:25.852-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/ListEvents duration_ms=0
time=2026-01-10T16:00:25.853-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_ListEvents (0.27s)
    --- PASS: TestEventHandler_ListEvents/list_events (0.01s)
=== RUN   TestEventHandler_UpdateEvent
time=2026-01-10T16:00:26.185-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:26.185-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:26.185-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_UpdateEvent/update_event
time=2026-01-10T16:00:26.186-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:26.188-03:00 level=INFO msg="tenant created" tenant_id=bcd26bc2-2551-4690-aee9-9e00c0bda74c name="Update Test Tenant"
time=2026-01-10T16:00:26.188-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:26.188-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:26.189-03:00 level=INFO msg="world created" world_id=b1be10f5-1024-4301-bc9f-09a3e85ec253 name="Update Test World" tenant_id=bcd26bc2-2551-4690-aee9-9e00c0bda74c
time=2026-01-10T16:00:26.189-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:26.189-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-10T16:00:26.192-03:00 level=INFO msg="event created" event_id=baa48a01-7b0f-42c4-b7c5-c425468912eb world_id=b1be10f5-1024-4301-bc9f-09a3e85ec253
time=2026-01-10T16:00:26.192-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=2
time=2026-01-10T16:00:26.192-03:00 level=INFO msg="gRPC request started" method=/event.EventService/UpdateEvent
time=2026-01-10T16:00:26.194-03:00 level=INFO msg="event updated" event_id=baa48a01-7b0f-42c4-b7c5-c425468912eb
time=2026-01-10T16:00:26.194-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/UpdateEvent duration_ms=1
time=2026-01-10T16:00:26.194-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_UpdateEvent (0.32s)
    --- PASS: TestEventHandler_UpdateEvent/update_event (0.01s)
=== RUN   TestEventHandler_DeleteEvent
time=2026-01-10T16:00:26.410-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:26.410-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:26.410-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_DeleteEvent/delete_event
time=2026-01-10T16:00:26.410-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:26.420-03:00 level=INFO msg="tenant created" tenant_id=5033fd03-b6c8-4c59-a8e3-17974332e7f0 name="Delete Test Tenant"
time=2026-01-10T16:00:26.420-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=9
time=2026-01-10T16:00:26.420-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:26.425-03:00 level=INFO msg="world created" world_id=76a32dde-c534-49e6-b32b-50fbec81a84a name="Delete Test World" tenant_id=5033fd03-b6c8-4c59-a8e3-17974332e7f0
time=2026-01-10T16:00:26.425-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=4
time=2026-01-10T16:00:26.425-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-10T16:00:26.427-03:00 level=INFO msg="event created" event_id=426a71c6-103e-40fd-9b47-cc68e362a9a0 world_id=76a32dde-c534-49e6-b32b-50fbec81a84a
time=2026-01-10T16:00:26.427-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-10T16:00:26.427-03:00 level=INFO msg="gRPC request started" method=/event.EventService/DeleteEvent
time=2026-01-10T16:00:26.429-03:00 level=INFO msg="event deleted" event_id=426a71c6-103e-40fd-9b47-cc68e362a9a0
time=2026-01-10T16:00:26.429-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/DeleteEvent duration_ms=1
time=2026-01-10T16:00:26.429-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-10T16:00:26.429-03:00 level=ERROR msg="failed to get event" error="event not found: 426a71c6-103e-40fd-9b47-cc68e362a9a0" event_id=426a71c6-103e-40fd-9b47-cc68e362a9a0
time=2026-01-10T16:00:26.429-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: 426a71c6-103e-40fd-9b47-cc68e362a9a0"
time=2026-01-10T16:00:26.429-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_DeleteEvent (0.26s)
    --- PASS: TestEventHandler_DeleteEvent/delete_event (0.02s)
=== RUN   TestInventoryHandler_AddItemToInventory
time=2026-01-10T16:00:26.691-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:26.691-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:26.691-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:26.691-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-10T16:00:26.691-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:26.691-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_AddItemToInventory/successful_add_item
time=2026-01-10T16:00:26.692-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:26.694-03:00 level=INFO msg="tenant created" tenant_id=8744f5d6-6c78-4473-b8a5-8567f307e6c3 name="Test Tenant for Inventory"
time=2026-01-10T16:00:26.694-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:26.695-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:26.698-03:00 level=INFO msg="world created" world_id=6a92afb9-b3ba-4913-a22e-a48d7a303f14 name="Test World" tenant_id=8744f5d6-6c78-4473-b8a5-8567f307e6c3
time=2026-01-10T16:00:26.698-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=3
time=2026-01-10T16:00:26.698-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:26.700-03:00 level=INFO msg="character created" character_id=c95ecb58-19d7-42f6-9277-25bdaa50cedb name="Test Character"
time=2026-01-10T16:00:26.700-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:26.700-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:26.701-03:00 level=INFO msg="RPG system created" rpg_system_id=698aa0b5-2568-4324-998c-63777bb40936 name="Test System"
time=2026-01-10T16:00:26.701-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:26.704-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-10T16:00:26.706-03:00 level=INFO msg="item added to inventory" character_id=c95ecb58-19d7-42f6-9277-25bdaa50cedb item_id=7c0f3215-dcd4-41c2-80d4-f059da419e2d
time=2026-01-10T16:00:26.706-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=2
time=2026-01-10T16:00:26.707-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_AddItemToInventory (0.25s)
    --- PASS: TestInventoryHandler_AddItemToInventory/successful_add_item (0.02s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-10T16:00:26.932-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:26.932-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:26.932-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:26.932-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-10T16:00:26.932-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:26.932-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
time=2026-01-10T16:00:26.934-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:26.936-03:00 level=INFO msg="tenant created" tenant_id=2476663e-c968-4cdc-8e53-5bfcd3134606 name="List Test Tenant"
time=2026-01-10T16:00:26.936-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:26.936-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:26.940-03:00 level=INFO msg="world created" world_id=ae0ebda0-5953-4d6e-9ada-daddacf72b9d name="List Test World" tenant_id=2476663e-c968-4cdc-8e53-5bfcd3134606
time=2026-01-10T16:00:26.940-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=3
time=2026-01-10T16:00:26.940-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:26.942-03:00 level=INFO msg="character created" character_id=38668f98-050e-4640-881f-e38bb7f77d32 name="List Test Character"
time=2026-01-10T16:00:26.942-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:26.942-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:26.943-03:00 level=INFO msg="RPG system created" rpg_system_id=bf6e8c9d-be45-4f2d-9739-866c5f859ef7 name="List Test System"
time=2026-01-10T16:00:26.943-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:26.947-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-10T16:00:26.949-03:00 level=INFO msg="item added to inventory" character_id=38668f98-050e-4640-881f-e38bb7f77d32 item_id=1be01fd1-0c23-4c58-bc92-b2a0d4adff2a
time=2026-01-10T16:00:26.949-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=2
time=2026-01-10T16:00:26.949-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-10T16:00:26.949-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
time=2026-01-10T16:00:26.950-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_ListInventory (0.25s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.02s)
=== RUN   TestInventoryHandler_UpdateItemInInventory
time=2026-01-10T16:00:27.168-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:27.168-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:27.168-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:27.168-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-10T16:00:27.168-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:27.168-03:00 level=INFO msg="InventoryService registered"
time=2026-01-10T16:00:27.169-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:27.173-03:00 level=INFO msg="tenant created" tenant_id=0791ba69-17c9-4a00-8785-aec80aabb4e8 name="Update Item Test Tenant"
time=2026-01-10T16:00:27.173-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:27.173-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:27.175-03:00 level=INFO msg="world created" world_id=d62352af-e22e-496a-9994-b974756d98e2 name="Test World" tenant_id=0791ba69-17c9-4a00-8785-aec80aabb4e8
time=2026-01-10T16:00:27.175-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:27.175-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:27.178-03:00 level=INFO msg="character created" character_id=6dc5cfcd-9dbf-498a-8b83-d9ab1b8afbdd name="Test Character"
time=2026-01-10T16:00:27.178-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-10T16:00:27.178-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:27.186-03:00 level=INFO msg="RPG system created" rpg_system_id=51145329-9a46-4cfb-be62-0ea9f9f30083 name="Test System"
time=2026-01-10T16:00:27.186-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=8
=== RUN   TestInventoryHandler_UpdateItemInInventory/successful_update
time=2026-01-10T16:00:27.188-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-10T16:00:27.191-03:00 level=INFO msg="item added to inventory" character_id=6dc5cfcd-9dbf-498a-8b83-d9ab1b8afbdd item_id=4a6e98da-eaf4-4be1-bfba-7ca664272229
time=2026-01-10T16:00:27.191-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=2
time=2026-01-10T16:00:27.191-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-10T16:00:27.192-03:00 level=INFO msg="character inventory updated" id=3686874d-0f46-49e3-b454-3a73e3eb16a0
time=2026-01-10T16:00:27.192-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/non-existing_item
time=2026-01-10T16:00:27.192-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-10T16:00:27.192-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 357d6512-bf2b-48ae-b371-e23bded699da"
time=2026-01-10T16:00:27.192-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_UpdateItemInInventory (0.31s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/successful_update (0.00s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/non-existing_item (0.00s)
=== RUN   TestInventoryHandler_DeleteItemFromInventory
time=2026-01-10T16:00:27.477-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:27.477-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:27.477-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:27.477-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-10T16:00:27.477-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:27.477-03:00 level=INFO msg="InventoryService registered"
time=2026-01-10T16:00:27.478-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:27.481-03:00 level=INFO msg="tenant created" tenant_id=98d79a7f-c4ef-4756-9596-157588716af9 name="Delete Item Test Tenant"
time=2026-01-10T16:00:27.481-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:27.481-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:27.482-03:00 level=INFO msg="world created" world_id=e5dcff5a-819d-418a-b0e5-846c251955e6 name="Test World" tenant_id=98d79a7f-c4ef-4756-9596-157588716af9
time=2026-01-10T16:00:27.482-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:27.482-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:27.483-03:00 level=INFO msg="character created" character_id=c8adcaf7-231c-4fb0-bc3c-ed728b88975c name="Test Character"
time=2026-01-10T16:00:27.483-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:27.484-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:27.484-03:00 level=INFO msg="RPG system created" rpg_system_id=e9dc04e8-7e39-42d1-8d1d-9044ffd988ee name="Test System"
time=2026-01-10T16:00:27.484-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/successful_delete
time=2026-01-10T16:00:27.485-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-10T16:00:27.487-03:00 level=INFO msg="item added to inventory" character_id=c8adcaf7-231c-4fb0-bc3c-ed728b88975c item_id=2bd931f3-f1db-47ec-ab16-d78431a4ca25
time=2026-01-10T16:00:27.487-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-10T16:00:27.487-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-10T16:00:27.487-03:00 level=INFO msg="item removed from inventory" id=940f471e-5499-422a-9157-e025a42dc699
time=2026-01-10T16:00:27.487-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0
time=2026-01-10T16:00:27.487-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-10T16:00:27.488-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item
time=2026-01-10T16:00:27.488-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-10T16:00:27.488-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 83c6a9ca-a302-4868-9e2d-0f56a0ea2ce7" id=83c6a9ca-a302-4868-9e2d-0f56a0ea2ce7
time=2026-01-10T16:00:27.488-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 83c6a9ca-a302-4868-9e2d-0f56a0ea2ce7"
time=2026-01-10T16:00:27.488-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_DeleteItemFromInventory (0.29s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/successful_delete (0.00s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item (0.00s)
=== RUN   TestLocationHandler_CreateLocation
time=2026-01-10T16:00:27.809-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:27.809-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:27.809-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_CreateLocation/successful_creation
time=2026-01-10T16:00:27.811-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:27.817-03:00 level=INFO msg="tenant created" tenant_id=28127a70-ce76-43c3-9511-331b10ed4d95 name="Test Tenant for Location"
time=2026-01-10T16:00:27.817-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-10T16:00:27.817-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:27.822-03:00 level=INFO msg="world created" world_id=4562b5fd-bd21-443e-9c78-394acb573459 name="Test World" tenant_id=28127a70-ce76-43c3-9511-331b10ed4d95
time=2026-01-10T16:00:27.822-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=4
time=2026-01-10T16:00:27.822-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-10T16:00:27.829-03:00 level=INFO msg="location created" location_id=ea19e522-36e7-4b86-a654-aa520283965f name="Test Location"
time=2026-01-10T16:00:27.829-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=7
=== RUN   TestLocationHandler_CreateLocation/empty_name
time=2026-01-10T16:00:27.830-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:27.831-03:00 level=INFO msg="tenant created" tenant_id=850343e2-3585-4a99-a9f4-9474df4d7012 name="Test Tenant 2"
time=2026-01-10T16:00:27.831-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:27.832-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:27.834-03:00 level=INFO msg="world created" world_id=f8b56efd-a343-4da9-aa3d-968dcbd8d6f0 name="Test World 2" tenant_id=850343e2-3585-4a99-a9f4-9474df4d7012
time=2026-01-10T16:00:27.834-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=2
time=2026-01-10T16:00:27.834-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-10T16:00:27.834-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/CreateLocation duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-10T16:00:27.835-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_CreateLocation (0.55s)
    --- PASS: TestLocationHandler_CreateLocation/successful_creation (0.02s)
    --- PASS: TestLocationHandler_CreateLocation/empty_name (0.00s)
=== RUN   TestLocationHandler_GetLocation
time=2026-01-10T16:00:28.430-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:28.430-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:28.430-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_GetLocation/existing_location
time=2026-01-10T16:00:28.432-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:28.434-03:00 level=INFO msg="tenant created" tenant_id=c7289b3d-31e3-4244-bc8c-99522e902602 name="Get Test Tenant"
time=2026-01-10T16:00:28.434-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:28.435-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:28.436-03:00 level=INFO msg="world created" world_id=2dc0b454-9466-41db-96b4-6139080371c6 name="Get Test World" tenant_id=c7289b3d-31e3-4244-bc8c-99522e902602
time=2026-01-10T16:00:28.436-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:28.438-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-10T16:00:28.440-03:00 level=INFO msg="location created" location_id=c3515d71-8101-4c8a-97cd-b69df7854b32 name="Get Test Location"
time=2026-01-10T16:00:28.440-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=3
time=2026-01-10T16:00:28.440-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-10T16:00:28.440-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/GetLocation duration_ms=0
=== RUN   TestLocationHandler_GetLocation/non-existing_location
time=2026-01-10T16:00:28.441-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:28.441-03:00 level=INFO msg="tenant created" tenant_id=546b28e1-382b-4c8f-9546-d49a511d1f3b name="Non-existing Test Tenant"
time=2026-01-10T16:00:28.441-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:28.442-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-10T16:00:28.442-03:00 level=ERROR msg="failed to get location" error="location not found: 3524f859-af65-428f-99de-99ee712edda7" location_id=3524f859-af65-428f-99de-99ee712edda7
time=2026-01-10T16:00:28.442-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: 3524f859-af65-428f-99de-99ee712edda7"
time=2026-01-10T16:00:28.442-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_GetLocation (0.35s)
    --- PASS: TestLocationHandler_GetLocation/existing_location (0.01s)
    --- PASS: TestLocationHandler_GetLocation/non-existing_location (0.00s)
=== RUN   TestLocationHandler_ListLocations
time=2026-01-10T16:00:28.666-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:28.666-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:28.666-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_ListLocations/list_locations
time=2026-01-10T16:00:28.668-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:28.672-03:00 level=INFO msg="tenant created" tenant_id=1060aec2-1cdb-43d2-807c-57d5ffbffee2 name="List Test Tenant"
time=2026-01-10T16:00:28.672-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:28.673-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:28.674-03:00 level=INFO msg="world created" world_id=4673b4d7-3ddb-43f9-92a7-0b6ec6ef08d7 name="List Test World" tenant_id=1060aec2-1cdb-43d2-807c-57d5ffbffee2
time=2026-01-10T16:00:28.674-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:28.674-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-10T16:00:28.676-03:00 level=INFO msg="location created" location_id=e7a8929d-62cb-4891-ae68-62835b0d2aba name="Location 1"
time=2026-01-10T16:00:28.676-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-10T16:00:28.677-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-10T16:00:28.680-03:00 level=INFO msg="location created" location_id=5b56c585-84c6-4d3e-85f3-3601a26217e0 name="Location 2"
time=2026-01-10T16:00:28.680-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=2
time=2026-01-10T16:00:28.680-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/ListLocations
time=2026-01-10T16:00:28.681-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/ListLocations duration_ms=0
time=2026-01-10T16:00:28.681-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_ListLocations (0.26s)
    --- PASS: TestLocationHandler_ListLocations/list_locations (0.01s)
=== RUN   TestLocationHandler_UpdateLocation
time=2026-01-10T16:00:28.965-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:28.965-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:28.965-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_UpdateLocation/update_location
time=2026-01-10T16:00:28.967-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:28.969-03:00 level=INFO msg="tenant created" tenant_id=9184c160-db41-46c8-a6c3-f41f62eed050 name="Update Test Tenant"
time=2026-01-10T16:00:28.969-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:28.970-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:28.972-03:00 level=INFO msg="world created" world_id=d44cadd7-21ec-48a9-ad27-a56cd6f5e08f name="Update Test World" tenant_id=9184c160-db41-46c8-a6c3-f41f62eed050
time=2026-01-10T16:00:28.972-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=2
time=2026-01-10T16:00:28.973-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-10T16:00:28.974-03:00 level=INFO msg="location created" location_id=edef13d8-1b19-463e-9463-22aeca507a71 name="Original Location"
time=2026-01-10T16:00:28.974-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-10T16:00:28.974-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/UpdateLocation
time=2026-01-10T16:00:28.975-03:00 level=INFO msg="location updated" location_id=edef13d8-1b19-463e-9463-22aeca507a71 name="Updated Location"
time=2026-01-10T16:00:28.975-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/UpdateLocation duration_ms=0
time=2026-01-10T16:00:28.975-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_UpdateLocation (0.28s)
    --- PASS: TestLocationHandler_UpdateLocation/update_location (0.01s)
=== RUN   TestLocationHandler_DeleteLocation
time=2026-01-10T16:00:29.237-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:29.237-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:29.237-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_DeleteLocation/delete_location
time=2026-01-10T16:00:29.239-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:29.243-03:00 level=INFO msg="tenant created" tenant_id=f323a01c-7e63-422c-9691-25c8e397d7f0 name="Delete Test Tenant"
time=2026-01-10T16:00:29.243-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:29.243-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:29.244-03:00 level=INFO msg="world created" world_id=6d3038f9-76d3-42c4-aa29-4175109b510e name="Delete Test World" tenant_id=f323a01c-7e63-422c-9691-25c8e397d7f0
time=2026-01-10T16:00:29.244-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:29.245-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-10T16:00:29.247-03:00 level=INFO msg="location created" location_id=c7902cea-7761-4a64-b076-05d5ad119010 name="Location to Delete"
time=2026-01-10T16:00:29.247-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=2
time=2026-01-10T16:00:29.247-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/DeleteLocation
time=2026-01-10T16:00:29.249-03:00 level=INFO msg="location deleted" location_id=c7902cea-7761-4a64-b076-05d5ad119010 name="Location to Delete"
time=2026-01-10T16:00:29.249-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/DeleteLocation duration_ms=2
time=2026-01-10T16:00:29.250-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-10T16:00:29.250-03:00 level=ERROR msg="failed to get location" error="location not found: c7902cea-7761-4a64-b076-05d5ad119010" location_id=c7902cea-7761-4a64-b076-05d5ad119010
time=2026-01-10T16:00:29.250-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: c7902cea-7761-4a64-b076-05d5ad119010"
time=2026-01-10T16:00:29.250-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_DeleteLocation (0.29s)
    --- PASS: TestLocationHandler_DeleteLocation/delete_location (0.01s)
=== RUN   TestRPGClassHandler_CreateRPGClass
time=2026-01-10T16:00:29.551-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:29.551-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:29.551-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:29.551-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_CreateRPGClass/successful_creation
time=2026-01-10T16:00:29.552-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:29.554-03:00 level=INFO msg="tenant created" tenant_id=4d7b28e2-ee6c-442f-a745-a80997a06da9 name="Test Tenant for RPG Class"
time=2026-01-10T16:00:29.554-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:29.554-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:29.555-03:00 level=INFO msg="RPG system created" rpg_system_id=7aeba7b7-8201-4ab8-9e1b-2e40a9279c6d name="Test System"
time=2026-01-10T16:00:29.555-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:29.556-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:29.557-03:00 level=INFO msg="RPG class created" class_id=6c2d19a6-0adc-4cc2-a9fa-5a399f7bb959 name=Warrior
time=2026-01-10T16:00:29.557-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_CreateRPGClass/empty_name
time=2026-01-10T16:00:29.557-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:29.562-03:00 level=INFO msg="tenant created" tenant_id=ab17c7a5-464c-4c6d-840d-1cfcf28c1cc8 name="Test Tenant 2"
time=2026-01-10T16:00:29.562-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-10T16:00:29.563-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:29.563-03:00 level=INFO msg="RPG system created" rpg_system_id=294bf31a-1de7-40b3-9f7c-0c681f52ae86 name="Test System 2"
time=2026-01-10T16:00:29.563-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:29.563-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:29.563-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-10T16:00:29.564-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_CreateRPGClass (0.30s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/successful_creation (0.01s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/empty_name (0.01s)
=== RUN   TestRPGClassHandler_GetRPGClass
time=2026-01-10T16:00:29.851-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:29.851-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:29.851-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:29.851-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_GetRPGClass/existing_RPG_class
time=2026-01-10T16:00:29.855-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:29.857-03:00 level=INFO msg="tenant created" tenant_id=5b9d4b46-c6b1-445b-b71f-de2fdb8da679 name="Get Test Tenant"
time=2026-01-10T16:00:29.857-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:29.858-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:29.859-03:00 level=INFO msg="RPG system created" rpg_system_id=705771ef-f543-492a-ac62-53113aaf0b6b name="Get Test System"
time=2026-01-10T16:00:29.859-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:29.859-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:29.861-03:00 level=INFO msg="RPG class created" class_id=51823669-2b5f-4cf1-aaae-40020aa9050b name="Get Test Class"
time=2026-01-10T16:00:29.861-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-10T16:00:29.861-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-10T16:00:29.862-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0
=== RUN   TestRPGClassHandler_GetRPGClass/non-existing_RPG_class
time=2026-01-10T16:00:29.862-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:29.863-03:00 level=INFO msg="tenant created" tenant_id=47e6e184-753d-49a4-b2cb-4970402edbc3 name="Non-existing Test Tenant"
time=2026-01-10T16:00:29.863-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:29.863-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-10T16:00:29.863-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 775cfd5f-3500-45d2-9a2c-aee59d71d179" class_id=775cfd5f-3500-45d2-9a2c-aee59d71d179
time=2026-01-10T16:00:29.863-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 775cfd5f-3500-45d2-9a2c-aee59d71d179"
time=2026-01-10T16:00:29.863-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_GetRPGClass (0.30s)
    --- PASS: TestRPGClassHandler_GetRPGClass/existing_RPG_class (0.01s)
    --- PASS: TestRPGClassHandler_GetRPGClass/non-existing_RPG_class (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClasses
time=2026-01-10T16:00:30.083-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:30.083-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:30.083-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:30.083-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_ListRPGClasses/list_RPG_classes
time=2026-01-10T16:00:30.084-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:30.086-03:00 level=INFO msg="tenant created" tenant_id=5fc65456-e90a-46ab-b377-3af02902e058 name="List Test Tenant"
time=2026-01-10T16:00:30.086-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:30.087-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:30.087-03:00 level=INFO msg="RPG system created" rpg_system_id=a1fc473f-f1d7-40bb-ac1f-4877b621971a name="List Test System"
time=2026-01-10T16:00:30.087-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:30.088-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:30.089-03:00 level=INFO msg="RPG class created" class_id=29810870-35df-47a9-983f-b98eba8cf0ca name="Class 1"
time=2026-01-10T16:00:30.089-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-10T16:00:30.089-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:30.089-03:00 level=INFO msg="RPG class created" class_id=9e97c23a-ccd4-4ee0-99f6-c431707ca3a2 name="Class 2"
time=2026-01-10T16:00:30.089-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-10T16:00:30.090-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClasses
time=2026-01-10T16:00:30.092-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClasses duration_ms=2
time=2026-01-10T16:00:30.093-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClasses (0.32s)
    --- PASS: TestRPGClassHandler_ListRPGClasses/list_RPG_classes (0.01s)
=== RUN   TestRPGClassHandler_UpdateRPGClass
time=2026-01-10T16:00:30.491-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:30.491-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:30.491-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:30.492-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_UpdateRPGClass/update_RPG_class
time=2026-01-10T16:00:30.493-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:30.495-03:00 level=INFO msg="tenant created" tenant_id=be1a69d6-7e65-4d1e-bea4-ab5501511b39 name="Update Test Tenant"
time=2026-01-10T16:00:30.495-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:30.495-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:30.497-03:00 level=INFO msg="RPG system created" rpg_system_id=4e4094c1-1be5-4a7e-bc17-16830de40daa name="Update Test System"
time=2026-01-10T16:00:30.497-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:30.497-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:30.498-03:00 level=INFO msg="RPG class created" class_id=3d314503-08b5-4964-b3a3-75eac1f022a1 name="Original Class"
time=2026-01-10T16:00:30.498-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-10T16:00:30.500-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/UpdateRPGClass
time=2026-01-10T16:00:30.501-03:00 level=INFO msg="RPG class updated" class_id=3d314503-08b5-4964-b3a3-75eac1f022a1
time=2026-01-10T16:00:30.501-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/UpdateRPGClass duration_ms=1
time=2026-01-10T16:00:30.501-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_UpdateRPGClass (0.34s)
    --- PASS: TestRPGClassHandler_UpdateRPGClass/update_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_DeleteRPGClass
time=2026-01-10T16:00:30.796-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:30.796-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:30.796-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:30.796-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_DeleteRPGClass/delete_RPG_class
time=2026-01-10T16:00:30.797-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:30.800-03:00 level=INFO msg="tenant created" tenant_id=c1fc8ae5-ad5f-4132-b017-a8e9ac1bb0f3 name="Delete Test Tenant"
time=2026-01-10T16:00:30.800-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:30.800-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:30.801-03:00 level=INFO msg="RPG system created" rpg_system_id=eeaf5ce7-f24d-4c4b-af01-91d598c4ad3a name="Delete Test System"
time=2026-01-10T16:00:30.801-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:30.802-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:30.803-03:00 level=INFO msg="RPG class created" class_id=9c5c96c0-ea2d-4ca3-9f27-6e8985895618 name="Class to Delete"
time=2026-01-10T16:00:30.803-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-10T16:00:30.804-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/DeleteRPGClass
time=2026-01-10T16:00:30.805-03:00 level=INFO msg="RPG class deleted" class_id=9c5c96c0-ea2d-4ca3-9f27-6e8985895618
time=2026-01-10T16:00:30.805-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/DeleteRPGClass duration_ms=1
time=2026-01-10T16:00:30.805-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-10T16:00:30.806-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 9c5c96c0-ea2d-4ca3-9f27-6e8985895618" class_id=9c5c96c0-ea2d-4ca3-9f27-6e8985895618
time=2026-01-10T16:00:30.806-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 9c5c96c0-ea2d-4ca3-9f27-6e8985895618"
time=2026-01-10T16:00:30.806-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_DeleteRPGClass (0.30s)
    --- PASS: TestRPGClassHandler_DeleteRPGClass/delete_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_AddSkillToClass
time=2026-01-10T16:00:31.227-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:31.228-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:31.228-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:31.228-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_AddSkillToClass/add_skill_to_class
time=2026-01-10T16:00:31.234-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:31.238-03:00 level=INFO msg="tenant created" tenant_id=13f4d142-9a07-4228-bd31-7c5136ca3717 name="Add Skill Test Tenant"
time=2026-01-10T16:00:31.238-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:31.238-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:31.239-03:00 level=INFO msg="RPG system created" rpg_system_id=ccced784-0797-41c6-ad38-9711ac557390 name="Add Skill Test System"
time=2026-01-10T16:00:31.239-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:31.239-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:31.241-03:00 level=INFO msg="RPG class created" class_id=10074093-51e5-410e-86f5-77f41e497e96 name=Warrior
time=2026-01-10T16:00:31.241-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-10T16:00:31.241-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:31.242-03:00 level=INFO msg="skill created" skill_id=af1adcb5-0c6c-4e61-9465-ea1c358a6041 name="Sword Mastery"
time=2026-01-10T16:00:31.242-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-10T16:00:31.243-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-10T16:00:31.245-03:00 level=INFO msg="skill added to class" class_id=10074093-51e5-410e-86f5-77f41e497e96 skill_id=af1adcb5-0c6c-4e61-9465-ea1c358a6041
time=2026-01-10T16:00:31.245-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=2
time=2026-01-10T16:00:31.246-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_AddSkillToClass (0.43s)
    --- PASS: TestRPGClassHandler_AddSkillToClass/add_skill_to_class (0.01s)
=== RUN   TestRPGClassHandler_RemoveSkillFromClass
time=2026-01-10T16:00:31.493-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:31.493-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:31.493-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:31.493-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-10T16:00:31.494-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:31.496-03:00 level=INFO msg="tenant created" tenant_id=193463bd-b0c6-4387-8fae-4049872ab99e name="Remove Skill Test Tenant"
time=2026-01-10T16:00:31.496-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:31.496-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:31.497-03:00 level=INFO msg="RPG system created" rpg_system_id=b8151217-267c-4116-9e13-a0bdf22acf20 name="Remove Skill Test System"
time=2026-01-10T16:00:31.497-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:31.498-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:31.500-03:00 level=INFO msg="RPG class created" class_id=ac5d9ecf-8683-4263-9493-5060ccc96bd2 name=Warrior
time=2026-01-10T16:00:31.500-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=2
time=2026-01-10T16:00:31.501-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:31.502-03:00 level=INFO msg="skill created" skill_id=6c85ccf2-9a61-4b31-b5e0-3669d64013dd name="Sword Mastery"
time=2026-01-10T16:00:31.502-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/successful_remove
time=2026-01-10T16:00:31.502-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-10T16:00:31.505-03:00 level=INFO msg="skill added to class" class_id=ac5d9ecf-8683-4263-9493-5060ccc96bd2 skill_id=6c85ccf2-9a61-4b31-b5e0-3669d64013dd
time=2026-01-10T16:00:31.505-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=2
time=2026-01-10T16:00:31.505-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-10T16:00:31.506-03:00 level=INFO msg="skill removed from class" class_id=ac5d9ecf-8683-4263-9493-5060ccc96bd2 skill_id=6c85ccf2-9a61-4b31-b5e0-3669d64013dd
time=2026-01-10T16:00:31.506-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0
time=2026-01-10T16:00:31.506-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-10T16:00:31.506-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill
time=2026-01-10T16:00:31.507-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-10T16:00:31.508-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class_skill not found: ac5d9ecf-8683-4263-9493-5060ccc96bd2/5ea8e47b-00c4-4cc3-a3c2-b20e632ac770"
time=2026-01-10T16:00:31.508-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_RemoveSkillFromClass (0.26s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/successful_remove (0.00s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClassSkills
time=2026-01-10T16:00:31.795-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:31.795-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:31.795-03:00 level=INFO msg="SkillService registered"
time=2026-01-10T16:00:31.795-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-10T16:00:31.798-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:31.803-03:00 level=INFO msg="tenant created" tenant_id=5950b49e-ebab-4b0c-9bc4-e0a17a9c5262 name="List Skills Test Tenant"
time=2026-01-10T16:00:31.803-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-10T16:00:31.809-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:31.811-03:00 level=INFO msg="RPG system created" rpg_system_id=be236b86-eed6-4f80-8089-6927d89df182 name="List Skills Test System"
time=2026-01-10T16:00:31.811-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=2
time=2026-01-10T16:00:31.812-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:31.815-03:00 level=INFO msg="RPG class created" class_id=808cdfdc-4e00-4f01-8e48-b1659207d049 name=Warrior
time=2026-01-10T16:00:31.815-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=3
=== RUN   TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills
time=2026-01-10T16:00:31.815-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:31.817-03:00 level=INFO msg="skill created" skill_id=0b68e974-06bf-4718-9d4f-dde9a8f0e189 name="Sword Mastery"
time=2026-01-10T16:00:31.817-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-10T16:00:31.817-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:31.818-03:00 level=INFO msg="skill created" skill_id=4de7c06f-ad7a-44d8-afd2-9fb1427ede9d name="Shield Defense"
time=2026-01-10T16:00:31.818-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-10T16:00:31.818-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:31.819-03:00 level=INFO msg="skill created" skill_id=7a896d47-d350-4c3a-81bd-da4b3a40d97c name="Combat Tactics"
time=2026-01-10T16:00:31.819-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-10T16:00:31.819-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-10T16:00:31.822-03:00 level=INFO msg="skill added to class" class_id=808cdfdc-4e00-4f01-8e48-b1659207d049 skill_id=0b68e974-06bf-4718-9d4f-dde9a8f0e189
time=2026-01-10T16:00:31.823-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=3
time=2026-01-10T16:00:31.823-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-10T16:00:31.824-03:00 level=INFO msg="skill added to class" class_id=808cdfdc-4e00-4f01-8e48-b1659207d049 skill_id=4de7c06f-ad7a-44d8-afd2-9fb1427ede9d
time=2026-01-10T16:00:31.824-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-10T16:00:31.825-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-10T16:00:31.827-03:00 level=INFO msg="skill added to class" class_id=808cdfdc-4e00-4f01-8e48-b1659207d049 skill_id=7a896d47-d350-4c3a-81bd-da4b3a40d97c
time=2026-01-10T16:00:31.827-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-10T16:00:31.827-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-10T16:00:31.828-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class
time=2026-01-10T16:00:31.828-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-10T16:00:31.829-03:00 level=INFO msg="RPG class created" class_id=2142fd1e-ed93-47af-a955-5cb48ec7d8ce name=Mage
time=2026-01-10T16:00:31.829-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-10T16:00:31.829-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-10T16:00:31.829-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
time=2026-01-10T16:00:31.829-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClassSkills (0.32s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills (0.01s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class (0.00s)
=== RUN   TestRPGSystemHandler_CreateRPGSystem
time=2026-01-10T16:00:32.118-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:32.118-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/successful_creation
time=2026-01-10T16:00:32.119-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:32.123-03:00 level=INFO msg="tenant created" tenant_id=c823a615-383d-4e20-8c6a-daea0a53f906 name="Test Tenant for RPG System"
time=2026-01-10T16:00:32.124-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:32.134-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:32.136-03:00 level=INFO msg="RPG system created" rpg_system_id=ec40a75b-f96a-4f85-98a5-3d2780bc91d9 name="D&D 5e"
time=2026-01-10T16:00:32.136-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_name
time=2026-01-10T16:00:32.136-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:32.138-03:00 level=INFO msg="tenant created" tenant_id=2781a50d-3d7a-4784-9430-c2af6c0df4f8 name="Test Tenant 2"
time=2026-01-10T16:00:32.138-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:32.140-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:32.140-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema
time=2026-01-10T16:00:32.141-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:32.145-03:00 level=INFO msg="tenant created" tenant_id=52d963b8-83a4-4d4b-8b9b-f3493ebdd4b3 name="Test Tenant 3"
time=2026-01-10T16:00:32.145-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:32.146-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:32.146-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = base_stats_schema is required"
time=2026-01-10T16:00:32.146-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_CreateRPGSystem (0.33s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/successful_creation (0.02s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_name (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema (0.01s)
=== RUN   TestRPGSystemHandler_GetRPGSystem
time=2026-01-10T16:00:32.447-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:32.447-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_GetRPGSystem/existing_RPG_system
time=2026-01-10T16:00:32.448-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:32.451-03:00 level=INFO msg="tenant created" tenant_id=99be7279-dd48-44b8-a1c5-6e6212bf0680 name="Get Test Tenant"
time=2026-01-10T16:00:32.451-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:32.451-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:32.452-03:00 level=INFO msg="RPG system created" rpg_system_id=fd96a7b7-85bd-4e6a-9522-e07a5d8371c7 name="Get Test System"
time=2026-01-10T16:00:32.452-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:32.453-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-10T16:00:32.454-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0
=== RUN   TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system
time=2026-01-10T16:00:32.456-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:32.457-03:00 level=INFO msg="tenant created" tenant_id=ba004e70-8aaa-4dd6-b27a-518ea405f404 name="Non-existing Test Tenant"
time=2026-01-10T16:00:32.457-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:32.457-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-10T16:00:32.457-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 884e106f-6e98-49b8-a14b-02024bcc3454" rpg_system_id=884e106f-6e98-49b8-a14b-02024bcc3454
time=2026-01-10T16:00:32.457-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: 884e106f-6e98-49b8-a14b-02024bcc3454"
time=2026-01-10T16:00:32.457-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_GetRPGSystem (0.30s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/existing_RPG_system (0.01s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system (0.00s)
=== RUN   TestRPGSystemHandler_ListRPGSystems
time=2026-01-10T16:00:32.731-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:32.731-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_ListRPGSystems/list_RPG_systems
time=2026-01-10T16:00:32.732-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:32.737-03:00 level=INFO msg="tenant created" tenant_id=8fb7fed6-ba3d-4ec3-b5c7-e128bdebeb32 name="List Test Tenant"
time=2026-01-10T16:00:32.738-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-10T16:00:32.738-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:32.739-03:00 level=INFO msg="RPG system created" rpg_system_id=a8e5574b-6d29-454e-86a4-bab914d71242 name="System 1"
time=2026-01-10T16:00:32.739-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:32.740-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:32.740-03:00 level=INFO msg="RPG system created" rpg_system_id=9f1f68fc-138e-4bee-8423-b4ff28c283a0 name="System 2"
time=2026-01-10T16:00:32.740-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:32.741-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/ListRPGSystems
time=2026-01-10T16:00:32.742-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/ListRPGSystems duration_ms=1
time=2026-01-10T16:00:32.744-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_ListRPGSystems (0.28s)
    --- PASS: TestRPGSystemHandler_ListRPGSystems/list_RPG_systems (0.01s)
=== RUN   TestRPGSystemHandler_UpdateRPGSystem
time=2026-01-10T16:00:32.957-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:32.957-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system
time=2026-01-10T16:00:32.958-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:32.962-03:00 level=INFO msg="tenant created" tenant_id=3ad80ac5-2e99-4113-8460-1b815e43fe23 name="Update Test Tenant"
time=2026-01-10T16:00:32.962-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:32.962-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:32.964-03:00 level=INFO msg="RPG system created" rpg_system_id=d43de81a-de97-420b-b849-bf2f22f9ee9b name="Original System"
time=2026-01-10T16:00:32.964-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:32.964-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/UpdateRPGSystem
time=2026-01-10T16:00:32.966-03:00 level=INFO msg="RPG system updated" rpg_system_id=d43de81a-de97-420b-b849-bf2f22f9ee9b
time=2026-01-10T16:00:32.966-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/UpdateRPGSystem duration_ms=1
time=2026-01-10T16:00:32.966-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_UpdateRPGSystem (0.23s)
    --- PASS: TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system (0.01s)
=== RUN   TestRPGSystemHandler_DeleteRPGSystem
time=2026-01-10T16:00:33.234-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:33.234-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system
time=2026-01-10T16:00:33.235-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:33.238-03:00 level=INFO msg="tenant created" tenant_id=00430939-129b-4e6b-90e8-5627ee502561 name="Delete Test Tenant"
time=2026-01-10T16:00:33.238-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:33.239-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:33.240-03:00 level=INFO msg="RPG system created" rpg_system_id=658ddbf3-2126-446d-9076-56aae46ce438 name="System to Delete"
time=2026-01-10T16:00:33.240-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:33.240-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/DeleteRPGSystem
time=2026-01-10T16:00:33.243-03:00 level=INFO msg="RPG system deleted" rpg_system_id=658ddbf3-2126-446d-9076-56aae46ce438
time=2026-01-10T16:00:33.243-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/DeleteRPGSystem duration_ms=2
time=2026-01-10T16:00:33.243-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-10T16:00:33.243-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 658ddbf3-2126-446d-9076-56aae46ce438" rpg_system_id=658ddbf3-2126-446d-9076-56aae46ce438
time=2026-01-10T16:00:33.243-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: 658ddbf3-2126-446d-9076-56aae46ce438"
time=2026-01-10T16:00:33.244-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_DeleteRPGSystem (0.27s)
    --- PASS: TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system (0.01s)
=== RUN   TestSceneHandler_CreateScene
time=2026-01-10T16:00:33.503-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:33.503-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:33.503-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:33.503-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:33.503-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:33.503-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:33.504-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:33.505-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:33.507-03:00 level=INFO msg="tenant created" tenant_id=11c9bfff-d17f-4126-b451-eb1fb379c428 name="Test Tenant for Scene"
time=2026-01-10T16:00:33.507-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:33.507-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:33.509-03:00 level=INFO msg="world created" world_id=4c6d1c20-05b3-4f9a-a5b2-b62a7b63cdb8 name="World of Test Story" tenant_id=11c9bfff-d17f-4126-b451-eb1fb379c428
time=2026-01-10T16:00:33.509-03:00 level=INFO msg="created implicit world for story" world_id=4c6d1c20-05b3-4f9a-a5b2-b62a7b63cdb8 story_title="Test Story"
time=2026-01-10T16:00:33.518-03:00 level=INFO msg="story created" story_id=d59ad5b4-7c0b-467d-a19f-f317adcc657c title="Test Story" tenant_id=11c9bfff-d17f-4126-b451-eb1fb379c428
time=2026-01-10T16:00:33.518-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=10
time=2026-01-10T16:00:33.519-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:33.520-03:00 level=INFO msg="chapter created" chapter_id=9e6ce314-c8b1-4217-94fa-271a2fdf1fcf story_id=d59ad5b4-7c0b-467d-a19f-f317adcc657c tenant_id=11c9bfff-d17f-4126-b451-eb1fb379c428
time=2026-01-10T16:00:33.520-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestSceneHandler_CreateScene/successful_creation_with_chapter
time=2026-01-10T16:00:33.520-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:33.522-03:00 level=INFO msg="scene created" scene_id=213507dd-34e1-4203-85df-42a09f5aaffb story_id=d59ad5b4-7c0b-467d-a19f-f317adcc657c tenant_id=11c9bfff-d17f-4126-b451-eb1fb379c428
time=2026-01-10T16:00:33.522-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_CreateScene/successful_creation_without_chapter
time=2026-01-10T16:00:33.522-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:33.523-03:00 level=INFO msg="scene created" scene_id=76543e4f-2b63-48ac-8a3f-ade956c84593 story_id=d59ad5b4-7c0b-467d-a19f-f317adcc657c tenant_id=11c9bfff-d17f-4126-b451-eb1fb379c428
time=2026-01-10T16:00:33.523-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_CreateScene/invalid_story_id
time=2026-01-10T16:00:33.523-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:33.523-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = NotFound desc = story not found: 4b6364fc-0500-4474-8404-4075263bd8dc"
=== RUN   TestSceneHandler_CreateScene/invalid_order_num
time=2026-01-10T16:00:33.523-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:33.523-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-10T16:00:33.524-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_CreateScene (0.28s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_with_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_without_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_story_id (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_order_num (0.00s)
=== RUN   TestSceneHandler_GetScene
time=2026-01-10T16:00:33.725-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:33.725-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:33.725-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:33.725-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:33.725-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:33.725-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:33.725-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:33.726-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:33.729-03:00 level=INFO msg="tenant created" tenant_id=403e6ec1-058f-4762-837a-8fd57bd39867 name="Test Tenant for Get Scene"
time=2026-01-10T16:00:33.729-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:33.730-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:33.731-03:00 level=INFO msg="world created" world_id=8d36cd2d-707b-4f04-bd16-ff907e80e139 name="World of Test Story" tenant_id=403e6ec1-058f-4762-837a-8fd57bd39867
time=2026-01-10T16:00:33.731-03:00 level=INFO msg="created implicit world for story" world_id=8d36cd2d-707b-4f04-bd16-ff907e80e139 story_title="Test Story"
time=2026-01-10T16:00:33.733-03:00 level=INFO msg="story created" story_id=8cd88f7e-9e4a-4ebc-919b-13a36b798e9c title="Test Story" tenant_id=403e6ec1-058f-4762-837a-8fd57bd39867
time=2026-01-10T16:00:33.733-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestSceneHandler_GetScene/existing_scene
time=2026-01-10T16:00:33.733-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:33.734-03:00 level=INFO msg="scene created" scene_id=0d1ba76e-b3d9-4655-91a0-b28fc23f65d2 story_id=8cd88f7e-9e4a-4ebc-919b-13a36b798e9c tenant_id=403e6ec1-058f-4762-837a-8fd57bd39867
time=2026-01-10T16:00:33.734-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-10T16:00:33.734-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-10T16:00:33.735-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetScene duration_ms=0
=== RUN   TestSceneHandler_GetScene/non-existing_scene
time=2026-01-10T16:00:33.735-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-10T16:00:33.736-03:00 level=ERROR msg="failed to get scene" error="scene not found: 7dd79b7d-eb78-401a-8ce8-83347cf533c8" scene_id=7dd79b7d-eb78-401a-8ce8-83347cf533c8 tenant_id=403e6ec1-058f-4762-837a-8fd57bd39867
time=2026-01-10T16:00:33.736-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetScene duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 7dd79b7d-eb78-401a-8ce8-83347cf533c8"
time=2026-01-10T16:00:33.736-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetScene (0.21s)
    --- PASS: TestSceneHandler_GetScene/existing_scene (0.00s)
    --- PASS: TestSceneHandler_GetScene/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_UpdateScene
time=2026-01-10T16:00:33.932-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:33.932-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:33.932-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:33.932-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:33.932-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:33.932-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:33.932-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:33.937-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:33.939-03:00 level=INFO msg="tenant created" tenant_id=85487f92-d835-4d1c-b908-affd5cc84143 name="Test Tenant for Update Scene"
time=2026-01-10T16:00:33.939-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:33.940-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:33.941-03:00 level=INFO msg="world created" world_id=3dd9103a-8b60-47fc-a81b-2011e37a61b9 name="World of Test Story" tenant_id=85487f92-d835-4d1c-b908-affd5cc84143
time=2026-01-10T16:00:33.941-03:00 level=INFO msg="created implicit world for story" world_id=3dd9103a-8b60-47fc-a81b-2011e37a61b9 story_title="Test Story"
time=2026-01-10T16:00:33.942-03:00 level=INFO msg="story created" story_id=f1c106be-e5f2-44c4-9c49-5e60b2f65ffb title="Test Story" tenant_id=85487f92-d835-4d1c-b908-affd5cc84143
time=2026-01-10T16:00:33.942-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_UpdateScene/successful_update
time=2026-01-10T16:00:33.943-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:33.944-03:00 level=INFO msg="scene created" scene_id=581a2bfe-1a2b-4a63-a1e3-bd2896239b48 story_id=f1c106be-e5f2-44c4-9c49-5e60b2f65ffb tenant_id=85487f92-d835-4d1c-b908-affd5cc84143
time=2026-01-10T16:00:33.944-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-10T16:00:33.944-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/UpdateScene
time=2026-01-10T16:00:33.945-03:00 level=INFO msg="scene updated" scene_id=581a2bfe-1a2b-4a63-a1e3-bd2896239b48 tenant_id=85487f92-d835-4d1c-b908-affd5cc84143
time=2026-01-10T16:00:33.945-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/UpdateScene duration_ms=0
time=2026-01-10T16:00:33.945-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_UpdateScene (0.21s)
    --- PASS: TestSceneHandler_UpdateScene/successful_update (0.00s)
=== RUN   TestSceneHandler_MoveScene
time=2026-01-10T16:00:34.152-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:34.152-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:34.152-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:34.152-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:34.152-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:34.152-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:34.152-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:34.154-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:34.157-03:00 level=INFO msg="tenant created" tenant_id=92828062-e641-45a1-acc7-01b3591627a8 name="Test Tenant for Move Scene"
time=2026-01-10T16:00:34.157-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:34.157-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:34.159-03:00 level=INFO msg="world created" world_id=80d8c9e4-2f0b-4e17-bb8a-3ecdd1028587 name="World of Test Story" tenant_id=92828062-e641-45a1-acc7-01b3591627a8
time=2026-01-10T16:00:34.159-03:00 level=INFO msg="created implicit world for story" world_id=80d8c9e4-2f0b-4e17-bb8a-3ecdd1028587 story_title="Test Story"
time=2026-01-10T16:00:34.160-03:00 level=INFO msg="story created" story_id=9c9fef78-2989-444c-8391-7f9a63d74215 title="Test Story" tenant_id=92828062-e641-45a1-acc7-01b3591627a8
time=2026-01-10T16:00:34.160-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:34.160-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:34.162-03:00 level=INFO msg="chapter created" chapter_id=fa94e248-fda5-4b3f-84f1-bbdd77eeebbc story_id=9c9fef78-2989-444c-8391-7f9a63d74215 tenant_id=92828062-e641-45a1-acc7-01b3591627a8
time=2026-01-10T16:00:34.162-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-10T16:00:34.162-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-10T16:00:34.162-03:00 level=INFO msg="chapter created" chapter_id=b662c074-88ac-439f-9f6f-01c195f8770b story_id=9c9fef78-2989-444c-8391-7f9a63d74215 tenant_id=92828062-e641-45a1-acc7-01b3591627a8
time=2026-01-10T16:00:34.162-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_different_chapter
time=2026-01-10T16:00:34.162-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:34.164-03:00 level=INFO msg="scene created" scene_id=1f54459a-04ce-4e80-9882-4d34cc867d6a story_id=9c9fef78-2989-444c-8391-7f9a63d74215 tenant_id=92828062-e641-45a1-acc7-01b3591627a8
time=2026-01-10T16:00:34.164-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-10T16:00:34.164-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-10T16:00:34.165-03:00 level=INFO msg="scene moved" scene_id=1f54459a-04ce-4e80-9882-4d34cc867d6a new_chapter_id=b662c074-88ac-439f-9f6f-01c195f8770b tenant_id=92828062-e641-45a1-acc7-01b3591627a8
time=2026-01-10T16:00:34.165-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_no_chapter
time=2026-01-10T16:00:34.165-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:34.165-03:00 level=INFO msg="scene created" scene_id=a22e7701-e8cb-468d-a074-097b61515927 story_id=9c9fef78-2989-444c-8391-7f9a63d74215 tenant_id=92828062-e641-45a1-acc7-01b3591627a8
time=2026-01-10T16:00:34.165-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-10T16:00:34.166-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-10T16:00:34.166-03:00 level=INFO msg="scene moved" scene_id=a22e7701-e8cb-468d-a074-097b61515927 new_chapter_id=<nil> tenant_id=92828062-e641-45a1-acc7-01b3591627a8
time=2026-01-10T16:00:34.166-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
time=2026-01-10T16:00:34.166-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_MoveScene (0.25s)
    --- PASS: TestSceneHandler_MoveScene/move_to_different_chapter (0.00s)
    --- PASS: TestSceneHandler_MoveScene/move_to_no_chapter (0.00s)
=== RUN   TestSceneHandler_ListScenesByStory
time=2026-01-10T16:00:34.381-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:34.381-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:34.381-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:34.381-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:34.381-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:34.381-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:34.381-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:34.382-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:34.384-03:00 level=INFO msg="tenant created" tenant_id=d53537bd-7884-4887-82db-d86b9c704950 name="Test Tenant for List Scenes"
time=2026-01-10T16:00:34.384-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:34.384-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:34.385-03:00 level=INFO msg="world created" world_id=3147e137-9774-475b-a767-a43b396464f6 name="World of Test Story" tenant_id=d53537bd-7884-4887-82db-d86b9c704950
time=2026-01-10T16:00:34.385-03:00 level=INFO msg="created implicit world for story" world_id=3147e137-9774-475b-a767-a43b396464f6 story_title="Test Story"
time=2026-01-10T16:00:34.386-03:00 level=INFO msg="story created" story_id=a4302e95-7d05-482d-9f75-84392c1f232e title="Test Story" tenant_id=d53537bd-7884-4887-82db-d86b9c704950
time=2026-01-10T16:00:34.386-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_ListScenesByStory/list_scenes_by_story
time=2026-01-10T16:00:34.387-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:34.388-03:00 level=INFO msg="scene created" scene_id=7483cb78-ca51-4c1b-9170-f1eed1b45419 story_id=a4302e95-7d05-482d-9f75-84392c1f232e tenant_id=d53537bd-7884-4887-82db-d86b9c704950
time=2026-01-10T16:00:34.388-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-10T16:00:34.388-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:34.388-03:00 level=INFO msg="scene created" scene_id=a1d1fa1f-e7fd-40e6-8d1a-25654f0f67b6 story_id=a4302e95-7d05-482d-9f75-84392c1f232e tenant_id=d53537bd-7884-4887-82db-d86b9c704950
time=2026-01-10T16:00:34.388-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-10T16:00:34.388-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:34.389-03:00 level=INFO msg="scene created" scene_id=0f850608-ad48-4042-9936-e6532d125e79 story_id=a4302e95-7d05-482d-9f75-84392c1f232e tenant_id=d53537bd-7884-4887-82db-d86b9c704950
time=2026-01-10T16:00:34.389-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-10T16:00:34.389-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/ListScenesByStory
time=2026-01-10T16:00:34.389-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/ListScenesByStory duration_ms=0
time=2026-01-10T16:00:34.389-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_ListScenesByStory (0.20s)
    --- PASS: TestSceneHandler_ListScenesByStory/list_scenes_by_story (0.00s)
=== RUN   TestSceneHandler_DeleteScene
time=2026-01-10T16:00:34.582-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:34.582-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:34.582-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:34.582-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:34.582-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:34.582-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:34.582-03:00 level=INFO msg="ContentAnchorService registered"
time=2026-01-10T16:00:34.584-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:34.586-03:00 level=INFO msg="tenant created" tenant_id=78e34e76-2705-449c-9e2f-152eeaa1a253 name="Test Tenant for Delete Scene"
time=2026-01-10T16:00:34.586-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:34.587-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:34.589-03:00 level=INFO msg="world created" world_id=fc4f7d34-d027-453b-b350-c47c8396e70e name="World of Test Story" tenant_id=78e34e76-2705-449c-9e2f-152eeaa1a253
time=2026-01-10T16:00:34.589-03:00 level=INFO msg="created implicit world for story" world_id=fc4f7d34-d027-453b-b350-c47c8396e70e story_title="Test Story"
time=2026-01-10T16:00:34.590-03:00 level=INFO msg="story created" story_id=c322ee2c-2c05-497b-8509-02f074439c7c title="Test Story" tenant_id=78e34e76-2705-449c-9e2f-152eeaa1a253
time=2026-01-10T16:00:34.590-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestSceneHandler_DeleteScene/successful_delete
time=2026-01-10T16:00:34.591-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:34.592-03:00 level=INFO msg="scene created" scene_id=a36db246-5551-42d0-9f83-c23cabd24342 story_id=c322ee2c-2c05-497b-8509-02f074439c7c tenant_id=78e34e76-2705-449c-9e2f-152eeaa1a253
time=2026-01-10T16:00:34.592-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-10T16:00:34.593-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/DeleteScene
time=2026-01-10T16:00:34.595-03:00 level=INFO msg="scene deleted" scene_id=a36db246-5551-42d0-9f83-c23cabd24342 tenant_id=78e34e76-2705-449c-9e2f-152eeaa1a253
time=2026-01-10T16:00:34.595-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/DeleteScene duration_ms=2
time=2026-01-10T16:00:34.597-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_DeleteScene (0.20s)
    --- PASS: TestSceneHandler_DeleteScene/successful_delete (0.01s)
=== RUN   TestSceneHandler_AddSceneReference
time=2026-01-10T16:00:34.796-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:34.796-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:34.796-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:34.796-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:34.796-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:34.796-03:00 level=INFO msg="LocationService registered"
time=2026-01-10T16:00:34.796-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:34.796-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-10T16:00:34.797-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:34.799-03:00 level=INFO msg="tenant created" tenant_id=5b38ee3a-fb89-488e-9d56-2c945db1e100 name="Test Tenant for Scene References"
time=2026-01-10T16:00:34.799-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:34.799-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:34.800-03:00 level=INFO msg="world created" world_id=c02f44c6-9619-485b-8068-4d8d748a9895 name="Test World" tenant_id=5b38ee3a-fb89-488e-9d56-2c945db1e100
time=2026-01-10T16:00:34.800-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:34.801-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:34.801-03:00 level=INFO msg="world created" world_id=d5dbbfce-4162-46eb-b307-a6082f64fa79 name="World of Test Story" tenant_id=5b38ee3a-fb89-488e-9d56-2c945db1e100
time=2026-01-10T16:00:34.801-03:00 level=INFO msg="created implicit world for story" world_id=d5dbbfce-4162-46eb-b307-a6082f64fa79 story_title="Test Story"
time=2026-01-10T16:00:34.803-03:00 level=INFO msg="story created" story_id=7826df98-e8d1-41cf-9f24-602c05536ab9 title="Test Story" tenant_id=5b38ee3a-fb89-488e-9d56-2c945db1e100
time=2026-01-10T16:00:34.803-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:34.806-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:34.808-03:00 level=INFO msg="scene created" scene_id=d214154f-72dc-4681-b40d-8b8723e49502 story_id=7826df98-e8d1-41cf-9f24-602c05536ab9 tenant_id=5b38ee3a-fb89-488e-9d56-2c945db1e100
time=2026-01-10T16:00:34.808-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
=== RUN   TestSceneHandler_AddSceneReference/add_character_reference
time=2026-01-10T16:00:34.808-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:34.809-03:00 level=INFO msg="character created" character_id=614af357-f687-4397-8e85-e30e8e7ffd4e name="Test Character"
time=2026-01-10T16:00:34.809-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-10T16:00:34.810-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-10T16:00:34.812-03:00 level=INFO msg="relation created" relation_id=c25250a3-abe8-4d49-8381-5e7931c88df9 source_id=d214154f-72dc-4681-b40d-8b8723e49502 target_id=614af357-f687-4397-8e85-e30e8e7ffd4e
time=2026-01-10T16:00:34.812-03:00 level=INFO msg="scene reference added" scene_id=d214154f-72dc-4681-b40d-8b8723e49502 entity_type=character entity_id=614af357-f687-4397-8e85-e30e8e7ffd4e story_id=7826df98-e8d1-41cf-9f24-602c05536ab9
time=2026-01-10T16:00:34.812-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
=== RUN   TestSceneHandler_AddSceneReference/add_location_reference
time=2026-01-10T16:00:34.812-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-10T16:00:34.813-03:00 level=INFO msg="location created" location_id=9d5c2be7-ca3d-4bda-9bc2-5bd2bfe3d6b5 name="Test Location"
time=2026-01-10T16:00:34.813-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-10T16:00:34.813-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-10T16:00:34.814-03:00 level=INFO msg="relation created" relation_id=4efbba59-4181-4f67-8c77-20c254bb12cf source_id=d214154f-72dc-4681-b40d-8b8723e49502 target_id=9d5c2be7-ca3d-4bda-9bc2-5bd2bfe3d6b5
time=2026-01-10T16:00:34.814-03:00 level=INFO msg="scene reference added" scene_id=d214154f-72dc-4681-b40d-8b8723e49502 entity_type=location entity_id=9d5c2be7-ca3d-4bda-9bc2-5bd2bfe3d6b5 story_id=7826df98-e8d1-41cf-9f24-602c05536ab9
time=2026-01-10T16:00:34.815-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_artifact_reference
time=2026-01-10T16:00:34.815-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:34.816-03:00 level=INFO msg="artifact created" artifact_id=69600814-1e49-4681-b1dc-6b6da946fb4d name="Test Artifact"
time=2026-01-10T16:00:34.816-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-10T16:00:34.816-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-10T16:00:34.821-03:00 level=INFO msg="relation created" relation_id=a037e1ba-7e57-4c2c-b11e-bf57de6fa168 source_id=d214154f-72dc-4681-b40d-8b8723e49502 target_id=69600814-1e49-4681-b1dc-6b6da946fb4d
time=2026-01-10T16:00:34.821-03:00 level=INFO msg="scene reference added" scene_id=d214154f-72dc-4681-b40d-8b8723e49502 entity_type=artifact entity_id=69600814-1e49-4681-b1dc-6b6da946fb4d story_id=7826df98-e8d1-41cf-9f24-602c05536ab9
time=2026-01-10T16:00:34.822-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=5
=== RUN   TestSceneHandler_AddSceneReference/invalid_entity_type
time=2026-01-10T16:00:34.822-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-10T16:00:34.822-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = InvalidArgument desc = entity_type must be 'character', 'location', or 'artifact'"
=== RUN   TestSceneHandler_AddSceneReference/invalid_scene_id
time=2026-01-10T16:00:34.822-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-10T16:00:34.822-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 24b0a408-05f4-4501-b151-cdbc346a0009"
time=2026-01-10T16:00:34.822-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_AddSceneReference (0.26s)
    --- PASS: TestSceneHandler_AddSceneReference/add_character_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_location_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_artifact_reference (0.01s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_entity_type (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_scene_id (0.00s)
=== RUN   TestSceneHandler_RemoveSceneReference
time=2026-01-10T16:00:35.181-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:35.181-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:35.181-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:35.181-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:35.181-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:35.181-03:00 level=INFO msg="LocationService registered"
time=2026-01-10T16:00:35.181-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:35.181-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-10T16:00:35.181-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:35.184-03:00 level=INFO msg="tenant created" tenant_id=693c76de-9166-46c1-9af3-12798ea7ee45 name="Test Tenant for Remove Reference"
time=2026-01-10T16:00:35.184-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:35.184-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:35.185-03:00 level=INFO msg="world created" world_id=418ea547-15e0-4e52-a216-14863d2974ef name="Test World" tenant_id=693c76de-9166-46c1-9af3-12798ea7ee45
time=2026-01-10T16:00:35.185-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:35.185-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:35.186-03:00 level=INFO msg="world created" world_id=379d7b3d-3f68-4f08-af6a-53a5337f01b9 name="World of Test Story" tenant_id=693c76de-9166-46c1-9af3-12798ea7ee45
time=2026-01-10T16:00:35.186-03:00 level=INFO msg="created implicit world for story" world_id=379d7b3d-3f68-4f08-af6a-53a5337f01b9 story_title="Test Story"
time=2026-01-10T16:00:35.187-03:00 level=INFO msg="story created" story_id=42874c6c-764f-4aba-9fe1-1d472632b711 title="Test Story" tenant_id=693c76de-9166-46c1-9af3-12798ea7ee45
time=2026-01-10T16:00:35.187-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-10T16:00:35.187-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:35.188-03:00 level=INFO msg="scene created" scene_id=263c0d08-61c3-439d-ae33-ba928ad70ecf story_id=42874c6c-764f-4aba-9fe1-1d472632b711 tenant_id=693c76de-9166-46c1-9af3-12798ea7ee45
time=2026-01-10T16:00:35.188-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-10T16:00:35.188-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:35.189-03:00 level=INFO msg="character created" character_id=709d4b6f-d69b-4022-9c5e-672ce21543e5 name="Test Character"
time=2026-01-10T16:00:35.189-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/successful_remove
time=2026-01-10T16:00:35.189-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-10T16:00:35.191-03:00 level=INFO msg="relation created" relation_id=715bcc1d-d919-417b-a253-b24128d86f8c source_id=263c0d08-61c3-439d-ae33-ba928ad70ecf target_id=709d4b6f-d69b-4022-9c5e-672ce21543e5
time=2026-01-10T16:00:35.191-03:00 level=INFO msg="scene reference added" scene_id=263c0d08-61c3-439d-ae33-ba928ad70ecf entity_type=character entity_id=709d4b6f-d69b-4022-9c5e-672ce21543e5 story_id=42874c6c-764f-4aba-9fe1-1d472632b711
time=2026-01-10T16:00:35.192-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-10T16:00:35.192-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-10T16:00:35.193-03:00 level=INFO msg="relation deleted" relation_id=715bcc1d-d919-417b-a253-b24128d86f8c
time=2026-01-10T16:00:35.193-03:00 level=INFO msg="scene reference removed" scene_id=263c0d08-61c3-439d-ae33-ba928ad70ecf entity_type=character entity_id=709d4b6f-d69b-4022-9c5e-672ce21543e5
time=2026-01-10T16:00:35.193-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/RemoveSceneReference duration_ms=0
time=2026-01-10T16:00:35.193-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-10T16:00:35.193-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/remove_non-existing_reference
time=2026-01-10T16:00:35.193-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-10T16:00:35.193-03:00 level=INFO msg="scene reference not found" scene_id=263c0d08-61c3-439d-ae33-ba928ad70ecf entity_type=character entity_id=bdb0e602-990d-4ce3-bdc4-2b7cffe56552
time=2026-01-10T16:00:35.193-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/RemoveSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene_reference not found: scene:263c0d08-61c3-439d-ae33-ba928ad70ecf-character:bdb0e602-990d-4ce3-bdc4-2b7cffe56552"
time=2026-01-10T16:00:35.194-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_RemoveSceneReference (0.34s)
    --- PASS: TestSceneHandler_RemoveSceneReference/successful_remove (0.00s)
    --- PASS: TestSceneHandler_RemoveSceneReference/remove_non-existing_reference (0.00s)
=== RUN   TestSceneHandler_GetSceneReferences
time=2026-01-10T16:00:35.667-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:35.667-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:35.667-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:35.667-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:35.667-03:00 level=INFO msg="WorldService registered"
time=2026-01-10T16:00:35.667-03:00 level=INFO msg="LocationService registered"
time=2026-01-10T16:00:35.667-03:00 level=INFO msg="CharacterService registered"
time=2026-01-10T16:00:35.667-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-10T16:00:35.671-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:35.679-03:00 level=INFO msg="tenant created" tenant_id=2169b8b8-64f0-4a78-b6d9-24b30a6b2334 name="Test Tenant for Get References"
time=2026-01-10T16:00:35.679-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=8
time=2026-01-10T16:00:35.679-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:35.683-03:00 level=INFO msg="world created" world_id=2d446529-ab6e-40b9-82e3-8c7fb1df1bb9 name="Test World" tenant_id=2169b8b8-64f0-4a78-b6d9-24b30a6b2334
time=2026-01-10T16:00:35.683-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=3
time=2026-01-10T16:00:35.684-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:35.688-03:00 level=INFO msg="world created" world_id=5c5b6f08-c894-4e6d-807f-5cc628b81a7a name="World of Test Story" tenant_id=2169b8b8-64f0-4a78-b6d9-24b30a6b2334
time=2026-01-10T16:00:35.688-03:00 level=INFO msg="created implicit world for story" world_id=5c5b6f08-c894-4e6d-807f-5cc628b81a7a story_title="Test Story"
time=2026-01-10T16:00:35.693-03:00 level=INFO msg="story created" story_id=0710ee0e-c25b-4574-85aa-48572e5f2c8c title="Test Story" tenant_id=2169b8b8-64f0-4a78-b6d9-24b30a6b2334
time=2026-01-10T16:00:35.694-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=10
time=2026-01-10T16:00:35.695-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:35.698-03:00 level=INFO msg="scene created" scene_id=fc6f55b6-d761-42b8-b044-93487082e8ba story_id=0710ee0e-c25b-4574-85aa-48572e5f2c8c tenant_id=2169b8b8-64f0-4a78-b6d9-24b30a6b2334
time=2026-01-10T16:00:35.698-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
=== RUN   TestSceneHandler_GetSceneReferences/get_multiple_references
time=2026-01-10T16:00:35.698-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-10T16:00:35.700-03:00 level=INFO msg="character created" character_id=c61fe4e8-cb05-4265-8767-e257518f7a5a name="Test Character"
time=2026-01-10T16:00:35.700-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-10T16:00:35.701-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-10T16:00:35.706-03:00 level=INFO msg="location created" location_id=483ce5b6-537e-42fd-8146-fced64a699cc name="Test Location"
time=2026-01-10T16:00:35.706-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=5
time=2026-01-10T16:00:35.707-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-10T16:00:35.714-03:00 level=INFO msg="artifact created" artifact_id=f34cbf25-4bd5-43b5-b5ad-c3f34bc9062f name="Test Artifact"
time=2026-01-10T16:00:35.714-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=7
time=2026-01-10T16:00:35.714-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-10T16:00:35.724-03:00 level=INFO msg="relation created" relation_id=c3af539c-73a4-49c4-bc95-26c388639254 source_id=fc6f55b6-d761-42b8-b044-93487082e8ba target_id=c61fe4e8-cb05-4265-8767-e257518f7a5a
time=2026-01-10T16:00:35.724-03:00 level=INFO msg="scene reference added" scene_id=fc6f55b6-d761-42b8-b044-93487082e8ba entity_type=character entity_id=c61fe4e8-cb05-4265-8767-e257518f7a5a story_id=0710ee0e-c25b-4574-85aa-48572e5f2c8c
time=2026-01-10T16:00:35.725-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=10
time=2026-01-10T16:00:35.725-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-10T16:00:35.728-03:00 level=INFO msg="relation created" relation_id=1761bb12-c597-479a-9e88-978b0d328aeb source_id=fc6f55b6-d761-42b8-b044-93487082e8ba target_id=483ce5b6-537e-42fd-8146-fced64a699cc
time=2026-01-10T16:00:35.728-03:00 level=INFO msg="scene reference added" scene_id=fc6f55b6-d761-42b8-b044-93487082e8ba entity_type=location entity_id=483ce5b6-537e-42fd-8146-fced64a699cc story_id=0710ee0e-c25b-4574-85aa-48572e5f2c8c
time=2026-01-10T16:00:35.729-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=3
time=2026-01-10T16:00:35.729-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-10T16:00:35.732-03:00 level=INFO msg="relation created" relation_id=e5b88b3c-1960-45c8-868a-35ef3f6d2d35 source_id=fc6f55b6-d761-42b8-b044-93487082e8ba target_id=f34cbf25-4bd5-43b5-b5ad-c3f34bc9062f
time=2026-01-10T16:00:35.732-03:00 level=INFO msg="scene reference added" scene_id=fc6f55b6-d761-42b8-b044-93487082e8ba entity_type=artifact entity_id=f34cbf25-4bd5-43b5-b5ad-c3f34bc9062f story_id=0710ee0e-c25b-4574-85aa-48572e5f2c8c
time=2026-01-10T16:00:35.732-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-10T16:00:35.732-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-10T16:00:35.733-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_empty_references
time=2026-01-10T16:00:35.733-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-10T16:00:35.734-03:00 level=INFO msg="scene created" scene_id=e63aa3dd-1e37-42d2-8f7a-21a30285478a story_id=0710ee0e-c25b-4574-85aa-48572e5f2c8c tenant_id=2169b8b8-64f0-4a78-b6d9-24b30a6b2334
time=2026-01-10T16:00:35.734-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-10T16:00:35.734-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-10T16:00:35.735-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/invalid_scene_id
time=2026-01-10T16:00:35.735-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-10T16:00:35.738-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetSceneReferences duration_ms=3 error="rpc error: code = InvalidArgument desc = invalid scene_id: invalid UUID length: 10"
time=2026-01-10T16:00:35.739-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetSceneReferences (0.74s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_multiple_references (0.04s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_empty_references (0.00s)
    --- PASS: TestSceneHandler_GetSceneReferences/invalid_scene_id (0.00s)
=== RUN   TestSkillHandler_CreateSkill
time=2026-01-10T16:00:36.151-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:36.151-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:36.151-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_CreateSkill/successful_creation
time=2026-01-10T16:00:36.152-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:36.156-03:00 level=INFO msg="tenant created" tenant_id=896261b1-1b13-4e35-932b-961acd5908c2 name="Test Tenant for Skill"
time=2026-01-10T16:00:36.156-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:36.156-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:36.157-03:00 level=INFO msg="RPG system created" rpg_system_id=15280e58-bae0-4887-ab78-9af7766a3169 name="Test System"
time=2026-01-10T16:00:36.157-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:36.158-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:36.159-03:00 level=INFO msg="skill created" skill_id=e87fa3d4-6530-4b01-ac89-08aef16eaaac name=Fireball
time=2026-01-10T16:00:36.159-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestSkillHandler_CreateSkill/empty_name
time=2026-01-10T16:00:36.163-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:36.164-03:00 level=INFO msg="tenant created" tenant_id=b18b644d-77e4-4370-838c-49edd268d130 name="Test Tenant 2"
time=2026-01-10T16:00:36.164-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:36.164-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:36.165-03:00 level=INFO msg="RPG system created" rpg_system_id=eed8fddc-c2af-49d5-b075-b867cd6abca2 name="Test System 2"
time=2026-01-10T16:00:36.165-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-10T16:00:36.165-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:36.165-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/CreateSkill duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-10T16:00:36.165-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_CreateSkill (0.24s)
    --- PASS: TestSkillHandler_CreateSkill/successful_creation (0.01s)
    --- PASS: TestSkillHandler_CreateSkill/empty_name (0.00s)
=== RUN   TestSkillHandler_GetSkill
time=2026-01-10T16:00:36.328-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:36.328-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:36.328-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_GetSkill/existing_skill
time=2026-01-10T16:00:36.330-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:36.332-03:00 level=INFO msg="tenant created" tenant_id=681825f6-4ea5-4e31-89de-20c4c6273114 name="Get Test Tenant"
time=2026-01-10T16:00:36.332-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:36.332-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:36.333-03:00 level=INFO msg="RPG system created" rpg_system_id=09888f3c-7370-410e-bdad-e236e10f1343 name="Get Test System"
time=2026-01-10T16:00:36.333-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:36.334-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:36.335-03:00 level=INFO msg="skill created" skill_id=daf7a453-c6b1-45df-9490-8297bc05711b name="Get Test Skill"
time=2026-01-10T16:00:36.335-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-10T16:00:36.335-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-10T16:00:36.338-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/GetSkill duration_ms=2
=== RUN   TestSkillHandler_GetSkill/non-existing_skill
time=2026-01-10T16:00:36.338-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:36.339-03:00 level=INFO msg="tenant created" tenant_id=3ae15618-2933-402f-8754-888e0378faf9 name="Non-existing Test Tenant"
time=2026-01-10T16:00:36.339-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:36.339-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-10T16:00:36.339-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 139fab44-5dc5-4c43-a297-e0a047609971" skill_id=139fab44-5dc5-4c43-a297-e0a047609971
time=2026-01-10T16:00:36.339-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 139fab44-5dc5-4c43-a297-e0a047609971"
time=2026-01-10T16:00:36.339-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_GetSkill (0.17s)
    --- PASS: TestSkillHandler_GetSkill/existing_skill (0.01s)
    --- PASS: TestSkillHandler_GetSkill/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_ListSkills
time=2026-01-10T16:00:36.588-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:36.588-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:36.588-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_ListSkills/list_skills
time=2026-01-10T16:00:36.589-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:36.596-03:00 level=INFO msg="tenant created" tenant_id=24e7cef6-4eda-4298-b715-dfda13539b55 name="List Test Tenant"
time=2026-01-10T16:00:36.596-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=7
time=2026-01-10T16:00:36.598-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:36.599-03:00 level=INFO msg="RPG system created" rpg_system_id=472319d6-94d8-4dfd-b1d5-ec2f16f3a85b name="List Test System"
time=2026-01-10T16:00:36.599-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:36.599-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:36.600-03:00 level=INFO msg="skill created" skill_id=56bc705f-dd3f-47a9-a0f9-7ce215c76b87 name="Skill 1"
time=2026-01-10T16:00:36.600-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-10T16:00:36.601-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:36.601-03:00 level=INFO msg="skill created" skill_id=e7ee86dc-50ca-41cb-95e4-cfa58e6f07f3 name="Skill 2"
time=2026-01-10T16:00:36.601-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-10T16:00:36.602-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/ListSkills
time=2026-01-10T16:00:36.603-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/ListSkills duration_ms=1
time=2026-01-10T16:00:36.604-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_ListSkills (0.26s)
    --- PASS: TestSkillHandler_ListSkills/list_skills (0.02s)
=== RUN   TestSkillHandler_UpdateSkill
time=2026-01-10T16:00:36.847-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:36.847-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:36.847-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_UpdateSkill/update_skill
time=2026-01-10T16:00:36.848-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:36.852-03:00 level=INFO msg="tenant created" tenant_id=6434f037-dab1-4d7f-9964-a4f1a4de6d39 name="Update Test Tenant"
time=2026-01-10T16:00:36.852-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:36.852-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:36.853-03:00 level=INFO msg="RPG system created" rpg_system_id=b7982186-721e-4bc8-9e7a-7a0935e69d95 name="Update Test System"
time=2026-01-10T16:00:36.854-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:36.855-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:36.859-03:00 level=INFO msg="skill created" skill_id=a625a3b8-6a60-474e-9aae-56f4e4c92230 name="Original Skill"
time=2026-01-10T16:00:36.859-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=3
time=2026-01-10T16:00:36.860-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/UpdateSkill
time=2026-01-10T16:00:36.861-03:00 level=INFO msg="skill updated" skill_id=a625a3b8-6a60-474e-9aae-56f4e4c92230
time=2026-01-10T16:00:36.861-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/UpdateSkill duration_ms=1
time=2026-01-10T16:00:36.861-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_UpdateSkill (0.26s)
    --- PASS: TestSkillHandler_UpdateSkill/update_skill (0.01s)
=== RUN   TestSkillHandler_DeleteSkill
time=2026-01-10T16:00:37.121-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:37.121-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-10T16:00:37.121-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_DeleteSkill/delete_skill
time=2026-01-10T16:00:37.122-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:37.130-03:00 level=INFO msg="tenant created" tenant_id=caea5ba7-2afa-4bd6-8e67-9ef3bfc4b818 name="Delete Test Tenant"
time=2026-01-10T16:00:37.130-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=8
time=2026-01-10T16:00:37.131-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-10T16:00:37.132-03:00 level=INFO msg="RPG system created" rpg_system_id=7fc61b9c-1cd0-4907-9497-38130f4723e8 name="Delete Test System"
time=2026-01-10T16:00:37.132-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-10T16:00:37.132-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-10T16:00:37.134-03:00 level=INFO msg="skill created" skill_id=41520141-32a4-4665-8664-a800b0c73747 name="Skill to Delete"
time=2026-01-10T16:00:37.134-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-10T16:00:37.134-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/DeleteSkill
time=2026-01-10T16:00:37.135-03:00 level=INFO msg="skill deleted" skill_id=41520141-32a4-4665-8664-a800b0c73747
time=2026-01-10T16:00:37.135-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/DeleteSkill duration_ms=0
time=2026-01-10T16:00:37.135-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-10T16:00:37.136-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 41520141-32a4-4665-8664-a800b0c73747" skill_id=41520141-32a4-4665-8664-a800b0c73747
time=2026-01-10T16:00:37.136-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 41520141-32a4-4665-8664-a800b0c73747"
time=2026-01-10T16:00:37.136-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_DeleteSkill (0.28s)
    --- PASS: TestSkillHandler_DeleteSkill/delete_skill (0.01s)
=== RUN   TestStoryHandler_CreateStory
time=2026-01-10T16:00:37.431-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:37.431-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:37.431-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:37.431-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:37.431-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:37.431-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:37.431-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata
time=2026-01-10T16:00:37.433-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:37.435-03:00 level=INFO msg="tenant created" tenant_id=4c38134e-1632-42e9-8e84-661812d4b0a8 name="Test Tenant for Story"
time=2026-01-10T16:00:37.435-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:37.435-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:37.437-03:00 level=INFO msg="world created" world_id=a054fb56-808b-4328-9d71-0888756e8afc name="World of Test Story" tenant_id=4c38134e-1632-42e9-8e84-661812d4b0a8
time=2026-01-10T16:00:37.437-03:00 level=INFO msg="created implicit world for story" world_id=a054fb56-808b-4328-9d71-0888756e8afc story_title="Test Story"
time=2026-01-10T16:00:37.438-03:00 level=INFO msg="story created" story_id=63676c3f-16c5-4234-b6e0-a16e0d2a36d5 title="Test Story" tenant_id=4c38134e-1632-42e9-8e84-661812d4b0a8
time=2026-01-10T16:00:37.438-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request
time=2026-01-10T16:00:37.439-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:37.443-03:00 level=INFO msg="tenant created" tenant_id=419a7188-407a-41f4-ab20-c8e6850eaef3 name="Test Tenant for Story 2"
time=2026-01-10T16:00:37.443-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:37.443-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:37.444-03:00 level=INFO msg="world created" world_id=8c8e257b-68f0-4a48-98c4-7bca78eb9f69 name="World of Test Story 2" tenant_id=419a7188-407a-41f4-ab20-c8e6850eaef3
time=2026-01-10T16:00:37.444-03:00 level=INFO msg="created implicit world for story" world_id=8c8e257b-68f0-4a48-98c4-7bca78eb9f69 story_title="Test Story 2"
time=2026-01-10T16:00:37.445-03:00 level=INFO msg="story created" story_id=981343d9-50b1-4c00-af44-e5ec2c120a55 title="Test Story 2" tenant_id=419a7188-407a-41f4-ab20-c8e6850eaef3
time=2026-01-10T16:00:37.445-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
=== RUN   TestStoryHandler_CreateStory/without_tenant_id
time=2026-01-10T16:00:37.445-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:37.445-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
=== RUN   TestStoryHandler_CreateStory/with_invalid_tenant
time=2026-01-10T16:00:37.445-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:37.446-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: a9ca434a-dcc7-4716-9abf-a5fc68345b8a"
=== RUN   TestStoryHandler_CreateStory/empty_title
time=2026-01-10T16:00:37.446-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:37.446-03:00 level=INFO msg="tenant created" tenant_id=45ab3e73-f4b1-4cf5-92b8-d4512368140b name="Test Tenant for Empty Title"
time=2026-01-10T16:00:37.446-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:37.447-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:37.447-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = title is required"
time=2026-01-10T16:00:37.447-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CreateStory (0.32s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata (0.01s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request (0.01s)
    --- PASS: TestStoryHandler_CreateStory/without_tenant_id (0.00s)
    --- PASS: TestStoryHandler_CreateStory/with_invalid_tenant (0.00s)
    --- PASS: TestStoryHandler_CreateStory/empty_title (0.00s)
=== RUN   TestStoryHandler_GetStory
time=2026-01-10T16:00:37.729-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:37.729-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:37.729-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:37.729-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:37.729-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:37.729-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:37.729-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_GetStory/existing_story
time=2026-01-10T16:00:37.731-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:37.734-03:00 level=INFO msg="tenant created" tenant_id=65be796a-23bc-423b-aca2-e20f7bda30b2 name="Test Tenant for Get"
time=2026-01-10T16:00:37.734-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:37.734-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:37.736-03:00 level=INFO msg="world created" world_id=fa008efb-e1ca-4a77-bddc-984bfaa2c5c2 name="World of Get Test Story" tenant_id=65be796a-23bc-423b-aca2-e20f7bda30b2
time=2026-01-10T16:00:37.736-03:00 level=INFO msg="created implicit world for story" world_id=fa008efb-e1ca-4a77-bddc-984bfaa2c5c2 story_title="Get Test Story"
time=2026-01-10T16:00:37.737-03:00 level=INFO msg="story created" story_id=6fce6b47-ebef-426a-993a-5c63c7066586 title="Get Test Story" tenant_id=65be796a-23bc-423b-aca2-e20f7bda30b2
time=2026-01-10T16:00:37.738-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
    story_handler_test.go:160: Created story ID: '6fce6b47-ebef-426a-993a-5c63c7066586' (length: 36)
time=2026-01-10T16:00:37.738-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-10T16:00:37.738-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/GetStory duration_ms=0
=== RUN   TestStoryHandler_GetStory/non-existing_story
time=2026-01-10T16:00:37.739-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:37.739-03:00 level=INFO msg="tenant created" tenant_id=2687dbef-b4a9-4b97-8691-f5c90941e9b8 name="Test Tenant for Non-existing"
time=2026-01-10T16:00:37.740-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:37.740-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-10T16:00:37.740-03:00 level=ERROR msg="failed to get story" error="story not found: 5b536ff8-8d8e-478b-9fde-3870e6429276" story_id=5b536ff8-8d8e-478b-9fde-3870e6429276 tenant_id=2687dbef-b4a9-4b97-8691-f5c90941e9b8
time=2026-01-10T16:00:37.740-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 5b536ff8-8d8e-478b-9fde-3870e6429276"
=== RUN   TestStoryHandler_GetStory/invalid_story_ID
time=2026-01-10T16:00:37.741-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:37.742-03:00 level=INFO msg="tenant created" tenant_id=dd11e075-4773-4cb5-825c-aef6a16eff4b name="Test Tenant for Invalid ID"
time=2026-01-10T16:00:37.742-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:37.742-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-10T16:00:37.742-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-10T16:00:37.743-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_GetStory (0.29s)
    --- PASS: TestStoryHandler_GetStory/existing_story (0.01s)
    --- PASS: TestStoryHandler_GetStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_GetStory/invalid_story_ID (0.00s)
=== RUN   TestStoryHandler_ListStories
time=2026-01-10T16:00:38.001-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:38.001-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:38.001-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:38.001-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:38.001-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:38.001-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:38.001-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_ListStories/with_pagination
time=2026-01-10T16:00:38.003-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:38.005-03:00 level=INFO msg="tenant created" tenant_id=11deb704-5f2d-4e76-bb29-bcac12491c0c name="Test Tenant for List"
time=2026-01-10T16:00:38.005-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:38.005-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:38.007-03:00 level=INFO msg="world created" world_id=236e9b0b-47fa-44a4-b699-81e650695e7e name="World of List Test Story 1" tenant_id=11deb704-5f2d-4e76-bb29-bcac12491c0c
time=2026-01-10T16:00:38.007-03:00 level=INFO msg="created implicit world for story" world_id=236e9b0b-47fa-44a4-b699-81e650695e7e story_title="List Test Story 1"
time=2026-01-10T16:00:38.009-03:00 level=INFO msg="story created" story_id=dab7b732-8566-4aed-80a5-03f71d282503 title="List Test Story 1" tenant_id=11deb704-5f2d-4e76-bb29-bcac12491c0c
time=2026-01-10T16:00:38.009-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-10T16:00:38.009-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:38.010-03:00 level=INFO msg="world created" world_id=5ae0ea31-02e8-42ae-8e5b-ab1e4984c804 name="World of List Test Story 2" tenant_id=11deb704-5f2d-4e76-bb29-bcac12491c0c
time=2026-01-10T16:00:38.010-03:00 level=INFO msg="created implicit world for story" world_id=5ae0ea31-02e8-42ae-8e5b-ab1e4984c804 story_title="List Test Story 2"
time=2026-01-10T16:00:38.010-03:00 level=INFO msg="story created" story_id=eb381a99-d86e-492a-b237-fd994ae1db32 title="List Test Story 2" tenant_id=11deb704-5f2d-4e76-bb29-bcac12491c0c
time=2026-01-10T16:00:38.010-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-10T16:00:38.011-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:38.012-03:00 level=INFO msg="world created" world_id=50b8eda7-e974-4424-966f-96ac5e300482 name="World of List Test Story 3" tenant_id=11deb704-5f2d-4e76-bb29-bcac12491c0c
time=2026-01-10T16:00:38.012-03:00 level=INFO msg="created implicit world for story" world_id=50b8eda7-e974-4424-966f-96ac5e300482 story_title="List Test Story 3"
time=2026-01-10T16:00:38.013-03:00 level=INFO msg="story created" story_id=b1cc12cb-4a2f-4603-bb04-00db4f67aa4b title="List Test Story 3" tenant_id=11deb704-5f2d-4e76-bb29-bcac12491c0c
time=2026-01-10T16:00:38.013-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-10T16:00:38.013-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-10T16:00:38.013-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStories duration_ms=0
=== RUN   TestStoryHandler_ListStories/without_tenant_id
time=2026-01-10T16:00:38.014-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-10T16:00:38.014-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/ListStories duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
time=2026-01-10T16:00:38.014-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStories (0.27s)
    --- PASS: TestStoryHandler_ListStories/with_pagination (0.01s)
    --- PASS: TestStoryHandler_ListStories/without_tenant_id (0.00s)
=== RUN   TestStoryHandler_CloneStory
time=2026-01-10T16:00:38.291-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:38.291-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:38.291-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:38.291-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:38.291-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:38.291-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:38.291-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_CloneStory/successful_clone
time=2026-01-10T16:00:38.292-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:38.294-03:00 level=INFO msg="tenant created" tenant_id=06c55b6d-058d-4d4d-9889-4c819fc957ba name="Test Tenant for Clone"
time=2026-01-10T16:00:38.294-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:38.295-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:38.296-03:00 level=INFO msg="world created" world_id=9cc0a946-4197-48c0-88d1-8a9a1853c5c3 name="World of Clone Test Story" tenant_id=06c55b6d-058d-4d4d-9889-4c819fc957ba
time=2026-01-10T16:00:38.296-03:00 level=INFO msg="created implicit world for story" world_id=9cc0a946-4197-48c0-88d1-8a9a1853c5c3 story_title="Clone Test Story"
time=2026-01-10T16:00:38.297-03:00 level=INFO msg="story created" story_id=33f8eb8b-fc44-498e-b29b-6fb17f87ce68 title="Clone Test Story" tenant_id=06c55b6d-058d-4d4d-9889-4c819fc957ba
time=2026-01-10T16:00:38.297-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-10T16:00:38.298-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-10T16:00:38.301-03:00 level=INFO msg="story cloned" source_story_id=33f8eb8b-fc44-498e-b29b-6fb17f87ce68 new_story_id=53f12bdc-bcd9-488b-885f-207a355c4625 version_number=2
time=2026-01-10T16:00:38.301-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=3
=== RUN   TestStoryHandler_CloneStory/non-existing_source_story
time=2026-01-10T16:00:38.301-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:38.302-03:00 level=INFO msg="tenant created" tenant_id=345569c9-fdab-4fbe-a853-2a0f0d966167 name="Test Tenant for Non-existing Clone"
time=2026-01-10T16:00:38.302-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:38.302-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-10T16:00:38.302-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CloneStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: f3b2d3aa-eab5-4d9d-b561-729139e813c4"
time=2026-01-10T16:00:38.302-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CloneStory (0.29s)
    --- PASS: TestStoryHandler_CloneStory/successful_clone (0.01s)
    --- PASS: TestStoryHandler_CloneStory/non-existing_source_story (0.00s)
=== RUN   TestStoryHandler_ListStoryVersions
time=2026-01-10T16:00:38.569-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:38.569-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:38.569-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:38.569-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:38.569-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:38.569-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:38.569-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_ListStoryVersions/list_versions
time=2026-01-10T16:00:38.570-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:38.572-03:00 level=INFO msg="tenant created" tenant_id=568d61d7-943f-4582-a3dc-961c8ca2ddf8 name="Test Tenant for Versions"
time=2026-01-10T16:00:38.572-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:38.572-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:38.575-03:00 level=INFO msg="world created" world_id=d131c48f-dd90-4d45-a086-4addf0a27814 name="World of Version Test Story" tenant_id=568d61d7-943f-4582-a3dc-961c8ca2ddf8
time=2026-01-10T16:00:38.575-03:00 level=INFO msg="created implicit world for story" world_id=d131c48f-dd90-4d45-a086-4addf0a27814 story_title="Version Test Story"
time=2026-01-10T16:00:38.576-03:00 level=INFO msg="story created" story_id=2281235f-c8a8-48c4-ae42-b648e57545ba title="Version Test Story" tenant_id=568d61d7-943f-4582-a3dc-961c8ca2ddf8
time=2026-01-10T16:00:38.576-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
time=2026-01-10T16:00:38.577-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-10T16:00:38.579-03:00 level=INFO msg="story cloned" source_story_id=2281235f-c8a8-48c4-ae42-b648e57545ba new_story_id=c5b505c7-405c-4a1a-81cb-51ca6e75f5d7 version_number=2
time=2026-01-10T16:00:38.579-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
time=2026-01-10T16:00:38.580-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-10T16:00:38.585-03:00 level=INFO msg="story cloned" source_story_id=c5b505c7-405c-4a1a-81cb-51ca6e75f5d7 new_story_id=dcf0bdf4-e4eb-4667-8d60-3b8783c98836 version_number=3
time=2026-01-10T16:00:38.585-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=5
time=2026-01-10T16:00:38.585-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-10T16:00:38.586-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
=== RUN   TestStoryHandler_ListStoryVersions/non-existing_root_story
time=2026-01-10T16:00:38.586-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:38.586-03:00 level=INFO msg="tenant created" tenant_id=e0ad8f21-04a0-450e-a89c-590348292e1c name="Test Tenant for Non-existing Root"
time=2026-01-10T16:00:38.586-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:38.587-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-10T16:00:38.587-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
time=2026-01-10T16:00:38.587-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStoryVersions (0.29s)
    --- PASS: TestStoryHandler_ListStoryVersions/list_versions (0.02s)
    --- PASS: TestStoryHandler_ListStoryVersions/non-existing_root_story (0.00s)
=== RUN   TestStoryHandler_UpdateStory
time=2026-01-10T16:00:38.868-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:38.868-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:38.868-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:38.868-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:38.868-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:38.868-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:38.868-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestStoryHandler_UpdateStory/successful_update_title
time=2026-01-10T16:00:38.869-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:38.872-03:00 level=INFO msg="tenant created" tenant_id=1cd6a822-7adc-4f02-b779-b504e93eca10 name="Test Tenant for Update Story"
time=2026-01-10T16:00:38.872-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:38.872-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:38.874-03:00 level=INFO msg="world created" world_id=c734d3d5-bb14-4f38-9dbe-6b8e293f7242 name="World of Original Title" tenant_id=1cd6a822-7adc-4f02-b779-b504e93eca10
time=2026-01-10T16:00:38.874-03:00 level=INFO msg="created implicit world for story" world_id=c734d3d5-bb14-4f38-9dbe-6b8e293f7242 story_title="Original Title"
time=2026-01-10T16:00:38.876-03:00 level=INFO msg="story created" story_id=46964354-20d4-4c3f-8a4f-5b05bbb9b412 title="Original Title" tenant_id=1cd6a822-7adc-4f02-b779-b504e93eca10
time=2026-01-10T16:00:38.876-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-10T16:00:38.876-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-10T16:00:38.877-03:00 level=INFO msg="story updated" story_id=46964354-20d4-4c3f-8a4f-5b05bbb9b412 tenant_id=1cd6a822-7adc-4f02-b779-b504e93eca10
time=2026-01-10T16:00:38.877-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/successful_update_status
time=2026-01-10T16:00:38.878-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:38.878-03:00 level=INFO msg="tenant created" tenant_id=6ac8c78f-a9ab-46a6-9d4d-abad46091768 name="Test Tenant for Update Story Status"
time=2026-01-10T16:00:38.878-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:38.879-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-10T16:00:38.880-03:00 level=INFO msg="world created" world_id=49e0c5d2-f7bb-4b19-8148-074815dd7d0a name="World of Test Story" tenant_id=6ac8c78f-a9ab-46a6-9d4d-abad46091768
time=2026-01-10T16:00:38.880-03:00 level=INFO msg="created implicit world for story" world_id=49e0c5d2-f7bb-4b19-8148-074815dd7d0a story_title="Test Story"
time=2026-01-10T16:00:38.881-03:00 level=INFO msg="story created" story_id=65bffe96-8b6a-488a-9357-e3080aadf81a title="Test Story" tenant_id=6ac8c78f-a9ab-46a6-9d4d-abad46091768
time=2026-01-10T16:00:38.881-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-10T16:00:38.881-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-10T16:00:38.881-03:00 level=INFO msg="story updated" story_id=65bffe96-8b6a-488a-9357-e3080aadf81a tenant_id=6ac8c78f-a9ab-46a6-9d4d-abad46091768
time=2026-01-10T16:00:38.881-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/non-existing_story
time=2026-01-10T16:00:38.882-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:38.884-03:00 level=INFO msg="tenant created" tenant_id=22b902aa-e855-4cab-a154-ea251f9a07b4 name="Test Tenant for Non-existing Update"
time=2026-01-10T16:00:38.884-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-10T16:00:38.884-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-10T16:00:38.884-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 2c70abb6-3583-4bbe-a81a-75355eab2b0c"
=== RUN   TestStoryHandler_UpdateStory/invalid_story_ID
time=2026-01-10T16:00:38.885-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:38.885-03:00 level=INFO msg="tenant created" tenant_id=a1b9280b-c68f-49ae-aa03-fee58eaaeef3 name="Test Tenant for Invalid Update ID"
time=2026-01-10T16:00:38.885-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:38.886-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-10T16:00:38.886-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-10T16:00:38.886-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_UpdateStory (0.30s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_title (0.01s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_status (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/invalid_story_ID (0.00s)
=== RUN   TestTenantHandler_CreateTenant
time=2026-01-10T16:00:39.177-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:39.177-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:39.177-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:39.177-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:39.177-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:39.177-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:39.177-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestTenantHandler_CreateTenant/successful_creation
time=2026-01-10T16:00:39.178-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:39.180-03:00 level=INFO msg="tenant created" tenant_id=07983c73-0517-4c4f-896e-1565d9ec7e33 name="Test Tenant"
time=2026-01-10T16:00:39.180-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
=== RUN   TestTenantHandler_CreateTenant/duplicate_name
time=2026-01-10T16:00:39.181-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:39.182-03:00 level=INFO msg="tenant created" tenant_id=346e687a-1bb1-4677-9824-8b110bdaffff name="Duplicate Tenant"
time=2026-01-10T16:00:39.182-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:39.182-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:39.182-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = AlreadyExists desc = tenant already exists with name: Duplicate Tenant"
=== RUN   TestTenantHandler_CreateTenant/empty_name
time=2026-01-10T16:00:39.182-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:39.182-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-10T16:00:39.183-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_CreateTenant (0.30s)
    --- PASS: TestTenantHandler_CreateTenant/successful_creation (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/empty_name (0.00s)
=== RUN   TestTenantHandler_GetTenant
time=2026-01-10T16:00:39.438-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:39.438-03:00 level=INFO msg="StoryService registered"
time=2026-01-10T16:00:39.438-03:00 level=INFO msg="ChapterService registered"
time=2026-01-10T16:00:39.438-03:00 level=INFO msg="SceneService registered"
time=2026-01-10T16:00:39.438-03:00 level=INFO msg="BeatService registered"
time=2026-01-10T16:00:39.438-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-10T16:00:39.438-03:00 level=INFO msg="ContentAnchorService registered"
=== RUN   TestTenantHandler_GetTenant/existing_tenant
time=2026-01-10T16:00:39.439-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:39.443-03:00 level=INFO msg="tenant created" tenant_id=3bcfe579-9807-427a-b156-dda44a8bf6e3 name="Get Test Tenant"
time=2026-01-10T16:00:39.443-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-10T16:00:39.443-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-10T16:00:39.444-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/GetTenant duration_ms=0
=== RUN   TestTenantHandler_GetTenant/non-existing_tenant
time=2026-01-10T16:00:39.444-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-10T16:00:39.444-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: b787c247-d819-4440-b596-92027df6e102"
=== RUN   TestTenantHandler_GetTenant/invalid_tenant_ID
time=2026-01-10T16:00:39.444-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-10T16:00:39.444-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant id: invalid UUID length: 10"
time=2026-01-10T16:00:39.445-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_GetTenant (0.25s)
    --- PASS: TestTenantHandler_GetTenant/existing_tenant (0.01s)
    --- PASS: TestTenantHandler_GetTenant/non-existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/invalid_tenant_ID (0.00s)
=== RUN   TestTraitHandler_CreateTrait
time=2026-01-10T16:00:39.688-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:39.688-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_CreateTrait/successful_creation
time=2026-01-10T16:00:39.690-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:39.694-03:00 level=INFO msg="tenant created" tenant_id=d70ece82-dbc0-4a08-8557-4b75c460d37d name="Test Tenant for Trait"
time=2026-01-10T16:00:39.694-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:39.694-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:39.695-03:00 level=INFO msg="trait created" trait_id=b919e9cc-b0b7-4c4a-8df9-5849147f2d05 name=Brave
time=2026-01-10T16:00:39.695-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
=== RUN   TestTraitHandler_CreateTrait/empty_name
time=2026-01-10T16:00:39.696-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:39.696-03:00 level=INFO msg="tenant created" tenant_id=4ffedcba-1dab-45b2-9aae-45d52aad740c name="Test Tenant 2"
time=2026-01-10T16:00:39.696-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:39.696-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:39.696-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/CreateTrait duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-10T16:00:39.696-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_CreateTrait (0.26s)
    --- PASS: TestTraitHandler_CreateTrait/successful_creation (0.01s)
    --- PASS: TestTraitHandler_CreateTrait/empty_name (0.00s)
=== RUN   TestTraitHandler_GetTrait
time=2026-01-10T16:00:39.933-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:39.933-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_GetTrait/existing_trait
time=2026-01-10T16:00:39.935-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:39.939-03:00 level=INFO msg="tenant created" tenant_id=73f747fd-322e-4b3f-9c6d-0d4bc0ccaccd name="Get Test Tenant"
time=2026-01-10T16:00:39.939-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:39.940-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:39.942-03:00 level=INFO msg="trait created" trait_id=e93663ac-3922-4ca8-93d5-4bf2881261d3 name="Get Test Trait"
time=2026-01-10T16:00:39.942-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=2
time=2026-01-10T16:00:39.945-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-10T16:00:39.946-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/GetTrait duration_ms=0
=== RUN   TestTraitHandler_GetTrait/non-existing_trait
time=2026-01-10T16:00:39.946-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:39.947-03:00 level=INFO msg="tenant created" tenant_id=037413c1-9791-47af-8719-28c7ea600d3b name="Non-existing Test Tenant"
time=2026-01-10T16:00:39.947-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:39.947-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-10T16:00:39.947-03:00 level=ERROR msg="failed to get trait" error="trait not found: 5d1c82a8-f930-4cbd-aee5-e8dcada9b770" trait_id=5d1c82a8-f930-4cbd-aee5-e8dcada9b770
time=2026-01-10T16:00:39.947-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 5d1c82a8-f930-4cbd-aee5-e8dcada9b770"
time=2026-01-10T16:00:39.947-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_GetTrait (0.24s)
    --- PASS: TestTraitHandler_GetTrait/existing_trait (0.01s)
    --- PASS: TestTraitHandler_GetTrait/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_ListTraits
time=2026-01-10T16:00:40.113-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:40.113-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_ListTraits/list_traits
time=2026-01-10T16:00:40.114-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.119-03:00 level=INFO msg="tenant created" tenant_id=cfa5d6f3-feaa-4f51-ab5c-f4939bc28f8b name="List Test Tenant"
time=2026-01-10T16:00:40.119-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:40.119-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:40.120-03:00 level=INFO msg="trait created" trait_id=f5f9d20e-bcec-4dac-8629-647773ea3590 name="Trait 1"
time=2026-01-10T16:00:40.120-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-10T16:00:40.121-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:40.121-03:00 level=INFO msg="trait created" trait_id=cb93ffdb-42b2-4fcc-a6d2-661514b1a4be name="Trait 2"
time=2026-01-10T16:00:40.121-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-10T16:00:40.121-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/ListTraits
time=2026-01-10T16:00:40.122-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/ListTraits duration_ms=1
time=2026-01-10T16:00:40.124-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_ListTraits (0.14s)
    --- PASS: TestTraitHandler_ListTraits/list_traits (0.01s)
=== RUN   TestTraitHandler_UpdateTrait
time=2026-01-10T16:00:40.266-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:40.266-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_UpdateTrait/update_trait
time=2026-01-10T16:00:40.267-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.269-03:00 level=INFO msg="tenant created" tenant_id=818c8090-55cf-4ebb-b5fd-28870dff4794 name="Update Test Tenant"
time=2026-01-10T16:00:40.269-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:40.270-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:40.271-03:00 level=INFO msg="trait created" trait_id=13ae31b7-a254-454d-8750-d4a8e1c96fc8 name="Original Trait"
time=2026-01-10T16:00:40.271-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-10T16:00:40.272-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/UpdateTrait
time=2026-01-10T16:00:40.273-03:00 level=INFO msg="trait updated" trait_id=13ae31b7-a254-454d-8750-d4a8e1c96fc8 name="Updated Trait"
time=2026-01-10T16:00:40.273-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/UpdateTrait duration_ms=1
time=2026-01-10T16:00:40.274-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_UpdateTrait (0.15s)
    --- PASS: TestTraitHandler_UpdateTrait/update_trait (0.01s)
=== RUN   TestTraitHandler_DeleteTrait
time=2026-01-10T16:00:40.416-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:40.416-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_DeleteTrait/delete_trait
time=2026-01-10T16:00:40.419-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.423-03:00 level=INFO msg="tenant created" tenant_id=49ee821c-d609-4e82-adb3-c7bbbd3c3843 name="Delete Test Tenant"
time=2026-01-10T16:00:40.423-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-10T16:00:40.424-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-10T16:00:40.428-03:00 level=INFO msg="trait created" trait_id=f2cab6de-71e8-4754-95bf-6e4773788c5b name="Trait to Delete"
time=2026-01-10T16:00:40.428-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=4
time=2026-01-10T16:00:40.428-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/DeleteTrait
time=2026-01-10T16:00:40.429-03:00 level=INFO msg="trait deleted" trait_id=f2cab6de-71e8-4754-95bf-6e4773788c5b name="Trait to Delete"
time=2026-01-10T16:00:40.429-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/DeleteTrait duration_ms=1
time=2026-01-10T16:00:40.429-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-10T16:00:40.430-03:00 level=ERROR msg="failed to get trait" error="trait not found: f2cab6de-71e8-4754-95bf-6e4773788c5b" trait_id=f2cab6de-71e8-4754-95bf-6e4773788c5b
time=2026-01-10T16:00:40.430-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: f2cab6de-71e8-4754-95bf-6e4773788c5b"
time=2026-01-10T16:00:40.430-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_DeleteTrait (0.15s)
    --- PASS: TestTraitHandler_DeleteTrait/delete_trait (0.01s)
=== RUN   TestWorldHandler_CreateWorld
time=2026-01-10T16:00:40.575-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:40.575-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata
time=2026-01-10T16:00:40.577-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.580-03:00 level=INFO msg="tenant created" tenant_id=fb0c8e75-70d7-4ead-9d3c-b28d9778ecb4 name="Test Tenant for World"
time=2026-01-10T16:00:40.580-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:40.581-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:40.582-03:00 level=INFO msg="world created" world_id=88e2aeea-5e43-47c9-8cf4-ae6a939d62aa name="Test World" tenant_id=fb0c8e75-70d7-4ead-9d3c-b28d9778ecb4
time=2026-01-10T16:00:40.582-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request
time=2026-01-10T16:00:40.582-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.583-03:00 level=INFO msg="tenant created" tenant_id=de720768-4cf9-47a6-9641-0e6ae353d197 name="Test Tenant 2"
time=2026-01-10T16:00:40.583-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:40.583-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:40.584-03:00 level=INFO msg="world created" world_id=19cbe073-afdc-4371-bcf5-703341304754 name="Test World 2" tenant_id=de720768-4cf9-47a6-9641-0e6ae353d197
time=2026-01-10T16:00:40.584-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
=== RUN   TestWorldHandler_CreateWorld/empty_name
time=2026-01-10T16:00:40.584-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.585-03:00 level=INFO msg="tenant created" tenant_id=fb7eeab4-90b7-4118-b969-d083c20fb7a0 name="Test Tenant 3"
time=2026-01-10T16:00:40.585-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:40.585-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:40.586-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestWorldHandler_CreateWorld/invalid_tenant_id
time=2026-01-10T16:00:40.586-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:40.586-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant_id: invalid UUID length: 10"
time=2026-01-10T16:00:40.586-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_CreateWorld (0.16s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata (0.01s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/empty_name (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/invalid_tenant_id (0.00s)
=== RUN   TestWorldHandler_GetWorld
time=2026-01-10T16:00:40.749-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:40.749-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_GetWorld/existing_world
time=2026-01-10T16:00:40.750-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.752-03:00 level=INFO msg="tenant created" tenant_id=2ba72a2c-8aec-466b-b875-116c0d7f616b name="Get Test Tenant"
time=2026-01-10T16:00:40.752-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:40.752-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:40.753-03:00 level=INFO msg="world created" world_id=e007da15-cedd-4c9c-870f-dcfcc30aedd9 name="Get Test World" tenant_id=2ba72a2c-8aec-466b-b875-116c0d7f616b
time=2026-01-10T16:00:40.753-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:40.754-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-10T16:00:40.754-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/GetWorld duration_ms=0
=== RUN   TestWorldHandler_GetWorld/non-existing_world
time=2026-01-10T16:00:40.754-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.755-03:00 level=INFO msg="tenant created" tenant_id=e324adb3-4cb3-469c-8a8c-768fffe08238 name="Non-existing Test Tenant"
time=2026-01-10T16:00:40.755-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:40.755-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-10T16:00:40.755-03:00 level=ERROR msg="failed to get world" error="world not found: 28ef052a-2ee1-495e-87e1-61f887a93ab6" world_id=28ef052a-2ee1-495e-87e1-61f887a93ab6
time=2026-01-10T16:00:40.755-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 28ef052a-2ee1-495e-87e1-61f887a93ab6"
=== RUN   TestWorldHandler_GetWorld/invalid_world_ID
time=2026-01-10T16:00:40.755-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.756-03:00 level=INFO msg="tenant created" tenant_id=bec8d1cc-16a1-43b4-9b48-14f883a28462 name="Invalid ID Test Tenant"
time=2026-01-10T16:00:40.756-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:40.756-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-10T16:00:40.756-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid world id: invalid UUID length: 10"
time=2026-01-10T16:00:40.757-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_GetWorld (0.17s)
    --- PASS: TestWorldHandler_GetWorld/existing_world (0.00s)
    --- PASS: TestWorldHandler_GetWorld/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_GetWorld/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_ListWorlds
time=2026-01-10T16:00:40.898-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:40.898-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_ListWorlds/list_worlds_for_tenant
time=2026-01-10T16:00:40.900-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:40.902-03:00 level=INFO msg="tenant created" tenant_id=98e59bda-90ca-47a0-9f24-eaf2c23fc11e name="List Test Tenant"
time=2026-01-10T16:00:40.902-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-10T16:00:40.904-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:40.906-03:00 level=INFO msg="world created" world_id=2db40f60-651c-4436-9688-ac081d8c8608 name="World 1" tenant_id=98e59bda-90ca-47a0-9f24-eaf2c23fc11e
time=2026-01-10T16:00:40.906-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:40.906-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:40.906-03:00 level=INFO msg="world created" world_id=a5afb211-edca-4588-8dbe-eeb99025d994 name="World 2" tenant_id=98e59bda-90ca-47a0-9f24-eaf2c23fc11e
time=2026-01-10T16:00:40.906-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-10T16:00:40.910-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/ListWorlds
time=2026-01-10T16:00:40.911-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/ListWorlds duration_ms=1
time=2026-01-10T16:00:40.911-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_ListWorlds (0.15s)
    --- PASS: TestWorldHandler_ListWorlds/list_worlds_for_tenant (0.01s)
=== RUN   TestWorldHandler_UpdateWorld
time=2026-01-10T16:00:41.055-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:41.055-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_UpdateWorld/update_world_name
time=2026-01-10T16:00:41.057-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:41.063-03:00 level=INFO msg="tenant created" tenant_id=2ccada74-0d8b-43ad-81d2-65c6b62787c0 name="Update Test Tenant"
time=2026-01-10T16:00:41.063-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-10T16:00:41.063-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:41.064-03:00 level=INFO msg="world created" world_id=dca2a157-a8d1-403b-9a12-5e7d9f62f6ff name="Original World" tenant_id=2ccada74-0d8b-43ad-81d2-65c6b62787c0
time=2026-01-10T16:00:41.064-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-10T16:00:41.065-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-10T16:00:41.066-03:00 level=INFO msg="world updated" world_id=dca2a157-a8d1-403b-9a12-5e7d9f62f6ff name="Updated World"
time=2026-01-10T16:00:41.066-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/UpdateWorld duration_ms=1
=== RUN   TestWorldHandler_UpdateWorld/non-existing_world
time=2026-01-10T16:00:41.066-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:41.067-03:00 level=INFO msg="tenant created" tenant_id=c4aa8b2e-38be-48b2-9c03-6732bdee0e92 name="Update Test Tenant 2"
time=2026-01-10T16:00:41.067-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:41.067-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-10T16:00:41.067-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/UpdateWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 32faf8e1-52c3-463e-8758-8925eb41b9e1"
time=2026-01-10T16:00:41.068-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_UpdateWorld (0.16s)
    --- PASS: TestWorldHandler_UpdateWorld/update_world_name (0.01s)
    --- PASS: TestWorldHandler_UpdateWorld/non-existing_world (0.00s)
=== RUN   TestWorldHandler_DeleteWorld
time=2026-01-10T16:00:41.225-03:00 level=INFO msg="TenantService registered"
time=2026-01-10T16:00:41.225-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_DeleteWorld/delete_existing_world
time=2026-01-10T16:00:41.228-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:41.233-03:00 level=INFO msg="tenant created" tenant_id=0f33aa71-b445-4986-9515-e65577c0b916 name="Delete Test Tenant"
time=2026-01-10T16:00:41.233-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-10T16:00:41.233-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-10T16:00:41.240-03:00 level=INFO msg="world created" world_id=e9a30557-2e71-49d8-b9dd-edec27931d49 name="World to Delete" tenant_id=0f33aa71-b445-4986-9515-e65577c0b916
time=2026-01-10T16:00:41.240-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=7
time=2026-01-10T16:00:41.241-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-10T16:00:41.244-03:00 level=INFO msg="world deleted" world_id=e9a30557-2e71-49d8-b9dd-edec27931d49 name="World to Delete"
time=2026-01-10T16:00:41.244-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/DeleteWorld duration_ms=3
time=2026-01-10T16:00:41.245-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-10T16:00:41.245-03:00 level=ERROR msg="failed to get world" error="world not found: e9a30557-2e71-49d8-b9dd-edec27931d49" world_id=e9a30557-2e71-49d8-b9dd-edec27931d49
time=2026-01-10T16:00:41.245-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: e9a30557-2e71-49d8-b9dd-edec27931d49"
=== RUN   TestWorldHandler_DeleteWorld/delete_non-existing_world
time=2026-01-10T16:00:41.245-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-10T16:00:41.245-03:00 level=INFO msg="tenant created" tenant_id=b9c89ade-6a0b-4d4f-a5a2-22bc1678e969 name="Delete Test Tenant 2"
time=2026-01-10T16:00:41.245-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-10T16:00:41.246-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-10T16:00:41.246-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/DeleteWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 238567e1-1070-4227-b047-b68da01f0231"
time=2026-01-10T16:00:41.246-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_DeleteWorld (0.18s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_existing_world (0.02s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/grpc/handlers	(cached)
?   	github.com/story-engine/main-service/internal/transport/grpc/interceptors	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/mappers	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/testing	[no test files]
=== RUN   TestArchetypeHandler_Create
time=2026-01-10T16:08:39.566-03:00 level=INFO msg="tenant created" tenant_id=79eb0d8f-00a7-4d1d-a454-e772fab9977e name="Test Tenant"
=== RUN   TestArchetypeHandler_Create/successful_creation
time=2026-01-10T16:08:39.569-03:00 level=INFO msg="archetype created" archetype_id=8f36a329-9629-4315-b456-205d6b1b431e name=Warrior
=== RUN   TestArchetypeHandler_Create/missing_tenant_id
=== RUN   TestArchetypeHandler_Create/empty_name
--- PASS: TestArchetypeHandler_Create (0.30s)
    --- PASS: TestArchetypeHandler_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArchetypeHandler_Create/empty_name (0.00s)
=== RUN   TestArchetypeHandler_Get
time=2026-01-10T16:08:39.772-03:00 level=INFO msg="tenant created" tenant_id=518a2d19-5890-40eb-926d-cb1feb8ba7d4 name="Test Tenant"
time=2026-01-10T16:08:39.775-03:00 level=INFO msg="archetype created" archetype_id=4216aed9-eeb2-4e80-bcc5-3c2b2cac3c06 name="Get Test Archetype"
=== RUN   TestArchetypeHandler_Get/existing_archetype
=== RUN   TestArchetypeHandler_Get/non-existing_archetype
time=2026-01-10T16:08:39.775-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 00000000-0000-0000-0000-000000000000" archetype_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArchetypeHandler_Get (0.20s)
    --- PASS: TestArchetypeHandler_Get/existing_archetype (0.00s)
    --- PASS: TestArchetypeHandler_Get/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_List
time=2026-01-10T16:08:40.011-03:00 level=INFO msg="tenant created" tenant_id=7adb0425-84f5-4c91-9fba-16370d5b9101 name="Test Tenant"
time=2026-01-10T16:08:40.013-03:00 level=INFO msg="archetype created" archetype_id=df103793-fde2-4d54-a118-1b76cc28cce6 name="Archetype 1"
time=2026-01-10T16:08:40.013-03:00 level=INFO msg="archetype created" archetype_id=e5f72ac5-8d04-441d-9d50-451e1d97f2c6 name="Archetype 2"
time=2026-01-10T16:08:40.014-03:00 level=INFO msg="archetype created" archetype_id=2a6edcce-4ecf-4d65-923f-8eb2ff2b2e9f name="Archetype 3"
=== RUN   TestArchetypeHandler_List/list_archetypes
--- PASS: TestArchetypeHandler_List (0.24s)
    --- PASS: TestArchetypeHandler_List/list_archetypes (0.00s)
=== RUN   TestArchetypeHandler_Update
time=2026-01-10T16:08:40.269-03:00 level=INFO msg="tenant created" tenant_id=f125fd60-a67f-4c04-b10e-82a686cb5d97 name="Test Tenant"
time=2026-01-10T16:08:40.271-03:00 level=INFO msg="archetype created" archetype_id=1eb90b74-b299-4315-afed-5ff5b9f718c5 name="Original Archetype"
=== RUN   TestArchetypeHandler_Update/update_archetype
time=2026-01-10T16:08:40.275-03:00 level=INFO msg="archetype updated" archetype_id=1eb90b74-b299-4315-afed-5ff5b9f718c5 name="Updated Archetype"
--- PASS: TestArchetypeHandler_Update (0.26s)
    --- PASS: TestArchetypeHandler_Update/update_archetype (0.00s)
=== RUN   TestArchetypeHandler_Delete
time=2026-01-10T16:08:40.478-03:00 level=INFO msg="tenant created" tenant_id=71dc4655-1623-44be-b251-a731a386d7a8 name="Test Tenant"
time=2026-01-10T16:08:40.480-03:00 level=INFO msg="archetype created" archetype_id=ff797ef3-b766-444f-bdec-1a8a1c6e113f name="Archetype to Delete"
=== RUN   TestArchetypeHandler_Delete/delete_archetype
time=2026-01-10T16:08:40.483-03:00 level=INFO msg="archetype deleted" archetype_id=ff797ef3-b766-444f-bdec-1a8a1c6e113f name="Archetype to Delete"
--- PASS: TestArchetypeHandler_Delete (0.21s)
    --- PASS: TestArchetypeHandler_Delete/delete_archetype (0.00s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-10T16:08:40.685-03:00 level=INFO msg="tenant created" tenant_id=140d3cf2-d9e6-4754-a9e5-8aecee6e43dc name="Test Tenant"
time=2026-01-10T16:08:40.687-03:00 level=INFO msg="archetype created" archetype_id=9ba13b49-6aa6-47c4-a2d5-a664fa2a778e name=Warrior
time=2026-01-10T16:08:40.688-03:00 level=INFO msg="trait created" trait_id=f26fd322-0b29-4c61-8080-89908dd89e7e name=Brave
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-10T16:08:40.689-03:00 level=INFO msg="trait added to archetype" archetype_id=9ba13b49-6aa6-47c4-a2d5-a664fa2a778e trait_id=f26fd322-0b29-4c61-8080-89908dd89e7e
--- PASS: TestArchetypeHandler_AddTrait (0.20s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.00s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-10T16:08:40.889-03:00 level=INFO msg="tenant created" tenant_id=6e8e690d-1cbf-47d8-a7bc-dab5af34236d name="Test Tenant"
time=2026-01-10T16:08:40.892-03:00 level=INFO msg="archetype created" archetype_id=0962a0f2-cf9e-411d-81f4-ef157d5681d3 name=Warrior
time=2026-01-10T16:08:40.895-03:00 level=INFO msg="trait created" trait_id=d821f8ee-0c5e-4609-834b-ed3adc3a2dc8 name=Brave
time=2026-01-10T16:08:40.896-03:00 level=INFO msg="trait added to archetype" archetype_id=0962a0f2-cf9e-411d-81f4-ef157d5681d3 trait_id=d821f8ee-0c5e-4609-834b-ed3adc3a2dc8
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-10T16:08:40.897-03:00 level=INFO msg="trait removed from archetype" archetype_id=0962a0f2-cf9e-411d-81f4-ef157d5681d3 trait_id=d821f8ee-0c5e-4609-834b-ed3adc3a2dc8
--- PASS: TestArchetypeHandler_RemoveTrait (0.21s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.00s)
=== RUN   TestArtifactHandler_Create
time=2026-01-10T16:08:41.099-03:00 level=INFO msg="tenant created" tenant_id=d82e2e45-1b4a-4bb8-8dbd-4e5eae8519cd name="Test Tenant"
time=2026-01-10T16:08:41.100-03:00 level=INFO msg="world created" world_id=e97fa0dd-3a33-4ec1-8c0c-ceb6bd8e5c1f name="Test World" tenant_id=d82e2e45-1b4a-4bb8-8dbd-4e5eae8519cd
=== RUN   TestArtifactHandler_Create/successful_creation
time=2026-01-10T16:08:41.105-03:00 level=INFO msg="artifact created" artifact_id=fabdff79-22b9-493c-878f-25e668637492 name="Test Artifact"
=== RUN   TestArtifactHandler_Create/missing_tenant_id
=== RUN   TestArtifactHandler_Create/empty_name
--- PASS: TestArtifactHandler_Create (0.21s)
    --- PASS: TestArtifactHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArtifactHandler_Create/empty_name (0.00s)
=== RUN   TestArtifactHandler_Get
time=2026-01-10T16:08:41.291-03:00 level=INFO msg="tenant created" tenant_id=9c1b66a6-01a3-4756-b02f-cf9716810d0c name="Test Tenant"
time=2026-01-10T16:08:41.292-03:00 level=INFO msg="world created" world_id=66fc0d26-2231-4da3-87d4-31fd2a766b35 name="Test World" tenant_id=9c1b66a6-01a3-4756-b02f-cf9716810d0c
time=2026-01-10T16:08:41.294-03:00 level=INFO msg="artifact created" artifact_id=21419439-5d06-4f15-89d3-6ca75c709bdb name="Get Test Artifact"
=== RUN   TestArtifactHandler_Get/existing_artifact
=== RUN   TestArtifactHandler_Get/non-existing_artifact
time=2026-01-10T16:08:41.294-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 00000000-0000-0000-0000-000000000000" artifact_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArtifactHandler_Get (0.19s)
    --- PASS: TestArtifactHandler_Get/existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Get/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_List
time=2026-01-10T16:08:41.490-03:00 level=INFO msg="tenant created" tenant_id=f2f5850f-6efe-49bc-9cb5-cbdd155ff175 name="Test Tenant"
time=2026-01-10T16:08:41.491-03:00 level=INFO msg="world created" world_id=e15e69d4-93c0-4f23-a7fd-c44184e053e2 name="Test World" tenant_id=f2f5850f-6efe-49bc-9cb5-cbdd155ff175
time=2026-01-10T16:08:41.492-03:00 level=INFO msg="artifact created" artifact_id=386fa6ae-2797-4421-bc89-b86b18a8bd92 name="Artifact 1"
time=2026-01-10T16:08:41.493-03:00 level=INFO msg="artifact created" artifact_id=1c377ec2-4b11-4e49-aaf8-bdf681696ae2 name="Artifact 2"
time=2026-01-10T16:08:41.493-03:00 level=INFO msg="artifact created" artifact_id=7343f6eb-d88c-44eb-bf10-56cc233c8d72 name="Artifact 3"
=== RUN   TestArtifactHandler_List/list_artifacts
--- PASS: TestArtifactHandler_List (0.20s)
    --- PASS: TestArtifactHandler_List/list_artifacts (0.00s)
=== RUN   TestArtifactHandler_Update
time=2026-01-10T16:08:41.651-03:00 level=INFO msg="tenant created" tenant_id=c4b30fe6-662b-47b1-8eec-ef5edb94c1c8 name="Test Tenant"
time=2026-01-10T16:08:41.652-03:00 level=INFO msg="world created" world_id=0f2f0bba-5dcb-4f3f-bc64-190bf0415382 name="Test World" tenant_id=c4b30fe6-662b-47b1-8eec-ef5edb94c1c8
time=2026-01-10T16:08:41.653-03:00 level=INFO msg="artifact created" artifact_id=704d4a0c-8f6b-4f5d-871d-2d9de6dac6f4 name="Original Artifact"
=== RUN   TestArtifactHandler_Update/update_artifact_name
time=2026-01-10T16:08:41.654-03:00 level=INFO msg="artifact updated" artifact_id=704d4a0c-8f6b-4f5d-871d-2d9de6dac6f4 name="Updated Artifact"
=== RUN   TestArtifactHandler_Update/non-existing_artifact
--- PASS: TestArtifactHandler_Update (0.16s)
    --- PASS: TestArtifactHandler_Update/update_artifact_name (0.00s)
    --- PASS: TestArtifactHandler_Update/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_Delete
time=2026-01-10T16:08:41.817-03:00 level=INFO msg="tenant created" tenant_id=13bf3841-84d6-40c7-8c19-4cf5563cc724 name="Test Tenant"
time=2026-01-10T16:08:41.819-03:00 level=INFO msg="world created" world_id=ca8acecb-44a2-4068-b668-c06567f7a38a name="Test World" tenant_id=13bf3841-84d6-40c7-8c19-4cf5563cc724
time=2026-01-10T16:08:41.821-03:00 level=INFO msg="artifact created" artifact_id=c3605022-8700-4442-8c4c-d1ba48892323 name="Artifact to Delete"
=== RUN   TestArtifactHandler_Delete/delete_existing_artifact
time=2026-01-10T16:08:41.825-03:00 level=INFO msg="artifact deleted" artifact_id=c3605022-8700-4442-8c4c-d1ba48892323 name="Artifact to Delete"
time=2026-01-10T16:08:41.825-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: c3605022-8700-4442-8c4c-d1ba48892323" artifact_id=c3605022-8700-4442-8c4c-d1ba48892323
=== RUN   TestArtifactHandler_Delete/delete_non-existing_artifact
--- PASS: TestArtifactHandler_Delete (0.17s)
    --- PASS: TestArtifactHandler_Delete/delete_existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Delete/delete_non-existing_artifact (0.00s)
=== RUN   TestArtifactRPGStatsHandler_Create
time=2026-01-10T16:08:42.006-03:00 level=INFO msg="tenant created" tenant_id=c76c8de6-e183-4a8c-95f1-5277d9042eef name="Test Tenant"
time=2026-01-10T16:08:42.008-03:00 level=INFO msg="world created" world_id=0de0126d-86f7-4e99-94ff-ea41e87f1475 name="Test World" tenant_id=c76c8de6-e183-4a8c-95f1-5277d9042eef
time=2026-01-10T16:08:42.009-03:00 level=INFO msg="artifact created" artifact_id=5fe9ab06-9a6f-46f2-8498-49047b0d649e name="Test Artifact"
=== RUN   TestArtifactRPGStatsHandler_Create/successful_creation
time=2026-01-10T16:08:42.020-03:00 level=INFO msg="artifact RPG stats created" artifact_id=5fe9ab06-9a6f-46f2-8498-49047b0d649e version=1
=== RUN   TestArtifactRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestArtifactRPGStatsHandler_Create (0.19s)
    --- PASS: TestArtifactRPGStatsHandler_Create/successful_creation (0.01s)
    --- PASS: TestArtifactRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestArtifactRPGStatsHandler_GetActive
time=2026-01-10T16:08:42.222-03:00 level=INFO msg="tenant created" tenant_id=aa5afaf4-3cdb-4a7c-9c7c-801d2b5a266e name="Test Tenant"
time=2026-01-10T16:08:42.225-03:00 level=INFO msg="world created" world_id=881e1fdb-1b9e-4392-80e9-609657e8746a name="Test World" tenant_id=aa5afaf4-3cdb-4a7c-9c7c-801d2b5a266e
time=2026-01-10T16:08:42.231-03:00 level=INFO msg="artifact created" artifact_id=de722ea2-13e8-4bb9-8016-00d29bee5499 name="Test Artifact"
time=2026-01-10T16:08:42.233-03:00 level=INFO msg="artifact RPG stats created" artifact_id=de722ea2-13e8-4bb9-8016-00d29bee5499 version=1
=== RUN   TestArtifactRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestArtifactRPGStatsHandler_GetActive (0.22s)
    --- PASS: TestArtifactRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestBeatHandler_Create
time=2026-01-10T16:08:42.409-03:00 level=INFO msg="tenant created" tenant_id=f0159423-5d9e-458e-9bb1-e6a8af9763f9 name="Test Tenant"
time=2026-01-10T16:08:42.411-03:00 level=INFO msg="world created" world_id=7987a06d-bb95-44d5-a25b-ed6865d59d55 name="World of Test Story" tenant_id=f0159423-5d9e-458e-9bb1-e6a8af9763f9
time=2026-01-10T16:08:42.411-03:00 level=INFO msg="created implicit world for story" world_id=7987a06d-bb95-44d5-a25b-ed6865d59d55 story_title="Test Story"
time=2026-01-10T16:08:42.414-03:00 level=INFO msg="story created" story_id=6aa05532-c209-4e28-bebc-0dfcee55ae2b title="Test Story" tenant_id=f0159423-5d9e-458e-9bb1-e6a8af9763f9
time=2026-01-10T16:08:42.416-03:00 level=INFO msg="scene created" scene_id=8b179c34-1add-42ab-8a68-33833aa9b6d2 story_id=6aa05532-c209-4e28-bebc-0dfcee55ae2b tenant_id=f0159423-5d9e-458e-9bb1-e6a8af9763f9
=== RUN   TestBeatHandler_Create/successful_creation
time=2026-01-10T16:08:42.422-03:00 level=INFO msg="beat created" beat_id=c6fcac49-07bc-4bb3-ba12-19252ca18a42 scene_id=8b179c34-1add-42ab-8a68-33833aa9b6d2 tenant_id=f0159423-5d9e-458e-9bb1-e6a8af9763f9
=== RUN   TestBeatHandler_Create/missing_tenant_id
--- PASS: TestBeatHandler_Create (0.18s)
    --- PASS: TestBeatHandler_Create/successful_creation (0.01s)
    --- PASS: TestBeatHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestBeatHandler_Get
time=2026-01-10T16:08:42.589-03:00 level=INFO msg="tenant created" tenant_id=cd7916fe-2aab-4a1b-bdea-d3b745693312 name="Test Tenant"
time=2026-01-10T16:08:42.591-03:00 level=INFO msg="world created" world_id=3ebf2383-29df-467a-9da6-bff16e8bd00c name="World of Test Story" tenant_id=cd7916fe-2aab-4a1b-bdea-d3b745693312
time=2026-01-10T16:08:42.591-03:00 level=INFO msg="created implicit world for story" world_id=3ebf2383-29df-467a-9da6-bff16e8bd00c story_title="Test Story"
time=2026-01-10T16:08:42.592-03:00 level=INFO msg="story created" story_id=750c941b-6706-4095-8ac2-30b9e2c63c7f title="Test Story" tenant_id=cd7916fe-2aab-4a1b-bdea-d3b745693312
time=2026-01-10T16:08:42.597-03:00 level=INFO msg="scene created" scene_id=dc7a0bcf-455d-4236-a6a6-2ad5cf884440 story_id=750c941b-6706-4095-8ac2-30b9e2c63c7f tenant_id=cd7916fe-2aab-4a1b-bdea-d3b745693312
time=2026-01-10T16:08:42.598-03:00 level=INFO msg="beat created" beat_id=a4c7e2bd-3ccc-4303-8c16-45c3659100a8 scene_id=dc7a0bcf-455d-4236-a6a6-2ad5cf884440 tenant_id=cd7916fe-2aab-4a1b-bdea-d3b745693312
=== RUN   TestBeatHandler_Get/existing_beat
=== RUN   TestBeatHandler_Get/non-existing_beat
time=2026-01-10T16:08:42.599-03:00 level=ERROR msg="failed to get beat" error="beat not found: 00000000-0000-0000-0000-000000000000" beat_id=00000000-0000-0000-0000-000000000000 tenant_id=cd7916fe-2aab-4a1b-bdea-d3b745693312
--- PASS: TestBeatHandler_Get (0.18s)
    --- PASS: TestBeatHandler_Get/existing_beat (0.00s)
    --- PASS: TestBeatHandler_Get/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_List
time=2026-01-10T16:08:42.762-03:00 level=INFO msg="tenant created" tenant_id=82c14224-1302-4446-bc7c-db8492607031 name="Test Tenant"
time=2026-01-10T16:08:42.764-03:00 level=INFO msg="world created" world_id=1d6c603d-d182-4e8d-ae0e-a015b82a308f name="World of Test Story" tenant_id=82c14224-1302-4446-bc7c-db8492607031
time=2026-01-10T16:08:42.764-03:00 level=INFO msg="created implicit world for story" world_id=1d6c603d-d182-4e8d-ae0e-a015b82a308f story_title="Test Story"
time=2026-01-10T16:08:42.765-03:00 level=INFO msg="story created" story_id=75f179dc-0a22-4030-9e19-0296722b7250 title="Test Story" tenant_id=82c14224-1302-4446-bc7c-db8492607031
time=2026-01-10T16:08:42.766-03:00 level=INFO msg="scene created" scene_id=57688c80-f2b8-4091-afec-b0c204c420ec story_id=75f179dc-0a22-4030-9e19-0296722b7250 tenant_id=82c14224-1302-4446-bc7c-db8492607031
time=2026-01-10T16:08:42.767-03:00 level=INFO msg="beat created" beat_id=eb51d052-f2a3-4c2a-8ca9-4897f2224cee scene_id=57688c80-f2b8-4091-afec-b0c204c420ec tenant_id=82c14224-1302-4446-bc7c-db8492607031
time=2026-01-10T16:08:42.768-03:00 level=INFO msg="beat created" beat_id=89b9af4b-7645-4253-8e46-307c7208f683 scene_id=57688c80-f2b8-4091-afec-b0c204c420ec tenant_id=82c14224-1302-4446-bc7c-db8492607031
time=2026-01-10T16:08:42.769-03:00 level=INFO msg="beat created" beat_id=7afe75bc-905e-46a1-9e75-3f415641bc8d scene_id=57688c80-f2b8-4091-afec-b0c204c420ec tenant_id=82c14224-1302-4446-bc7c-db8492607031
=== RUN   TestBeatHandler_List/list_beats
--- PASS: TestBeatHandler_List (0.17s)
    --- PASS: TestBeatHandler_List/list_beats (0.00s)
=== RUN   TestBeatHandler_Update
time=2026-01-10T16:08:42.925-03:00 level=INFO msg="tenant created" tenant_id=cac9609d-56e4-4df1-8af5-b08690cbeb19 name="Test Tenant"
time=2026-01-10T16:08:42.927-03:00 level=INFO msg="world created" world_id=9be70b6e-b3e6-4a12-9b9d-f762d7efa2a9 name="World of Test Story" tenant_id=cac9609d-56e4-4df1-8af5-b08690cbeb19
time=2026-01-10T16:08:42.927-03:00 level=INFO msg="created implicit world for story" world_id=9be70b6e-b3e6-4a12-9b9d-f762d7efa2a9 story_title="Test Story"
time=2026-01-10T16:08:42.929-03:00 level=INFO msg="story created" story_id=34d2cdf2-c1b0-4b67-8a35-137560ca867e title="Test Story" tenant_id=cac9609d-56e4-4df1-8af5-b08690cbeb19
time=2026-01-10T16:08:42.930-03:00 level=INFO msg="scene created" scene_id=0841500c-30b3-46b3-b57b-7a32ab69bd4a story_id=34d2cdf2-c1b0-4b67-8a35-137560ca867e tenant_id=cac9609d-56e4-4df1-8af5-b08690cbeb19
time=2026-01-10T16:08:42.931-03:00 level=INFO msg="beat created" beat_id=c935d99b-c991-4bad-ab0f-0d154a9b00b4 scene_id=0841500c-30b3-46b3-b57b-7a32ab69bd4a tenant_id=cac9609d-56e4-4df1-8af5-b08690cbeb19
=== RUN   TestBeatHandler_Update/update_beat_intent
time=2026-01-10T16:08:42.933-03:00 level=INFO msg="beat updated" beat_id=c935d99b-c991-4bad-ab0f-0d154a9b00b4 tenant_id=cac9609d-56e4-4df1-8af5-b08690cbeb19
=== RUN   TestBeatHandler_Update/non-existing_beat
--- PASS: TestBeatHandler_Update (0.16s)
    --- PASS: TestBeatHandler_Update/update_beat_intent (0.00s)
    --- PASS: TestBeatHandler_Update/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_Delete
time=2026-01-10T16:08:43.097-03:00 level=INFO msg="tenant created" tenant_id=6695ed97-60c3-453e-8e88-f2c1d4158090 name="Test Tenant"
time=2026-01-10T16:08:43.099-03:00 level=INFO msg="world created" world_id=809bbe1f-b74f-4ccd-a476-ae0fdafd47f1 name="World of Test Story" tenant_id=6695ed97-60c3-453e-8e88-f2c1d4158090
time=2026-01-10T16:08:43.099-03:00 level=INFO msg="created implicit world for story" world_id=809bbe1f-b74f-4ccd-a476-ae0fdafd47f1 story_title="Test Story"
time=2026-01-10T16:08:43.100-03:00 level=INFO msg="story created" story_id=e13acafa-f4fb-44ba-8647-f59053bbe5cb title="Test Story" tenant_id=6695ed97-60c3-453e-8e88-f2c1d4158090
time=2026-01-10T16:08:43.108-03:00 level=INFO msg="scene created" scene_id=5ac66a6f-ba56-4a15-be6a-3823216924e7 story_id=e13acafa-f4fb-44ba-8647-f59053bbe5cb tenant_id=6695ed97-60c3-453e-8e88-f2c1d4158090
time=2026-01-10T16:08:43.110-03:00 level=INFO msg="beat created" beat_id=edf017f8-3e55-4473-9777-bb952516f422 scene_id=5ac66a6f-ba56-4a15-be6a-3823216924e7 tenant_id=6695ed97-60c3-453e-8e88-f2c1d4158090
=== RUN   TestBeatHandler_Delete/delete_existing_beat
time=2026-01-10T16:08:43.111-03:00 level=INFO msg="beat deleted" beat_id=edf017f8-3e55-4473-9777-bb952516f422 tenant_id=6695ed97-60c3-453e-8e88-f2c1d4158090
time=2026-01-10T16:08:43.112-03:00 level=ERROR msg="failed to get beat" error="beat not found: edf017f8-3e55-4473-9777-bb952516f422" beat_id=edf017f8-3e55-4473-9777-bb952516f422 tenant_id=6695ed97-60c3-453e-8e88-f2c1d4158090
=== RUN   TestBeatHandler_Delete/delete_non-existing_beat
--- PASS: TestBeatHandler_Delete (0.18s)
    --- PASS: TestBeatHandler_Delete/delete_existing_beat (0.00s)
    --- PASS: TestBeatHandler_Delete/delete_non-existing_beat (0.00s)
=== RUN   TestChapterHandler_Create
time=2026-01-10T16:08:43.287-03:00 level=INFO msg="tenant created" tenant_id=7d73efb1-5e03-4442-8c68-6bd2aada2f9f name="Test Tenant"
time=2026-01-10T16:08:43.288-03:00 level=INFO msg="world created" world_id=0c953a4b-d88b-420d-b456-c35683e9e425 name="World of Test Story" tenant_id=7d73efb1-5e03-4442-8c68-6bd2aada2f9f
time=2026-01-10T16:08:43.288-03:00 level=INFO msg="created implicit world for story" world_id=0c953a4b-d88b-420d-b456-c35683e9e425 story_title="Test Story"
time=2026-01-10T16:08:43.289-03:00 level=INFO msg="story created" story_id=a40cf4bc-713f-4278-9974-29f624b9fbfd title="Test Story" tenant_id=7d73efb1-5e03-4442-8c68-6bd2aada2f9f
=== RUN   TestChapterHandler_Create/successful_creation
time=2026-01-10T16:08:43.290-03:00 level=INFO msg="chapter created" chapter_id=d16c9759-1eed-45f6-8b24-31efa4ff32a8 story_id=a40cf4bc-713f-4278-9974-29f624b9fbfd tenant_id=7d73efb1-5e03-4442-8c68-6bd2aada2f9f
=== RUN   TestChapterHandler_Create/missing_tenant_id
--- PASS: TestChapterHandler_Create (0.18s)
    --- PASS: TestChapterHandler_Create/successful_creation (0.00s)
    --- PASS: TestChapterHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestChapterHandler_Get
time=2026-01-10T16:08:43.465-03:00 level=INFO msg="tenant created" tenant_id=dca0ea48-b4d9-4266-97b5-8efbc864d2bc name="Test Tenant"
time=2026-01-10T16:08:43.466-03:00 level=INFO msg="world created" world_id=023a37da-fba8-450f-add1-5914e8d683f1 name="World of Test Story" tenant_id=dca0ea48-b4d9-4266-97b5-8efbc864d2bc
time=2026-01-10T16:08:43.466-03:00 level=INFO msg="created implicit world for story" world_id=023a37da-fba8-450f-add1-5914e8d683f1 story_title="Test Story"
time=2026-01-10T16:08:43.467-03:00 level=INFO msg="story created" story_id=5b062a02-bb85-4155-9254-5703d4cc08e5 title="Test Story" tenant_id=dca0ea48-b4d9-4266-97b5-8efbc864d2bc
time=2026-01-10T16:08:43.469-03:00 level=INFO msg="chapter created" chapter_id=80ec121f-6ffb-4f9e-a085-39c71208cbd9 story_id=5b062a02-bb85-4155-9254-5703d4cc08e5 tenant_id=dca0ea48-b4d9-4266-97b5-8efbc864d2bc
=== RUN   TestChapterHandler_Get/existing_chapter
=== RUN   TestChapterHandler_Get/non-existing_chapter
time=2026-01-10T16:08:43.469-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 00000000-0000-0000-0000-000000000000" chapter_id=00000000-0000-0000-0000-000000000000 tenant_id=dca0ea48-b4d9-4266-97b5-8efbc864d2bc
--- PASS: TestChapterHandler_Get (0.18s)
    --- PASS: TestChapterHandler_Get/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Get/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_List
time=2026-01-10T16:08:43.816-03:00 level=INFO msg="tenant created" tenant_id=628b9541-7904-4dca-aa4f-0c3230225584 name="Test Tenant"
time=2026-01-10T16:08:43.823-03:00 level=INFO msg="world created" world_id=782e38ec-4451-4c5f-8290-4250e625239e name="World of Test Story" tenant_id=628b9541-7904-4dca-aa4f-0c3230225584
time=2026-01-10T16:08:43.824-03:00 level=INFO msg="created implicit world for story" world_id=782e38ec-4451-4c5f-8290-4250e625239e story_title="Test Story"
time=2026-01-10T16:08:43.825-03:00 level=INFO msg="story created" story_id=086305ee-4686-4df4-8c4e-6454dec0ea9c title="Test Story" tenant_id=628b9541-7904-4dca-aa4f-0c3230225584
time=2026-01-10T16:08:43.826-03:00 level=INFO msg="chapter created" chapter_id=187cd89f-40b9-4c8d-b266-62fe075b6d0d story_id=086305ee-4686-4df4-8c4e-6454dec0ea9c tenant_id=628b9541-7904-4dca-aa4f-0c3230225584
time=2026-01-10T16:08:43.827-03:00 level=INFO msg="chapter created" chapter_id=94fedc5a-285d-429f-a0af-70e37c70cb36 story_id=086305ee-4686-4df4-8c4e-6454dec0ea9c tenant_id=628b9541-7904-4dca-aa4f-0c3230225584
time=2026-01-10T16:08:43.828-03:00 level=INFO msg="chapter created" chapter_id=d43279e9-f12c-47ac-9368-b4556ed73b8a story_id=086305ee-4686-4df4-8c4e-6454dec0ea9c tenant_id=628b9541-7904-4dca-aa4f-0c3230225584
=== RUN   TestChapterHandler_List/list_chapters
--- PASS: TestChapterHandler_List (0.37s)
    --- PASS: TestChapterHandler_List/list_chapters (0.00s)
=== RUN   TestChapterHandler_Update
time=2026-01-10T16:08:44.042-03:00 level=INFO msg="tenant created" tenant_id=6434c065-2d51-4fb5-ae76-2eec1c12b9d9 name="Test Tenant"
time=2026-01-10T16:08:44.044-03:00 level=INFO msg="world created" world_id=546bc0d4-42a1-46ea-9be8-20fface386f5 name="World of Test Story" tenant_id=6434c065-2d51-4fb5-ae76-2eec1c12b9d9
time=2026-01-10T16:08:44.044-03:00 level=INFO msg="created implicit world for story" world_id=546bc0d4-42a1-46ea-9be8-20fface386f5 story_title="Test Story"
time=2026-01-10T16:08:44.045-03:00 level=INFO msg="story created" story_id=ef6ccaef-6449-477e-b8b3-42d7df3886e4 title="Test Story" tenant_id=6434c065-2d51-4fb5-ae76-2eec1c12b9d9
time=2026-01-10T16:08:44.047-03:00 level=INFO msg="chapter created" chapter_id=3bf011d6-4339-4f5b-9a59-41ea373054e2 story_id=ef6ccaef-6449-477e-b8b3-42d7df3886e4 tenant_id=6434c065-2d51-4fb5-ae76-2eec1c12b9d9
=== RUN   TestChapterHandler_Update/update_chapter_title
time=2026-01-10T16:08:44.048-03:00 level=INFO msg="chapter updated" chapter_id=3bf011d6-4339-4f5b-9a59-41ea373054e2 tenant_id=6434c065-2d51-4fb5-ae76-2eec1c12b9d9
=== RUN   TestChapterHandler_Update/non-existing_chapter
--- PASS: TestChapterHandler_Update (0.21s)
    --- PASS: TestChapterHandler_Update/update_chapter_title (0.00s)
    --- PASS: TestChapterHandler_Update/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_Delete
time=2026-01-10T16:08:44.239-03:00 level=INFO msg="tenant created" tenant_id=c872930a-a3a8-4227-9c03-6e84bd92a728 name="Test Tenant"
time=2026-01-10T16:08:44.240-03:00 level=INFO msg="world created" world_id=d660347c-74f7-4fba-a249-cf6bb14ff492 name="World of Test Story" tenant_id=c872930a-a3a8-4227-9c03-6e84bd92a728
time=2026-01-10T16:08:44.240-03:00 level=INFO msg="created implicit world for story" world_id=d660347c-74f7-4fba-a249-cf6bb14ff492 story_title="Test Story"
time=2026-01-10T16:08:44.241-03:00 level=INFO msg="story created" story_id=5083cf2c-32a7-4a46-b1e9-146afdb07093 title="Test Story" tenant_id=c872930a-a3a8-4227-9c03-6e84bd92a728
time=2026-01-10T16:08:44.242-03:00 level=INFO msg="chapter created" chapter_id=6dce5435-ec65-4a2d-bcb4-9eba25e18398 story_id=5083cf2c-32a7-4a46-b1e9-146afdb07093 tenant_id=c872930a-a3a8-4227-9c03-6e84bd92a728
=== RUN   TestChapterHandler_Delete/delete_existing_chapter
time=2026-01-10T16:08:44.246-03:00 level=INFO msg="chapter deleted" chapter_id=6dce5435-ec65-4a2d-bcb4-9eba25e18398 tenant_id=c872930a-a3a8-4227-9c03-6e84bd92a728
time=2026-01-10T16:08:44.246-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 6dce5435-ec65-4a2d-bcb4-9eba25e18398" chapter_id=6dce5435-ec65-4a2d-bcb4-9eba25e18398 tenant_id=c872930a-a3a8-4227-9c03-6e84bd92a728
=== RUN   TestChapterHandler_Delete/delete_non-existing_chapter
--- PASS: TestChapterHandler_Delete (0.20s)
    --- PASS: TestChapterHandler_Delete/delete_existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Delete/delete_non-existing_chapter (0.00s)
=== RUN   TestCharacterHandler_Create
time=2026-01-10T16:08:44.407-03:00 level=INFO msg="tenant created" tenant_id=266210e9-24ab-48db-a368-25e5a499f7c0 name="Test Tenant"
time=2026-01-10T16:08:44.409-03:00 level=INFO msg="world created" world_id=fef066d2-ab20-4882-a93e-19c08dfe7bdc name="Test World" tenant_id=266210e9-24ab-48db-a368-25e5a499f7c0
=== RUN   TestCharacterHandler_Create/successful_creation
time=2026-01-10T16:08:44.411-03:00 level=INFO msg="character created" character_id=b7f4a9d7-c4ce-415d-b8ea-b7254293fa78 name="Test Character"
=== RUN   TestCharacterHandler_Create/missing_tenant_id
=== RUN   TestCharacterHandler_Create/empty_name
--- PASS: TestCharacterHandler_Create (0.16s)
    --- PASS: TestCharacterHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestCharacterHandler_Create/empty_name (0.00s)
=== RUN   TestCharacterHandler_Get
time=2026-01-10T16:08:44.583-03:00 level=INFO msg="tenant created" tenant_id=45c56f30-5b9b-4904-ad87-5f18d508493f name="Test Tenant"
time=2026-01-10T16:08:44.586-03:00 level=INFO msg="world created" world_id=50e7caf1-9d3e-4534-87cf-fa8d4f6379ac name="Test World" tenant_id=45c56f30-5b9b-4904-ad87-5f18d508493f
time=2026-01-10T16:08:44.587-03:00 level=INFO msg="character created" character_id=34dc759e-1646-44c2-a1aa-7dec0c90096f name="Get Test Character"
=== RUN   TestCharacterHandler_Get/existing_character
=== RUN   TestCharacterHandler_Get/non-existing_character
time=2026-01-10T16:08:44.588-03:00 level=ERROR msg="failed to get character" error="character not found: 00000000-0000-0000-0000-000000000000" character_id=00000000-0000-0000-0000-000000000000
=== RUN   TestCharacterHandler_Get/invalid_character_ID
--- PASS: TestCharacterHandler_Get (0.17s)
    --- PASS: TestCharacterHandler_Get/existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/non-existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/invalid_character_ID (0.00s)
=== RUN   TestCharacterHandler_List
time=2026-01-10T16:08:44.730-03:00 level=INFO msg="tenant created" tenant_id=82debf5e-4e59-4b31-92d3-bdda9d583e92 name="Test Tenant"
time=2026-01-10T16:08:44.731-03:00 level=INFO msg="world created" world_id=6c759814-2ded-4e1a-8ad9-7601b9b8370d name="Test World" tenant_id=82debf5e-4e59-4b31-92d3-bdda9d583e92
time=2026-01-10T16:08:44.732-03:00 level=INFO msg="character created" character_id=44080978-56f5-482a-ade7-06cc8a7556c8 name="Character 1"
time=2026-01-10T16:08:44.732-03:00 level=INFO msg="character created" character_id=e6800adf-f932-43e4-b704-fc288af4cc97 name="Character 2"
time=2026-01-10T16:08:44.733-03:00 level=INFO msg="character created" character_id=ac75eda1-b28a-4f97-9162-739d1730cadf name="Character 3"
=== RUN   TestCharacterHandler_List/list_characters
=== RUN   TestCharacterHandler_List/missing_tenant_id
--- PASS: TestCharacterHandler_List (0.15s)
    --- PASS: TestCharacterHandler_List/list_characters (0.00s)
    --- PASS: TestCharacterHandler_List/missing_tenant_id (0.00s)
=== RUN   TestCharacterHandler_Update
time=2026-01-10T16:08:44.875-03:00 level=INFO msg="tenant created" tenant_id=7bddd0c4-e81d-42cf-a024-040af1c01fd8 name="Test Tenant"
time=2026-01-10T16:08:44.876-03:00 level=INFO msg="world created" world_id=b950ca60-073a-4d93-ac23-fc68aabd24aa name="Test World" tenant_id=7bddd0c4-e81d-42cf-a024-040af1c01fd8
time=2026-01-10T16:08:44.878-03:00 level=INFO msg="character created" character_id=9100bd83-3565-4257-911b-48fb1336c44d name="Original Character"
=== RUN   TestCharacterHandler_Update/update_character_name
time=2026-01-10T16:08:44.879-03:00 level=INFO msg="character updated" character_id=9100bd83-3565-4257-911b-48fb1336c44d name="Updated Character"
=== RUN   TestCharacterHandler_Update/non-existing_character
--- PASS: TestCharacterHandler_Update (0.15s)
    --- PASS: TestCharacterHandler_Update/update_character_name (0.00s)
    --- PASS: TestCharacterHandler_Update/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_Delete
time=2026-01-10T16:08:45.025-03:00 level=INFO msg="tenant created" tenant_id=306dc2ab-afcf-401d-b72a-e79a34c98d68 name="Test Tenant"
time=2026-01-10T16:08:45.027-03:00 level=INFO msg="world created" world_id=0202d406-f514-4543-bc17-815b71766512 name="Test World" tenant_id=306dc2ab-afcf-401d-b72a-e79a34c98d68
time=2026-01-10T16:08:45.029-03:00 level=INFO msg="character created" character_id=a461a49e-bbf8-4e42-80c1-8d62f193b8ee name="Character to Delete"
=== RUN   TestCharacterHandler_Delete/delete_existing_character
time=2026-01-10T16:08:45.033-03:00 level=INFO msg="character deleted" character_id=a461a49e-bbf8-4e42-80c1-8d62f193b8ee name="Character to Delete"
time=2026-01-10T16:08:45.033-03:00 level=ERROR msg="failed to get character" error="character not found: a461a49e-bbf8-4e42-80c1-8d62f193b8ee" character_id=a461a49e-bbf8-4e42-80c1-8d62f193b8ee
=== RUN   TestCharacterHandler_Delete/delete_non-existing_character
--- PASS: TestCharacterHandler_Delete (0.15s)
    --- PASS: TestCharacterHandler_Delete/delete_existing_character (0.00s)
    --- PASS: TestCharacterHandler_Delete/delete_non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListRelationships
time=2026-01-10T16:08:45.190-03:00 level=INFO msg="tenant created" tenant_id=ba4d89f7-fd23-4c4a-8c52-461c5fa2f14b name="Test Tenant"
time=2026-01-10T16:08:45.191-03:00 level=INFO msg="world created" world_id=57d0204a-0175-4f02-b296-f6b3805a1bf5 name="Test World" tenant_id=ba4d89f7-fd23-4c4a-8c52-461c5fa2f14b
time=2026-01-10T16:08:45.193-03:00 level=INFO msg="character created" character_id=35791d85-b629-4809-9688-9f07eb548fc4 name="Character 1"
time=2026-01-10T16:08:45.194-03:00 level=INFO msg="character created" character_id=19df749f-f62d-469f-88a9-ef120c6d81d7 name="Character 2"
time=2026-01-10T16:08:45.199-03:00 level=INFO msg="relation created" relation_id=72824830-c644-418e-9a0a-2f59face4816 source_id=35791d85-b629-4809-9688-9f07eb548fc4 target_id=19df749f-f62d-469f-88a9-ef120c6d81d7
=== RUN   TestCharacterHandler_ListRelationships/list_relationships
=== RUN   TestCharacterHandler_ListRelationships/list_relationships_for_character_with_no_relationships
--- PASS: TestCharacterHandler_ListRelationships (0.17s)
    --- PASS: TestCharacterHandler_ListRelationships/list_relationships (0.00s)
    --- PASS: TestCharacterHandler_ListRelationships/list_relationships_for_character_with_no_relationships (0.00s)
=== RUN   TestCharacterHandler_CreateRelationship
time=2026-01-10T16:08:45.400-03:00 level=INFO msg="tenant created" tenant_id=dcfb0532-040d-4501-89a6-8db070f59001 name="Test Tenant"
time=2026-01-10T16:08:45.402-03:00 level=INFO msg="world created" world_id=cf4a6323-3e16-471f-9f34-0693941884cd name="Test World" tenant_id=dcfb0532-040d-4501-89a6-8db070f59001
time=2026-01-10T16:08:45.404-03:00 level=INFO msg="character created" character_id=5b4c90fc-72d6-429f-a85d-b2a7c37c730f name="Character 1"
time=2026-01-10T16:08:45.405-03:00 level=INFO msg="character created" character_id=9fe5f626-db80-4408-ae3d-042f809ef99b name="Character 2"
=== RUN   TestCharacterHandler_CreateRelationship/create_relationship
time=2026-01-10T16:08:45.406-03:00 level=INFO msg="relation created" relation_id=3aa0c7af-a658-4183-81ae-5a2d73029103 source_id=5b4c90fc-72d6-429f-a85d-b2a7c37c730f target_id=9fe5f626-db80-4408-ae3d-042f809ef99b
=== RUN   TestCharacterHandler_CreateRelationship/create_relationship_with_self
=== RUN   TestCharacterHandler_CreateRelationship/create_relationship_missing_relationship_type
--- PASS: TestCharacterHandler_CreateRelationship (0.21s)
    --- PASS: TestCharacterHandler_CreateRelationship/create_relationship (0.00s)
    --- PASS: TestCharacterHandler_CreateRelationship/create_relationship_with_self (0.00s)
    --- PASS: TestCharacterHandler_CreateRelationship/create_relationship_missing_relationship_type (0.00s)
=== RUN   TestCharacterRPGStatsHandler_Create
time=2026-01-10T16:08:45.586-03:00 level=INFO msg="tenant created" tenant_id=aed912c1-d747-43bc-bbcb-e32aa61159c0 name="Test Tenant"
time=2026-01-10T16:08:45.588-03:00 level=INFO msg="world created" world_id=58649e22-c2db-4c44-86d7-e4bb4499e16e name="Test World" tenant_id=aed912c1-d747-43bc-bbcb-e32aa61159c0
time=2026-01-10T16:08:45.589-03:00 level=INFO msg="character created" character_id=0370f51e-4536-4b84-8c36-e1b3ee74db33 name="Test Character"
=== RUN   TestCharacterRPGStatsHandler_Create/successful_creation
time=2026-01-10T16:08:45.591-03:00 level=INFO msg="character RPG stats created" character_id=0370f51e-4536-4b84-8c36-e1b3ee74db33 version=1
=== RUN   TestCharacterRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestCharacterRPGStatsHandler_Create (0.19s)
    --- PASS: TestCharacterRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestCharacterRPGStatsHandler_GetActive
time=2026-01-10T16:08:45.780-03:00 level=INFO msg="tenant created" tenant_id=e8e336be-4c34-4594-b85f-4b46f30224da name="Test Tenant"
time=2026-01-10T16:08:45.781-03:00 level=INFO msg="world created" world_id=3baff7d6-9e30-49c9-8dde-c96cdb5a63db name="Test World" tenant_id=e8e336be-4c34-4594-b85f-4b46f30224da
time=2026-01-10T16:08:45.783-03:00 level=INFO msg="character created" character_id=da4f55c5-d6e3-4a7f-a909-3ab7c49cae08 name="Test Character"
time=2026-01-10T16:08:45.786-03:00 level=INFO msg="character RPG stats created" character_id=da4f55c5-d6e3-4a7f-a909-3ab7c49cae08 version=1
=== RUN   TestCharacterRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestCharacterRPGStatsHandler_GetActive (0.19s)
    --- PASS: TestCharacterRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestCharacterSkillHandler_Learn
time=2026-01-10T16:08:45.981-03:00 level=INFO msg="tenant created" tenant_id=5c6728a8-3348-4ad3-ab1c-6574d3035fd5 name="Test Tenant"
time=2026-01-10T16:08:45.982-03:00 level=INFO msg="world created" world_id=1bc1672d-3222-4d48-b348-ca34fde62058 name="Test World" tenant_id=5c6728a8-3348-4ad3-ab1c-6574d3035fd5
time=2026-01-10T16:08:45.984-03:00 level=INFO msg="character created" character_id=fae6977e-9df7-437f-b14c-779b1792f570 name="Test Character"
time=2026-01-10T16:08:45.985-03:00 level=INFO msg="RPG system created" rpg_system_id=97e21800-d254-4cdf-9c04-5e88d01ac536 name="Test RPG System"
time=2026-01-10T16:08:45.987-03:00 level=INFO msg="skill created" skill_id=fbd7cbf2-db90-4cdd-af68-622855afe108 name="Test Skill"
=== RUN   TestCharacterSkillHandler_Learn/successful_learning
time=2026-01-10T16:08:45.989-03:00 level=INFO msg="character learned skill" character_id=fae6977e-9df7-437f-b14c-779b1792f570 skill_id=fbd7cbf2-db90-4cdd-af68-622855afe108
=== RUN   TestCharacterSkillHandler_Learn/missing_tenant_id
--- PASS: TestCharacterSkillHandler_Learn (0.20s)
    --- PASS: TestCharacterSkillHandler_Learn/successful_learning (0.00s)
    --- PASS: TestCharacterSkillHandler_Learn/missing_tenant_id (0.00s)
=== RUN   TestCharacterSkillHandler_List
time=2026-01-10T16:08:46.205-03:00 level=INFO msg="tenant created" tenant_id=3c54efe9-89a5-4484-9aa7-16bf0ac4dca8 name="Test Tenant"
time=2026-01-10T16:08:46.206-03:00 level=INFO msg="world created" world_id=d9cfe312-83c4-4b1a-abf0-688f0d648f14 name="Test World" tenant_id=3c54efe9-89a5-4484-9aa7-16bf0ac4dca8
time=2026-01-10T16:08:46.207-03:00 level=INFO msg="character created" character_id=dc0ba71c-0808-4002-b928-85d670afeae4 name="Test Character"
=== RUN   TestCharacterSkillHandler_List/list_skills
--- PASS: TestCharacterSkillHandler_List (0.22s)
    --- PASS: TestCharacterSkillHandler_List/list_skills (0.00s)
=== RUN   TestContentAnchorHandler_Create
time=2026-01-10T16:08:46.397-03:00 level=INFO msg="tenant created" tenant_id=9257a87b-d163-4d48-8ed3-8c616c674f64 name="Test Tenant"
time=2026-01-10T16:08:46.399-03:00 level=INFO msg="world created" world_id=6f65d6d3-f4d9-49b7-b961-41ff0abb116d name="World of Test Story" tenant_id=9257a87b-d163-4d48-8ed3-8c616c674f64
time=2026-01-10T16:08:46.399-03:00 level=INFO msg="created implicit world for story" world_id=6f65d6d3-f4d9-49b7-b961-41ff0abb116d story_title="Test Story"
time=2026-01-10T16:08:46.400-03:00 level=INFO msg="story created" story_id=77bf225c-5f0a-4c4d-b58c-a1c1c7bfa2b8 title="Test Story" tenant_id=9257a87b-d163-4d48-8ed3-8c616c674f64
time=2026-01-10T16:08:46.401-03:00 level=INFO msg="chapter created" chapter_id=b2bb60b3-db43-4e43-b8d7-b67031f7388a story_id=77bf225c-5f0a-4c4d-b58c-a1c1c7bfa2b8 tenant_id=9257a87b-d163-4d48-8ed3-8c616c674f64
time=2026-01-10T16:08:46.403-03:00 level=INFO msg="content block created" content_block_id=51d2ad1d-f718-42a5-bf95-c635713872bc tenant_id=9257a87b-d163-4d48-8ed3-8c616c674f64
=== RUN   TestContentAnchorHandler_Create/successful_creation
time=2026-01-10T16:08:46.404-03:00 level=INFO msg="world created" world_id=b48f41e9-8e14-4c64-8181-a5a4488ff6dd name="Test World" tenant_id=9257a87b-d163-4d48-8ed3-8c616c674f64
time=2026-01-10T16:08:46.405-03:00 level=INFO msg="character created" character_id=be0aa057-66fa-4132-af57-4060098bb888 name="Test Character"
time=2026-01-10T16:08:46.407-03:00 level=INFO msg="content anchor created" anchor_id=1acb87c5-8c73-47bb-85f3-468d508995ce content_block_id=51d2ad1d-f718-42a5-bf95-c635713872bc tenant_id=9257a87b-d163-4d48-8ed3-8c616c674f64
=== RUN   TestContentAnchorHandler_Create/missing_tenant_id
--- PASS: TestContentAnchorHandler_Create (0.20s)
    --- PASS: TestContentAnchorHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentAnchorHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentAnchorHandler_ListByContentBlock
time=2026-01-10T16:08:46.593-03:00 level=INFO msg="tenant created" tenant_id=41b779fa-5ac2-4e91-b289-28c27130acda name="Test Tenant"
time=2026-01-10T16:08:46.595-03:00 level=INFO msg="world created" world_id=ad023513-7a5c-4dba-82a6-8a48bc725478 name="World of Test Story" tenant_id=41b779fa-5ac2-4e91-b289-28c27130acda
time=2026-01-10T16:08:46.595-03:00 level=INFO msg="created implicit world for story" world_id=ad023513-7a5c-4dba-82a6-8a48bc725478 story_title="Test Story"
time=2026-01-10T16:08:46.597-03:00 level=INFO msg="story created" story_id=9e05a642-2dbd-4999-ad27-9faf366eab44 title="Test Story" tenant_id=41b779fa-5ac2-4e91-b289-28c27130acda
time=2026-01-10T16:08:46.598-03:00 level=INFO msg="chapter created" chapter_id=83d5b975-6d05-4baf-a6c7-4bce9f31a0ae story_id=9e05a642-2dbd-4999-ad27-9faf366eab44 tenant_id=41b779fa-5ac2-4e91-b289-28c27130acda
time=2026-01-10T16:08:46.599-03:00 level=INFO msg="content block created" content_block_id=ddd21b03-eaf9-43f8-8524-32ef0230310c tenant_id=41b779fa-5ac2-4e91-b289-28c27130acda
=== RUN   TestContentAnchorHandler_ListByContentBlock/list_anchors
--- PASS: TestContentAnchorHandler_ListByContentBlock (0.20s)
    --- PASS: TestContentAnchorHandler_ListByContentBlock/list_anchors (0.00s)
=== RUN   TestContentBlockHandler_Create
time=2026-01-10T16:08:46.758-03:00 level=INFO msg="tenant created" tenant_id=5f5b9e07-a72a-4fd3-a3cf-5048ca1913a6 name="Test Tenant"
time=2026-01-10T16:08:46.759-03:00 level=INFO msg="world created" world_id=be33f41b-4c08-4669-b435-54e032b023b2 name="World of Test Story" tenant_id=5f5b9e07-a72a-4fd3-a3cf-5048ca1913a6
time=2026-01-10T16:08:46.759-03:00 level=INFO msg="created implicit world for story" world_id=be33f41b-4c08-4669-b435-54e032b023b2 story_title="Test Story"
time=2026-01-10T16:08:46.762-03:00 level=INFO msg="story created" story_id=a7ca0adb-1da2-49ff-b552-ebf93ef95088 title="Test Story" tenant_id=5f5b9e07-a72a-4fd3-a3cf-5048ca1913a6
time=2026-01-10T16:08:46.763-03:00 level=INFO msg="chapter created" chapter_id=cf51d07c-843e-4140-a259-9e7d068b3da4 story_id=a7ca0adb-1da2-49ff-b552-ebf93ef95088 tenant_id=5f5b9e07-a72a-4fd3-a3cf-5048ca1913a6
=== RUN   TestContentBlockHandler_Create/successful_creation
time=2026-01-10T16:08:46.764-03:00 level=INFO msg="content block created" content_block_id=12bd9c3a-6e2a-4d74-8cf6-ee0a6a7df8a7 tenant_id=5f5b9e07-a72a-4fd3-a3cf-5048ca1913a6
=== RUN   TestContentBlockHandler_Create/missing_tenant_id
--- PASS: TestContentBlockHandler_Create (0.16s)
    --- PASS: TestContentBlockHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockHandler_Get
time=2026-01-10T16:08:46.914-03:00 level=INFO msg="tenant created" tenant_id=75ea1cf1-2933-46d3-9b3c-895fae287775 name="Test Tenant"
time=2026-01-10T16:08:46.915-03:00 level=INFO msg="world created" world_id=b55037cb-3cd6-4e31-a11a-a8b92b3049c5 name="World of Test Story" tenant_id=75ea1cf1-2933-46d3-9b3c-895fae287775
time=2026-01-10T16:08:46.915-03:00 level=INFO msg="created implicit world for story" world_id=b55037cb-3cd6-4e31-a11a-a8b92b3049c5 story_title="Test Story"
time=2026-01-10T16:08:46.916-03:00 level=INFO msg="story created" story_id=8142eb89-a0ab-4899-997d-b12917aece50 title="Test Story" tenant_id=75ea1cf1-2933-46d3-9b3c-895fae287775
time=2026-01-10T16:08:46.917-03:00 level=INFO msg="chapter created" chapter_id=de6abcfc-2fef-462c-a69e-2d250b15e324 story_id=8142eb89-a0ab-4899-997d-b12917aece50 tenant_id=75ea1cf1-2933-46d3-9b3c-895fae287775
time=2026-01-10T16:08:46.918-03:00 level=INFO msg="content block created" content_block_id=6cf1a45e-3abd-4201-bc73-51a167b76ef1 tenant_id=75ea1cf1-2933-46d3-9b3c-895fae287775
=== RUN   TestContentBlockHandler_Get/existing_content_block
=== RUN   TestContentBlockHandler_Get/non-existing_content_block
time=2026-01-10T16:08:46.919-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 00000000-0000-0000-0000-000000000000" content_block_id=00000000-0000-0000-0000-000000000000 tenant_id=75ea1cf1-2933-46d3-9b3c-895fae287775
--- PASS: TestContentBlockHandler_Get (0.16s)
    --- PASS: TestContentBlockHandler_Get/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Get/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_List
time=2026-01-10T16:08:47.063-03:00 level=INFO msg="tenant created" tenant_id=d729386f-097b-4fc7-8abd-5a092ae4d1e4 name="Test Tenant"
time=2026-01-10T16:08:47.066-03:00 level=INFO msg="world created" world_id=4e20043b-9fa8-4eb1-8484-144d0b0c3f25 name="World of Test Story" tenant_id=d729386f-097b-4fc7-8abd-5a092ae4d1e4
time=2026-01-10T16:08:47.066-03:00 level=INFO msg="created implicit world for story" world_id=4e20043b-9fa8-4eb1-8484-144d0b0c3f25 story_title="Test Story"
time=2026-01-10T16:08:47.067-03:00 level=INFO msg="story created" story_id=a8748bf7-fa28-4a2e-90f5-bfecb1556fa3 title="Test Story" tenant_id=d729386f-097b-4fc7-8abd-5a092ae4d1e4
time=2026-01-10T16:08:47.071-03:00 level=INFO msg="chapter created" chapter_id=d5cc9331-d0a1-4a28-8c75-625e98ab674f story_id=a8748bf7-fa28-4a2e-90f5-bfecb1556fa3 tenant_id=d729386f-097b-4fc7-8abd-5a092ae4d1e4
time=2026-01-10T16:08:47.073-03:00 level=INFO msg="content block created" content_block_id=cf97e7b2-3fd3-4840-98cd-da2e020cd429 tenant_id=d729386f-097b-4fc7-8abd-5a092ae4d1e4
time=2026-01-10T16:08:47.073-03:00 level=INFO msg="content block created" content_block_id=e850c6a1-d459-4d5c-8a6e-2c506f182287 tenant_id=d729386f-097b-4fc7-8abd-5a092ae4d1e4
time=2026-01-10T16:08:47.073-03:00 level=INFO msg="content block created" content_block_id=38d9fe7c-10e2-4cb4-ba99-e0005a68dbc0 tenant_id=d729386f-097b-4fc7-8abd-5a092ae4d1e4
=== RUN   TestContentBlockHandler_List/list_content_blocks
--- PASS: TestContentBlockHandler_List (0.15s)
    --- PASS: TestContentBlockHandler_List/list_content_blocks (0.00s)
=== RUN   TestContentBlockHandler_Update
time=2026-01-10T16:08:47.225-03:00 level=INFO msg="tenant created" tenant_id=b18c2385-96e6-465d-a14f-c95410223758 name="Test Tenant"
time=2026-01-10T16:08:47.226-03:00 level=INFO msg="world created" world_id=ef9455af-6ee5-494a-b0bc-cfe5865da153 name="World of Test Story" tenant_id=b18c2385-96e6-465d-a14f-c95410223758
time=2026-01-10T16:08:47.226-03:00 level=INFO msg="created implicit world for story" world_id=ef9455af-6ee5-494a-b0bc-cfe5865da153 story_title="Test Story"
time=2026-01-10T16:08:47.228-03:00 level=INFO msg="story created" story_id=0ef484e0-e782-46c7-bf87-869db81c51b8 title="Test Story" tenant_id=b18c2385-96e6-465d-a14f-c95410223758
time=2026-01-10T16:08:47.229-03:00 level=INFO msg="chapter created" chapter_id=9a4d87f1-69f5-4051-8019-ba2d75e289d0 story_id=0ef484e0-e782-46c7-bf87-869db81c51b8 tenant_id=b18c2385-96e6-465d-a14f-c95410223758
time=2026-01-10T16:08:47.230-03:00 level=INFO msg="content block created" content_block_id=a237dab8-4815-4895-a038-f8d8f169cbab tenant_id=b18c2385-96e6-465d-a14f-c95410223758
=== RUN   TestContentBlockHandler_Update/update_content_block_content
time=2026-01-10T16:08:47.231-03:00 level=INFO msg="content block updated" content_block_id=a237dab8-4815-4895-a038-f8d8f169cbab tenant_id=b18c2385-96e6-465d-a14f-c95410223758
=== RUN   TestContentBlockHandler_Update/non-existing_content_block
--- PASS: TestContentBlockHandler_Update (0.16s)
    --- PASS: TestContentBlockHandler_Update/update_content_block_content (0.00s)
    --- PASS: TestContentBlockHandler_Update/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_Delete
time=2026-01-10T16:08:47.477-03:00 level=INFO msg="tenant created" tenant_id=d761b971-b82f-48a1-98ac-5f4fbe6f94ef name="Test Tenant"
time=2026-01-10T16:08:47.479-03:00 level=INFO msg="world created" world_id=1b207d9c-fc47-4ce2-bdca-98fd9eb60495 name="World of Test Story" tenant_id=d761b971-b82f-48a1-98ac-5f4fbe6f94ef
time=2026-01-10T16:08:47.479-03:00 level=INFO msg="created implicit world for story" world_id=1b207d9c-fc47-4ce2-bdca-98fd9eb60495 story_title="Test Story"
time=2026-01-10T16:08:47.480-03:00 level=INFO msg="story created" story_id=059ff1d5-1a73-4752-adfb-9e721915548c title="Test Story" tenant_id=d761b971-b82f-48a1-98ac-5f4fbe6f94ef
time=2026-01-10T16:08:47.481-03:00 level=INFO msg="chapter created" chapter_id=1564e135-dc43-4a63-8313-99623bc49c6c story_id=059ff1d5-1a73-4752-adfb-9e721915548c tenant_id=d761b971-b82f-48a1-98ac-5f4fbe6f94ef
time=2026-01-10T16:08:47.482-03:00 level=INFO msg="content block created" content_block_id=03e83eee-cd1d-43bd-92ce-96013b554fe4 tenant_id=d761b971-b82f-48a1-98ac-5f4fbe6f94ef
=== RUN   TestContentBlockHandler_Delete/delete_existing_content_block
time=2026-01-10T16:08:47.483-03:00 level=INFO msg="content block deleted" content_block_id=03e83eee-cd1d-43bd-92ce-96013b554fe4 tenant_id=d761b971-b82f-48a1-98ac-5f4fbe6f94ef
time=2026-01-10T16:08:47.483-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 03e83eee-cd1d-43bd-92ce-96013b554fe4" content_block_id=03e83eee-cd1d-43bd-92ce-96013b554fe4 tenant_id=d761b971-b82f-48a1-98ac-5f4fbe6f94ef
=== RUN   TestContentBlockHandler_Delete/delete_non-existing_content_block
--- PASS: TestContentBlockHandler_Delete (0.25s)
    --- PASS: TestContentBlockHandler_Delete/delete_existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Delete/delete_non-existing_content_block (0.00s)
=== RUN   TestEntityRelationHandler_Create
time=2026-01-10T16:08:47.631-03:00 level=INFO msg="tenant created" tenant_id=3f099874-3313-453c-a8fe-17c433e8d7dc name="Test Tenant"
time=2026-01-10T16:08:47.632-03:00 level=INFO msg="world created" world_id=5b82817e-7b29-4386-adea-f3549ba3b728 name="Test World" tenant_id=3f099874-3313-453c-a8fe-17c433e8d7dc
time=2026-01-10T16:08:47.633-03:00 level=INFO msg="character created" character_id=a58ba1b2-80a6-4c36-b973-3920ef23f73f name=Source
time=2026-01-10T16:08:47.634-03:00 level=INFO msg="character created" character_id=1ec28939-b684-4c48-9f17-90e3a1c8c3fa name=Target
time=2026-01-10T16:08:47.635-03:00 level=INFO msg="character created" character_id=29b439e0-ac95-4338-a54f-dbcbfb8561c4 name="Other Target"
=== RUN   TestEntityRelationHandler_Create/mirror_true_with_known_type
time=2026-01-10T16:08:47.638-03:00 level=INFO msg="relation created" relation_id=e196b4a7-2a87-403d-ab51-5a27155e478a source_id=a58ba1b2-80a6-4c36-b973-3920ef23f73f target_id=1ec28939-b684-4c48-9f17-90e3a1c8c3fa
=== RUN   TestEntityRelationHandler_Create/mirror_true_with_custom_type
time=2026-01-10T16:08:47.638-03:00 level=INFO msg="relation created" relation_id=578c8700-eecf-4831-b163-025a89fe61f0 source_id=a58ba1b2-80a6-4c36-b973-3920ef23f73f target_id=1ec28939-b684-4c48-9f17-90e3a1c8c3fa
=== RUN   TestEntityRelationHandler_Create/mirror_false
time=2026-01-10T16:08:47.639-03:00 level=INFO msg="relation created" relation_id=0b1857b9-72fa-4841-98e8-6ba6a9e641a3 source_id=a58ba1b2-80a6-4c36-b973-3920ef23f73f target_id=29b439e0-ac95-4338-a54f-dbcbfb8561c4
--- PASS: TestEntityRelationHandler_Create (0.16s)
    --- PASS: TestEntityRelationHandler_Create/mirror_true_with_known_type (0.00s)
    --- PASS: TestEntityRelationHandler_Create/mirror_true_with_custom_type (0.00s)
    --- PASS: TestEntityRelationHandler_Create/mirror_false (0.00s)
=== RUN   TestEventHandler_Create
time=2026-01-10T16:08:47.791-03:00 level=INFO msg="tenant created" tenant_id=414918d1-c425-4dac-ac44-9e5341a717ce name="Test Tenant"
time=2026-01-10T16:08:47.792-03:00 level=INFO msg="world created" world_id=1379b1ed-74e2-490e-9047-e1aebc9a160c name="Test World" tenant_id=414918d1-c425-4dac-ac44-9e5341a717ce
time=2026-01-10T16:08:47.793-03:00 level=INFO msg="world created" world_id=f9b1968a-7aed-4b16-bd2e-76154ad270f8 name="World of Test Story" tenant_id=414918d1-c425-4dac-ac44-9e5341a717ce
time=2026-01-10T16:08:47.793-03:00 level=INFO msg="created implicit world for story" world_id=f9b1968a-7aed-4b16-bd2e-76154ad270f8 story_title="Test Story"
time=2026-01-10T16:08:47.794-03:00 level=INFO msg="story created" story_id=7f03de99-29f9-4240-ae80-f781ec7f7794 title="Test Story" tenant_id=414918d1-c425-4dac-ac44-9e5341a717ce
time=2026-01-10T16:08:47.795-03:00 level=INFO msg="chapter created" chapter_id=e386299e-955b-4ba4-ac54-18890b8f92c6 story_id=7f03de99-29f9-4240-ae80-f781ec7f7794 tenant_id=414918d1-c425-4dac-ac44-9e5341a717ce
time=2026-01-10T16:08:47.797-03:00 level=INFO msg="scene created" scene_id=87b558cb-d6c5-416d-97cb-73a7ec4365d4 story_id=7f03de99-29f9-4240-ae80-f781ec7f7794 tenant_id=414918d1-c425-4dac-ac44-9e5341a717ce
=== RUN   TestEventHandler_Create/successful_creation
time=2026-01-10T16:08:47.798-03:00 level=INFO msg="event created" event_id=cab67ce0-298f-41fe-ae61-e7bbf913e2c8 world_id=1379b1ed-74e2-490e-9047-e1aebc9a160c
=== RUN   TestEventHandler_Create/empty_name
=== RUN   TestEventHandler_Create/missing_tenant_id
--- PASS: TestEventHandler_Create (0.16s)
    --- PASS: TestEventHandler_Create/successful_creation (0.00s)
    --- PASS: TestEventHandler_Create/empty_name (0.00s)
    --- PASS: TestEventHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestEventHandler_Get
time=2026-01-10T16:08:47.948-03:00 level=INFO msg="tenant created" tenant_id=b2d8b6b0-2c65-4134-8850-04e65fb92cfe name="Test Tenant"
time=2026-01-10T16:08:47.949-03:00 level=INFO msg="world created" world_id=b44bd24a-0b72-419b-a499-8890271207f3 name="Test World" tenant_id=b2d8b6b0-2c65-4134-8850-04e65fb92cfe
time=2026-01-10T16:08:47.950-03:00 level=INFO msg="world created" world_id=8f2319bc-cb17-4aa1-8d7e-b0c408218f4c name="World of Test Story" tenant_id=b2d8b6b0-2c65-4134-8850-04e65fb92cfe
time=2026-01-10T16:08:47.950-03:00 level=INFO msg="created implicit world for story" world_id=8f2319bc-cb17-4aa1-8d7e-b0c408218f4c story_title="Test Story"
time=2026-01-10T16:08:47.952-03:00 level=INFO msg="story created" story_id=cae0c224-437c-4910-8b3a-67442b7dc51e title="Test Story" tenant_id=b2d8b6b0-2c65-4134-8850-04e65fb92cfe
time=2026-01-10T16:08:47.953-03:00 level=INFO msg="chapter created" chapter_id=0155e2a0-5079-4d76-8a73-9e85bf1c9150 story_id=cae0c224-437c-4910-8b3a-67442b7dc51e tenant_id=b2d8b6b0-2c65-4134-8850-04e65fb92cfe
time=2026-01-10T16:08:47.955-03:00 level=INFO msg="scene created" scene_id=1696cba8-55fe-44f1-8576-43fe986c54c2 story_id=cae0c224-437c-4910-8b3a-67442b7dc51e tenant_id=b2d8b6b0-2c65-4134-8850-04e65fb92cfe
time=2026-01-10T16:08:47.956-03:00 level=INFO msg="event created" event_id=bedd43cc-2079-4d31-a975-d8a4a88a38c7 world_id=b44bd24a-0b72-419b-a499-8890271207f3
=== RUN   TestEventHandler_Get/get_existing_event
=== RUN   TestEventHandler_Get/get_non-existing_event
time=2026-01-10T16:08:47.957-03:00 level=ERROR msg="failed to get event" error="event not found: 00000000-0000-0000-0000-000000000000" event_id=00000000-0000-0000-0000-000000000000
--- PASS: TestEventHandler_Get (0.16s)
    --- PASS: TestEventHandler_Get/get_existing_event (0.00s)
    --- PASS: TestEventHandler_Get/get_non-existing_event (0.00s)
=== RUN   TestFactionHandler_Create
time=2026-01-10T16:08:48.112-03:00 level=INFO msg="tenant created" tenant_id=a2b574de-7be4-460a-b128-5c6d23a52b40 name="Test Tenant"
time=2026-01-10T16:08:48.114-03:00 level=INFO msg="world created" world_id=8a2027f0-54bf-4dc1-9c3b-1e514063e73c name="Test World" tenant_id=a2b574de-7be4-460a-b128-5c6d23a52b40
=== RUN   TestFactionHandler_Create/successful_creation
time=2026-01-10T16:08:48.116-03:00 level=INFO msg="faction created" faction_id=a7c022bf-a827-4212-93fa-4212ecb0b66d name="Guild of Mages"
=== RUN   TestFactionHandler_Create/empty_name
--- PASS: TestFactionHandler_Create (0.16s)
    --- PASS: TestFactionHandler_Create/successful_creation (0.00s)
    --- PASS: TestFactionHandler_Create/empty_name (0.00s)
=== RUN   TestFactionHandler_AddReference
time=2026-01-10T16:08:48.338-03:00 level=INFO msg="tenant created" tenant_id=1b37f238-f2c5-48af-8bf1-7a2b279a0808 name="Test Tenant"
time=2026-01-10T16:08:48.339-03:00 level=INFO msg="world created" world_id=5c00a0c7-2373-4c80-8e5c-a8359981c95e name="Test World" tenant_id=1b37f238-f2c5-48af-8bf1-7a2b279a0808
time=2026-01-10T16:08:48.340-03:00 level=INFO msg="faction created" faction_id=57f7eb2c-40e2-437d-8891-4fcd8046491e name="Guild of Mages"
time=2026-01-10T16:08:48.341-03:00 level=INFO msg="character created" character_id=f0384419-69d7-4ed6-b1b1-ae60c26b83b9 name="Test Character"
=== RUN   TestFactionHandler_AddReference/add_character_reference
time=2026-01-10T16:08:48.343-03:00 level=INFO msg="relation created" relation_id=6fa8861c-f71d-4dad-ac69-67995bf978f9 source_id=57f7eb2c-40e2-437d-8891-4fcd8046491e target_id=f0384419-69d7-4ed6-b1b1-ae60c26b83b9
time=2026-01-10T16:08:48.343-03:00 level=INFO msg="faction reference added" faction_id=57f7eb2c-40e2-437d-8891-4fcd8046491e entity_type=character entity_id=f0384419-69d7-4ed6-b1b1-ae60c26b83b9
=== RUN   TestFactionHandler_AddReference/get_references
--- PASS: TestFactionHandler_AddReference (0.23s)
    --- PASS: TestFactionHandler_AddReference/add_character_reference (0.00s)
    --- PASS: TestFactionHandler_AddReference/get_references (0.00s)
=== RUN   TestInventoryHandler_AddItem
time=2026-01-10T16:08:48.507-03:00 level=INFO msg="tenant created" tenant_id=4e2dba2b-ce06-4b19-bf52-99163d8fee8d name="Test Tenant"
time=2026-01-10T16:08:48.509-03:00 level=INFO msg="world created" world_id=e31d19fe-1d54-4596-9336-d4be60350963 name="Test World" tenant_id=4e2dba2b-ce06-4b19-bf52-99163d8fee8d
time=2026-01-10T16:08:48.511-03:00 level=INFO msg="character created" character_id=7f6b29ba-b240-4fe2-b884-711910a88684 name="Test Character"
time=2026-01-10T16:08:48.512-03:00 level=INFO msg="RPG system created" rpg_system_id=b5682478-e028-49e5-afb5-5cc490249b31 name="Test RPG System"
time=2026-01-10T16:08:48.514-03:00 level=INFO msg="inventory item created" item_id=a978f671-15c9-447e-8e6b-5aa5c98475fc name="Test Item"
=== RUN   TestInventoryHandler_AddItem/successful_add_item
time=2026-01-10T16:08:48.516-03:00 level=INFO msg="item added to inventory" character_id=7f6b29ba-b240-4fe2-b884-711910a88684 item_id=a978f671-15c9-447e-8e6b-5aa5c98475fc
=== RUN   TestInventoryHandler_AddItem/missing_tenant_id
--- PASS: TestInventoryHandler_AddItem (0.17s)
    --- PASS: TestInventoryHandler_AddItem/successful_add_item (0.00s)
    --- PASS: TestInventoryHandler_AddItem/missing_tenant_id (0.00s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-10T16:08:48.671-03:00 level=INFO msg="tenant created" tenant_id=7ddb87d6-205d-4cf2-af57-9413e8f62259 name="Test Tenant"
time=2026-01-10T16:08:48.673-03:00 level=INFO msg="world created" world_id=51d5fd23-89ec-43fd-a84f-16bbb0b59994 name="Test World" tenant_id=7ddb87d6-205d-4cf2-af57-9413e8f62259
time=2026-01-10T16:08:48.675-03:00 level=INFO msg="character created" character_id=a3b79ec7-fbbe-4f1d-9fdd-67628ac135ca name="Test Character"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
--- PASS: TestInventoryHandler_ListInventory (0.16s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.00s)
=== RUN   TestInventoryHandler_DeleteInventory
time=2026-01-10T16:08:48.877-03:00 level=INFO msg="tenant created" tenant_id=3455f99d-876a-474e-bf6d-b6e9c90246c6 name="Test Tenant"
time=2026-01-10T16:08:48.881-03:00 level=INFO msg="world created" world_id=5464961d-2fbd-4c23-9cfd-8bc15b694cb4 name="Test World" tenant_id=3455f99d-876a-474e-bf6d-b6e9c90246c6
time=2026-01-10T16:08:48.886-03:00 level=INFO msg="character created" character_id=dbe5e135-34b8-4618-be1b-a121ac2fe5dc name="Test Character"
time=2026-01-10T16:08:48.887-03:00 level=INFO msg="RPG system created" rpg_system_id=eff88903-f3e1-4b0f-87a8-4e57e8b36a02 name="Test RPG System"
time=2026-01-10T16:08:48.888-03:00 level=INFO msg="inventory item created" item_id=b1d1ca80-2ffc-4f79-bfbc-2a1869ca33ea name="Test Item"
time=2026-01-10T16:08:48.894-03:00 level=INFO msg="item added to inventory" character_id=dbe5e135-34b8-4618-be1b-a121ac2fe5dc item_id=b1d1ca80-2ffc-4f79-bfbc-2a1869ca33ea
=== RUN   TestInventoryHandler_DeleteInventory/delete_existing_inventory_item
time=2026-01-10T16:08:48.896-03:00 level=INFO msg="item removed from inventory" id=8fbcba43-1664-42b8-8d7d-d552f85dc22c
=== RUN   TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item
time=2026-01-10T16:08:48.896-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 00000000-0000-0000-0000-000000000000" id=00000000-0000-0000-0000-000000000000
--- PASS: TestInventoryHandler_DeleteInventory (0.23s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_existing_inventory_item (0.00s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item (0.00s)
=== RUN   TestLocationHandler_Create
time=2026-01-10T16:08:49.067-03:00 level=INFO msg="tenant created" tenant_id=c6fc90fb-6bfe-44d5-bada-8ed50814b883 name="Test Tenant"
time=2026-01-10T16:08:49.068-03:00 level=INFO msg="world created" world_id=8da5af6a-e633-4dbe-9396-387749dbcd9c name="Test World" tenant_id=c6fc90fb-6bfe-44d5-bada-8ed50814b883
=== RUN   TestLocationHandler_Create/successful_creation
time=2026-01-10T16:08:49.070-03:00 level=INFO msg="location created" location_id=c886a288-a9c3-4327-a744-09615fc58151 name="Test Location"
=== RUN   TestLocationHandler_Create/missing_tenant_id
=== RUN   TestLocationHandler_Create/empty_name
--- PASS: TestLocationHandler_Create (0.17s)
    --- PASS: TestLocationHandler_Create/successful_creation (0.00s)
    --- PASS: TestLocationHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestLocationHandler_Create/empty_name (0.00s)
=== RUN   TestLocationHandler_Get
time=2026-01-10T16:08:49.229-03:00 level=INFO msg="tenant created" tenant_id=dc4e1072-9bcc-4b57-bcf4-cd92537aefa0 name="Test Tenant"
time=2026-01-10T16:08:49.231-03:00 level=INFO msg="world created" world_id=a8b27779-1971-4d21-9603-869b143e0d12 name="Test World" tenant_id=dc4e1072-9bcc-4b57-bcf4-cd92537aefa0
time=2026-01-10T16:08:49.232-03:00 level=INFO msg="location created" location_id=def3a95a-2a28-412a-bdec-151d4f083f2d name="Get Test Location"
=== RUN   TestLocationHandler_Get/existing_location
=== RUN   TestLocationHandler_Get/non-existing_location
time=2026-01-10T16:08:49.233-03:00 level=ERROR msg="failed to get location" error="location not found: 00000000-0000-0000-0000-000000000000" location_id=00000000-0000-0000-0000-000000000000
=== RUN   TestLocationHandler_Get/invalid_location_ID
--- PASS: TestLocationHandler_Get (0.16s)
    --- PASS: TestLocationHandler_Get/existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/non-existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/invalid_location_ID (0.00s)
=== RUN   TestLocationHandler_List
time=2026-01-10T16:08:49.390-03:00 level=INFO msg="tenant created" tenant_id=112f8af6-e897-4a3a-9eb3-326e2b3a7bff name="Test Tenant"
time=2026-01-10T16:08:49.392-03:00 level=INFO msg="world created" world_id=502ae220-8433-4a98-94eb-34876fb2bc8f name="Test World" tenant_id=112f8af6-e897-4a3a-9eb3-326e2b3a7bff
time=2026-01-10T16:08:49.395-03:00 level=INFO msg="location created" location_id=44e54590-3f80-4b4d-9d7e-db4af3fb0ca1 name="Location 1"
time=2026-01-10T16:08:49.396-03:00 level=INFO msg="location created" location_id=6825a4a9-a844-4979-b8f7-2b985f12923d name="Location 2"
time=2026-01-10T16:08:49.396-03:00 level=INFO msg="location created" location_id=ae6d597d-3f2c-42ba-8c34-9444f096d252 name="Location 3"
=== RUN   TestLocationHandler_List/list_locations
=== RUN   TestLocationHandler_List/missing_tenant_id
--- PASS: TestLocationHandler_List (0.16s)
    --- PASS: TestLocationHandler_List/list_locations (0.00s)
    --- PASS: TestLocationHandler_List/missing_tenant_id (0.00s)
=== RUN   TestLocationHandler_Update
time=2026-01-10T16:08:49.551-03:00 level=INFO msg="tenant created" tenant_id=028dd7cf-af8b-4680-8a4d-4abd90f8ec35 name="Test Tenant"
time=2026-01-10T16:08:49.554-03:00 level=INFO msg="world created" world_id=b0a3a247-8b58-4792-97aa-917e7e4fe929 name="Test World" tenant_id=028dd7cf-af8b-4680-8a4d-4abd90f8ec35
time=2026-01-10T16:08:49.556-03:00 level=INFO msg="location created" location_id=33b7903a-0d14-4cb1-9aa3-8666540604e7 name="Original Location"
=== RUN   TestLocationHandler_Update/update_location_name
time=2026-01-10T16:08:49.557-03:00 level=INFO msg="location updated" location_id=33b7903a-0d14-4cb1-9aa3-8666540604e7 name="Updated Location"
=== RUN   TestLocationHandler_Update/non-existing_location
--- PASS: TestLocationHandler_Update (0.16s)
    --- PASS: TestLocationHandler_Update/update_location_name (0.00s)
    --- PASS: TestLocationHandler_Update/non-existing_location (0.00s)
=== RUN   TestLocationHandler_Delete
time=2026-01-10T16:08:49.714-03:00 level=INFO msg="tenant created" tenant_id=abcdfb17-e7b5-4893-b2e2-9ee04927f887 name="Test Tenant"
time=2026-01-10T16:08:49.718-03:00 level=INFO msg="world created" world_id=89329dfa-b684-4f95-98ca-e0fe905b6a25 name="Test World" tenant_id=abcdfb17-e7b5-4893-b2e2-9ee04927f887
time=2026-01-10T16:08:49.721-03:00 level=INFO msg="location created" location_id=0edcf425-34de-4b36-a125-72cbe3d42be6 name="Location to Delete"
=== RUN   TestLocationHandler_Delete/delete_existing_location
time=2026-01-10T16:08:49.725-03:00 level=INFO msg="location deleted" location_id=0edcf425-34de-4b36-a125-72cbe3d42be6 name="Location to Delete"
time=2026-01-10T16:08:49.726-03:00 level=ERROR msg="failed to get location" error="location not found: 0edcf425-34de-4b36-a125-72cbe3d42be6" location_id=0edcf425-34de-4b36-a125-72cbe3d42be6
=== RUN   TestLocationHandler_Delete/delete_non-existing_location
--- PASS: TestLocationHandler_Delete (0.17s)
    --- PASS: TestLocationHandler_Delete/delete_existing_location (0.01s)
    --- PASS: TestLocationHandler_Delete/delete_non-existing_location (0.00s)
=== RUN   TestLoreHandler_Create
time=2026-01-10T16:08:49.877-03:00 level=INFO msg="tenant created" tenant_id=a149ab6e-37d3-4aef-95df-dc3df307c35d name="Test Tenant"
time=2026-01-10T16:08:49.878-03:00 level=INFO msg="world created" world_id=e9204400-51a1-4acb-ba80-85b0a3491939 name="Test World" tenant_id=a149ab6e-37d3-4aef-95df-dc3df307c35d
=== RUN   TestLoreHandler_Create/successful_creation
time=2026-01-10T16:08:49.880-03:00 level=INFO msg="lore created" lore_id=ea83986c-e01f-45d0-9ef5-4897d37fb992 name="Fire Magic"
=== RUN   TestLoreHandler_Create/empty_name
--- PASS: TestLoreHandler_Create (0.15s)
    --- PASS: TestLoreHandler_Create/successful_creation (0.00s)
    --- PASS: TestLoreHandler_Create/empty_name (0.00s)
=== RUN   TestLoreHandler_AddReference
time=2026-01-10T16:08:50.025-03:00 level=INFO msg="tenant created" tenant_id=41c5fffb-c50a-4018-9854-1ed1f3a1c69b name="Test Tenant"
time=2026-01-10T16:08:50.031-03:00 level=INFO msg="world created" world_id=a4675b41-4248-4546-bcf8-3c15df6ea74e name="Test World" tenant_id=41c5fffb-c50a-4018-9854-1ed1f3a1c69b
time=2026-01-10T16:08:50.032-03:00 level=INFO msg="lore created" lore_id=63e277dd-d127-42e8-a8f7-bb1343593f19 name="Fire Magic"
time=2026-01-10T16:08:50.033-03:00 level=INFO msg="character created" character_id=aeeafbd9-17d3-4e3d-8e4a-d5d3c0582ceb name="Test Character"
=== RUN   TestLoreHandler_AddReference/add_character_reference
time=2026-01-10T16:08:50.035-03:00 level=INFO msg="relation created" relation_id=c7b091d2-8390-4f30-8003-519d278c746a source_id=63e277dd-d127-42e8-a8f7-bb1343593f19 target_id=aeeafbd9-17d3-4e3d-8e4a-d5d3c0582ceb
time=2026-01-10T16:08:50.035-03:00 level=INFO msg="lore reference added" lore_id=63e277dd-d127-42e8-a8f7-bb1343593f19 entity_type=character entity_id=aeeafbd9-17d3-4e3d-8e4a-d5d3c0582ceb
=== RUN   TestLoreHandler_AddReference/get_references
--- PASS: TestLoreHandler_AddReference (0.16s)
    --- PASS: TestLoreHandler_AddReference/add_character_reference (0.00s)
    --- PASS: TestLoreHandler_AddReference/get_references (0.00s)
=== RUN   TestRPGClassHandler_Create
time=2026-01-10T16:08:50.265-03:00 level=INFO msg="tenant created" tenant_id=b003c0fb-77b1-4609-987c-695adbcd632e name="Test Tenant"
time=2026-01-10T16:08:50.266-03:00 level=INFO msg="RPG system created" rpg_system_id=daba543a-0661-4d33-b1ba-1611f9677b4c name="Test RPG System"
=== RUN   TestRPGClassHandler_Create/successful_creation
time=2026-01-10T16:08:50.268-03:00 level=INFO msg="RPG class created" class_id=480ff805-d28a-4099-8f30-65c7e01cd430 name="Test Class"
=== RUN   TestRPGClassHandler_Create/missing_tenant_id
--- PASS: TestRPGClassHandler_Create (0.23s)
    --- PASS: TestRPGClassHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGClassHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGClassHandler_Get
time=2026-01-10T16:08:50.426-03:00 level=INFO msg="tenant created" tenant_id=567cfe62-56fe-4634-a300-fd761ad55ab1 name="Test Tenant"
time=2026-01-10T16:08:50.428-03:00 level=INFO msg="RPG system created" rpg_system_id=3bee9e3c-4e28-4598-b8e6-bea267c66a0d name="Test RPG System"
time=2026-01-10T16:08:50.430-03:00 level=INFO msg="RPG class created" class_id=2f0ec7a2-750e-4b13-9495-57a812c78a02 name="Get Test Class"
=== RUN   TestRPGClassHandler_Get/existing_rpg_class
=== RUN   TestRPGClassHandler_Get/non-existing_rpg_class
time=2026-01-10T16:08:50.431-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Get (0.16s)
    --- PASS: TestRPGClassHandler_Get/existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Get/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_List
time=2026-01-10T16:08:50.655-03:00 level=INFO msg="tenant created" tenant_id=ffbe0539-898c-4c7e-9e0e-55834c8fb3ce name="Test Tenant"
time=2026-01-10T16:08:50.656-03:00 level=INFO msg="RPG system created" rpg_system_id=0cb1f7c8-d024-4863-a057-dcf93e63443f name="Test RPG System"
time=2026-01-10T16:08:50.657-03:00 level=INFO msg="RPG class created" class_id=9d009e02-0a59-4a53-b129-4dc083008ab6 name="Class 1"
time=2026-01-10T16:08:50.657-03:00 level=INFO msg="RPG class created" class_id=e3e04026-d9a3-446f-8958-926eeb6c8ff4 name="Class 2"
time=2026-01-10T16:08:50.658-03:00 level=INFO msg="RPG class created" class_id=a9dff990-ac5a-4638-887e-e2029c7cea80 name="Class 3"
=== RUN   TestRPGClassHandler_List/list_rpg_classes
--- PASS: TestRPGClassHandler_List (0.23s)
    --- PASS: TestRPGClassHandler_List/list_rpg_classes (0.00s)
=== RUN   TestRPGClassHandler_Update
time=2026-01-10T16:08:50.791-03:00 level=INFO msg="tenant created" tenant_id=d0ca3dde-323c-4ad5-9d74-070e08259f1e name="Test Tenant"
time=2026-01-10T16:08:50.792-03:00 level=INFO msg="RPG system created" rpg_system_id=89f7a60f-6d98-49a3-9a36-60ae65e3555f name="Test RPG System"
time=2026-01-10T16:08:50.794-03:00 level=INFO msg="RPG class created" class_id=add893b5-fd38-40f3-98f5-4a2338e0815d name="Original Class"
=== RUN   TestRPGClassHandler_Update/update_rpg_class_name
time=2026-01-10T16:08:50.795-03:00 level=INFO msg="RPG class updated" class_id=add893b5-fd38-40f3-98f5-4a2338e0815d
=== RUN   TestRPGClassHandler_Update/non-existing_rpg_class
--- PASS: TestRPGClassHandler_Update (0.14s)
    --- PASS: TestRPGClassHandler_Update/update_rpg_class_name (0.00s)
    --- PASS: TestRPGClassHandler_Update/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_Delete
time=2026-01-10T16:08:50.991-03:00 level=INFO msg="tenant created" tenant_id=ed899475-c308-4471-b4b6-8810bf8c0b7a name="Test Tenant"
time=2026-01-10T16:08:50.992-03:00 level=INFO msg="RPG system created" rpg_system_id=d8a866a7-48d4-4185-922a-105018d3c8db name="Test RPG System"
time=2026-01-10T16:08:50.995-03:00 level=INFO msg="RPG class created" class_id=86686869-9fce-4af3-9e96-d46f44910bca name="Class to Delete"
=== RUN   TestRPGClassHandler_Delete/delete_existing_rpg_class
time=2026-01-10T16:08:50.996-03:00 level=INFO msg="RPG class deleted" class_id=86686869-9fce-4af3-9e96-d46f44910bca
time=2026-01-10T16:08:50.997-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 86686869-9fce-4af3-9e96-d46f44910bca" class_id=86686869-9fce-4af3-9e96-d46f44910bca
=== RUN   TestRPGClassHandler_Delete/delete_non-existing_rpg_class
time=2026-01-10T16:08:50.997-03:00 level=ERROR msg="failed to delete RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Delete (0.21s)
    --- PASS: TestRPGClassHandler_Delete/delete_existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Delete/delete_non-existing_rpg_class (0.00s)
=== RUN   TestRPGSystemHandler_Create
time=2026-01-10T16:08:51.412-03:00 level=INFO msg="tenant created" tenant_id=78358286-33ec-4579-8a1c-fa8e8fe2e927 name="Test Tenant"
=== RUN   TestRPGSystemHandler_Create/successful_creation
time=2026-01-10T16:08:51.414-03:00 level=INFO msg="RPG system created" rpg_system_id=40a3e4e9-26bc-4736-b95d-5fe1965d4b31 name="Test RPG System"
=== RUN   TestRPGSystemHandler_Create/missing_tenant_id
--- PASS: TestRPGSystemHandler_Create (0.43s)
    --- PASS: TestRPGSystemHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGSystemHandler_Get
time=2026-01-10T16:08:51.751-03:00 level=INFO msg="tenant created" tenant_id=510673b4-8acc-421f-96b1-340f2d82e4c8 name="Test Tenant"
time=2026-01-10T16:08:51.753-03:00 level=INFO msg="RPG system created" rpg_system_id=96a9af71-7b4d-4c24-89bf-fa70cfbd2b98 name="Get Test RPG System"
=== RUN   TestRPGSystemHandler_Get/existing_rpg_system
=== RUN   TestRPGSystemHandler_Get/non-existing_rpg_system
time=2026-01-10T16:08:51.753-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 00000000-0000-0000-0000-000000000000" rpg_system_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGSystemHandler_Get (0.32s)
    --- PASS: TestRPGSystemHandler_Get/existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Get/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_List
time=2026-01-10T16:08:51.937-03:00 level=INFO msg="tenant created" tenant_id=75ad9bcc-8bb9-4544-a150-906c8e486746 name="Test Tenant"
time=2026-01-10T16:08:51.941-03:00 level=INFO msg="RPG system created" rpg_system_id=312a5bbd-06ef-4357-84d4-071c857e5be9 name="RPG System 1"
time=2026-01-10T16:08:51.943-03:00 level=INFO msg="RPG system created" rpg_system_id=0501d6fd-170f-45ae-b88f-7f691220739a name="RPG System 2"
time=2026-01-10T16:08:51.944-03:00 level=INFO msg="RPG system created" rpg_system_id=16fe9692-7264-455a-ae3b-fe5e72da7d9c name="RPG System 3"
=== RUN   TestRPGSystemHandler_List/list_rpg_systems
--- PASS: TestRPGSystemHandler_List (0.19s)
    --- PASS: TestRPGSystemHandler_List/list_rpg_systems (0.00s)
=== RUN   TestRPGSystemHandler_Update
time=2026-01-10T16:08:52.103-03:00 level=INFO msg="tenant created" tenant_id=f5e4ca15-c853-4233-aa41-2c9acad9a557 name="Test Tenant"
time=2026-01-10T16:08:52.105-03:00 level=INFO msg="RPG system created" rpg_system_id=887a2b75-79b7-47c8-bad3-592a3f5ed869 name="Original RPG System"
=== RUN   TestRPGSystemHandler_Update/update_rpg_system_name
time=2026-01-10T16:08:52.106-03:00 level=INFO msg="RPG system updated" rpg_system_id=887a2b75-79b7-47c8-bad3-592a3f5ed869
=== RUN   TestRPGSystemHandler_Update/non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Update (0.17s)
    --- PASS: TestRPGSystemHandler_Update/update_rpg_system_name (0.00s)
    --- PASS: TestRPGSystemHandler_Update/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_Delete
time=2026-01-10T16:08:52.282-03:00 level=INFO msg="tenant created" tenant_id=94c7eb1d-3a5a-4811-8504-777748f6b13b name="Test Tenant"
time=2026-01-10T16:08:52.283-03:00 level=INFO msg="RPG system created" rpg_system_id=18bfe276-bb93-48c1-8eb1-bb12743e0216 name="RPG System to Delete"
=== RUN   TestRPGSystemHandler_Delete/delete_existing_rpg_system
time=2026-01-10T16:08:52.285-03:00 level=INFO msg="RPG system deleted" rpg_system_id=18bfe276-bb93-48c1-8eb1-bb12743e0216
time=2026-01-10T16:08:52.286-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 18bfe276-bb93-48c1-8eb1-bb12743e0216" rpg_system_id=18bfe276-bb93-48c1-8eb1-bb12743e0216
=== RUN   TestRPGSystemHandler_Delete/delete_non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Delete (0.18s)
    --- PASS: TestRPGSystemHandler_Delete/delete_existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Delete/delete_non-existing_rpg_system (0.00s)
=== RUN   TestSceneHandler_Create
time=2026-01-10T16:08:52.474-03:00 level=INFO msg="tenant created" tenant_id=2ed3cefa-e97d-423b-baa3-99de90ecaf1e name="Test Tenant"
time=2026-01-10T16:08:52.478-03:00 level=INFO msg="world created" world_id=15d1949a-7556-46b6-865e-f2d2e956d492 name="World of Test Story" tenant_id=2ed3cefa-e97d-423b-baa3-99de90ecaf1e
time=2026-01-10T16:08:52.478-03:00 level=INFO msg="created implicit world for story" world_id=15d1949a-7556-46b6-865e-f2d2e956d492 story_title="Test Story"
time=2026-01-10T16:08:52.479-03:00 level=INFO msg="story created" story_id=09202d1d-2a1b-4efe-b623-a0a0671b3dbd title="Test Story" tenant_id=2ed3cefa-e97d-423b-baa3-99de90ecaf1e
=== RUN   TestSceneHandler_Create/successful_creation
time=2026-01-10T16:08:52.480-03:00 level=INFO msg="scene created" scene_id=0c2b4e48-3cc3-4024-8e73-3ff433d3fc03 story_id=09202d1d-2a1b-4efe-b623-a0a0671b3dbd tenant_id=2ed3cefa-e97d-423b-baa3-99de90ecaf1e
=== RUN   TestSceneHandler_Create/missing_tenant_id
--- PASS: TestSceneHandler_Create (0.20s)
    --- PASS: TestSceneHandler_Create/successful_creation (0.00s)
    --- PASS: TestSceneHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSceneHandler_Get
time=2026-01-10T16:08:52.654-03:00 level=INFO msg="tenant created" tenant_id=623b0931-b865-4abf-aba9-1c171650ce93 name="Test Tenant"
time=2026-01-10T16:08:52.672-03:00 level=INFO msg="world created" world_id=cdc42ae4-ef1c-4433-aee4-37aecdc5ed3c name="World of Test Story" tenant_id=623b0931-b865-4abf-aba9-1c171650ce93
time=2026-01-10T16:08:52.672-03:00 level=INFO msg="created implicit world for story" world_id=cdc42ae4-ef1c-4433-aee4-37aecdc5ed3c story_title="Test Story"
time=2026-01-10T16:08:52.674-03:00 level=INFO msg="story created" story_id=a1cbafc7-c72c-4700-b454-0f2bc217509b title="Test Story" tenant_id=623b0931-b865-4abf-aba9-1c171650ce93
time=2026-01-10T16:08:52.674-03:00 level=INFO msg="scene created" scene_id=8e6987bf-8876-49a9-9cec-5e588904e633 story_id=a1cbafc7-c72c-4700-b454-0f2bc217509b tenant_id=623b0931-b865-4abf-aba9-1c171650ce93
=== RUN   TestSceneHandler_Get/existing_scene
=== RUN   TestSceneHandler_Get/non-existing_scene
time=2026-01-10T16:08:52.675-03:00 level=ERROR msg="failed to get scene" error="scene not found: 00000000-0000-0000-0000-000000000000" scene_id=00000000-0000-0000-0000-000000000000 tenant_id=623b0931-b865-4abf-aba9-1c171650ce93
--- PASS: TestSceneHandler_Get (0.19s)
    --- PASS: TestSceneHandler_Get/existing_scene (0.00s)
    --- PASS: TestSceneHandler_Get/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_List
time=2026-01-10T16:08:52.955-03:00 level=INFO msg="tenant created" tenant_id=9d43609e-a2a6-46e7-8464-31d97c304f2e name="Test Tenant"
time=2026-01-10T16:08:52.956-03:00 level=INFO msg="world created" world_id=c1b8a3db-74cb-4c0d-97d8-5eee167d42dc name="World of Test Story" tenant_id=9d43609e-a2a6-46e7-8464-31d97c304f2e
time=2026-01-10T16:08:52.956-03:00 level=INFO msg="created implicit world for story" world_id=c1b8a3db-74cb-4c0d-97d8-5eee167d42dc story_title="Test Story"
time=2026-01-10T16:08:52.957-03:00 level=INFO msg="story created" story_id=434975d9-1768-4f78-a6b3-300cb5391461 title="Test Story" tenant_id=9d43609e-a2a6-46e7-8464-31d97c304f2e
time=2026-01-10T16:08:52.958-03:00 level=INFO msg="scene created" scene_id=b62733b3-8df2-41c1-9923-23614c557b9b story_id=434975d9-1768-4f78-a6b3-300cb5391461 tenant_id=9d43609e-a2a6-46e7-8464-31d97c304f2e
time=2026-01-10T16:08:52.959-03:00 level=INFO msg="scene created" scene_id=c4d4052c-0a61-40d4-9b2e-6a2363d7d8c7 story_id=434975d9-1768-4f78-a6b3-300cb5391461 tenant_id=9d43609e-a2a6-46e7-8464-31d97c304f2e
time=2026-01-10T16:08:52.961-03:00 level=INFO msg="scene created" scene_id=136dce2d-45cd-4418-a6b8-b800b286a47a story_id=434975d9-1768-4f78-a6b3-300cb5391461 tenant_id=9d43609e-a2a6-46e7-8464-31d97c304f2e
=== RUN   TestSceneHandler_List/list_scenes
--- PASS: TestSceneHandler_List (0.32s)
    --- PASS: TestSceneHandler_List/list_scenes (0.00s)
=== RUN   TestSceneHandler_Update
time=2026-01-10T16:08:53.176-03:00 level=INFO msg="tenant created" tenant_id=baf0165a-eb51-4a34-b4cf-eee8bd6a138f name="Test Tenant"
time=2026-01-10T16:08:53.177-03:00 level=INFO msg="world created" world_id=a2fa674b-88a2-4992-b1b0-89459143bf53 name="World of Test Story" tenant_id=baf0165a-eb51-4a34-b4cf-eee8bd6a138f
time=2026-01-10T16:08:53.177-03:00 level=INFO msg="created implicit world for story" world_id=a2fa674b-88a2-4992-b1b0-89459143bf53 story_title="Test Story"
time=2026-01-10T16:08:53.179-03:00 level=INFO msg="story created" story_id=f658245a-548e-4501-94f4-7555f4fc6b61 title="Test Story" tenant_id=baf0165a-eb51-4a34-b4cf-eee8bd6a138f
time=2026-01-10T16:08:53.180-03:00 level=INFO msg="scene created" scene_id=36d76750-7fb0-40f1-8b11-bb9b8c0e64ca story_id=f658245a-548e-4501-94f4-7555f4fc6b61 tenant_id=baf0165a-eb51-4a34-b4cf-eee8bd6a138f
=== RUN   TestSceneHandler_Update/update_scene_goal
time=2026-01-10T16:08:53.180-03:00 level=INFO msg="scene updated" scene_id=36d76750-7fb0-40f1-8b11-bb9b8c0e64ca tenant_id=baf0165a-eb51-4a34-b4cf-eee8bd6a138f
=== RUN   TestSceneHandler_Update/non-existing_scene
--- PASS: TestSceneHandler_Update (0.19s)
    --- PASS: TestSceneHandler_Update/update_scene_goal (0.00s)
    --- PASS: TestSceneHandler_Update/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_Delete
time=2026-01-10T16:08:53.334-03:00 level=INFO msg="tenant created" tenant_id=56293fa3-faec-4cf4-acff-4ad1aba6e091 name="Test Tenant"
time=2026-01-10T16:08:53.336-03:00 level=INFO msg="world created" world_id=f75a530a-28ed-4ddf-8798-70ffe1f60de1 name="World of Test Story" tenant_id=56293fa3-faec-4cf4-acff-4ad1aba6e091
time=2026-01-10T16:08:53.336-03:00 level=INFO msg="created implicit world for story" world_id=f75a530a-28ed-4ddf-8798-70ffe1f60de1 story_title="Test Story"
time=2026-01-10T16:08:53.337-03:00 level=INFO msg="story created" story_id=641a3880-b0f3-4093-9071-2761eae1e0bb title="Test Story" tenant_id=56293fa3-faec-4cf4-acff-4ad1aba6e091
time=2026-01-10T16:08:53.338-03:00 level=INFO msg="scene created" scene_id=93d6529d-6eef-4f62-be28-7fb12055b418 story_id=641a3880-b0f3-4093-9071-2761eae1e0bb tenant_id=56293fa3-faec-4cf4-acff-4ad1aba6e091
=== RUN   TestSceneHandler_Delete/delete_existing_scene
time=2026-01-10T16:08:53.339-03:00 level=INFO msg="scene deleted" scene_id=93d6529d-6eef-4f62-be28-7fb12055b418 tenant_id=56293fa3-faec-4cf4-acff-4ad1aba6e091
time=2026-01-10T16:08:53.340-03:00 level=ERROR msg="failed to get scene" error="scene not found: 93d6529d-6eef-4f62-be28-7fb12055b418" scene_id=93d6529d-6eef-4f62-be28-7fb12055b418 tenant_id=56293fa3-faec-4cf4-acff-4ad1aba6e091
=== RUN   TestSceneHandler_Delete/delete_non-existing_scene
--- PASS: TestSceneHandler_Delete (0.16s)
    --- PASS: TestSceneHandler_Delete/delete_existing_scene (0.00s)
    --- PASS: TestSceneHandler_Delete/delete_non-existing_scene (0.00s)
=== RUN   TestSkillHandler_Create
time=2026-01-10T16:08:53.495-03:00 level=INFO msg="tenant created" tenant_id=1ddc15eb-30a3-4144-a542-80c4461bd015 name="Test Tenant"
time=2026-01-10T16:08:53.496-03:00 level=INFO msg="RPG system created" rpg_system_id=f450dcd3-addc-4fc5-b7a6-cea6d77c2651 name="Test RPG System"
=== RUN   TestSkillHandler_Create/successful_creation
time=2026-01-10T16:08:53.497-03:00 level=INFO msg="skill created" skill_id=4eb0640a-c0fd-41f4-9168-dc4839db0d18 name="Test Skill"
=== RUN   TestSkillHandler_Create/missing_tenant_id
--- PASS: TestSkillHandler_Create (0.16s)
    --- PASS: TestSkillHandler_Create/successful_creation (0.00s)
    --- PASS: TestSkillHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSkillHandler_Get
time=2026-01-10T16:08:53.658-03:00 level=INFO msg="tenant created" tenant_id=3d618126-28d6-4a02-bc4c-6c5464259c27 name="Test Tenant"
time=2026-01-10T16:08:53.659-03:00 level=INFO msg="RPG system created" rpg_system_id=40654a77-3592-4cee-9901-d6f764891eb0 name="Test RPG System"
time=2026-01-10T16:08:53.660-03:00 level=INFO msg="skill created" skill_id=3cea8406-d135-460b-a312-8d54bd32ffb1 name="Get Test Skill"
=== RUN   TestSkillHandler_Get/existing_skill
=== RUN   TestSkillHandler_Get/non-existing_skill
time=2026-01-10T16:08:53.661-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Get (0.16s)
    --- PASS: TestSkillHandler_Get/existing_skill (0.00s)
    --- PASS: TestSkillHandler_Get/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_List
time=2026-01-10T16:08:53.838-03:00 level=INFO msg="tenant created" tenant_id=63522046-448f-463e-b234-187a7cd3e8c2 name="Test Tenant"
time=2026-01-10T16:08:53.841-03:00 level=INFO msg="RPG system created" rpg_system_id=2c960592-14b1-4c88-9773-6eacafc39a4a name="Test RPG System"
time=2026-01-10T16:08:53.843-03:00 level=INFO msg="skill created" skill_id=c28d746d-93e2-4a48-9ef4-c8b6bdd165c1 name="Skill 1"
time=2026-01-10T16:08:53.844-03:00 level=INFO msg="skill created" skill_id=ea6ba162-fe85-4cde-952b-577c9660badc name="Skill 2"
time=2026-01-10T16:08:53.845-03:00 level=INFO msg="skill created" skill_id=757a845a-78c9-4ff7-b2cf-419c318ac67b name="Skill 3"
=== RUN   TestSkillHandler_List/list_skills
--- PASS: TestSkillHandler_List (0.18s)
    --- PASS: TestSkillHandler_List/list_skills (0.00s)
=== RUN   TestSkillHandler_Update
time=2026-01-10T16:08:54.015-03:00 level=INFO msg="tenant created" tenant_id=e25c1aee-2332-46e6-b543-76669bd8a31d name="Test Tenant"
time=2026-01-10T16:08:54.016-03:00 level=INFO msg="RPG system created" rpg_system_id=bba69987-2e6a-46a1-be6f-744ceb1e1a02 name="Test RPG System"
time=2026-01-10T16:08:54.019-03:00 level=INFO msg="skill created" skill_id=52ee3b65-489b-4291-88d2-b1b42887dbb8 name="Original Skill"
=== RUN   TestSkillHandler_Update/update_skill_name
time=2026-01-10T16:08:54.020-03:00 level=INFO msg="skill updated" skill_id=52ee3b65-489b-4291-88d2-b1b42887dbb8
=== RUN   TestSkillHandler_Update/non-existing_skill
--- PASS: TestSkillHandler_Update (0.18s)
    --- PASS: TestSkillHandler_Update/update_skill_name (0.00s)
    --- PASS: TestSkillHandler_Update/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_Delete
time=2026-01-10T16:08:54.198-03:00 level=INFO msg="tenant created" tenant_id=b9a1f10a-8a64-49a8-a992-ed2b460fe677 name="Test Tenant"
time=2026-01-10T16:08:54.199-03:00 level=INFO msg="RPG system created" rpg_system_id=d89fae4c-07ac-44d9-9d01-e3b80ffb8c97 name="Test RPG System"
time=2026-01-10T16:08:54.200-03:00 level=INFO msg="skill created" skill_id=a10fa0b1-a0fb-4347-a16a-13c9d4a27ff9 name="Skill to Delete"
=== RUN   TestSkillHandler_Delete/delete_existing_skill
time=2026-01-10T16:08:54.203-03:00 level=INFO msg="skill deleted" skill_id=a10fa0b1-a0fb-4347-a16a-13c9d4a27ff9
time=2026-01-10T16:08:54.204-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: a10fa0b1-a0fb-4347-a16a-13c9d4a27ff9" skill_id=a10fa0b1-a0fb-4347-a16a-13c9d4a27ff9
=== RUN   TestSkillHandler_Delete/delete_non-existing_skill
time=2026-01-10T16:08:54.204-03:00 level=ERROR msg="failed to delete skill" error="skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Delete (0.18s)
    --- PASS: TestSkillHandler_Delete/delete_existing_skill (0.00s)
    --- PASS: TestSkillHandler_Delete/delete_non-existing_skill (0.00s)
=== RUN   TestStoryHandler_Create
time=2026-01-10T16:08:54.375-03:00 level=INFO msg="tenant created" tenant_id=816d7a2d-ddd7-4d72-b2d9-19a044e8d972 name="Test Tenant"
=== RUN   TestStoryHandler_Create/successful_creation
time=2026-01-10T16:08:54.377-03:00 level=INFO msg="world created" world_id=433d21ce-18dc-4de4-967c-613668e722b3 name="World of Test Story" tenant_id=816d7a2d-ddd7-4d72-b2d9-19a044e8d972
time=2026-01-10T16:08:54.377-03:00 level=INFO msg="created implicit world for story" world_id=433d21ce-18dc-4de4-967c-613668e722b3 story_title="Test Story"
time=2026-01-10T16:08:54.379-03:00 level=INFO msg="story created" story_id=4c262380-e6bb-4b79-a823-e2d951d8142e title="Test Story" tenant_id=816d7a2d-ddd7-4d72-b2d9-19a044e8d972
=== RUN   TestStoryHandler_Create/missing_tenant_id
=== RUN   TestStoryHandler_Create/empty_title
--- PASS: TestStoryHandler_Create (0.18s)
    --- PASS: TestStoryHandler_Create/successful_creation (0.00s)
    --- PASS: TestStoryHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestStoryHandler_Create/empty_title (0.00s)
=== RUN   TestStoryHandler_Get
time=2026-01-10T16:08:54.536-03:00 level=INFO msg="tenant created" tenant_id=58297cbe-aee5-4cee-af83-9377c053ce3c name="Test Tenant"
time=2026-01-10T16:08:54.538-03:00 level=INFO msg="world created" world_id=c7482bb8-cba2-4e75-8978-5f4017c5866f name="World of Get Test Story" tenant_id=58297cbe-aee5-4cee-af83-9377c053ce3c
time=2026-01-10T16:08:54.538-03:00 level=INFO msg="created implicit world for story" world_id=c7482bb8-cba2-4e75-8978-5f4017c5866f story_title="Get Test Story"
time=2026-01-10T16:08:54.539-03:00 level=INFO msg="story created" story_id=a0c698d2-60b9-4a8e-a337-579cf123be26 title="Get Test Story" tenant_id=58297cbe-aee5-4cee-af83-9377c053ce3c
=== RUN   TestStoryHandler_Get/existing_story
=== RUN   TestStoryHandler_Get/non-existing_story
time=2026-01-10T16:08:54.539-03:00 level=ERROR msg="failed to get story" error="story not found: 00000000-0000-0000-0000-000000000000" story_id=00000000-0000-0000-0000-000000000000 tenant_id=58297cbe-aee5-4cee-af83-9377c053ce3c
--- PASS: TestStoryHandler_Get (0.16s)
    --- PASS: TestStoryHandler_Get/existing_story (0.00s)
    --- PASS: TestStoryHandler_Get/non-existing_story (0.00s)
=== RUN   TestStoryHandler_List
time=2026-01-10T16:08:54.707-03:00 level=INFO msg="tenant created" tenant_id=0c6a68fb-9c6b-4ab1-8704-b32949107cda name="Test Tenant"
time=2026-01-10T16:08:54.708-03:00 level=INFO msg="world created" world_id=0c5a0025-f5d7-41d4-ba61-bf61a4e27580 name="World of Story 1" tenant_id=0c6a68fb-9c6b-4ab1-8704-b32949107cda
time=2026-01-10T16:08:54.709-03:00 level=INFO msg="created implicit world for story" world_id=0c5a0025-f5d7-41d4-ba61-bf61a4e27580 story_title="Story 1"
time=2026-01-10T16:08:54.713-03:00 level=INFO msg="story created" story_id=1b2cfe7f-ae60-4fe4-9860-b51e3d650887 title="Story 1" tenant_id=0c6a68fb-9c6b-4ab1-8704-b32949107cda
time=2026-01-10T16:08:54.714-03:00 level=INFO msg="world created" world_id=8683af15-c9e5-46f3-8012-c69abe8ccd90 name="World of Story 2" tenant_id=0c6a68fb-9c6b-4ab1-8704-b32949107cda
time=2026-01-10T16:08:54.714-03:00 level=INFO msg="created implicit world for story" world_id=8683af15-c9e5-46f3-8012-c69abe8ccd90 story_title="Story 2"
time=2026-01-10T16:08:54.715-03:00 level=INFO msg="story created" story_id=eb3a8f95-d286-4a07-b010-58f43ab3dba9 title="Story 2" tenant_id=0c6a68fb-9c6b-4ab1-8704-b32949107cda
time=2026-01-10T16:08:54.716-03:00 level=INFO msg="world created" world_id=e70db8bc-4a91-43f1-a46d-e5a67d16ea2a name="World of Story 3" tenant_id=0c6a68fb-9c6b-4ab1-8704-b32949107cda
time=2026-01-10T16:08:54.716-03:00 level=INFO msg="created implicit world for story" world_id=e70db8bc-4a91-43f1-a46d-e5a67d16ea2a story_title="Story 3"
time=2026-01-10T16:08:54.716-03:00 level=INFO msg="story created" story_id=ab864e0a-6b00-48c6-9157-44b7f68b40ff title="Story 3" tenant_id=0c6a68fb-9c6b-4ab1-8704-b32949107cda
=== RUN   TestStoryHandler_List/list_stories
=== RUN   TestStoryHandler_List/missing_tenant_id
--- PASS: TestStoryHandler_List (0.18s)
    --- PASS: TestStoryHandler_List/list_stories (0.01s)
    --- PASS: TestStoryHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTenantHandler_Create
=== RUN   TestTenantHandler_Create/successful_creation
time=2026-01-10T16:08:54.866-03:00 level=INFO msg="tenant created" tenant_id=cef6478a-9b54-4356-987f-91b63f7134bd name="Test Tenant"
=== RUN   TestTenantHandler_Create/duplicate_name
time=2026-01-10T16:08:54.867-03:00 level=INFO msg="tenant created" tenant_id=07f8e561-64b3-445d-a681-8b42e8d59ffe name="Duplicate Tenant"
=== RUN   TestTenantHandler_Create/empty_name
=== RUN   TestTenantHandler_Create/invalid_JSON
--- PASS: TestTenantHandler_Create (0.15s)
    --- PASS: TestTenantHandler_Create/successful_creation (0.00s)
    --- PASS: TestTenantHandler_Create/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_Create/empty_name (0.00s)
    --- PASS: TestTenantHandler_Create/invalid_JSON (0.00s)
=== RUN   TestTenantHandler_Get
time=2026-01-10T16:08:55.019-03:00 level=INFO msg="tenant created" tenant_id=cc171560-f6e7-4c9c-9c6c-a0f2a77e9396 name="Get Test Tenant"
=== RUN   TestTenantHandler_Get/existing_tenant
=== RUN   TestTenantHandler_Get/invalid_UUID
=== RUN   TestTenantHandler_Get/non-existing_tenant
--- PASS: TestTenantHandler_Get (0.15s)
    --- PASS: TestTenantHandler_Get/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_Get/invalid_UUID (0.00s)
    --- PASS: TestTenantHandler_Get/non-existing_tenant (0.00s)
=== RUN   TestTraitHandler_Create
time=2026-01-10T16:08:55.156-03:00 level=INFO msg="tenant created" tenant_id=fd48b59d-eabe-4a1b-b14a-ab6bbaf39136 name="Test Tenant"
=== RUN   TestTraitHandler_Create/successful_creation
time=2026-01-10T16:08:55.158-03:00 level=INFO msg="trait created" trait_id=642c892d-213c-4cf4-952b-777e8973f659 name=Brave
=== RUN   TestTraitHandler_Create/missing_tenant_id
=== RUN   TestTraitHandler_Create/empty_name
--- PASS: TestTraitHandler_Create (0.14s)
    --- PASS: TestTraitHandler_Create/successful_creation (0.00s)
    --- PASS: TestTraitHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestTraitHandler_Create/empty_name (0.00s)
=== RUN   TestTraitHandler_Get
time=2026-01-10T16:08:55.291-03:00 level=INFO msg="tenant created" tenant_id=072657d2-1bcb-4b15-810e-681ed457e752 name="Test Tenant"
time=2026-01-10T16:08:55.292-03:00 level=INFO msg="trait created" trait_id=8e54f873-fbae-4a2d-b068-e796191dbbc8 name="Get Test Trait"
=== RUN   TestTraitHandler_Get/existing_trait
=== RUN   TestTraitHandler_Get/non-existing_trait
time=2026-01-10T16:08:55.294-03:00 level=ERROR msg="failed to get trait" error="trait not found: 00000000-0000-0000-0000-000000000000" trait_id=00000000-0000-0000-0000-000000000000
=== RUN   TestTraitHandler_Get/invalid_trait_ID
--- PASS: TestTraitHandler_Get (0.14s)
    --- PASS: TestTraitHandler_Get/existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/non-existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/invalid_trait_ID (0.00s)
=== RUN   TestTraitHandler_List
time=2026-01-10T16:08:55.445-03:00 level=INFO msg="tenant created" tenant_id=692dbb06-1660-43fd-9a4d-739a3ca5ab0b name="Test Tenant"
time=2026-01-10T16:08:55.447-03:00 level=INFO msg="trait created" trait_id=4d1e2e62-e5a8-4b17-acdc-e3b2a84c0838 name="Trait 1"
time=2026-01-10T16:08:55.448-03:00 level=INFO msg="trait created" trait_id=1b1df89c-0744-4090-ad11-97415a7626ac name="Trait 2"
time=2026-01-10T16:08:55.449-03:00 level=INFO msg="trait created" trait_id=7fff4ec5-f0bb-4b1d-9fce-cce39a92f53f name="Trait 3"
=== RUN   TestTraitHandler_List/list_traits
=== RUN   TestTraitHandler_List/missing_tenant_id
--- PASS: TestTraitHandler_List (0.15s)
    --- PASS: TestTraitHandler_List/list_traits (0.00s)
    --- PASS: TestTraitHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTraitHandler_Update
time=2026-01-10T16:08:55.604-03:00 level=INFO msg="tenant created" tenant_id=e5ed7888-62b7-47c3-8d3d-ce94c2b635e6 name="Test Tenant"
time=2026-01-10T16:08:55.606-03:00 level=INFO msg="trait created" trait_id=b4ba7e4b-d914-4f5d-9873-1ff13f7a75f2 name="Original Trait"
=== RUN   TestTraitHandler_Update/update_trait_name
time=2026-01-10T16:08:55.607-03:00 level=INFO msg="trait updated" trait_id=b4ba7e4b-d914-4f5d-9873-1ff13f7a75f2 name="Updated Trait"
=== RUN   TestTraitHandler_Update/non-existing_trait
--- PASS: TestTraitHandler_Update (0.16s)
    --- PASS: TestTraitHandler_Update/update_trait_name (0.00s)
    --- PASS: TestTraitHandler_Update/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_Delete
time=2026-01-10T16:08:55.763-03:00 level=INFO msg="tenant created" tenant_id=a706c29d-8644-4a96-b4bc-7a885dfa3cc9 name="Test Tenant"
time=2026-01-10T16:08:55.765-03:00 level=INFO msg="trait created" trait_id=5a8d44e7-c4ce-4dfa-8c79-5c2eaecc2c6e name="Trait to Delete"
=== RUN   TestTraitHandler_Delete/delete_existing_trait
time=2026-01-10T16:08:55.767-03:00 level=INFO msg="trait deleted" trait_id=5a8d44e7-c4ce-4dfa-8c79-5c2eaecc2c6e name="Trait to Delete"
time=2026-01-10T16:08:55.767-03:00 level=ERROR msg="failed to get trait" error="trait not found: 5a8d44e7-c4ce-4dfa-8c79-5c2eaecc2c6e" trait_id=5a8d44e7-c4ce-4dfa-8c79-5c2eaecc2c6e
=== RUN   TestTraitHandler_Delete/delete_non-existing_trait
--- PASS: TestTraitHandler_Delete (0.16s)
    --- PASS: TestTraitHandler_Delete/delete_existing_trait (0.00s)
    --- PASS: TestTraitHandler_Delete/delete_non-existing_trait (0.00s)
=== RUN   TestWorldHandler_Create
time=2026-01-10T16:08:55.934-03:00 level=INFO msg="tenant created" tenant_id=f7a4b114-e439-4033-8567-282d2c14c0cb name="Test Tenant"
=== RUN   TestWorldHandler_Create/successful_creation
time=2026-01-10T16:08:55.936-03:00 level=INFO msg="world created" world_id=dfed85a1-43b9-4744-9e45-63ef136077e0 name="Test World" tenant_id=f7a4b114-e439-4033-8567-282d2c14c0cb
=== RUN   TestWorldHandler_Create/missing_tenant_id
=== RUN   TestWorldHandler_Create/empty_name
--- PASS: TestWorldHandler_Create (0.17s)
    --- PASS: TestWorldHandler_Create/successful_creation (0.00s)
    --- PASS: TestWorldHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestWorldHandler_Create/empty_name (0.00s)
=== RUN   TestWorldHandler_Get
time=2026-01-10T16:08:56.115-03:00 level=INFO msg="tenant created" tenant_id=f85296a7-f415-4b99-945d-c95a1add4477 name="Test Tenant"
time=2026-01-10T16:08:56.116-03:00 level=INFO msg="world created" world_id=b9c71717-4900-4ccf-a800-825a346e7f68 name="Get Test World" tenant_id=f85296a7-f415-4b99-945d-c95a1add4477
=== RUN   TestWorldHandler_Get/existing_world
=== RUN   TestWorldHandler_Get/non-existing_world
time=2026-01-10T16:08:56.117-03:00 level=ERROR msg="failed to get world" error="world not found: 00000000-0000-0000-0000-000000000000" world_id=00000000-0000-0000-0000-000000000000
=== RUN   TestWorldHandler_Get/invalid_world_ID
--- PASS: TestWorldHandler_Get (0.19s)
    --- PASS: TestWorldHandler_Get/existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_List
time=2026-01-10T16:08:56.294-03:00 level=INFO msg="tenant created" tenant_id=c6da67dc-8176-4ecc-a5e2-f038d2b80e91 name="Test Tenant"
time=2026-01-10T16:08:56.295-03:00 level=INFO msg="world created" world_id=ec09de32-30de-4d92-9834-447016bfeba6 name="World 1" tenant_id=c6da67dc-8176-4ecc-a5e2-f038d2b80e91
time=2026-01-10T16:08:56.296-03:00 level=INFO msg="world created" world_id=0c27011d-1700-4523-aaad-46a0183e0c2e name="World 2" tenant_id=c6da67dc-8176-4ecc-a5e2-f038d2b80e91
time=2026-01-10T16:08:56.296-03:00 level=INFO msg="world created" world_id=e1aa356e-08f8-40cc-bd03-46f29a52f0a9 name="World 3" tenant_id=c6da67dc-8176-4ecc-a5e2-f038d2b80e91
=== RUN   TestWorldHandler_List/list_worlds
=== RUN   TestWorldHandler_List/missing_tenant_id
--- PASS: TestWorldHandler_List (0.18s)
    --- PASS: TestWorldHandler_List/list_worlds (0.00s)
    --- PASS: TestWorldHandler_List/missing_tenant_id (0.00s)
=== RUN   TestWorldHandler_Update
time=2026-01-10T16:08:56.478-03:00 level=INFO msg="tenant created" tenant_id=3819aef3-0443-4c5a-9667-3d01de2efa63 name="Test Tenant"
time=2026-01-10T16:08:56.480-03:00 level=INFO msg="world created" world_id=04fb2bec-f4d3-4815-abac-db4bc27b9c6c name="Original World" tenant_id=3819aef3-0443-4c5a-9667-3d01de2efa63
=== RUN   TestWorldHandler_Update/update_world_name
time=2026-01-10T16:08:56.481-03:00 level=INFO msg="world updated" world_id=04fb2bec-f4d3-4815-abac-db4bc27b9c6c name="Updated World"
=== RUN   TestWorldHandler_Update/non-existing_world
--- PASS: TestWorldHandler_Update (0.18s)
    --- PASS: TestWorldHandler_Update/update_world_name (0.00s)
    --- PASS: TestWorldHandler_Update/non-existing_world (0.00s)
=== RUN   TestWorldHandler_Delete
time=2026-01-10T16:08:56.652-03:00 level=INFO msg="tenant created" tenant_id=2085c9b5-e442-4a13-9f8a-dde4ecf4f256 name="Test Tenant"
time=2026-01-10T16:08:56.654-03:00 level=INFO msg="world created" world_id=d76d00b9-e049-4b0d-972f-d3499ea4d133 name="World to Delete" tenant_id=2085c9b5-e442-4a13-9f8a-dde4ecf4f256
=== RUN   TestWorldHandler_Delete/delete_existing_world
time=2026-01-10T16:08:56.658-03:00 level=INFO msg="world deleted" world_id=d76d00b9-e049-4b0d-972f-d3499ea4d133 name="World to Delete"
time=2026-01-10T16:08:56.658-03:00 level=ERROR msg="failed to get world" error="world not found: d76d00b9-e049-4b0d-972f-d3499ea4d133" world_id=d76d00b9-e049-4b0d-972f-d3499ea4d133
=== RUN   TestWorldHandler_Delete/delete_non-existing_world
--- PASS: TestWorldHandler_Delete (0.17s)
    --- PASS: TestWorldHandler_Delete/delete_existing_world (0.00s)
    --- PASS: TestWorldHandler_Delete/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/http/handlers	17.665s
?   	github.com/story-engine/main-service/internal/transport/http/middleware	[no test files]
?   	github.com/story-engine/main-service/proto/archetype	[no test files]
?   	github.com/story-engine/main-service/proto/artifact	[no test files]
?   	github.com/story-engine/main-service/proto/artifact_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/beat	[no test files]
?   	github.com/story-engine/main-service/proto/chapter	[no test files]
?   	github.com/story-engine/main-service/proto/character	[no test files]
?   	github.com/story-engine/main-service/proto/character_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/character_skill	[no test files]
?   	github.com/story-engine/main-service/proto/common	[no test files]
?   	github.com/story-engine/main-service/proto/content_block	[no test files]
?   	github.com/story-engine/main-service/proto/entity_relation	[no test files]
?   	github.com/story-engine/main-service/proto/event	[no test files]
?   	github.com/story-engine/main-service/proto/faction	[no test files]
?   	github.com/story-engine/main-service/proto/inventory	[no test files]
?   	github.com/story-engine/main-service/proto/location	[no test files]
?   	github.com/story-engine/main-service/proto/lore	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_class	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_system	[no test files]
?   	github.com/story-engine/main-service/proto/scene	[no test files]
?   	github.com/story-engine/main-service/proto/skill	[no test files]
?   	github.com/story-engine/main-service/proto/story	[no test files]
?   	github.com/story-engine/main-service/proto/tenant	[no test files]
?   	github.com/story-engine/main-service/proto/trait	[no test files]
?   	github.com/story-engine/main-service/proto/world	[no test files]
