Checking if PostgreSQL is running locally...
PostgreSQL is ready!
Creating database if it doesn't exist...
Database 'storyengine' already exists
Running integration tests with database cloning...
go test -v -tags=integration ./... 2>&1 | tee /tmp/gotest-integration.log
?   	github.com/story-engine/main-service/cmd/api-grpc	[no test files]
?   	github.com/story-engine/main-service/cmd/api-http	[no test files]
?   	github.com/story-engine/main-service/cmd/api-offline	[no test files]
=== RUN   TestMembershipRepository_Create
=== RUN   TestMembershipRepository_Create/successful_creation
=== RUN   TestMembershipRepository_Create/duplicate_tenant-user_constraint
--- PASS: TestMembershipRepository_Create (1.00s)
    --- PASS: TestMembershipRepository_Create/successful_creation (0.00s)
    --- PASS: TestMembershipRepository_Create/duplicate_tenant-user_constraint (0.00s)
=== RUN   TestMembershipRepository_GetByID
=== RUN   TestMembershipRepository_GetByID/existing_membership
=== RUN   TestMembershipRepository_GetByID/non-existing_membership
--- PASS: TestMembershipRepository_GetByID (0.38s)
    --- PASS: TestMembershipRepository_GetByID/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByID/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_GetByTenantAndUser
=== RUN   TestMembershipRepository_GetByTenantAndUser/existing_membership
=== RUN   TestMembershipRepository_GetByTenantAndUser/non-existing_membership
--- PASS: TestMembershipRepository_GetByTenantAndUser (0.22s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_ListByTenant
--- PASS: TestMembershipRepository_ListByTenant (0.23s)
=== RUN   TestMembershipRepository_ListByUser
--- PASS: TestMembershipRepository_ListByUser (0.25s)
=== RUN   TestMembershipRepository_Update
--- PASS: TestMembershipRepository_Update (0.23s)
=== RUN   TestMembershipRepository_Delete
--- PASS: TestMembershipRepository_Delete (0.24s)
=== RUN   TestMembershipRepository_CountOwnersByTenant
--- PASS: TestMembershipRepository_CountOwnersByTenant (0.24s)
=== RUN   TestUserRepository_Create
=== RUN   TestUserRepository_Create/successful_creation
=== RUN   TestUserRepository_Create/duplicate_email_constraint
--- PASS: TestUserRepository_Create (0.37s)
    --- PASS: TestUserRepository_Create/successful_creation (0.00s)
    --- PASS: TestUserRepository_Create/duplicate_email_constraint (0.00s)
=== RUN   TestUserRepository_GetByID
=== RUN   TestUserRepository_GetByID/existing_user
=== RUN   TestUserRepository_GetByID/non-existing_user
--- PASS: TestUserRepository_GetByID (0.25s)
    --- PASS: TestUserRepository_GetByID/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByID/non-existing_user (0.00s)
=== RUN   TestUserRepository_GetByEmail
=== RUN   TestUserRepository_GetByEmail/existing_user
=== RUN   TestUserRepository_GetByEmail/non-existing_email
--- PASS: TestUserRepository_GetByEmail (0.26s)
    --- PASS: TestUserRepository_GetByEmail/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByEmail/non-existing_email (0.00s)
=== RUN   TestUserRepository_Update
--- PASS: TestUserRepository_Update (0.25s)
=== RUN   TestUserRepository_Delete
--- PASS: TestUserRepository_Delete (0.24s)
=== RUN   TestUserRepository_List
=== RUN   TestUserRepository_List/list_with_limit
=== RUN   TestUserRepository_List/list_with_offset
=== RUN   TestUserRepository_List/list_all
--- PASS: TestUserRepository_List (0.22s)
    --- PASS: TestUserRepository_List/list_with_limit (0.00s)
    --- PASS: TestUserRepository_List/list_with_offset (0.00s)
    --- PASS: TestUserRepository_List/list_all (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/postgres	(cached)
# github.com/story-engine/main-service/internal/transport/http/handlers [github.com/story-engine/main-service/internal/transport/http/handlers.test]
internal/transport/http/handlers/character_rpg_stats_handler_test.go:46: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/character_rpg_stats_handler_test.go:155: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/character_skill_handler_test.go:48: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/character_skill_handler_test.go:225: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/content_block_reference_handler_test.go:94: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/faction_handler_test.go:196: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/inventory_handler_test.go:49: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/inventory_handler_test.go:232: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/inventory_handler_test.go:332: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/lore_handler_test.go:196: not enough arguments in call to NewCharacterHandler
	have (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
	want (*"github.com/story-engine/main-service/internal/application/world/character".CreateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".ListCharactersUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".DeleteCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".AddTraitToCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".RemoveTraitFromCharacterUseCase, *"github.com/story-engine/main-service/internal/application/world/character".UpdateCharacterTraitUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterTraitsUseCase, *"github.com/story-engine/main-service/internal/application/world/character".GetCharacterEventsUseCase, *character_relationship.CreateCharacterRelationshipUseCase, *character_relationship.GetCharacterRelationshipUseCase, *character_relationship.ListCharacterRelationshipsUseCase, *character_relationship.UpdateCharacterRelationshipUseCase, *character_relationship.DeleteCharacterRelationshipUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".ChangeCharacterClassUseCase, *"github.com/story-engine/main-service/internal/application/rpg/character".GetAvailableClassesUseCase, logger.Logger)
internal/transport/http/handlers/lore_handler_test.go:196: too many errors
=== RUN   TestArchetypeRepository_Create
=== RUN   TestArchetypeRepository_Create/successful_creation
=== RUN   TestArchetypeRepository_Create/creation_with_description
--- PASS: TestArchetypeRepository_Create (0.01s)
    --- PASS: TestArchetypeRepository_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeRepository_Create/creation_with_description (0.00s)
=== RUN   TestArchetypeRepository_GetByID
=== RUN   TestArchetypeRepository_GetByID/existing_archetype
=== RUN   TestArchetypeRepository_GetByID/non-existent_archetype
--- PASS: TestArchetypeRepository_GetByID (0.01s)
    --- PASS: TestArchetypeRepository_GetByID/existing_archetype (0.00s)
    --- PASS: TestArchetypeRepository_GetByID/non-existent_archetype (0.00s)
=== RUN   TestArchetypeRepository_ListByTenant
=== RUN   TestArchetypeRepository_ListByTenant/empty_list
=== RUN   TestArchetypeRepository_ListByTenant/list_with_archetypes
=== RUN   TestArchetypeRepository_ListByTenant/pagination
=== RUN   TestArchetypeRepository_ListByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_ListByTenant (0.01s)
    --- PASS: TestArchetypeRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/list_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeRepository_Update
=== RUN   TestArchetypeRepository_Update/successful_update
--- PASS: TestArchetypeRepository_Update (0.01s)
    --- PASS: TestArchetypeRepository_Update/successful_update (0.00s)
=== RUN   TestArchetypeRepository_Delete
=== RUN   TestArchetypeRepository_Delete/successful_delete
--- PASS: TestArchetypeRepository_Delete (0.01s)
    --- PASS: TestArchetypeRepository_Delete/successful_delete (0.00s)
=== RUN   TestArchetypeRepository_CountByTenant
=== RUN   TestArchetypeRepository_CountByTenant/empty_count
=== RUN   TestArchetypeRepository_CountByTenant/count_with_archetypes
=== RUN   TestArchetypeRepository_CountByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_CountByTenant (0.01s)
    --- PASS: TestArchetypeRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/count_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeTraitRepository_Create
=== RUN   TestArchetypeTraitRepository_Create/successful_creation
--- PASS: TestArchetypeTraitRepository_Create (0.01s)
    --- PASS: TestArchetypeTraitRepository_Create/successful_creation (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByArchetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/empty_list
--- PASS: TestArchetypeTraitRepository_GetByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype (0.00s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/empty_list (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByTrait
=== RUN   TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait
--- PASS: TestArchetypeTraitRepository_GetByTrait (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait (0.00s)
=== RUN   TestArchetypeTraitRepository_Delete
=== RUN   TestArchetypeTraitRepository_Delete/delete_specific_relationship
--- PASS: TestArchetypeTraitRepository_Delete (0.01s)
    --- PASS: TestArchetypeTraitRepository_Delete/delete_specific_relationship (0.00s)
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype
--- PASS: TestArchetypeTraitRepository_DeleteByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype (0.00s)
=== RUN   TestArtifactReferenceRepository_Create
=== RUN   TestArtifactReferenceRepository_Create/successful_creation_with_character
=== RUN   TestArtifactReferenceRepository_Create/successful_creation_with_location
--- PASS: TestArtifactReferenceRepository_Create (0.01s)
    --- PASS: TestArtifactReferenceRepository_Create/successful_creation_with_character (0.00s)
    --- PASS: TestArtifactReferenceRepository_Create/successful_creation_with_location (0.00s)
=== RUN   TestArtifactReferenceRepository_GetByID
=== RUN   TestArtifactReferenceRepository_GetByID/existing_artifact_reference
=== RUN   TestArtifactReferenceRepository_GetByID/non-existent_artifact_reference
--- PASS: TestArtifactReferenceRepository_GetByID (0.01s)
    --- PASS: TestArtifactReferenceRepository_GetByID/existing_artifact_reference (0.00s)
    --- PASS: TestArtifactReferenceRepository_GetByID/non-existent_artifact_reference (0.00s)
=== RUN   TestArtifactReferenceRepository_ListByArtifact
=== RUN   TestArtifactReferenceRepository_ListByArtifact/empty_list
=== RUN   TestArtifactReferenceRepository_ListByArtifact/list_with_references
--- PASS: TestArtifactReferenceRepository_ListByArtifact (0.03s)
    --- PASS: TestArtifactReferenceRepository_ListByArtifact/empty_list (0.00s)
    --- PASS: TestArtifactReferenceRepository_ListByArtifact/list_with_references (0.02s)
=== RUN   TestArtifactReferenceRepository_ListByEntity
=== RUN   TestArtifactReferenceRepository_ListByEntity/list_by_character
=== RUN   TestArtifactReferenceRepository_ListByEntity/list_by_location
=== RUN   TestArtifactReferenceRepository_ListByEntity/empty_list
--- PASS: TestArtifactReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestArtifactReferenceRepository_ListByEntity/list_by_character (0.00s)
    --- PASS: TestArtifactReferenceRepository_ListByEntity/list_by_location (0.00s)
    --- PASS: TestArtifactReferenceRepository_ListByEntity/empty_list (0.00s)
=== RUN   TestArtifactReferenceRepository_Delete
=== RUN   TestArtifactReferenceRepository_Delete/successful_delete
--- PASS: TestArtifactReferenceRepository_Delete (0.01s)
    --- PASS: TestArtifactReferenceRepository_Delete/successful_delete (0.00s)
=== RUN   TestArtifactReferenceRepository_DeleteByArtifact
=== RUN   TestArtifactReferenceRepository_DeleteByArtifact/delete_all_references_for_artifact
--- PASS: TestArtifactReferenceRepository_DeleteByArtifact (0.01s)
    --- PASS: TestArtifactReferenceRepository_DeleteByArtifact/delete_all_references_for_artifact (0.00s)
=== RUN   TestArtifactReferenceRepository_DeleteByArtifactAndEntity
=== RUN   TestArtifactReferenceRepository_DeleteByArtifactAndEntity/delete_specific_artifact-entity_reference
--- PASS: TestArtifactReferenceRepository_DeleteByArtifactAndEntity (0.01s)
    --- PASS: TestArtifactReferenceRepository_DeleteByArtifactAndEntity/delete_specific_artifact-entity_reference (0.00s)
=== RUN   TestArtifactRepository_Create
=== RUN   TestArtifactRepository_Create/successful_creation
=== RUN   TestArtifactRepository_Create/successful_creation_with_description
=== RUN   TestArtifactRepository_Create/successful_creation_with_rarity
--- PASS: TestArtifactRepository_Create (0.01s)
    --- PASS: TestArtifactRepository_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_rarity (0.00s)
=== RUN   TestArtifactRepository_GetByID
=== RUN   TestArtifactRepository_GetByID/existing_artifact
=== RUN   TestArtifactRepository_GetByID/non-existent_artifact
--- PASS: TestArtifactRepository_GetByID (0.01s)
    --- PASS: TestArtifactRepository_GetByID/existing_artifact (0.00s)
    --- PASS: TestArtifactRepository_GetByID/non-existent_artifact (0.00s)
=== RUN   TestArtifactRepository_ListByWorld
=== RUN   TestArtifactRepository_ListByWorld/empty_list
=== RUN   TestArtifactRepository_ListByWorld/list_with_artifacts
=== RUN   TestArtifactRepository_ListByWorld/pagination
--- PASS: TestArtifactRepository_ListByWorld (0.10s)
    --- PASS: TestArtifactRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestArtifactRepository_ListByWorld/list_with_artifacts (0.03s)
    --- PASS: TestArtifactRepository_ListByWorld/pagination (0.05s)
=== RUN   TestArtifactRepository_Update
=== RUN   TestArtifactRepository_Update/successful_update
--- PASS: TestArtifactRepository_Update (0.01s)
    --- PASS: TestArtifactRepository_Update/successful_update (0.00s)
=== RUN   TestArtifactRepository_Delete
=== RUN   TestArtifactRepository_Delete/successful_delete
--- PASS: TestArtifactRepository_Delete (0.01s)
    --- PASS: TestArtifactRepository_Delete/successful_delete (0.00s)
=== RUN   TestArtifactRepository_CountByWorld
=== RUN   TestArtifactRepository_CountByWorld/empty_count
=== RUN   TestArtifactRepository_CountByWorld/count_with_artifacts
--- PASS: TestArtifactRepository_CountByWorld (0.01s)
    --- PASS: TestArtifactRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestArtifactRepository_CountByWorld/count_with_artifacts (0.00s)
=== RUN   TestBeatRepository_Create
=== RUN   TestBeatRepository_Create/successful_creation
=== RUN   TestBeatRepository_Create/creation_with_intent_and_outcome
--- PASS: TestBeatRepository_Create (0.01s)
    --- PASS: TestBeatRepository_Create/successful_creation (0.00s)
    --- PASS: TestBeatRepository_Create/creation_with_intent_and_outcome (0.00s)
=== RUN   TestBeatRepository_GetByID
=== RUN   TestBeatRepository_GetByID/existing_beat
=== RUN   TestBeatRepository_GetByID/non-existent_beat
--- PASS: TestBeatRepository_GetByID (0.01s)
    --- PASS: TestBeatRepository_GetByID/existing_beat (0.00s)
    --- PASS: TestBeatRepository_GetByID/non-existent_beat (0.00s)
=== RUN   TestBeatRepository_ListByScene
=== RUN   TestBeatRepository_ListByScene/list_with_beats
=== RUN   TestBeatRepository_ListByScene/empty_list
--- PASS: TestBeatRepository_ListByScene (0.01s)
    --- PASS: TestBeatRepository_ListByScene/list_with_beats (0.00s)
    --- PASS: TestBeatRepository_ListByScene/empty_list (0.00s)
=== RUN   TestBeatRepository_ListBySceneOrdered
=== RUN   TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num
--- PASS: TestBeatRepository_ListBySceneOrdered (0.01s)
    --- PASS: TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestBeatRepository_ListByStory
=== RUN   TestBeatRepository_ListByStory/list_by_story
--- PASS: TestBeatRepository_ListByStory (0.01s)
    --- PASS: TestBeatRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestBeatRepository_Update
=== RUN   TestBeatRepository_Update/successful_update
--- PASS: TestBeatRepository_Update (0.01s)
    --- PASS: TestBeatRepository_Update/successful_update (0.00s)
=== RUN   TestBeatRepository_Delete
=== RUN   TestBeatRepository_Delete/successful_delete
--- PASS: TestBeatRepository_Delete (0.01s)
    --- PASS: TestBeatRepository_Delete/successful_delete (0.00s)
=== RUN   TestBeatRepository_DeleteByScene
=== RUN   TestBeatRepository_DeleteByScene/delete_all_beats_for_scene
--- PASS: TestBeatRepository_DeleteByScene (0.01s)
    --- PASS: TestBeatRepository_DeleteByScene/delete_all_beats_for_scene (0.00s)
=== RUN   TestChapterRepository_Create
=== RUN   TestChapterRepository_Create/successful_creation
=== RUN   TestChapterRepository_Create/creation_without_title
--- PASS: TestChapterRepository_Create (0.01s)
    --- PASS: TestChapterRepository_Create/successful_creation (0.00s)
    --- PASS: TestChapterRepository_Create/creation_without_title (0.00s)
=== RUN   TestChapterRepository_GetByID
=== RUN   TestChapterRepository_GetByID/existing_chapter
=== RUN   TestChapterRepository_GetByID/non-existent_chapter
--- PASS: TestChapterRepository_GetByID (0.01s)
    --- PASS: TestChapterRepository_GetByID/existing_chapter (0.00s)
    --- PASS: TestChapterRepository_GetByID/non-existent_chapter (0.00s)
=== RUN   TestChapterRepository_ListByStory
=== RUN   TestChapterRepository_ListByStory/empty_list
=== RUN   TestChapterRepository_ListByStory/list_with_chapters
--- PASS: TestChapterRepository_ListByStory (0.01s)
    --- PASS: TestChapterRepository_ListByStory/empty_list (0.00s)
    --- PASS: TestChapterRepository_ListByStory/list_with_chapters (0.00s)
=== RUN   TestChapterRepository_ListByStoryOrdered
=== RUN   TestChapterRepository_ListByStoryOrdered/list_ordered_by_number
--- PASS: TestChapterRepository_ListByStoryOrdered (0.01s)
    --- PASS: TestChapterRepository_ListByStoryOrdered/list_ordered_by_number (0.00s)
=== RUN   TestChapterRepository_Update
=== RUN   TestChapterRepository_Update/successful_update
--- PASS: TestChapterRepository_Update (0.01s)
    --- PASS: TestChapterRepository_Update/successful_update (0.00s)
=== RUN   TestChapterRepository_Delete
=== RUN   TestChapterRepository_Delete/successful_delete
--- PASS: TestChapterRepository_Delete (0.01s)
    --- PASS: TestChapterRepository_Delete/successful_delete (0.00s)
=== RUN   TestChapterRepository_DeleteByStory
=== RUN   TestChapterRepository_DeleteByStory/delete_all_chapters_for_story
--- PASS: TestChapterRepository_DeleteByStory (0.01s)
    --- PASS: TestChapterRepository_DeleteByStory/delete_all_chapters_for_story (0.00s)
=== RUN   TestCharacterRelationshipRepository_Create
=== RUN   TestCharacterRelationshipRepository_Create/successful_creation
=== RUN   TestCharacterRelationshipRepository_Create/successful_creation_without_description
--- PASS: TestCharacterRelationshipRepository_Create (0.01s)
    --- PASS: TestCharacterRelationshipRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRelationshipRepository_Create/successful_creation_without_description (0.00s)
=== RUN   TestCharacterRelationshipRepository_GetByID
=== RUN   TestCharacterRelationshipRepository_GetByID/existing_relationship
=== RUN   TestCharacterRelationshipRepository_GetByID/non-existent_relationship
--- PASS: TestCharacterRelationshipRepository_GetByID (0.01s)
    --- PASS: TestCharacterRelationshipRepository_GetByID/existing_relationship (0.00s)
    --- PASS: TestCharacterRelationshipRepository_GetByID/non-existent_relationship (0.00s)
=== RUN   TestCharacterRelationshipRepository_ListByCharacter
=== RUN   TestCharacterRelationshipRepository_ListByCharacter/empty_list
=== RUN   TestCharacterRelationshipRepository_ListByCharacter/list_with_relationships_as_character1
=== RUN   TestCharacterRelationshipRepository_ListByCharacter/list_with_relationships_as_character2
--- PASS: TestCharacterRelationshipRepository_ListByCharacter (0.01s)
    --- PASS: TestCharacterRelationshipRepository_ListByCharacter/empty_list (0.00s)
    --- PASS: TestCharacterRelationshipRepository_ListByCharacter/list_with_relationships_as_character1 (0.00s)
    --- PASS: TestCharacterRelationshipRepository_ListByCharacter/list_with_relationships_as_character2 (0.00s)
=== RUN   TestCharacterRelationshipRepository_Update
=== RUN   TestCharacterRelationshipRepository_Update/successful_update
=== RUN   TestCharacterRelationshipRepository_Update/update_description_only
--- PASS: TestCharacterRelationshipRepository_Update (0.01s)
    --- PASS: TestCharacterRelationshipRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterRelationshipRepository_Update/update_description_only (0.00s)
=== RUN   TestCharacterRelationshipRepository_Delete
=== RUN   TestCharacterRelationshipRepository_Delete/successful_delete
=== RUN   TestCharacterRelationshipRepository_Delete/delete_non-existent_relationship
=== RUN   TestCharacterRelationshipRepository_Delete/deleting_one_relationship_doesn't_affect_others
--- PASS: TestCharacterRelationshipRepository_Delete (0.01s)
    --- PASS: TestCharacterRelationshipRepository_Delete/successful_delete (0.00s)
    --- PASS: TestCharacterRelationshipRepository_Delete/delete_non-existent_relationship (0.00s)
    --- PASS: TestCharacterRelationshipRepository_Delete/deleting_one_relationship_doesn't_affect_others (0.00s)
=== RUN   TestCharacterRepository_Create
=== RUN   TestCharacterRepository_Create/successful_creation
=== RUN   TestCharacterRepository_Create/successful_creation_with_archetype
=== RUN   TestCharacterRepository_Create/successful_creation_with_class
=== RUN   TestCharacterRepository_Create/successful_creation_with_description
--- PASS: TestCharacterRepository_Create (0.01s)
    --- PASS: TestCharacterRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_archetype (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_class (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_description (0.00s)
=== RUN   TestCharacterRepository_GetByID
=== RUN   TestCharacterRepository_GetByID/existing_character
=== RUN   TestCharacterRepository_GetByID/non-existent_character
--- PASS: TestCharacterRepository_GetByID (0.01s)
    --- PASS: TestCharacterRepository_GetByID/existing_character (0.00s)
    --- PASS: TestCharacterRepository_GetByID/non-existent_character (0.00s)
=== RUN   TestCharacterRepository_ListByWorld
=== RUN   TestCharacterRepository_ListByWorld/empty_list
=== RUN   TestCharacterRepository_ListByWorld/list_with_characters
=== RUN   TestCharacterRepository_ListByWorld/pagination
--- PASS: TestCharacterRepository_ListByWorld (0.10s)
    --- PASS: TestCharacterRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestCharacterRepository_ListByWorld/list_with_characters (0.03s)
    --- PASS: TestCharacterRepository_ListByWorld/pagination (0.05s)
=== RUN   TestCharacterRepository_Update
=== RUN   TestCharacterRepository_Update/successful_update
=== RUN   TestCharacterRepository_Update/update_archetype
=== RUN   TestCharacterRepository_Update/update_class
--- PASS: TestCharacterRepository_Update (0.01s)
    --- PASS: TestCharacterRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterRepository_Update/update_archetype (0.00s)
    --- PASS: TestCharacterRepository_Update/update_class (0.00s)
=== RUN   TestCharacterRepository_Delete
=== RUN   TestCharacterRepository_Delete/successful_delete
--- PASS: TestCharacterRepository_Delete (0.01s)
    --- PASS: TestCharacterRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterRepository_CountByWorld
=== RUN   TestCharacterRepository_CountByWorld/empty_count
=== RUN   TestCharacterRepository_CountByWorld/count_with_characters
--- PASS: TestCharacterRepository_CountByWorld (0.01s)
    --- PASS: TestCharacterRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestCharacterRepository_CountByWorld/count_with_characters (0.00s)
=== RUN   TestCharacterTraitRepository_Create
=== RUN   TestCharacterTraitRepository_Create/successful_creation
=== RUN   TestCharacterTraitRepository_Create/successful_creation_with_notes
=== RUN   TestCharacterTraitRepository_Create/trait_snapshot_copied
--- PASS: TestCharacterTraitRepository_Create (0.01s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation_with_notes (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/trait_snapshot_copied (0.00s)
=== RUN   TestCharacterTraitRepository_GetByID
=== RUN   TestCharacterTraitRepository_GetByID/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByID/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByID (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByID/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByID/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_GetByCharacter
=== RUN   TestCharacterTraitRepository_GetByCharacter/empty_list
=== RUN   TestCharacterTraitRepository_GetByCharacter/list_with_character-traits
--- PASS: TestCharacterTraitRepository_GetByCharacter (0.03s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/empty_list (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/list_with_character-traits (0.02s)
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_Update
=== RUN   TestCharacterTraitRepository_Update/successful_update
=== RUN   TestCharacterTraitRepository_Update/update_trait_snapshot
--- PASS: TestCharacterTraitRepository_Update (0.01s)
    --- PASS: TestCharacterTraitRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterTraitRepository_Update/update_trait_snapshot (0.00s)
=== RUN   TestCharacterTraitRepository_Delete
=== RUN   TestCharacterTraitRepository_Delete/successful_delete
--- PASS: TestCharacterTraitRepository_Delete (0.01s)
    --- PASS: TestCharacterTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterTraitRepository_DeleteByCharacter
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits
--- PASS: TestCharacterTraitRepository_DeleteByCharacter (0.01s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character (0.00s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits (0.00s)
=== RUN   TestContentBlockReferenceRepository_Create
=== RUN   TestContentBlockReferenceRepository_Create/create_with_character
=== RUN   TestContentBlockReferenceRepository_Create/create_with_location
=== RUN   TestContentBlockReferenceRepository_Create/create_with_artifact
--- PASS: TestContentBlockReferenceRepository_Create (0.01s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_location (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_artifact (0.00s)
=== RUN   TestContentBlockReferenceRepository_GetByID
=== RUN   TestContentBlockReferenceRepository_GetByID/existing_content_block_reference
=== RUN   TestContentBlockReferenceRepository_GetByID/non-existent_content_block_reference
--- PASS: TestContentBlockReferenceRepository_GetByID (0.01s)
    --- PASS: TestContentBlockReferenceRepository_GetByID/existing_content_block_reference (0.00s)
    --- PASS: TestContentBlockReferenceRepository_GetByID/non-existent_content_block_reference (0.00s)
=== RUN   TestContentBlockReferenceRepository_ListByContentBlock
=== RUN   TestContentBlockReferenceRepository_ListByContentBlock/list_by_content_block
--- PASS: TestContentBlockReferenceRepository_ListByContentBlock (0.01s)
    --- PASS: TestContentBlockReferenceRepository_ListByContentBlock/list_by_content_block (0.00s)
=== RUN   TestContentBlockReferenceRepository_ListByEntity
=== RUN   TestContentBlockReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestContentBlockReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestContentBlockReferenceRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestContentBlockReferenceRepository_Delete
=== RUN   TestContentBlockReferenceRepository_Delete/delete_by_id
=== RUN   TestContentBlockReferenceRepository_Delete/delete_by_content_block
--- PASS: TestContentBlockReferenceRepository_Delete (0.01s)
    --- PASS: TestContentBlockReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Delete/delete_by_content_block (0.00s)
=== RUN   TestContentBlockRepository_Create
=== RUN   TestContentBlockRepository_Create/successful_creation
=== RUN   TestContentBlockRepository_Create/creation_without_chapter
--- PASS: TestContentBlockRepository_Create (0.01s)
    --- PASS: TestContentBlockRepository_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockRepository_Create/creation_without_chapter (0.00s)
=== RUN   TestContentBlockRepository_GetByID
=== RUN   TestContentBlockRepository_GetByID/existing_content_block
=== RUN   TestContentBlockRepository_GetByID/non-existent_content_block
--- PASS: TestContentBlockRepository_GetByID (0.01s)
    --- PASS: TestContentBlockRepository_GetByID/existing_content_block (0.00s)
    --- PASS: TestContentBlockRepository_GetByID/non-existent_content_block (0.00s)
=== RUN   TestContentBlockRepository_ListByChapter
=== RUN   TestContentBlockRepository_ListByChapter/list_with_content_blocks
=== RUN   TestContentBlockRepository_ListByChapter/empty_list
--- PASS: TestContentBlockRepository_ListByChapter (0.01s)
    --- PASS: TestContentBlockRepository_ListByChapter/list_with_content_blocks (0.00s)
    --- PASS: TestContentBlockRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestContentBlockRepository_GetByChapterAndKind
=== RUN   TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind
--- PASS: TestContentBlockRepository_GetByChapterAndKind (0.01s)
    --- PASS: TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind (0.00s)
=== RUN   TestContentBlockRepository_Update
=== RUN   TestContentBlockRepository_Update/successful_update
--- PASS: TestContentBlockRepository_Update (0.01s)
    --- PASS: TestContentBlockRepository_Update/successful_update (0.00s)
=== RUN   TestContentBlockRepository_Delete
=== RUN   TestContentBlockRepository_Delete/successful_delete
--- PASS: TestContentBlockRepository_Delete (0.01s)
    --- PASS: TestContentBlockRepository_Delete/successful_delete (0.00s)
=== RUN   TestContentBlockRepository_DeleteByChapter
=== RUN   TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter
--- PASS: TestContentBlockRepository_DeleteByChapter (0.01s)
    --- PASS: TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter (0.00s)
=== RUN   TestEventRepository_Create
=== RUN   TestEventRepository_Create/successful_creation
=== RUN   TestEventRepository_Create/successful_creation_with_type
=== RUN   TestEventRepository_Create/successful_creation_with_description
=== RUN   TestEventRepository_Create/successful_creation_with_timeline
=== RUN   TestEventRepository_Create/successful_creation_with_importance
--- PASS: TestEventRepository_Create (0.01s)
    --- PASS: TestEventRepository_Create/successful_creation (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_type (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_timeline (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_importance (0.00s)
=== RUN   TestEventRepository_GetByID
=== RUN   TestEventRepository_GetByID/existing_event
=== RUN   TestEventRepository_GetByID/non-existent_event
--- PASS: TestEventRepository_GetByID (0.01s)
    --- PASS: TestEventRepository_GetByID/existing_event (0.00s)
    --- PASS: TestEventRepository_GetByID/non-existent_event (0.00s)
=== RUN   TestEventRepository_ListByWorld
=== RUN   TestEventRepository_ListByWorld/empty_list
=== RUN   TestEventRepository_ListByWorld/list_with_events
--- PASS: TestEventRepository_ListByWorld (0.04s)
    --- PASS: TestEventRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestEventRepository_ListByWorld/list_with_events (0.03s)
=== RUN   TestEventRepository_Update
=== RUN   TestEventRepository_Update/successful_update
=== RUN   TestEventRepository_Update/update_nullable_fields_to_nil
--- PASS: TestEventRepository_Update (0.01s)
    --- PASS: TestEventRepository_Update/successful_update (0.00s)
    --- PASS: TestEventRepository_Update/update_nullable_fields_to_nil (0.00s)
=== RUN   TestEventRepository_Delete
=== RUN   TestEventRepository_Delete/successful_delete
--- PASS: TestEventRepository_Delete (0.01s)
    --- PASS: TestEventRepository_Delete/successful_delete (0.00s)
=== RUN   TestFactionReferenceRepository_Create
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_character
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_location
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_role
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_notes
--- PASS: TestFactionReferenceRepository_Create (0.01s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_character (0.00s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_location (0.00s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_role (0.00s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_notes (0.00s)
=== RUN   TestFactionReferenceRepository_GetByID
=== RUN   TestFactionReferenceRepository_GetByID/existing_faction-reference
=== RUN   TestFactionReferenceRepository_GetByID/non-existent_faction-reference
--- PASS: TestFactionReferenceRepository_GetByID (0.01s)
    --- PASS: TestFactionReferenceRepository_GetByID/existing_faction-reference (0.00s)
    --- PASS: TestFactionReferenceRepository_GetByID/non-existent_faction-reference (0.00s)
=== RUN   TestFactionReferenceRepository_ListByFaction
=== RUN   TestFactionReferenceRepository_ListByFaction/empty_list
=== RUN   TestFactionReferenceRepository_ListByFaction/list_with_references
--- PASS: TestFactionReferenceRepository_ListByFaction (0.03s)
    --- PASS: TestFactionReferenceRepository_ListByFaction/empty_list (0.00s)
    --- PASS: TestFactionReferenceRepository_ListByFaction/list_with_references (0.02s)
=== RUN   TestFactionReferenceRepository_ListByEntity
=== RUN   TestFactionReferenceRepository_ListByEntity/list_by_character
=== RUN   TestFactionReferenceRepository_ListByEntity/list_by_location
=== RUN   TestFactionReferenceRepository_ListByEntity/empty_list
--- PASS: TestFactionReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestFactionReferenceRepository_ListByEntity/list_by_character (0.00s)
    --- PASS: TestFactionReferenceRepository_ListByEntity/list_by_location (0.00s)
    --- PASS: TestFactionReferenceRepository_ListByEntity/empty_list (0.00s)
=== RUN   TestFactionReferenceRepository_Update
=== RUN   TestFactionReferenceRepository_Update/successful_update
=== RUN   TestFactionReferenceRepository_Update/update_role_to_nil
--- PASS: TestFactionReferenceRepository_Update (0.03s)
    --- PASS: TestFactionReferenceRepository_Update/successful_update (0.00s)
    --- PASS: TestFactionReferenceRepository_Update/update_role_to_nil (0.00s)
=== RUN   TestFactionReferenceRepository_Delete
=== RUN   TestFactionReferenceRepository_Delete/successful_delete
--- PASS: TestFactionReferenceRepository_Delete (0.02s)
    --- PASS: TestFactionReferenceRepository_Delete/successful_delete (0.00s)
=== RUN   TestFactionReferenceRepository_DeleteByFaction
=== RUN   TestFactionReferenceRepository_DeleteByFaction/delete_all_references_for_faction
--- PASS: TestFactionReferenceRepository_DeleteByFaction (0.01s)
    --- PASS: TestFactionReferenceRepository_DeleteByFaction/delete_all_references_for_faction (0.00s)
=== RUN   TestFactionReferenceRepository_DeleteByFactionAndEntity
=== RUN   TestFactionReferenceRepository_DeleteByFactionAndEntity/delete_specific_faction-entity_reference
--- PASS: TestFactionReferenceRepository_DeleteByFactionAndEntity (0.01s)
    --- PASS: TestFactionReferenceRepository_DeleteByFactionAndEntity/delete_specific_faction-entity_reference (0.00s)
=== RUN   TestFactionRepository_Create
=== RUN   TestFactionRepository_Create/successful_creation_root_faction
=== RUN   TestFactionRepository_Create/successful_creation_with_parent
=== RUN   TestFactionRepository_Create/creation_with_type_and_fields
--- PASS: TestFactionRepository_Create (0.01s)
    --- PASS: TestFactionRepository_Create/successful_creation_root_faction (0.00s)
    --- PASS: TestFactionRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestFactionRepository_Create/creation_with_type_and_fields (0.00s)
=== RUN   TestFactionRepository_GetByID
=== RUN   TestFactionRepository_GetByID/existing_faction
=== RUN   TestFactionRepository_GetByID/non-existent_faction
--- PASS: TestFactionRepository_GetByID (0.01s)
    --- PASS: TestFactionRepository_GetByID/existing_faction (0.00s)
    --- PASS: TestFactionRepository_GetByID/non-existent_faction (0.00s)
=== RUN   TestFactionRepository_ListByWorld
=== RUN   TestFactionRepository_ListByWorld/empty_list
=== RUN   TestFactionRepository_ListByWorld/list_with_factions
--- PASS: TestFactionRepository_ListByWorld (0.04s)
    --- PASS: TestFactionRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestFactionRepository_ListByWorld/list_with_factions (0.03s)
=== RUN   TestFactionRepository_GetChildren
=== RUN   TestFactionRepository_GetChildren/get_direct_children
=== RUN   TestFactionRepository_GetChildren/no_children
--- PASS: TestFactionRepository_GetChildren (0.01s)
    --- PASS: TestFactionRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestFactionRepository_GetChildren/no_children (0.00s)
=== RUN   TestFactionRepository_Update
=== RUN   TestFactionRepository_Update/successful_update
=== RUN   TestFactionRepository_Update/update_parent
--- PASS: TestFactionRepository_Update (0.01s)
    --- PASS: TestFactionRepository_Update/successful_update (0.00s)
    --- PASS: TestFactionRepository_Update/update_parent (0.00s)
=== RUN   TestFactionRepository_Delete
=== RUN   TestFactionRepository_Delete/successful_delete
--- PASS: TestFactionRepository_Delete (0.01s)
    --- PASS: TestFactionRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_Create
=== RUN   TestLocationRepository_Create/successful_creation_root_location
=== RUN   TestLocationRepository_Create/successful_creation_with_parent
=== RUN   TestLocationRepository_Create/creation_with_type_and_description
--- PASS: TestLocationRepository_Create (0.01s)
    --- PASS: TestLocationRepository_Create/successful_creation_root_location (0.00s)
    --- PASS: TestLocationRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLocationRepository_Create/creation_with_type_and_description (0.00s)
=== RUN   TestLocationRepository_GetByID
=== RUN   TestLocationRepository_GetByID/existing_location
=== RUN   TestLocationRepository_GetByID/non-existent_location
--- PASS: TestLocationRepository_GetByID (0.01s)
    --- PASS: TestLocationRepository_GetByID/existing_location (0.00s)
    --- PASS: TestLocationRepository_GetByID/non-existent_location (0.00s)
=== RUN   TestLocationRepository_ListByWorld
=== RUN   TestLocationRepository_ListByWorld/empty_list
=== RUN   TestLocationRepository_ListByWorld/list_with_locations
=== RUN   TestLocationRepository_ListByWorld/pagination
--- PASS: TestLocationRepository_ListByWorld (0.10s)
    --- PASS: TestLocationRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLocationRepository_ListByWorld/list_with_locations (0.03s)
    --- PASS: TestLocationRepository_ListByWorld/pagination (0.05s)
=== RUN   TestLocationRepository_ListByWorldTree
=== RUN   TestLocationRepository_ListByWorldTree/tree_structure
--- PASS: TestLocationRepository_ListByWorldTree (0.01s)
    --- PASS: TestLocationRepository_ListByWorldTree/tree_structure (0.00s)
=== RUN   TestLocationRepository_GetChildren
=== RUN   TestLocationRepository_GetChildren/get_direct_children
=== RUN   TestLocationRepository_GetChildren/no_children
--- PASS: TestLocationRepository_GetChildren (0.01s)
    --- PASS: TestLocationRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLocationRepository_GetChildren/no_children (0.00s)
=== RUN   TestLocationRepository_GetAncestors
=== RUN   TestLocationRepository_GetAncestors/get_ancestors
=== RUN   TestLocationRepository_GetAncestors/root_has_no_ancestors
--- PASS: TestLocationRepository_GetAncestors (0.01s)
    --- PASS: TestLocationRepository_GetAncestors/get_ancestors (0.00s)
    --- PASS: TestLocationRepository_GetAncestors/root_has_no_ancestors (0.00s)
=== RUN   TestLocationRepository_GetDescendants
=== RUN   TestLocationRepository_GetDescendants/get_descendants
=== RUN   TestLocationRepository_GetDescendants/no_descendants
--- PASS: TestLocationRepository_GetDescendants (0.01s)
    --- PASS: TestLocationRepository_GetDescendants/get_descendants (0.00s)
    --- PASS: TestLocationRepository_GetDescendants/no_descendants (0.00s)
=== RUN   TestLocationRepository_Update
=== RUN   TestLocationRepository_Update/successful_update
=== RUN   TestLocationRepository_Update/update_parent
--- PASS: TestLocationRepository_Update (0.01s)
    --- PASS: TestLocationRepository_Update/successful_update (0.00s)
    --- PASS: TestLocationRepository_Update/update_parent (0.00s)
=== RUN   TestLocationRepository_Delete
=== RUN   TestLocationRepository_Delete/successful_delete
--- PASS: TestLocationRepository_Delete (0.01s)
    --- PASS: TestLocationRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_CountByWorld
=== RUN   TestLocationRepository_CountByWorld/empty_count
=== RUN   TestLocationRepository_CountByWorld/count_with_locations
--- PASS: TestLocationRepository_CountByWorld (0.01s)
    --- PASS: TestLocationRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestLocationRepository_CountByWorld/count_with_locations (0.00s)
=== RUN   TestLoreReferenceRepository_Create
=== RUN   TestLoreReferenceRepository_Create/create_with_character
=== RUN   TestLoreReferenceRepository_Create/create_with_location
--- PASS: TestLoreReferenceRepository_Create (0.01s)
    --- PASS: TestLoreReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestLoreReferenceRepository_Create/create_with_location (0.00s)
=== RUN   TestLoreReferenceRepository_GetByID
=== RUN   TestLoreReferenceRepository_GetByID/existing_lore_reference
=== RUN   TestLoreReferenceRepository_GetByID/non-existent_lore_reference
--- PASS: TestLoreReferenceRepository_GetByID (0.01s)
    --- PASS: TestLoreReferenceRepository_GetByID/existing_lore_reference (0.00s)
    --- PASS: TestLoreReferenceRepository_GetByID/non-existent_lore_reference (0.00s)
=== RUN   TestLoreReferenceRepository_ListByLore
=== RUN   TestLoreReferenceRepository_ListByLore/list_by_lore
--- PASS: TestLoreReferenceRepository_ListByLore (0.01s)
    --- PASS: TestLoreReferenceRepository_ListByLore/list_by_lore (0.00s)
=== RUN   TestLoreReferenceRepository_ListByEntity
=== RUN   TestLoreReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestLoreReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestLoreReferenceRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestLoreReferenceRepository_Update
=== RUN   TestLoreReferenceRepository_Update/update_notes_and_relationship_type
--- PASS: TestLoreReferenceRepository_Update (0.01s)
    --- PASS: TestLoreReferenceRepository_Update/update_notes_and_relationship_type (0.00s)
=== RUN   TestLoreReferenceRepository_Delete
=== RUN   TestLoreReferenceRepository_Delete/delete_by_id
=== RUN   TestLoreReferenceRepository_Delete/delete_by_lore
=== RUN   TestLoreReferenceRepository_Delete/delete_by_lore_and_entity
--- PASS: TestLoreReferenceRepository_Delete (0.01s)
    --- PASS: TestLoreReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestLoreReferenceRepository_Delete/delete_by_lore (0.00s)
    --- PASS: TestLoreReferenceRepository_Delete/delete_by_lore_and_entity (0.00s)
=== RUN   TestLoreRepository_Create
=== RUN   TestLoreRepository_Create/successful_creation_root_lore
=== RUN   TestLoreRepository_Create/successful_creation_with_parent
=== RUN   TestLoreRepository_Create/creation_with_category_and_fields
--- PASS: TestLoreRepository_Create (0.01s)
    --- PASS: TestLoreRepository_Create/successful_creation_root_lore (0.00s)
    --- PASS: TestLoreRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLoreRepository_Create/creation_with_category_and_fields (0.00s)
=== RUN   TestLoreRepository_GetByID
=== RUN   TestLoreRepository_GetByID/existing_lore
=== RUN   TestLoreRepository_GetByID/non-existent_lore
--- PASS: TestLoreRepository_GetByID (0.01s)
    --- PASS: TestLoreRepository_GetByID/existing_lore (0.00s)
    --- PASS: TestLoreRepository_GetByID/non-existent_lore (0.00s)
=== RUN   TestLoreRepository_ListByWorld
=== RUN   TestLoreRepository_ListByWorld/empty_list
=== RUN   TestLoreRepository_ListByWorld/list_with_lores
--- PASS: TestLoreRepository_ListByWorld (0.04s)
    --- PASS: TestLoreRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLoreRepository_ListByWorld/list_with_lores (0.03s)
=== RUN   TestLoreRepository_GetChildren
=== RUN   TestLoreRepository_GetChildren/get_direct_children
=== RUN   TestLoreRepository_GetChildren/no_children
--- PASS: TestLoreRepository_GetChildren (0.01s)
    --- PASS: TestLoreRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLoreRepository_GetChildren/no_children (0.00s)
=== RUN   TestLoreRepository_Update
=== RUN   TestLoreRepository_Update/successful_update
=== RUN   TestLoreRepository_Update/update_parent
--- PASS: TestLoreRepository_Update (0.01s)
    --- PASS: TestLoreRepository_Update/successful_update (0.00s)
    --- PASS: TestLoreRepository_Update/update_parent (0.00s)
=== RUN   TestLoreRepository_Delete
=== RUN   TestLoreRepository_Delete/successful_delete
--- PASS: TestLoreRepository_Delete (0.01s)
    --- PASS: TestLoreRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneReferenceRepository_Create
=== RUN   TestSceneReferenceRepository_Create/create_with_character
=== RUN   TestSceneReferenceRepository_Create/create_with_location
=== RUN   TestSceneReferenceRepository_Create/create_with_artifact
--- PASS: TestSceneReferenceRepository_Create (0.01s)
    --- PASS: TestSceneReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestSceneReferenceRepository_Create/create_with_location (0.00s)
    --- PASS: TestSceneReferenceRepository_Create/create_with_artifact (0.00s)
=== RUN   TestSceneReferenceRepository_GetByID
=== RUN   TestSceneReferenceRepository_GetByID/existing_scene_reference
=== RUN   TestSceneReferenceRepository_GetByID/non-existent_scene_reference
--- PASS: TestSceneReferenceRepository_GetByID (0.01s)
    --- PASS: TestSceneReferenceRepository_GetByID/existing_scene_reference (0.00s)
    --- PASS: TestSceneReferenceRepository_GetByID/non-existent_scene_reference (0.00s)
=== RUN   TestSceneReferenceRepository_ListByScene
=== RUN   TestSceneReferenceRepository_ListByScene/list_by_scene
--- PASS: TestSceneReferenceRepository_ListByScene (0.01s)
    --- PASS: TestSceneReferenceRepository_ListByScene/list_by_scene (0.00s)
=== RUN   TestSceneReferenceRepository_ListByEntity
=== RUN   TestSceneReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestSceneReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestSceneReferenceRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestSceneReferenceRepository_Delete
=== RUN   TestSceneReferenceRepository_Delete/delete_by_id
=== RUN   TestSceneReferenceRepository_Delete/delete_by_scene
=== RUN   TestSceneReferenceRepository_Delete/delete_by_scene_and_entity
--- PASS: TestSceneReferenceRepository_Delete (0.01s)
    --- PASS: TestSceneReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestSceneReferenceRepository_Delete/delete_by_scene (0.00s)
    --- PASS: TestSceneReferenceRepository_Delete/delete_by_scene_and_entity (0.00s)
=== RUN   TestSceneRepository_Create
=== RUN   TestSceneRepository_Create/successful_creation
=== RUN   TestSceneRepository_Create/creation_with_chapter
--- PASS: TestSceneRepository_Create (0.01s)
    --- PASS: TestSceneRepository_Create/successful_creation (0.00s)
    --- PASS: TestSceneRepository_Create/creation_with_chapter (0.00s)
=== RUN   TestSceneRepository_GetByID
=== RUN   TestSceneRepository_GetByID/existing_scene
=== RUN   TestSceneRepository_GetByID/non-existent_scene
--- PASS: TestSceneRepository_GetByID (0.01s)
    --- PASS: TestSceneRepository_GetByID/existing_scene (0.00s)
    --- PASS: TestSceneRepository_GetByID/non-existent_scene (0.00s)
=== RUN   TestSceneRepository_ListByChapter
=== RUN   TestSceneRepository_ListByChapter/list_with_scenes
=== RUN   TestSceneRepository_ListByChapter/empty_list
--- PASS: TestSceneRepository_ListByChapter (0.01s)
    --- PASS: TestSceneRepository_ListByChapter/list_with_scenes (0.00s)
    --- PASS: TestSceneRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestSceneRepository_ListByChapterOrdered
=== RUN   TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num
--- PASS: TestSceneRepository_ListByChapterOrdered (0.01s)
    --- PASS: TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestSceneRepository_ListByStory
=== RUN   TestSceneRepository_ListByStory/list_by_story
--- PASS: TestSceneRepository_ListByStory (0.01s)
    --- PASS: TestSceneRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestSceneRepository_Update
=== RUN   TestSceneRepository_Update/successful_update
--- PASS: TestSceneRepository_Update (0.01s)
    --- PASS: TestSceneRepository_Update/successful_update (0.00s)
=== RUN   TestSceneRepository_Delete
=== RUN   TestSceneRepository_Delete/successful_delete
--- PASS: TestSceneRepository_Delete (0.01s)
    --- PASS: TestSceneRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneRepository_DeleteByChapter
=== RUN   TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter
--- PASS: TestSceneRepository_DeleteByChapter (0.01s)
    --- PASS: TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter (0.00s)
=== RUN   TestSceneRepository_DeleteByStory
=== RUN   TestSceneRepository_DeleteByStory/delete_all_scenes_for_story
--- PASS: TestSceneRepository_DeleteByStory (0.01s)
    --- PASS: TestSceneRepository_DeleteByStory/delete_all_scenes_for_story (0.00s)
=== RUN   TestStoryRepository_Create
=== RUN   TestStoryRepository_Create/successful_creation_root_story
=== RUN   TestStoryRepository_Create/creation_with_world_and_user
--- PASS: TestStoryRepository_Create (0.01s)
    --- PASS: TestStoryRepository_Create/successful_creation_root_story (0.00s)
    --- PASS: TestStoryRepository_Create/creation_with_world_and_user (0.00s)
=== RUN   TestStoryRepository_GetByID
=== RUN   TestStoryRepository_GetByID/existing_story
=== RUN   TestStoryRepository_GetByID/non-existent_story
--- PASS: TestStoryRepository_GetByID (0.01s)
    --- PASS: TestStoryRepository_GetByID/existing_story (0.00s)
    --- PASS: TestStoryRepository_GetByID/non-existent_story (0.00s)
=== RUN   TestStoryRepository_ListByTenant
=== RUN   TestStoryRepository_ListByTenant/empty_list
=== RUN   TestStoryRepository_ListByTenant/list_with_stories
=== RUN   TestStoryRepository_ListByTenant/pagination
--- PASS: TestStoryRepository_ListByTenant (0.01s)
    --- PASS: TestStoryRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/list_with_stories (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/pagination (0.00s)
=== RUN   TestStoryRepository_ListVersionsByRoot
=== RUN   TestStoryRepository_ListVersionsByRoot/list_versions
=== RUN   TestStoryRepository_ListVersionsByRoot/single_version
--- PASS: TestStoryRepository_ListVersionsByRoot (0.01s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/list_versions (0.00s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/single_version (0.00s)
=== RUN   TestStoryRepository_GetVersionGraph
=== RUN   TestStoryRepository_GetVersionGraph/get_version_graph
--- PASS: TestStoryRepository_GetVersionGraph (0.01s)
    --- PASS: TestStoryRepository_GetVersionGraph/get_version_graph (0.00s)
=== RUN   TestStoryRepository_Update
=== RUN   TestStoryRepository_Update/successful_update
--- PASS: TestStoryRepository_Update (0.01s)
    --- PASS: TestStoryRepository_Update/successful_update (0.00s)
=== RUN   TestStoryRepository_Delete
=== RUN   TestStoryRepository_Delete/successful_delete
--- PASS: TestStoryRepository_Delete (0.01s)
    --- PASS: TestStoryRepository_Delete/successful_delete (0.00s)
=== RUN   TestStoryRepository_CountByTenant
=== RUN   TestStoryRepository_CountByTenant/empty_count
=== RUN   TestStoryRepository_CountByTenant/count_with_stories
--- PASS: TestStoryRepository_CountByTenant (0.01s)
    --- PASS: TestStoryRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestStoryRepository_CountByTenant/count_with_stories (0.00s)
=== RUN   TestTenantRepository_Create
=== RUN   TestTenantRepository_Create/successful_creation
=== RUN   TestTenantRepository_Create/duplicate_name_constraint
--- PASS: TestTenantRepository_Create (0.01s)
    --- PASS: TestTenantRepository_Create/successful_creation (0.00s)
    --- PASS: TestTenantRepository_Create/duplicate_name_constraint (0.00s)
=== RUN   TestTenantRepository_GetByID
=== RUN   TestTenantRepository_GetByID/existing_tenant
=== RUN   TestTenantRepository_GetByID/non-existent_tenant
--- PASS: TestTenantRepository_GetByID (0.01s)
    --- PASS: TestTenantRepository_GetByID/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByID/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_GetByName
=== RUN   TestTenantRepository_GetByName/existing_tenant
=== RUN   TestTenantRepository_GetByName/non-existent_tenant
--- PASS: TestTenantRepository_GetByName (0.01s)
    --- PASS: TestTenantRepository_GetByName/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByName/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_Update
=== RUN   TestTenantRepository_Update/successful_update
--- PASS: TestTenantRepository_Update (0.01s)
    --- PASS: TestTenantRepository_Update/successful_update (0.00s)
=== RUN   TestTenantRepository_Delete
=== RUN   TestTenantRepository_Delete/successful_delete
--- PASS: TestTenantRepository_Delete (0.07s)
    --- PASS: TestTenantRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_Create
=== RUN   TestTraitRepository_Create/successful_creation
=== RUN   TestTraitRepository_Create/creation_with_category_and_description
--- PASS: TestTraitRepository_Create (0.03s)
    --- PASS: TestTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestTraitRepository_Create/creation_with_category_and_description (0.00s)
=== RUN   TestTraitRepository_GetByID
=== RUN   TestTraitRepository_GetByID/existing_trait
=== RUN   TestTraitRepository_GetByID/non-existent_trait
--- PASS: TestTraitRepository_GetByID (0.01s)
    --- PASS: TestTraitRepository_GetByID/existing_trait (0.00s)
    --- PASS: TestTraitRepository_GetByID/non-existent_trait (0.00s)
=== RUN   TestTraitRepository_ListByTenant
=== RUN   TestTraitRepository_ListByTenant/empty_list
=== RUN   TestTraitRepository_ListByTenant/list_with_traits
=== RUN   TestTraitRepository_ListByTenant/pagination
=== RUN   TestTraitRepository_ListByTenant/tenant_isolation
--- PASS: TestTraitRepository_ListByTenant (0.01s)
    --- PASS: TestTraitRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/list_with_traits (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestTraitRepository_Update
=== RUN   TestTraitRepository_Update/successful_update
--- PASS: TestTraitRepository_Update (0.01s)
    --- PASS: TestTraitRepository_Update/successful_update (0.00s)
=== RUN   TestTraitRepository_Delete
=== RUN   TestTraitRepository_Delete/successful_delete
--- PASS: TestTraitRepository_Delete (0.03s)
    --- PASS: TestTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_CountByTenant
=== RUN   TestTraitRepository_CountByTenant/empty_count
=== RUN   TestTraitRepository_CountByTenant/count_with_traits
=== RUN   TestTraitRepository_CountByTenant/tenant_isolation
--- PASS: TestTraitRepository_CountByTenant (0.01s)
    --- PASS: TestTraitRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/count_with_traits (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Create
=== RUN   TestWorldRepository_Create/successful_creation
=== RUN   TestWorldRepository_Create/successful_creation_with_RPG_system
=== RUN   TestWorldRepository_Create/successful_creation_with_implicit_flag
--- PASS: TestWorldRepository_Create (0.01s)
    --- PASS: TestWorldRepository_Create/successful_creation (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_RPG_system (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_implicit_flag (0.00s)
=== RUN   TestWorldRepository_GetByID
=== RUN   TestWorldRepository_GetByID/existing_world
=== RUN   TestWorldRepository_GetByID/non-existent_world
=== RUN   TestWorldRepository_GetByID/wrong_tenant
--- PASS: TestWorldRepository_GetByID (0.01s)
    --- PASS: TestWorldRepository_GetByID/existing_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/non-existent_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/wrong_tenant (0.00s)
=== RUN   TestWorldRepository_ListByTenant
=== RUN   TestWorldRepository_ListByTenant/empty_list
=== RUN   TestWorldRepository_ListByTenant/list_with_worlds
=== RUN   TestWorldRepository_ListByTenant/pagination
=== RUN   TestWorldRepository_ListByTenant/tenant_isolation
--- PASS: TestWorldRepository_ListByTenant (0.24s)
    --- PASS: TestWorldRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestWorldRepository_ListByTenant/list_with_worlds (0.07s)
    --- PASS: TestWorldRepository_ListByTenant/pagination (0.06s)
    --- PASS: TestWorldRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Update
=== RUN   TestWorldRepository_Update/successful_update
=== RUN   TestWorldRepository_Update/update_RPG_system
--- PASS: TestWorldRepository_Update (0.01s)
    --- PASS: TestWorldRepository_Update/successful_update (0.00s)
    --- PASS: TestWorldRepository_Update/update_RPG_system (0.00s)
=== RUN   TestWorldRepository_Delete
=== RUN   TestWorldRepository_Delete/successful_delete
=== RUN   TestWorldRepository_Delete/delete_non-existent_world
--- PASS: TestWorldRepository_Delete (0.01s)
    --- PASS: TestWorldRepository_Delete/successful_delete (0.00s)
    --- PASS: TestWorldRepository_Delete/delete_non-existent_world (0.00s)
=== RUN   TestWorldRepository_CountByTenant
=== RUN   TestWorldRepository_CountByTenant/empty_count
=== RUN   TestWorldRepository_CountByTenant/count_with_worlds
=== RUN   TestWorldRepository_CountByTenant/tenant_isolation
--- PASS: TestWorldRepository_CountByTenant (0.01s)
    --- PASS: TestWorldRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/count_with_worlds (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/tenant_isolation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/sqlite	2.320s
?   	github.com/story-engine/main-service/internal/application/rpg/artifact_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_inventory	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_skill	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_item	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_slot	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_class	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_system	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/skill	[no test files]
=== RUN   TestCloneStoryUseCase_Execute
time=2026-01-05T22:13:43.601-03:00 level=INFO msg="tenant created" tenant_id=761a5aac-ef98-4317-9d62-857ab8e4f326 name="Test Tenant"
time=2026-01-05T22:13:43.604-03:00 level=INFO msg="world created" world_id=f88258d6-c42e-4748-823a-3bdd1dc0dc3f name="World of Test Story" tenant_id=761a5aac-ef98-4317-9d62-857ab8e4f326
time=2026-01-05T22:13:43.604-03:00 level=INFO msg="created implicit world for story" world_id=f88258d6-c42e-4748-823a-3bdd1dc0dc3f story_title="Test Story"
time=2026-01-05T22:13:43.606-03:00 level=INFO msg="story created" story_id=d0189163-ef99-451f-9802-3706e67169cc title="Test Story" tenant_id=761a5aac-ef98-4317-9d62-857ab8e4f326
=== RUN   TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters)
time=2026-01-05T22:13:43.608-03:00 level=INFO msg="story cloned" source_story_id=d0189163-ef99-451f-9802-3706e67169cc new_story_id=57a6db21-5dcd-4357-85da-f221341db205 version_number=2
=== RUN   TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy
time=2026-01-05T22:13:43.617-03:00 level=INFO msg="story cloned" source_story_id=3de84880-9c16-49f9-812c-e451f12719f5 new_story_id=abda3d74-4d82-48a5-a677-b2eea71c7ec2 version_number=2
--- PASS: TestCloneStoryUseCase_Execute (0.54s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters) (0.00s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy (0.01s)
=== RUN   TestCreateStoryUseCase_Execute
time=2026-01-05T22:13:44.104-03:00 level=INFO msg="tenant created" tenant_id=7db4c394-c727-4061-bbe6-365312402a00 name="Test Tenant"
=== RUN   TestCreateStoryUseCase_Execute/successful_creation
time=2026-01-05T22:13:44.105-03:00 level=INFO msg="world created" world_id=500c967c-ff94-4ec4-a7d8-92d4f673c65a name="World of Test Story" tenant_id=7db4c394-c727-4061-bbe6-365312402a00
time=2026-01-05T22:13:44.105-03:00 level=INFO msg="created implicit world for story" world_id=500c967c-ff94-4ec4-a7d8-92d4f673c65a story_title="Test Story"
time=2026-01-05T22:13:44.107-03:00 level=INFO msg="story created" story_id=14d0fed0-7a9a-486a-8c97-3e96a1c6bca9 title="Test Story" tenant_id=7db4c394-c727-4061-bbe6-365312402a00
=== RUN   TestCreateStoryUseCase_Execute/multi-tenant_isolation
time=2026-01-05T22:13:44.109-03:00 level=INFO msg="tenant created" tenant_id=7ea8d0fa-9d1a-4fab-9149-2627e2770896 name="Test Tenant 2"
time=2026-01-05T22:13:44.110-03:00 level=INFO msg="world created" world_id=f884ea7f-e1a0-44e3-b749-02f4259f066b name="World of Test Story 2" tenant_id=7ea8d0fa-9d1a-4fab-9149-2627e2770896
time=2026-01-05T22:13:44.110-03:00 level=INFO msg="created implicit world for story" world_id=f884ea7f-e1a0-44e3-b749-02f4259f066b story_title="Test Story 2"
time=2026-01-05T22:13:44.110-03:00 level=INFO msg="story created" story_id=a0e09033-4687-49e3-8c23-6309593fa756 title="Test Story 2" tenant_id=7ea8d0fa-9d1a-4fab-9149-2627e2770896
=== RUN   TestCreateStoryUseCase_Execute/invalid_tenant
=== RUN   TestCreateStoryUseCase_Execute/empty_title_validation
--- PASS: TestCreateStoryUseCase_Execute (0.36s)
    --- PASS: TestCreateStoryUseCase_Execute/successful_creation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/multi-tenant_isolation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/invalid_tenant (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/empty_title_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story	(cached)
?   	github.com/story-engine/main-service/internal/application/story/beat	[no test files]
?   	github.com/story-engine/main-service/internal/application/story/chapter	[no test files]
?   	github.com/story-engine/main-service/internal/application/story/content_block	[no test files]
?   	github.com/story-engine/main-service/internal/application/story/scene	[no test files]
=== RUN   TestCreateTenantUseCase_Execute
=== RUN   TestCreateTenantUseCase_Execute/successful_creation
time=2026-01-05T22:13:43.783-03:00 level=INFO msg="tenant created" tenant_id=c98db97a-e20e-45c5-8cfd-089ac0c87043 name="Test Tenant"
=== RUN   TestCreateTenantUseCase_Execute/duplicate_name_validation
=== RUN   TestCreateTenantUseCase_Execute/empty_name_validation
--- PASS: TestCreateTenantUseCase_Execute (0.43s)
    --- PASS: TestCreateTenantUseCase_Execute/successful_creation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/duplicate_name_validation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/empty_name_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/tenant	(cached)
?   	github.com/story-engine/main-service/internal/application/world	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/archetype	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/artifact	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/character_relationship	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/faction	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/location	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/lore	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/trait	[no test files]
?   	github.com/story-engine/main-service/internal/core/audit	[no test files]
?   	github.com/story-engine/main-service/internal/core/auth	[no test files]
?   	github.com/story-engine/main-service/internal/core/rpg	[no test files]
?   	github.com/story-engine/main-service/internal/core/story	[no test files]
?   	github.com/story-engine/main-service/internal/core/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/core/versioning	[no test files]
?   	github.com/story-engine/main-service/internal/core/world	[no test files]
?   	github.com/story-engine/main-service/internal/platform/config	[no test files]
?   	github.com/story-engine/main-service/internal/platform/database	[no test files]
?   	github.com/story-engine/main-service/internal/platform/errors	[no test files]
?   	github.com/story-engine/main-service/internal/platform/logger	[no test files]
?   	github.com/story-engine/main-service/internal/platform/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/ports/repositories	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/grpcctx	[no test files]
=== RUN   TestArchetypeHandler_CreateArchetype
time=2026-01-05T22:19:53.065-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:53.065-03:00 level=INFO msg="TraitService registered"
time=2026-01-05T22:19:53.065-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_CreateArchetype/successful_creation
time=2026-01-05T22:19:53.067-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:53.071-03:00 level=INFO msg="tenant created" tenant_id=d1851b92-bb33-42a0-99b4-b934e89b5e17 name="Test Tenant for Archetype"
time=2026-01-05T22:19:53.071-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-05T22:19:53.071-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:53.073-03:00 level=INFO msg="archetype created" archetype_id=8d0a45cf-ecdf-44c7-b8f4-666feb554a35 name=Warrior
time=2026-01-05T22:19:53.073-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
=== RUN   TestArchetypeHandler_CreateArchetype/empty_name
time=2026-01-05T22:19:53.073-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:53.074-03:00 level=INFO msg="tenant created" tenant_id=985ccd74-92cc-422e-954e-bcc38eb57185 name="Test Tenant 2"
time=2026-01-05T22:19:53.074-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:53.074-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:53.074-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-05T22:19:53.074-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_CreateArchetype (0.29s)
    --- PASS: TestArchetypeHandler_CreateArchetype/successful_creation (0.01s)
    --- PASS: TestArchetypeHandler_CreateArchetype/empty_name (0.00s)
=== RUN   TestArchetypeHandler_GetArchetype
time=2026-01-05T22:19:53.253-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:53.253-03:00 level=INFO msg="TraitService registered"
time=2026-01-05T22:19:53.253-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetype/existing_archetype
time=2026-01-05T22:19:53.256-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:53.258-03:00 level=INFO msg="tenant created" tenant_id=fa2a74d4-1e9b-4333-a1f1-714d866be1b4 name="Get Test Tenant"
time=2026-01-05T22:19:53.258-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:53.259-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:53.260-03:00 level=INFO msg="archetype created" archetype_id=85a6d7d2-f1be-4ab6-b8e8-135d9f2df240 name="Get Test Archetype"
time=2026-01-05T22:19:53.260-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-05T22:19:53.260-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-05T22:19:53.261-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetype/non-existing_archetype
time=2026-01-05T22:19:53.261-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:53.262-03:00 level=INFO msg="tenant created" tenant_id=49de61ed-1056-498f-aa1a-9f32cf3b3aad name="Non-existing Test Tenant"
time=2026-01-05T22:19:53.262-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:53.262-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-05T22:19:53.262-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: e3052f96-2cd2-4a37-bdc9-f71c99b450f7" archetype_id=e3052f96-2cd2-4a37-bdc9-f71c99b450f7
time=2026-01-05T22:19:53.262-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: e3052f96-2cd2-4a37-bdc9-f71c99b450f7"
time=2026-01-05T22:19:53.262-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetype (0.18s)
    --- PASS: TestArchetypeHandler_GetArchetype/existing_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetype/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_ListArchetypes
time=2026-01-05T22:19:53.418-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:53.418-03:00 level=INFO msg="TraitService registered"
time=2026-01-05T22:19:53.418-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_ListArchetypes/list_archetypes
time=2026-01-05T22:19:53.419-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:53.422-03:00 level=INFO msg="tenant created" tenant_id=a469e0d6-8ac8-4bec-8a33-57872ea374fc name="List Test Tenant"
time=2026-01-05T22:19:53.422-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:53.422-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:53.424-03:00 level=INFO msg="archetype created" archetype_id=bae9ef37-8cbc-457a-be49-72140d764271 name="Archetype 1"
time=2026-01-05T22:19:53.424-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-05T22:19:53.424-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:53.425-03:00 level=INFO msg="archetype created" archetype_id=60cb6a17-d084-4a1f-b395-a4c2de48ae6b name="Archetype 2"
time=2026-01-05T22:19:53.425-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-05T22:19:53.426-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/ListArchetypes
time=2026-01-05T22:19:53.427-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/ListArchetypes duration_ms=1
time=2026-01-05T22:19:53.427-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_ListArchetypes (0.16s)
    --- PASS: TestArchetypeHandler_ListArchetypes/list_archetypes (0.01s)
=== RUN   TestArchetypeHandler_UpdateArchetype
time=2026-01-05T22:19:53.575-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:53.575-03:00 level=INFO msg="TraitService registered"
time=2026-01-05T22:19:53.575-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_UpdateArchetype/update_archetype
time=2026-01-05T22:19:53.576-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:53.578-03:00 level=INFO msg="tenant created" tenant_id=6d17ed8e-f95c-4426-bda0-11af4c7a7812 name="Update Test Tenant"
time=2026-01-05T22:19:53.578-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:53.579-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:53.580-03:00 level=INFO msg="archetype created" archetype_id=76b55a72-9715-4f86-b9e0-fb6bdceeaf2a name="Original Archetype"
time=2026-01-05T22:19:53.580-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-05T22:19:53.581-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/UpdateArchetype
time=2026-01-05T22:19:53.582-03:00 level=INFO msg="archetype updated" archetype_id=76b55a72-9715-4f86-b9e0-fb6bdceeaf2a name="Updated Archetype"
time=2026-01-05T22:19:53.582-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/UpdateArchetype duration_ms=1
time=2026-01-05T22:19:53.583-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_UpdateArchetype (0.15s)
    --- PASS: TestArchetypeHandler_UpdateArchetype/update_archetype (0.01s)
=== RUN   TestArchetypeHandler_DeleteArchetype
time=2026-01-05T22:19:53.738-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:53.738-03:00 level=INFO msg="TraitService registered"
time=2026-01-05T22:19:53.738-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_DeleteArchetype/delete_archetype
time=2026-01-05T22:19:53.739-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:53.741-03:00 level=INFO msg="tenant created" tenant_id=3ea816c4-5ce5-43cb-9f61-fea22c86a4b3 name="Delete Test Tenant"
time=2026-01-05T22:19:53.741-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:53.741-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:53.743-03:00 level=INFO msg="archetype created" archetype_id=48a67ae3-b3e5-4bca-90d9-d896d474fdc3 name="Archetype to Delete"
time=2026-01-05T22:19:53.743-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-05T22:19:53.743-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/DeleteArchetype
time=2026-01-05T22:19:53.745-03:00 level=INFO msg="archetype deleted" archetype_id=48a67ae3-b3e5-4bca-90d9-d896d474fdc3 name="Archetype to Delete"
time=2026-01-05T22:19:53.745-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/DeleteArchetype duration_ms=1
time=2026-01-05T22:19:53.745-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-05T22:19:53.745-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 48a67ae3-b3e5-4bca-90d9-d896d474fdc3" archetype_id=48a67ae3-b3e5-4bca-90d9-d896d474fdc3
time=2026-01-05T22:19:53.745-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: 48a67ae3-b3e5-4bca-90d9-d896d474fdc3"
time=2026-01-05T22:19:53.746-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_DeleteArchetype (0.18s)
    --- PASS: TestArchetypeHandler_DeleteArchetype/delete_archetype (0.01s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-05T22:19:54.007-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:54.007-03:00 level=INFO msg="TraitService registered"
time=2026-01-05T22:19:54.007-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-05T22:19:54.010-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.013-03:00 level=INFO msg="tenant created" tenant_id=a52c3060-15d6-4930-a82c-1a38c94b5bef name="Add Trait Test Tenant"
time=2026-01-05T22:19:54.013-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-05T22:19:54.014-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:54.015-03:00 level=INFO msg="archetype created" archetype_id=3f305f9a-15c4-4ec6-a09f-0ffee30dea97 name=Warrior
time=2026-01-05T22:19:54.015-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-05T22:19:54.016-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:19:54.017-03:00 level=INFO msg="trait created" trait_id=837563a5-948a-46e8-85fe-a32f502f0aa0 name=Brave
time=2026-01-05T22:19:54.017-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-05T22:19:54.018-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-05T22:19:54.020-03:00 level=INFO msg="trait added to archetype" archetype_id=3f305f9a-15c4-4ec6-a09f-0ffee30dea97 trait_id=837563a5-948a-46e8-85fe-a32f502f0aa0
time=2026-01-05T22:19:54.020-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-05T22:19:54.020-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_AddTrait (0.27s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.01s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-05T22:19:54.187-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:54.187-03:00 level=INFO msg="TraitService registered"
time=2026-01-05T22:19:54.187-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-05T22:19:54.188-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.190-03:00 level=INFO msg="tenant created" tenant_id=f6dee072-2f24-4296-b9b6-e9e62d524d8c name="Remove Trait Test Tenant"
time=2026-01-05T22:19:54.190-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:54.191-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:54.192-03:00 level=INFO msg="archetype created" archetype_id=b67f30d2-cef6-4430-bf9d-93159cc44496 name=Warrior
time=2026-01-05T22:19:54.192-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-05T22:19:54.192-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:19:54.193-03:00 level=INFO msg="trait created" trait_id=94d1f525-00da-4738-ad33-2d7e135c4578 name=Brave
time=2026-01-05T22:19:54.193-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-05T22:19:54.193-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-05T22:19:54.195-03:00 level=INFO msg="trait added to archetype" archetype_id=b67f30d2-cef6-4430-bf9d-93159cc44496 trait_id=94d1f525-00da-4738-ad33-2d7e135c4578
time=2026-01-05T22:19:54.195-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-05T22:19:54.195-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/RemoveTraitFromArchetype
time=2026-01-05T22:19:54.195-03:00 level=INFO msg="trait removed from archetype" archetype_id=b67f30d2-cef6-4430-bf9d-93159cc44496 trait_id=94d1f525-00da-4738-ad33-2d7e135c4578
time=2026-01-05T22:19:54.195-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/RemoveTraitFromArchetype duration_ms=0
time=2026-01-05T22:19:54.196-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_RemoveTrait (0.17s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.01s)
=== RUN   TestArchetypeHandler_GetArchetypeTraits
time=2026-01-05T22:19:54.359-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:54.359-03:00 level=INFO msg="TraitService registered"
time=2026-01-05T22:19:54.359-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype
time=2026-01-05T22:19:54.360-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.362-03:00 level=INFO msg="tenant created" tenant_id=eed347f7-b0f2-406a-ad4b-cce04aec3244 name="Get Traits Test Tenant"
time=2026-01-05T22:19:54.362-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:54.363-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:54.364-03:00 level=INFO msg="archetype created" archetype_id=8ed68116-d354-4109-a916-5260071eea8b name=Warrior
time=2026-01-05T22:19:54.364-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-05T22:19:54.364-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:19:54.366-03:00 level=INFO msg="trait created" trait_id=05a0ffd8-5b53-4e99-be3d-8d0bf0fb30e2 name=Brave
time=2026-01-05T22:19:54.366-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-05T22:19:54.366-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:19:54.367-03:00 level=INFO msg="trait created" trait_id=6813bd1a-77ac-44fe-b6dd-58c28b549abd name=Strong
time=2026-01-05T22:19:54.367-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-05T22:19:54.368-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-05T22:19:54.370-03:00 level=INFO msg="trait added to archetype" archetype_id=8ed68116-d354-4109-a916-5260071eea8b trait_id=05a0ffd8-5b53-4e99-be3d-8d0bf0fb30e2
time=2026-01-05T22:19:54.370-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=2
time=2026-01-05T22:19:54.370-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-05T22:19:54.370-03:00 level=INFO msg="trait added to archetype" archetype_id=8ed68116-d354-4109-a916-5260071eea8b trait_id=6813bd1a-77ac-44fe-b6dd-58c28b549abd
time=2026-01-05T22:19:54.370-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=0
time=2026-01-05T22:19:54.370-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-05T22:19:54.371-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits
time=2026-01-05T22:19:54.371-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.371-03:00 level=INFO msg="tenant created" tenant_id=351660ba-e742-4492-8e94-68b394b8eadd name="Empty Traits Test Tenant"
time=2026-01-05T22:19:54.371-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:54.371-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-05T22:19:54.372-03:00 level=INFO msg="archetype created" archetype_id=f164f5ee-2b67-4481-bb30-72bbd841a27f name=Mage
time=2026-01-05T22:19:54.372-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-05T22:19:54.372-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-05T22:19:54.372-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id
time=2026-01-05T22:19:54.372-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.372-03:00 level=INFO msg="tenant created" tenant_id=3fc04b6c-926a-411b-adad-5fe783ae5fcb name="Invalid ID Test Tenant"
time=2026-01-05T22:19:54.372-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:54.373-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-05T22:19:54.373-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid archetype_id: invalid UUID length: 12"
time=2026-01-05T22:19:54.373-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetypeTraits (0.18s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits (0.00s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id (0.00s)
=== RUN   TestArtifactHandler_CreateArtifact
time=2026-01-05T22:19:54.527-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:54.527-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:54.527-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_CreateArtifact/successful_creation
time=2026-01-05T22:19:54.528-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.530-03:00 level=INFO msg="tenant created" tenant_id=5e32a532-9457-42c7-9727-8f482d027e27 name="Test Tenant for Artifact"
time=2026-01-05T22:19:54.530-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:54.530-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:54.532-03:00 level=INFO msg="world created" world_id=1324fb08-cfc8-465d-be63-c22a29d143d3 name="Test World" tenant_id=5e32a532-9457-42c7-9727-8f482d027e27
time=2026-01-05T22:19:54.532-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=2
time=2026-01-05T22:19:54.532-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:19:54.534-03:00 level=INFO msg="artifact created" artifact_id=ff48ce79-8dd9-4a50-972d-87f85c1541a7 name="Test Artifact"
time=2026-01-05T22:19:54.534-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
=== RUN   TestArtifactHandler_CreateArtifact/empty_name
time=2026-01-05T22:19:54.534-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.534-03:00 level=INFO msg="tenant created" tenant_id=2d5230f0-8b2d-4687-8987-8878a8403ee2 name="Test Tenant 2"
time=2026-01-05T22:19:54.534-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:54.535-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:54.535-03:00 level=INFO msg="world created" world_id=e277d616-5e22-4d13-a238-ab5306193d6c name="Test World 2" tenant_id=2d5230f0-8b2d-4687-8987-8878a8403ee2
time=2026-01-05T22:19:54.535-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:54.535-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:19:54.535-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-05T22:19:54.536-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_CreateArtifact (0.16s)
    --- PASS: TestArtifactHandler_CreateArtifact/successful_creation (0.01s)
    --- PASS: TestArtifactHandler_CreateArtifact/empty_name (0.00s)
=== RUN   TestArtifactHandler_GetArtifact
time=2026-01-05T22:19:54.698-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:54.698-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:54.698-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_GetArtifact/existing_artifact
time=2026-01-05T22:19:54.699-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.702-03:00 level=INFO msg="tenant created" tenant_id=52524a24-d21c-4669-a72a-252f281ef736 name="Get Test Tenant"
time=2026-01-05T22:19:54.702-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:54.702-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:54.703-03:00 level=INFO msg="world created" world_id=9ce182a8-cc0e-4932-bb28-2cfef80cbe5f name="Get Test World" tenant_id=52524a24-d21c-4669-a72a-252f281ef736
time=2026-01-05T22:19:54.703-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:54.703-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:19:54.704-03:00 level=INFO msg="artifact created" artifact_id=16e627c0-c0ea-4c8b-80a4-c5d49c5aa38b name="Get Test Artifact"
time=2026-01-05T22:19:54.704-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-05T22:19:54.704-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-05T22:19:54.705-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/GetArtifact duration_ms=0
=== RUN   TestArtifactHandler_GetArtifact/non-existing_artifact
time=2026-01-05T22:19:54.705-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.705-03:00 level=INFO msg="tenant created" tenant_id=2e9c73e3-ad50-4f09-b6fc-3a9f6df93dfc name="Non-existing Test Tenant"
time=2026-01-05T22:19:54.705-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:54.708-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-05T22:19:54.709-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: b0f54ded-9ddb-4b05-9940-16a6787f2493" artifact_id=b0f54ded-9ddb-4b05-9940-16a6787f2493
time=2026-01-05T22:19:54.709-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: b0f54ded-9ddb-4b05-9940-16a6787f2493"
time=2026-01-05T22:19:54.709-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_GetArtifact (0.17s)
    --- PASS: TestArtifactHandler_GetArtifact/existing_artifact (0.01s)
    --- PASS: TestArtifactHandler_GetArtifact/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_ListArtifacts
time=2026-01-05T22:19:54.876-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:54.876-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:54.876-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_ListArtifacts/list_artifacts
time=2026-01-05T22:19:54.877-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:54.879-03:00 level=INFO msg="tenant created" tenant_id=ca723895-185a-47e1-af28-fe0ba9d15250 name="List Test Tenant"
time=2026-01-05T22:19:54.879-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:54.879-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:54.880-03:00 level=INFO msg="world created" world_id=10c98c47-e73d-4c22-bfc8-20c141e5d7d3 name="List Test World" tenant_id=ca723895-185a-47e1-af28-fe0ba9d15250
time=2026-01-05T22:19:54.880-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:54.880-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:19:54.882-03:00 level=INFO msg="artifact created" artifact_id=48a7d728-1da1-476f-8d68-aba96edef473 name="Artifact 1"
time=2026-01-05T22:19:54.882-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-05T22:19:54.882-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:19:54.882-03:00 level=INFO msg="artifact created" artifact_id=b99d5615-c090-4fe6-865a-52379ec8cb58 name="Artifact 2"
time=2026-01-05T22:19:54.883-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-05T22:19:54.883-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/ListArtifacts
time=2026-01-05T22:19:54.883-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/ListArtifacts duration_ms=0
time=2026-01-05T22:19:54.884-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_ListArtifacts (0.18s)
    --- PASS: TestArtifactHandler_ListArtifacts/list_artifacts (0.01s)
=== RUN   TestArtifactHandler_UpdateArtifact
time=2026-01-05T22:19:55.036-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:55.036-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:55.036-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_UpdateArtifact/update_artifact
time=2026-01-05T22:19:55.038-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:55.040-03:00 level=INFO msg="tenant created" tenant_id=62eaa809-9fcb-40cf-a76c-2b160ef92b02 name="Update Test Tenant"
time=2026-01-05T22:19:55.040-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:55.041-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:55.042-03:00 level=INFO msg="world created" world_id=3c405fd6-66a4-4df0-9220-f14ec457a8d7 name="Update Test World" tenant_id=62eaa809-9fcb-40cf-a76c-2b160ef92b02
time=2026-01-05T22:19:55.042-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:55.042-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:19:55.043-03:00 level=INFO msg="artifact created" artifact_id=91d75abf-d17c-4234-b8c3-5135eb89c4c9 name="Original Artifact"
time=2026-01-05T22:19:55.043-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-05T22:19:55.045-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/UpdateArtifact
time=2026-01-05T22:19:55.046-03:00 level=INFO msg="artifact updated" artifact_id=91d75abf-d17c-4234-b8c3-5135eb89c4c9 name="Updated Artifact"
time=2026-01-05T22:19:55.046-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/UpdateArtifact duration_ms=1
time=2026-01-05T22:19:55.046-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_UpdateArtifact (0.16s)
    --- PASS: TestArtifactHandler_UpdateArtifact/update_artifact (0.01s)
=== RUN   TestArtifactHandler_DeleteArtifact
time=2026-01-05T22:19:55.191-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:55.191-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:55.191-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_DeleteArtifact/delete_artifact
time=2026-01-05T22:19:55.192-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:55.194-03:00 level=INFO msg="tenant created" tenant_id=f5401269-76e7-4b77-8624-079d2f286337 name="Delete Test Tenant"
time=2026-01-05T22:19:55.194-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:19:55.194-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:55.195-03:00 level=INFO msg="world created" world_id=a1b0eb87-5076-4297-a68d-ec630227619d name="Delete Test World" tenant_id=f5401269-76e7-4b77-8624-079d2f286337
time=2026-01-05T22:19:55.195-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:55.196-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:19:55.197-03:00 level=INFO msg="artifact created" artifact_id=0f47d988-4a50-42d7-a5b1-d3f1e1f012e5 name="Artifact to Delete"
time=2026-01-05T22:19:55.197-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-05T22:19:55.197-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/DeleteArtifact
time=2026-01-05T22:19:55.200-03:00 level=INFO msg="artifact deleted" artifact_id=0f47d988-4a50-42d7-a5b1-d3f1e1f012e5 name="Artifact to Delete"
time=2026-01-05T22:19:55.200-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/DeleteArtifact duration_ms=2
time=2026-01-05T22:19:55.200-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-05T22:19:55.200-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 0f47d988-4a50-42d7-a5b1-d3f1e1f012e5" artifact_id=0f47d988-4a50-42d7-a5b1-d3f1e1f012e5
time=2026-01-05T22:19:55.200-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 0f47d988-4a50-42d7-a5b1-d3f1e1f012e5"
time=2026-01-05T22:19:55.201-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_DeleteArtifact (0.15s)
    --- PASS: TestArtifactHandler_DeleteArtifact/delete_artifact (0.01s)
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats
time=2026-01-05T22:19:55.361-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:55.361-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:55.361-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-05T22:19:55.361-03:00 level=INFO msg="ArtifactRPGStatsService registered"
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation
time=2026-01-05T22:19:55.362-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:55.363-03:00 level=INFO msg="tenant created" tenant_id=5e2bdc16-1902-4d5d-88d0-61956fdcc004 name="Test Tenant for Artifact Stats"
time=2026-01-05T22:19:55.364-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:19:55.364-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:55.365-03:00 level=INFO msg="world created" world_id=85a5efdb-6f05-4057-ad58-3fab34ae9a87 name="Test World" tenant_id=5e2bdc16-1902-4d5d-88d0-61956fdcc004
time=2026-01-05T22:19:55.365-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:55.365-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:19:55.366-03:00 level=INFO msg="artifact created" artifact_id=61a7ed41-b01e-427a-ab4c-2c2d0d559a3b name="Test Artifact"
time=2026-01-05T22:19:55.366-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-05T22:19:55.366-03:00 level=INFO msg="gRPC request started" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats
time=2026-01-05T22:19:55.368-03:00 level=INFO msg="artifact RPG stats created" artifact_id=61a7ed41-b01e-427a-ab4c-2c2d0d559a3b version=1
time=2026-01-05T22:19:55.368-03:00 level=INFO msg="gRPC request completed" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats duration_ms=2
time=2026-01-05T22:19:55.369-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats (0.17s)
    --- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation (0.01s)
=== RUN   TestBeatHandler_CreateBeat
time=2026-01-05T22:19:55.535-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:55.535-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:55.535-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:55.535-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:55.535-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:55.535-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:55.535-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:55.536-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:55.541-03:00 level=INFO msg="tenant created" tenant_id=14e68e5a-eec5-4a97-9bc8-9c84f5d9dbc2 name="Test Tenant for Beat"
time=2026-01-05T22:19:55.541-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-05T22:19:55.542-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:55.543-03:00 level=INFO msg="world created" world_id=d49c34eb-540b-4c6e-b68f-8a1fd3ee25cc name="World of Test Story" tenant_id=14e68e5a-eec5-4a97-9bc8-9c84f5d9dbc2
time=2026-01-05T22:19:55.543-03:00 level=INFO msg="created implicit world for story" world_id=d49c34eb-540b-4c6e-b68f-8a1fd3ee25cc story_title="Test Story"
time=2026-01-05T22:19:55.544-03:00 level=INFO msg="story created" story_id=9a29a9a7-17f2-4f71-afc9-b152f94fc2de title="Test Story" tenant_id=14e68e5a-eec5-4a97-9bc8-9c84f5d9dbc2
time=2026-01-05T22:19:55.544-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:19:55.545-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:19:55.546-03:00 level=INFO msg="scene created" scene_id=44b2872c-abf0-48fb-b0a8-fa4cc853afca story_id=9a29a9a7-17f2-4f71-afc9-b152f94fc2de tenant_id=14e68e5a-eec5-4a97-9bc8-9c84f5d9dbc2
time=2026-01-05T22:19:55.546-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/successful_creation
time=2026-01-05T22:19:55.548-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:55.549-03:00 level=INFO msg="beat created" beat_id=1724e425-e88c-4847-87cb-fd9e0fc68632 scene_id=44b2872c-abf0-48fb-b0a8-fa4cc853afca tenant_id=14e68e5a-eec5-4a97-9bc8-9c84f5d9dbc2
time=2026-01-05T22:19:55.549-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/invalid_scene_id
time=2026-01-05T22:19:55.549-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:55.549-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 33d684c0-d96b-49aa-a1a8-893745c495c9"
=== RUN   TestBeatHandler_CreateBeat/invalid_type
time=2026-01-05T22:19:55.550-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:55.550-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on beat: invalid beat type"
=== RUN   TestBeatHandler_CreateBeat/missing_type
time=2026-01-05T22:19:55.551-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:55.552-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=1 error="rpc error: code = InvalidArgument desc = validation error on type: type is required"
=== RUN   TestBeatHandler_CreateBeat/invalid_order_num
time=2026-01-05T22:19:55.552-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:55.553-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-05T22:19:55.553-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_CreateBeat (0.18s)
    --- PASS: TestBeatHandler_CreateBeat/successful_creation (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_scene_id (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/missing_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_order_num (0.00s)
=== RUN   TestBeatHandler_GetBeat
time=2026-01-05T22:19:55.711-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:55.711-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:55.711-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:55.711-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:55.711-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:55.711-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:55.711-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:55.712-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:55.714-03:00 level=INFO msg="tenant created" tenant_id=d18295d3-f8b6-40f6-b394-73dd95aa78ca name="Test Tenant for Get Beat"
time=2026-01-05T22:19:55.714-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:19:55.714-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:55.715-03:00 level=INFO msg="world created" world_id=0e6c1cd6-716c-4556-93aa-f2cdb8ed1760 name="World of Test Story" tenant_id=d18295d3-f8b6-40f6-b394-73dd95aa78ca
time=2026-01-05T22:19:55.715-03:00 level=INFO msg="created implicit world for story" world_id=0e6c1cd6-716c-4556-93aa-f2cdb8ed1760 story_title="Test Story"
time=2026-01-05T22:19:55.716-03:00 level=INFO msg="story created" story_id=ab5ffad2-e3dc-4dd5-a3cd-fe8454232ce7 title="Test Story" tenant_id=d18295d3-f8b6-40f6-b394-73dd95aa78ca
time=2026-01-05T22:19:55.716-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-05T22:19:55.716-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:19:55.717-03:00 level=INFO msg="scene created" scene_id=462b50f0-6c8c-4725-a27a-7ba262211149 story_id=ab5ffad2-e3dc-4dd5-a3cd-fe8454232ce7 tenant_id=d18295d3-f8b6-40f6-b394-73dd95aa78ca
time=2026-01-05T22:19:55.717-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_GetBeat/existing_beat
time=2026-01-05T22:19:55.717-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:55.718-03:00 level=INFO msg="beat created" beat_id=23dacbc9-dbd8-4420-a7e8-af28d31a8bd2 scene_id=462b50f0-6c8c-4725-a27a-7ba262211149 tenant_id=d18295d3-f8b6-40f6-b394-73dd95aa78ca
time=2026-01-05T22:19:55.718-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-05T22:19:55.718-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-05T22:19:55.719-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/GetBeat duration_ms=0
=== RUN   TestBeatHandler_GetBeat/non-existing_beat
time=2026-01-05T22:19:55.719-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-05T22:19:55.719-03:00 level=ERROR msg="failed to get beat" error="beat not found: 175e9420-ae5f-4e62-a6c3-41c42f14a4d3" beat_id=175e9420-ae5f-4e62-a6c3-41c42f14a4d3 tenant_id=d18295d3-f8b6-40f6-b394-73dd95aa78ca
time=2026-01-05T22:19:55.719-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/GetBeat duration_ms=0 error="rpc error: code = NotFound desc = beat not found: 175e9420-ae5f-4e62-a6c3-41c42f14a4d3"
time=2026-01-05T22:19:55.719-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_GetBeat (0.17s)
    --- PASS: TestBeatHandler_GetBeat/existing_beat (0.00s)
    --- PASS: TestBeatHandler_GetBeat/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_UpdateBeat
time=2026-01-05T22:19:55.873-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:55.873-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:55.873-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:55.873-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:55.873-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:55.873-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:55.873-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:55.874-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:55.876-03:00 level=INFO msg="tenant created" tenant_id=ae706d45-e418-4467-9cd5-8c16192afac6 name="Test Tenant for Update Beat"
time=2026-01-05T22:19:55.876-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:19:55.876-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:55.877-03:00 level=INFO msg="world created" world_id=5ea6d7b7-7e6b-478f-a785-a6cffefedc73 name="World of Test Story" tenant_id=ae706d45-e418-4467-9cd5-8c16192afac6
time=2026-01-05T22:19:55.877-03:00 level=INFO msg="created implicit world for story" world_id=5ea6d7b7-7e6b-478f-a785-a6cffefedc73 story_title="Test Story"
time=2026-01-05T22:19:55.878-03:00 level=INFO msg="story created" story_id=7d93d0e8-abd2-4730-85d8-2dcd04fc035d title="Test Story" tenant_id=ae706d45-e418-4467-9cd5-8c16192afac6
time=2026-01-05T22:19:55.878-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:19:55.878-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:19:55.879-03:00 level=INFO msg="scene created" scene_id=4788dbfc-dbcd-4973-9f1e-4fa9246e1215 story_id=7d93d0e8-abd2-4730-85d8-2dcd04fc035d tenant_id=ae706d45-e418-4467-9cd5-8c16192afac6
time=2026-01-05T22:19:55.879-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_UpdateBeat/successful_update
time=2026-01-05T22:19:55.879-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:55.880-03:00 level=INFO msg="beat created" beat_id=c401b0c6-9405-4f1c-a212-88f5b225c49d scene_id=4788dbfc-dbcd-4973-9f1e-4fa9246e1215 tenant_id=ae706d45-e418-4467-9cd5-8c16192afac6
time=2026-01-05T22:19:55.880-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-05T22:19:55.880-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/UpdateBeat
time=2026-01-05T22:19:55.881-03:00 level=INFO msg="beat updated" beat_id=c401b0c6-9405-4f1c-a212-88f5b225c49d tenant_id=ae706d45-e418-4467-9cd5-8c16192afac6
time=2026-01-05T22:19:55.881-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/UpdateBeat duration_ms=0
time=2026-01-05T22:19:55.881-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_UpdateBeat (0.16s)
    --- PASS: TestBeatHandler_UpdateBeat/successful_update (0.00s)
=== RUN   TestBeatHandler_MoveBeat
time=2026-01-05T22:19:56.043-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:56.043-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:56.043-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:56.043-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:56.043-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:56.043-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:56.043-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:56.043-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:56.045-03:00 level=INFO msg="tenant created" tenant_id=4064b161-c335-42f6-b03f-ecc7a1f6d917 name="Test Tenant for Move Beat"
time=2026-01-05T22:19:56.045-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:56.046-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:56.047-03:00 level=INFO msg="world created" world_id=1e34416d-d4ee-4af4-b0dd-250c042688f0 name="World of Test Story" tenant_id=4064b161-c335-42f6-b03f-ecc7a1f6d917
time=2026-01-05T22:19:56.047-03:00 level=INFO msg="created implicit world for story" world_id=1e34416d-d4ee-4af4-b0dd-250c042688f0 story_title="Test Story"
time=2026-01-05T22:19:56.049-03:00 level=INFO msg="story created" story_id=929c95ad-61f4-45e1-99a1-ee1a28ca5060 title="Test Story" tenant_id=4064b161-c335-42f6-b03f-ecc7a1f6d917
time=2026-01-05T22:19:56.049-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-05T22:19:56.049-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:19:56.050-03:00 level=INFO msg="scene created" scene_id=62f73ef7-0b2d-44f1-9f43-ae3cd8d3ac41 story_id=929c95ad-61f4-45e1-99a1-ee1a28ca5060 tenant_id=4064b161-c335-42f6-b03f-ecc7a1f6d917
time=2026-01-05T22:19:56.050-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-05T22:19:56.051-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:19:56.051-03:00 level=INFO msg="scene created" scene_id=e93e3590-7a7a-4eaa-9eaf-6e47600cd4d6 story_id=929c95ad-61f4-45e1-99a1-ee1a28ca5060 tenant_id=4064b161-c335-42f6-b03f-ecc7a1f6d917
time=2026-01-05T22:19:56.051-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_MoveBeat/move_to_different_scene
time=2026-01-05T22:19:56.052-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:56.053-03:00 level=INFO msg="beat created" beat_id=59003dea-22d4-4f72-a11b-f8d9c89d52db scene_id=62f73ef7-0b2d-44f1-9f43-ae3cd8d3ac41 tenant_id=4064b161-c335-42f6-b03f-ecc7a1f6d917
time=2026-01-05T22:19:56.053-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-05T22:19:56.053-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/MoveBeat
time=2026-01-05T22:19:56.054-03:00 level=INFO msg="beat moved" beat_id=59003dea-22d4-4f72-a11b-f8d9c89d52db new_scene_id=e93e3590-7a7a-4eaa-9eaf-6e47600cd4d6 tenant_id=4064b161-c335-42f6-b03f-ecc7a1f6d917
time=2026-01-05T22:19:56.054-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/MoveBeat duration_ms=1
time=2026-01-05T22:19:56.055-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_MoveBeat (0.17s)
    --- PASS: TestBeatHandler_MoveBeat/move_to_different_scene (0.00s)
=== RUN   TestBeatHandler_ListBeatsByScene
time=2026-01-05T22:19:56.195-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:56.195-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:56.195-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:56.195-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:56.195-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:56.195-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:56.195-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:56.197-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:56.199-03:00 level=INFO msg="tenant created" tenant_id=1dd98c98-39e2-4507-9e62-1c6acbdb284a name="Test Tenant for List Beats"
time=2026-01-05T22:19:56.199-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:19:56.199-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:56.200-03:00 level=INFO msg="world created" world_id=cf55056e-4a82-46b4-9db1-a13a8ff97aee name="World of Test Story" tenant_id=1dd98c98-39e2-4507-9e62-1c6acbdb284a
time=2026-01-05T22:19:56.200-03:00 level=INFO msg="created implicit world for story" world_id=cf55056e-4a82-46b4-9db1-a13a8ff97aee story_title="Test Story"
time=2026-01-05T22:19:56.201-03:00 level=INFO msg="story created" story_id=2e9395e9-48a9-4bcf-bafa-c1237507855a title="Test Story" tenant_id=1dd98c98-39e2-4507-9e62-1c6acbdb284a
time=2026-01-05T22:19:56.201-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:19:56.201-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:19:56.202-03:00 level=INFO msg="scene created" scene_id=618a2196-3ee1-498f-8148-125b205c620d story_id=2e9395e9-48a9-4bcf-bafa-c1237507855a tenant_id=1dd98c98-39e2-4507-9e62-1c6acbdb284a
time=2026-01-05T22:19:56.202-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_ListBeatsByScene/list_beats_by_scene
time=2026-01-05T22:19:56.203-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:56.204-03:00 level=INFO msg="beat created" beat_id=f55cab19-af3e-42aa-9781-7ecad8713543 scene_id=618a2196-3ee1-498f-8148-125b205c620d tenant_id=1dd98c98-39e2-4507-9e62-1c6acbdb284a
time=2026-01-05T22:19:56.204-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-05T22:19:56.205-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:56.205-03:00 level=INFO msg="beat created" beat_id=d0ab4fe1-ca80-4255-abff-74162f9c6125 scene_id=618a2196-3ee1-498f-8148-125b205c620d tenant_id=1dd98c98-39e2-4507-9e62-1c6acbdb284a
time=2026-01-05T22:19:56.205-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-05T22:19:56.205-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:56.206-03:00 level=INFO msg="beat created" beat_id=18b203a0-4191-445d-b0cd-fcc000cfe9fd scene_id=618a2196-3ee1-498f-8148-125b205c620d tenant_id=1dd98c98-39e2-4507-9e62-1c6acbdb284a
time=2026-01-05T22:19:56.206-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-05T22:19:56.206-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/ListBeatsByScene
time=2026-01-05T22:19:56.206-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/ListBeatsByScene duration_ms=0
time=2026-01-05T22:19:56.206-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_ListBeatsByScene (0.15s)
    --- PASS: TestBeatHandler_ListBeatsByScene/list_beats_by_scene (0.00s)
=== RUN   TestBeatHandler_DeleteBeat
time=2026-01-05T22:19:56.366-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:56.366-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:56.366-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:56.366-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:56.366-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:56.366-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:56.366-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:56.368-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:56.370-03:00 level=INFO msg="tenant created" tenant_id=86466a3b-62f6-4664-a27a-ada9553cb0dc name="Test Tenant for Delete Beat"
time=2026-01-05T22:19:56.370-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:56.370-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:56.372-03:00 level=INFO msg="world created" world_id=63d18ccd-157b-44ee-a2e2-2a0b4ce7cdb7 name="World of Test Story" tenant_id=86466a3b-62f6-4664-a27a-ada9553cb0dc
time=2026-01-05T22:19:56.372-03:00 level=INFO msg="created implicit world for story" world_id=63d18ccd-157b-44ee-a2e2-2a0b4ce7cdb7 story_title="Test Story"
time=2026-01-05T22:19:56.374-03:00 level=INFO msg="story created" story_id=cd2932fc-c930-4768-b485-2873f0b07ecc title="Test Story" tenant_id=86466a3b-62f6-4664-a27a-ada9553cb0dc
time=2026-01-05T22:19:56.374-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-05T22:19:56.374-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:19:56.376-03:00 level=INFO msg="scene created" scene_id=cecb1466-6455-4f14-a984-ca9db60445d9 story_id=cd2932fc-c930-4768-b485-2873f0b07ecc tenant_id=86466a3b-62f6-4664-a27a-ada9553cb0dc
time=2026-01-05T22:19:56.376-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_DeleteBeat/successful_delete
time=2026-01-05T22:19:56.376-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-05T22:19:56.377-03:00 level=INFO msg="beat created" beat_id=d439aef8-d1d2-4589-9684-d97fd250f109 scene_id=cecb1466-6455-4f14-a984-ca9db60445d9 tenant_id=86466a3b-62f6-4664-a27a-ada9553cb0dc
time=2026-01-05T22:19:56.377-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-05T22:19:56.377-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/DeleteBeat
time=2026-01-05T22:19:56.378-03:00 level=INFO msg="beat deleted" beat_id=d439aef8-d1d2-4589-9684-d97fd250f109 tenant_id=86466a3b-62f6-4664-a27a-ada9553cb0dc
time=2026-01-05T22:19:56.378-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/DeleteBeat duration_ms=0
time=2026-01-05T22:19:56.379-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_DeleteBeat (0.17s)
    --- PASS: TestBeatHandler_DeleteBeat/successful_delete (0.00s)
=== RUN   TestChapterHandler_CreateChapter
time=2026-01-05T22:19:56.531-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:56.531-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:56.531-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:56.531-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:56.531-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:56.531-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:56.531-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:56.533-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:56.536-03:00 level=INFO msg="tenant created" tenant_id=b9803749-fa69-46b9-9ddd-f9e520423f17 name="Test Tenant for Chapter"
time=2026-01-05T22:19:56.536-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-05T22:19:56.537-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:56.538-03:00 level=INFO msg="world created" world_id=6a762d7b-0212-4e33-a428-1fb5356be8b5 name="World of Test Story for Chapter" tenant_id=b9803749-fa69-46b9-9ddd-f9e520423f17
time=2026-01-05T22:19:56.538-03:00 level=INFO msg="created implicit world for story" world_id=6a762d7b-0212-4e33-a428-1fb5356be8b5 story_title="Test Story for Chapter"
time=2026-01-05T22:19:56.540-03:00 level=INFO msg="story created" story_id=162884ce-c799-454c-a63d-a9de347dc447 title="Test Story for Chapter" tenant_id=b9803749-fa69-46b9-9ddd-f9e520423f17
time=2026-01-05T22:19:56.540-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_CreateChapter/successful_creation
time=2026-01-05T22:19:56.540-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:56.541-03:00 level=INFO msg="chapter created" chapter_id=c54659a9-c1fb-4925-8b47-5a2b277f4d00 story_id=162884ce-c799-454c-a63d-a9de347dc447 tenant_id=b9803749-fa69-46b9-9ddd-f9e520423f17
time=2026-01-05T22:19:56.541-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestChapterHandler_CreateChapter/invalid_story_id
time=2026-01-05T22:19:56.541-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:56.541-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = NotFound desc = story not found: 624289ec-81cd-4cf6-be7f-c257ab84cf9f"
=== RUN   TestChapterHandler_CreateChapter/invalid_number
time=2026-01-05T22:19:56.542-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:56.542-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on number: must be greater than 0"
=== RUN   TestChapterHandler_CreateChapter/empty_title
time=2026-01-05T22:19:56.542-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:56.542-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on title: title is required"
time=2026-01-05T22:19:56.542-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_CreateChapter (0.16s)
    --- PASS: TestChapterHandler_CreateChapter/successful_creation (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_story_id (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_number (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/empty_title (0.00s)
=== RUN   TestChapterHandler_GetChapter
time=2026-01-05T22:19:56.685-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:56.685-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:56.685-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:56.685-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:56.685-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:56.685-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:56.685-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:56.686-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:56.688-03:00 level=INFO msg="tenant created" tenant_id=98e2d462-0b0f-4c21-87d2-a930f8681cf6 name="Test Tenant for Get Chapter"
time=2026-01-05T22:19:56.688-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:56.689-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:56.690-03:00 level=INFO msg="world created" world_id=ac2e3413-8b86-4832-9077-bcba66b4a9bc name="World of Test Story" tenant_id=98e2d462-0b0f-4c21-87d2-a930f8681cf6
time=2026-01-05T22:19:56.690-03:00 level=INFO msg="created implicit world for story" world_id=ac2e3413-8b86-4832-9077-bcba66b4a9bc story_title="Test Story"
time=2026-01-05T22:19:56.691-03:00 level=INFO msg="story created" story_id=41eec66c-d2d1-4efb-90d6-79fefe0bd25d title="Test Story" tenant_id=98e2d462-0b0f-4c21-87d2-a930f8681cf6
time=2026-01-05T22:19:56.691-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_GetChapter/existing_chapter
time=2026-01-05T22:19:56.691-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:56.692-03:00 level=INFO msg="chapter created" chapter_id=a1d58ff0-b8ef-40a5-afbf-0cdde2115ec5 story_id=41eec66c-d2d1-4efb-90d6-79fefe0bd25d tenant_id=98e2d462-0b0f-4c21-87d2-a930f8681cf6
time=2026-01-05T22:19:56.692-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-05T22:19:56.692-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-05T22:19:56.692-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/GetChapter duration_ms=0
=== RUN   TestChapterHandler_GetChapter/non-existing_chapter
time=2026-01-05T22:19:56.693-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-05T22:19:56.693-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 131c18fa-0724-49e9-980c-1dac37df2e94" chapter_id=131c18fa-0724-49e9-980c-1dac37df2e94 tenant_id=98e2d462-0b0f-4c21-87d2-a930f8681cf6
time=2026-01-05T22:19:56.693-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 131c18fa-0724-49e9-980c-1dac37df2e94"
=== RUN   TestChapterHandler_GetChapter/invalid_ID
time=2026-01-05T22:19:56.693-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-05T22:19:56.693-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid id: invalid UUID length: 10"
time=2026-01-05T22:19:56.693-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_GetChapter (0.15s)
    --- PASS: TestChapterHandler_GetChapter/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/non-existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/invalid_ID (0.00s)
=== RUN   TestChapterHandler_UpdateChapter
time=2026-01-05T22:19:56.852-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:56.852-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:56.852-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:56.852-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:56.852-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:56.852-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:56.852-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:56.853-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:56.856-03:00 level=INFO msg="tenant created" tenant_id=e01719a9-40db-4c8c-b6a2-bf750c7cc053 name="Test Tenant for Update Chapter"
time=2026-01-05T22:19:56.856-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:56.856-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:56.857-03:00 level=INFO msg="world created" world_id=9c5de2ee-bd00-49f2-a9bd-bbcd03d57c2e name="World of Test Story" tenant_id=e01719a9-40db-4c8c-b6a2-bf750c7cc053
time=2026-01-05T22:19:56.857-03:00 level=INFO msg="created implicit world for story" world_id=9c5de2ee-bd00-49f2-a9bd-bbcd03d57c2e story_title="Test Story"
time=2026-01-05T22:19:56.858-03:00 level=INFO msg="story created" story_id=98cc8253-2df7-462e-8f1e-fee25d7b4734 title="Test Story" tenant_id=e01719a9-40db-4c8c-b6a2-bf750c7cc053
time=2026-01-05T22:19:56.858-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_UpdateChapter/successful_update
time=2026-01-05T22:19:56.858-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:56.859-03:00 level=INFO msg="chapter created" chapter_id=0801b21f-ff51-4012-9ad9-9621e227e9fb story_id=98cc8253-2df7-462e-8f1e-fee25d7b4734 tenant_id=e01719a9-40db-4c8c-b6a2-bf750c7cc053
time=2026-01-05T22:19:56.859-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-05T22:19:56.860-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-05T22:19:56.860-03:00 level=INFO msg="chapter updated" chapter_id=0801b21f-ff51-4012-9ad9-9621e227e9fb tenant_id=e01719a9-40db-4c8c-b6a2-bf750c7cc053
time=2026-01-05T22:19:56.860-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/UpdateChapter duration_ms=0
=== RUN   TestChapterHandler_UpdateChapter/non-existing_chapter
time=2026-01-05T22:19:56.861-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-05T22:19:56.861-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/UpdateChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: ee4272c1-bb21-4bfc-ab78-dbd9bfa599a2"
time=2026-01-05T22:19:56.861-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_UpdateChapter (0.17s)
    --- PASS: TestChapterHandler_UpdateChapter/successful_update (0.00s)
    --- PASS: TestChapterHandler_UpdateChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_DeleteChapter
time=2026-01-05T22:19:57.006-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:57.006-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:57.006-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:57.006-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:57.006-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:57.006-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:57.006-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:57.007-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:57.009-03:00 level=INFO msg="tenant created" tenant_id=2cc479f6-dbe9-47cf-9cc1-ff918d3b1782 name="Test Tenant for Delete Chapter"
time=2026-01-05T22:19:57.009-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:57.009-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:57.012-03:00 level=INFO msg="world created" world_id=20aab895-7aa8-4f15-8c36-e16d476f338e name="World of Test Story" tenant_id=2cc479f6-dbe9-47cf-9cc1-ff918d3b1782
time=2026-01-05T22:19:57.012-03:00 level=INFO msg="created implicit world for story" world_id=20aab895-7aa8-4f15-8c36-e16d476f338e story_title="Test Story"
time=2026-01-05T22:19:57.013-03:00 level=INFO msg="story created" story_id=20f071c0-71ff-41b7-8094-9024c0cb2f7b title="Test Story" tenant_id=2cc479f6-dbe9-47cf-9cc1-ff918d3b1782
time=2026-01-05T22:19:57.013-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
=== RUN   TestChapterHandler_DeleteChapter/successful_delete
time=2026-01-05T22:19:57.013-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:57.014-03:00 level=INFO msg="chapter created" chapter_id=4b4a37a3-85e6-4893-8b4c-a6bbc8a1be0a story_id=20f071c0-71ff-41b7-8094-9024c0cb2f7b tenant_id=2cc479f6-dbe9-47cf-9cc1-ff918d3b1782
time=2026-01-05T22:19:57.014-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-05T22:19:57.014-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-05T22:19:57.016-03:00 level=INFO msg="chapter deleted" chapter_id=4b4a37a3-85e6-4893-8b4c-a6bbc8a1be0a tenant_id=2cc479f6-dbe9-47cf-9cc1-ff918d3b1782
time=2026-01-05T22:19:57.016-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/DeleteChapter duration_ms=1
time=2026-01-05T22:19:57.016-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-05T22:19:57.016-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 4b4a37a3-85e6-4893-8b4c-a6bbc8a1be0a" chapter_id=4b4a37a3-85e6-4893-8b4c-a6bbc8a1be0a tenant_id=2cc479f6-dbe9-47cf-9cc1-ff918d3b1782
time=2026-01-05T22:19:57.016-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 4b4a37a3-85e6-4893-8b4c-a6bbc8a1be0a"
=== RUN   TestChapterHandler_DeleteChapter/non-existing_chapter
time=2026-01-05T22:19:57.016-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-05T22:19:57.017-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/DeleteChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: abce14a8-4420-47f0-8ef3-9895b5120faf"
time=2026-01-05T22:19:57.017-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_DeleteChapter (0.15s)
    --- PASS: TestChapterHandler_DeleteChapter/successful_delete (0.00s)
    --- PASS: TestChapterHandler_DeleteChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_ListChaptersByStory
time=2026-01-05T22:19:57.163-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:57.163-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:57.163-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:57.163-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:57.164-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:57.164-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:57.164-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:57.164-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:57.166-03:00 level=INFO msg="tenant created" tenant_id=c1cc45ed-5667-4fb7-8b34-e54909d4f63a name="Test Tenant for List Chapters"
time=2026-01-05T22:19:57.166-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:19:57.167-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:57.168-03:00 level=INFO msg="world created" world_id=ad20c969-6aa7-4f2c-8714-5d2716b71478 name="World of Test Story" tenant_id=c1cc45ed-5667-4fb7-8b34-e54909d4f63a
time=2026-01-05T22:19:57.168-03:00 level=INFO msg="created implicit world for story" world_id=ad20c969-6aa7-4f2c-8714-5d2716b71478 story_title="Test Story"
time=2026-01-05T22:19:57.169-03:00 level=INFO msg="story created" story_id=4af7651e-144b-49fc-9669-80906df5471a title="Test Story" tenant_id=c1cc45ed-5667-4fb7-8b34-e54909d4f63a
time=2026-01-05T22:19:57.169-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_ListChaptersByStory/list_chapters
time=2026-01-05T22:19:57.169-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:57.170-03:00 level=INFO msg="chapter created" chapter_id=0aab9d9f-1d31-4e73-bb36-c8ef19097aa3 story_id=4af7651e-144b-49fc-9669-80906df5471a tenant_id=c1cc45ed-5667-4fb7-8b34-e54909d4f63a
time=2026-01-05T22:19:57.170-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-05T22:19:57.170-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:57.171-03:00 level=INFO msg="chapter created" chapter_id=2b4ed3fc-537e-475c-9df0-43de597d910e story_id=4af7651e-144b-49fc-9669-80906df5471a tenant_id=c1cc45ed-5667-4fb7-8b34-e54909d4f63a
time=2026-01-05T22:19:57.171-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-05T22:19:57.171-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:57.171-03:00 level=INFO msg="chapter created" chapter_id=f75724d9-5744-45cd-83cc-08eea65953b7 story_id=4af7651e-144b-49fc-9669-80906df5471a tenant_id=c1cc45ed-5667-4fb7-8b34-e54909d4f63a
time=2026-01-05T22:19:57.171-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-05T22:19:57.172-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-05T22:19:57.172-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
=== RUN   TestChapterHandler_ListChaptersByStory/empty_list_for_new_story
time=2026-01-05T22:19:57.172-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:57.173-03:00 level=INFO msg="world created" world_id=db7aa1ca-6ea3-4c02-a521-03b7a6efa722 name="World of Empty Story" tenant_id=c1cc45ed-5667-4fb7-8b34-e54909d4f63a
time=2026-01-05T22:19:57.173-03:00 level=INFO msg="created implicit world for story" world_id=db7aa1ca-6ea3-4c02-a521-03b7a6efa722 story_title="Empty Story"
time=2026-01-05T22:19:57.174-03:00 level=INFO msg="story created" story_id=de892194-daa3-4455-b656-4bd983a27124 title="Empty Story" tenant_id=c1cc45ed-5667-4fb7-8b34-e54909d4f63a
time=2026-01-05T22:19:57.174-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-05T22:19:57.174-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-05T22:19:57.174-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
time=2026-01-05T22:19:57.174-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_ListChaptersByStory (0.16s)
    --- PASS: TestChapterHandler_ListChaptersByStory/list_chapters (0.00s)
    --- PASS: TestChapterHandler_ListChaptersByStory/empty_list_for_new_story (0.00s)
=== RUN   TestCharacterHandler_CreateCharacter
time=2026-01-05T22:19:57.321-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:57.321-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:57.321-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_CreateCharacter/successful_creation
time=2026-01-05T22:19:57.322-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:57.324-03:00 level=INFO msg="tenant created" tenant_id=54a1179c-cbbd-4de6-8a9a-90321c05f461 name="Test Tenant for Character"
time=2026-01-05T22:19:57.324-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:57.324-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:57.325-03:00 level=INFO msg="world created" world_id=ab8a0a9e-a59e-4f51-8107-e263fa6d9633 name="Test World" tenant_id=54a1179c-cbbd-4de6-8a9a-90321c05f461
time=2026-01-05T22:19:57.325-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:57.325-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:57.327-03:00 level=INFO msg="character created" character_id=8e97b0e5-cf74-46e7-83f1-3f832038dded name="Test Character"
time=2026-01-05T22:19:57.327-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestCharacterHandler_CreateCharacter/empty_name
time=2026-01-05T22:19:57.327-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:57.328-03:00 level=INFO msg="tenant created" tenant_id=84f663f1-2aa5-40ff-a027-71f9367125e9 name="Test Tenant 2"
time=2026-01-05T22:19:57.328-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:57.329-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:57.330-03:00 level=INFO msg="world created" world_id=aea2840e-c3eb-401d-b577-f8cf5de23ce9 name="Test World 2" tenant_id=84f663f1-2aa5-40ff-a027-71f9367125e9
time=2026-01-05T22:19:57.330-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:57.330-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:57.330-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacter duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-05T22:19:57.331-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_CreateCharacter (0.16s)
    --- PASS: TestCharacterHandler_CreateCharacter/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacter/empty_name (0.00s)
=== RUN   TestCharacterHandler_GetCharacter
time=2026-01-05T22:19:57.481-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:57.481-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:57.481-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacter/existing_character
time=2026-01-05T22:19:57.483-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:57.485-03:00 level=INFO msg="tenant created" tenant_id=1334886d-9019-4ac3-844e-c7ab7ca475d2 name="Get Test Tenant"
time=2026-01-05T22:19:57.485-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:19:57.486-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:57.490-03:00 level=INFO msg="world created" world_id=5fa1bab0-ec90-4bd8-9b8e-a40a60ebd403 name="Get Test World" tenant_id=1334886d-9019-4ac3-844e-c7ab7ca475d2
time=2026-01-05T22:19:57.490-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=4
time=2026-01-05T22:19:57.490-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:57.491-03:00 level=INFO msg="character created" character_id=2f609fee-21b7-4e76-b1e0-dfd3698fb47f name="Get Test Character"
time=2026-01-05T22:19:57.491-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:57.492-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-05T22:19:57.492-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacter duration_ms=0
=== RUN   TestCharacterHandler_GetCharacter/non-existing_character
time=2026-01-05T22:19:57.492-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:57.493-03:00 level=INFO msg="tenant created" tenant_id=8365f658-109c-4398-93b2-49f181bad023 name="Non-existing Test Tenant"
time=2026-01-05T22:19:57.493-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:57.493-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-05T22:19:57.493-03:00 level=ERROR msg="failed to get character" error="character not found: 1970cbc8-3315-4042-bf16-69dd9b1c71bf" character_id=1970cbc8-3315-4042-bf16-69dd9b1c71bf
time=2026-01-05T22:19:57.493-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: 1970cbc8-3315-4042-bf16-69dd9b1c71bf"
time=2026-01-05T22:19:57.493-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacter (0.16s)
    --- PASS: TestCharacterHandler_GetCharacter/existing_character (0.01s)
    --- PASS: TestCharacterHandler_GetCharacter/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListCharacters
time=2026-01-05T22:19:57.630-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:57.630-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:57.630-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_ListCharacters/list_characters
time=2026-01-05T22:19:57.631-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:57.633-03:00 level=INFO msg="tenant created" tenant_id=e1151490-2cb8-40a7-a1eb-08f4a8220cdc name="List Test Tenant"
time=2026-01-05T22:19:57.633-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:57.633-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:57.634-03:00 level=INFO msg="world created" world_id=82c7c26f-896e-4949-8686-c0174a9a657d name="List Test World" tenant_id=e1151490-2cb8-40a7-a1eb-08f4a8220cdc
time=2026-01-05T22:19:57.634-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:57.635-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:57.636-03:00 level=INFO msg="character created" character_id=fd88f435-cf30-4f4a-8d51-ad81ee6e78d1 name="Character 1"
time=2026-01-05T22:19:57.636-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:57.636-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:57.637-03:00 level=INFO msg="character created" character_id=676a5b29-725f-4dbf-b077-4015fa8dbe1f name="Character 2"
time=2026-01-05T22:19:57.637-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:57.637-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacters
time=2026-01-05T22:19:57.638-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacters duration_ms=0
time=2026-01-05T22:19:57.638-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_ListCharacters (0.15s)
    --- PASS: TestCharacterHandler_ListCharacters/list_characters (0.01s)
=== RUN   TestCharacterHandler_UpdateCharacter
time=2026-01-05T22:19:57.817-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:57.818-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:57.818-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_UpdateCharacter/update_character
time=2026-01-05T22:19:57.820-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:57.822-03:00 level=INFO msg="tenant created" tenant_id=e6a0043d-4a82-4f50-9790-2f7fa892229a name="Update Test Tenant"
time=2026-01-05T22:19:57.822-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:57.822-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:57.824-03:00 level=INFO msg="world created" world_id=ec12715c-02af-4e84-8db9-be204e4caf37 name="Update Test World" tenant_id=e6a0043d-4a82-4f50-9790-2f7fa892229a
time=2026-01-05T22:19:57.824-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:57.824-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:57.826-03:00 level=INFO msg="character created" character_id=0dfbe4ca-9b43-4d8d-9839-4d67e4e80fe5 name="Original Character"
time=2026-01-05T22:19:57.826-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:57.826-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacter
time=2026-01-05T22:19:57.827-03:00 level=INFO msg="character updated" character_id=0dfbe4ca-9b43-4d8d-9839-4d67e4e80fe5 name="Updated Character"
time=2026-01-05T22:19:57.827-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacter duration_ms=1
time=2026-01-05T22:19:57.828-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_UpdateCharacter (0.19s)
    --- PASS: TestCharacterHandler_UpdateCharacter/update_character (0.01s)
=== RUN   TestCharacterHandler_DeleteCharacter
time=2026-01-05T22:19:57.995-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:57.995-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:57.995-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_DeleteCharacter/delete_character
time=2026-01-05T22:19:57.997-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:57.999-03:00 level=INFO msg="tenant created" tenant_id=15231444-aa69-4c8d-9b99-c0108ed3bb6e name="Delete Test Tenant"
time=2026-01-05T22:19:57.999-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:57.999-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.000-03:00 level=INFO msg="world created" world_id=bf20c4e5-3db2-467f-b244-2aa2a6fad489 name="Delete Test World" tenant_id=15231444-aa69-4c8d-9b99-c0108ed3bb6e
time=2026-01-05T22:19:58.000-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:58.000-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.002-03:00 level=INFO msg="character created" character_id=2034792a-6e36-4ce1-8f5a-024736b571a2 name="Character to Delete"
time=2026-01-05T22:19:58.002-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:58.002-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/DeleteCharacter
time=2026-01-05T22:19:58.006-03:00 level=INFO msg="character deleted" character_id=2034792a-6e36-4ce1-8f5a-024736b571a2 name="Character to Delete"
time=2026-01-05T22:19:58.006-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/DeleteCharacter duration_ms=4
time=2026-01-05T22:19:58.006-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-05T22:19:58.006-03:00 level=ERROR msg="failed to get character" error="character not found: 2034792a-6e36-4ce1-8f5a-024736b571a2" character_id=2034792a-6e36-4ce1-8f5a-024736b571a2
time=2026-01-05T22:19:58.007-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: 2034792a-6e36-4ce1-8f5a-024736b571a2"
time=2026-01-05T22:19:58.007-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_DeleteCharacter (0.19s)
    --- PASS: TestCharacterHandler_DeleteCharacter/delete_character (0.01s)
=== RUN   TestCharacterHandler_GetCharacterEvents
time=2026-01-05T22:19:58.181-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:58.181-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:58.181-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events
time=2026-01-05T22:19:58.182-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.186-03:00 level=INFO msg="tenant created" tenant_id=7a74d956-8b2b-48f7-bcb1-6df1e1116c52 name="Events Test Tenant"
time=2026-01-05T22:19:58.186-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-05T22:19:58.186-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.188-03:00 level=INFO msg="world created" world_id=904a2abb-5c0a-4dd5-ae3a-7f30067435c7 name="Events Test World" tenant_id=7a74d956-8b2b-48f7-bcb1-6df1e1116c52
time=2026-01-05T22:19:58.188-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:58.188-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.190-03:00 level=INFO msg="character created" character_id=2320cd90-d8de-4d21-a519-c2b6862516b4 name="Character With Events"
time=2026-01-05T22:19:58.190-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:58.191-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-05T22:19:58.191-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacterEvents duration_ms=0
=== RUN   TestCharacterHandler_GetCharacterEvents/invalid_character_id
time=2026-01-05T22:19:58.192-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.193-03:00 level=INFO msg="tenant created" tenant_id=22f5f9f3-639e-458f-9dbf-2e7d3e0a5361 name="Invalid Events Test Tenant"
time=2026-01-05T22:19:58.193-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:58.193-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-05T22:19:58.193-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacterEvents duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid character_id: invalid UUID length: 12"
time=2026-01-05T22:19:58.193-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacterEvents (0.18s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events (0.01s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/invalid_character_id (0.00s)
=== RUN   TestCharacterHandler_CreateCharacterRelationship
time=2026-01-05T22:19:58.373-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:58.373-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:58.373-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_CreateCharacterRelationship/successful_creation
time=2026-01-05T22:19:58.376-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.378-03:00 level=INFO msg="tenant created" tenant_id=8e1f38ce-06d1-4fcd-a27c-08d0086655b4 name="Relationship Test Tenant"
time=2026-01-05T22:19:58.378-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:58.378-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.379-03:00 level=INFO msg="world created" world_id=4d5b56cf-ceb5-4283-bb93-72e87d998d5c name="Relationship Test World" tenant_id=8e1f38ce-06d1-4fcd-a27c-08d0086655b4
time=2026-01-05T22:19:58.379-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:58.380-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.381-03:00 level=INFO msg="character created" character_id=c60bfc03-df3b-4fd7-bbce-3c1bba3b5cab name="Character 1"
time=2026-01-05T22:19:58.381-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:58.381-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.382-03:00 level=INFO msg="character created" character_id=76bd72f8-681b-4cf4-a040-1bab78b84263 name="Character 2"
time=2026-01-05T22:19:58.382-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.382-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-05T22:19:58.383-03:00 level=INFO msg="character relationship created" relationship_id=bd39ecf5-9e0b-46dc-8adb-dc66da9ac8d5 character1_id=c60bfc03-df3b-4fd7-bbce-3c1bba3b5cab character2_id=76bd72f8-681b-4cf4-a040-1bab78b84263
time=2026-01-05T22:19:58.383-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=1
=== RUN   TestCharacterHandler_CreateCharacterRelationship/same_character_relationship_fails
time=2026-01-05T22:19:58.384-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.384-03:00 level=INFO msg="tenant created" tenant_id=16f0b6a6-cd6e-4576-9c9b-0af52a09876c name="Same Char Test Tenant"
time=2026-01-05T22:19:58.384-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:58.384-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.385-03:00 level=INFO msg="world created" world_id=c7c85e5c-ebeb-4609-b0bb-0d2c373e0179 name="Same Char Test World" tenant_id=16f0b6a6-cd6e-4576-9c9b-0af52a09876c
time=2026-01-05T22:19:58.385-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:58.385-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.386-03:00 level=INFO msg="character created" character_id=f64fd216-abde-41e5-a67e-f9179572650a name="Solo Character"
time=2026-01-05T22:19:58.386-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.386-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-05T22:19:58.387-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=0 error="rpc error: code = Internal desc = internal server error: character1_id and character2_id must be different"
=== RUN   TestCharacterHandler_CreateCharacterRelationship/empty_relationship_type_fails
time=2026-01-05T22:19:58.387-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.388-03:00 level=INFO msg="tenant created" tenant_id=ff142e4d-f980-4325-b2cd-5b5247ea82f6 name="Empty Type Test Tenant"
time=2026-01-05T22:19:58.388-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:58.388-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.388-03:00 level=INFO msg="world created" world_id=ee5e4035-627c-4963-a632-f8e7938a16ea name="Empty Type Test World" tenant_id=ff142e4d-f980-4325-b2cd-5b5247ea82f6
time=2026-01-05T22:19:58.388-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:58.389-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.389-03:00 level=INFO msg="character created" character_id=346adfba-d2c7-438f-bf05-99c6616f2807 name="Character A"
time=2026-01-05T22:19:58.389-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.389-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.390-03:00 level=INFO msg="character created" character_id=9410d54c-bd0b-475e-a2f0-b0a8aba080ab name="Character B"
time=2026-01-05T22:19:58.390-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.390-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-05T22:19:58.391-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=0 error="rpc error: code = Internal desc = internal server error: character relationship type is required"
time=2026-01-05T22:19:58.391-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_CreateCharacterRelationship (0.20s)
    --- PASS: TestCharacterHandler_CreateCharacterRelationship/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacterRelationship/same_character_relationship_fails (0.00s)
    --- PASS: TestCharacterHandler_CreateCharacterRelationship/empty_relationship_type_fails (0.00s)
=== RUN   TestCharacterHandler_GetCharacterRelationship
time=2026-01-05T22:19:58.558-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:58.558-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:58.558-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacterRelationship/existing_relationship
time=2026-01-05T22:19:58.561-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.563-03:00 level=INFO msg="tenant created" tenant_id=a68799b7-c28a-4a1f-83cf-e915f11829ca name="Get Rel Test Tenant"
time=2026-01-05T22:19:58.563-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:58.563-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.564-03:00 level=INFO msg="world created" world_id=482c33a4-7554-452f-bb4a-e7679f119418 name="Get Rel Test World" tenant_id=a68799b7-c28a-4a1f-83cf-e915f11829ca
time=2026-01-05T22:19:58.564-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:58.564-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.567-03:00 level=INFO msg="character created" character_id=4e071767-cda0-4fe0-b664-585e61217249 name="Char 1"
time=2026-01-05T22:19:58.567-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-05T22:19:58.567-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.568-03:00 level=INFO msg="character created" character_id=d742406c-79dd-4f35-841f-361b091e1d7d name="Char 2"
time=2026-01-05T22:19:58.568-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.568-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-05T22:19:58.569-03:00 level=INFO msg="character relationship created" relationship_id=e4bdf361-4f3c-4884-8fec-6c56fc48f760 character1_id=4e071767-cda0-4fe0-b664-585e61217249 character2_id=d742406c-79dd-4f35-841f-361b091e1d7d
time=2026-01-05T22:19:58.569-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=1
time=2026-01-05T22:19:58.570-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterRelationship
time=2026-01-05T22:19:58.570-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacterRelationship duration_ms=0
=== RUN   TestCharacterHandler_GetCharacterRelationship/non-existing_relationship
time=2026-01-05T22:19:58.570-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.571-03:00 level=INFO msg="tenant created" tenant_id=01409f54-4d7a-4b29-9fcb-4d625320a8fd name="NonExist Rel Test Tenant"
time=2026-01-05T22:19:58.571-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:58.571-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterRelationship
time=2026-01-05T22:19:58.571-03:00 level=ERROR msg="failed to get character relationship" error="character_relationship not found: 1a5e4d5c-9dfa-4b96-9079-220fb87f2f6d" relationship_id=1a5e4d5c-9dfa-4b96-9079-220fb87f2f6d
time=2026-01-05T22:19:58.571-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacterRelationship duration_ms=0 error="rpc error: code = NotFound desc = character_relationship not found: 1a5e4d5c-9dfa-4b96-9079-220fb87f2f6d"
time=2026-01-05T22:19:58.571-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacterRelationship (0.18s)
    --- PASS: TestCharacterHandler_GetCharacterRelationship/existing_relationship (0.01s)
    --- PASS: TestCharacterHandler_GetCharacterRelationship/non-existing_relationship (0.00s)
=== RUN   TestCharacterHandler_ListCharacterRelationships
time=2026-01-05T22:19:58.724-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:58.724-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:58.724-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_ListCharacterRelationships/list_relationships
time=2026-01-05T22:19:58.726-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.730-03:00 level=INFO msg="tenant created" tenant_id=57f90802-7324-4202-b49f-50346f964ed3 name="List Rel Test Tenant"
time=2026-01-05T22:19:58.730-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-05T22:19:58.730-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.731-03:00 level=INFO msg="world created" world_id=d907d3d4-b654-46e8-a9c2-af1807beaaa4 name="List Rel Test World" tenant_id=57f90802-7324-4202-b49f-50346f964ed3
time=2026-01-05T22:19:58.731-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:58.731-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.733-03:00 level=INFO msg="character created" character_id=54d70f96-a2fb-403f-a59b-f1b83b0ecf2b name="Main Character"
time=2026-01-05T22:19:58.733-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:58.733-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.733-03:00 level=INFO msg="character created" character_id=e6efa596-4739-4f91-bc84-a6038a016216 name=Friend
time=2026-01-05T22:19:58.733-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.733-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.734-03:00 level=INFO msg="character created" character_id=660e4d3e-5d13-4cd4-b092-1a4ddd5a44dd name=Enemy
time=2026-01-05T22:19:58.734-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.734-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-05T22:19:58.735-03:00 level=INFO msg="character relationship created" relationship_id=fdae2127-3f5b-42e8-ac8d-83fdaec8416d character1_id=54d70f96-a2fb-403f-a59b-f1b83b0ecf2b character2_id=e6efa596-4739-4f91-bc84-a6038a016216
time=2026-01-05T22:19:58.735-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=1
time=2026-01-05T22:19:58.736-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-05T22:19:58.736-03:00 level=INFO msg="character relationship created" relationship_id=afd7679a-1bbe-483a-831f-ff609b2948d0 character1_id=54d70f96-a2fb-403f-a59b-f1b83b0ecf2b character2_id=660e4d3e-5d13-4cd4-b092-1a4ddd5a44dd
time=2026-01-05T22:19:58.736-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=0
time=2026-01-05T22:19:58.736-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacterRelationships
time=2026-01-05T22:19:58.737-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacterRelationships duration_ms=0
=== RUN   TestCharacterHandler_ListCharacterRelationships/list_with_no_relationships
time=2026-01-05T22:19:58.737-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.738-03:00 level=INFO msg="tenant created" tenant_id=8e452aca-9a45-453f-a850-30df72598f1a name="Empty List Test Tenant"
time=2026-01-05T22:19:58.738-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:58.738-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.738-03:00 level=INFO msg="world created" world_id=f91561b6-3d18-4f85-ae9e-03806a6d142a name="Empty List Test World" tenant_id=8e452aca-9a45-453f-a850-30df72598f1a
time=2026-01-05T22:19:58.738-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:58.738-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.741-03:00 level=INFO msg="character created" character_id=2e918c0d-e978-4156-ac6f-c11ee1c0f3cb name="Lonely Character"
time=2026-01-05T22:19:58.741-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-05T22:19:58.741-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacterRelationships
time=2026-01-05T22:19:58.741-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacterRelationships duration_ms=0
time=2026-01-05T22:19:58.742-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_ListCharacterRelationships (0.18s)
    --- PASS: TestCharacterHandler_ListCharacterRelationships/list_relationships (0.01s)
    --- PASS: TestCharacterHandler_ListCharacterRelationships/list_with_no_relationships (0.00s)
=== RUN   TestCharacterHandler_UpdateCharacterRelationship
time=2026-01-05T22:19:58.906-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:58.906-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:58.906-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_UpdateCharacterRelationship/update_relationship
time=2026-01-05T22:19:58.909-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.911-03:00 level=INFO msg="tenant created" tenant_id=0052045d-74aa-4aa5-beb2-9e15db8b6ca4 name="Update Rel Test Tenant"
time=2026-01-05T22:19:58.911-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:58.911-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.913-03:00 level=INFO msg="world created" world_id=4cb8ee24-7032-4b98-805a-78d0cb862557 name="Update Rel Test World" tenant_id=0052045d-74aa-4aa5-beb2-9e15db8b6ca4
time=2026-01-05T22:19:58.913-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:58.913-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.916-03:00 level=INFO msg="character created" character_id=fc576510-5a67-4993-9748-e845118c4d21 name="Char A"
time=2026-01-05T22:19:58.916-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-05T22:19:58.916-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.917-03:00 level=INFO msg="character created" character_id=78785706-8498-4a7f-87ed-25cfc60a2985 name="Char B"
time=2026-01-05T22:19:58.917-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.917-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-05T22:19:58.918-03:00 level=INFO msg="character relationship created" relationship_id=ffae37aa-efe1-4205-8a19-966c6740ee36 character1_id=fc576510-5a67-4993-9748-e845118c4d21 character2_id=78785706-8498-4a7f-87ed-25cfc60a2985
time=2026-01-05T22:19:58.918-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=1
time=2026-01-05T22:19:58.919-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacterRelationship
time=2026-01-05T22:19:58.919-03:00 level=INFO msg="character relationship updated" relationship_id=ffae37aa-efe1-4205-8a19-966c6740ee36
time=2026-01-05T22:19:58.919-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacterRelationship duration_ms=0
=== RUN   TestCharacterHandler_UpdateCharacterRelationship/partial_update
time=2026-01-05T22:19:58.919-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:58.920-03:00 level=INFO msg="tenant created" tenant_id=c2dfc68f-9f3d-492c-b4b8-a2cfb4517ba1 name="Partial Update Test Tenant"
time=2026-01-05T22:19:58.920-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:19:58.920-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:58.921-03:00 level=INFO msg="world created" world_id=10a81d88-06ae-4f0d-a31a-76284532296f name="Partial Update Test World" tenant_id=c2dfc68f-9f3d-492c-b4b8-a2cfb4517ba1
time=2026-01-05T22:19:58.921-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:58.921-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.921-03:00 level=INFO msg="character created" character_id=572aaa66-a575-4b0a-858b-92093947b8de name=Hero
time=2026-01-05T22:19:58.921-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.922-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:58.922-03:00 level=INFO msg="character created" character_id=63c46e22-7082-414b-a625-8e41b9fa86e4 name=Villain
time=2026-01-05T22:19:58.922-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:58.922-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-05T22:19:58.923-03:00 level=INFO msg="character relationship created" relationship_id=ba7669d3-d9d3-423b-a609-54866714afd2 character1_id=572aaa66-a575-4b0a-858b-92093947b8de character2_id=63c46e22-7082-414b-a625-8e41b9fa86e4
time=2026-01-05T22:19:58.923-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=0
time=2026-01-05T22:19:58.923-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacterRelationship
time=2026-01-05T22:19:58.923-03:00 level=INFO msg="character relationship updated" relationship_id=ba7669d3-d9d3-423b-a609-54866714afd2
time=2026-01-05T22:19:58.923-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacterRelationship duration_ms=0
time=2026-01-05T22:19:58.924-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_UpdateCharacterRelationship (0.17s)
    --- PASS: TestCharacterHandler_UpdateCharacterRelationship/update_relationship (0.01s)
    --- PASS: TestCharacterHandler_UpdateCharacterRelationship/partial_update (0.00s)
=== RUN   TestCharacterHandler_DeleteCharacterRelationship
time=2026-01-05T22:19:59.061-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:59.061-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:59.061-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_DeleteCharacterRelationship/delete_relationship
time=2026-01-05T22:19:59.065-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:59.067-03:00 level=INFO msg="tenant created" tenant_id=9d3cb9a6-cc31-4449-8b7c-3a515d90cdcd name="Delete Rel Test Tenant"
time=2026-01-05T22:19:59.067-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:59.067-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:59.068-03:00 level=INFO msg="world created" world_id=70cccea8-90b5-41cf-b2da-f8b683e5a52c name="Delete Rel Test World" tenant_id=9d3cb9a6-cc31-4449-8b7c-3a515d90cdcd
time=2026-01-05T22:19:59.068-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:59.069-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:59.070-03:00 level=INFO msg="character created" character_id=fb6e919a-334b-49c5-884e-2f7eccc0d379 name="Del Char 1"
time=2026-01-05T22:19:59.070-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:59.070-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:59.071-03:00 level=INFO msg="character created" character_id=b67ea0c0-2675-40b9-9894-934a010bd2ed name="Del Char 2"
time=2026-01-05T22:19:59.071-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-05T22:19:59.071-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-05T22:19:59.072-03:00 level=INFO msg="character relationship created" relationship_id=a878529f-0cdd-4da8-a0dd-ea270445fd11 character1_id=fb6e919a-334b-49c5-884e-2f7eccc0d379 character2_id=b67ea0c0-2675-40b9-9894-934a010bd2ed
time=2026-01-05T22:19:59.072-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=1
time=2026-01-05T22:19:59.073-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/DeleteCharacterRelationship
time=2026-01-05T22:19:59.073-03:00 level=INFO msg="character relationship deleted" relationship_id=a878529f-0cdd-4da8-a0dd-ea270445fd11
time=2026-01-05T22:19:59.073-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/DeleteCharacterRelationship duration_ms=0
time=2026-01-05T22:19:59.073-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterRelationship
time=2026-01-05T22:19:59.074-03:00 level=ERROR msg="failed to get character relationship" error="character_relationship not found: a878529f-0cdd-4da8-a0dd-ea270445fd11" relationship_id=a878529f-0cdd-4da8-a0dd-ea270445fd11
time=2026-01-05T22:19:59.074-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacterRelationship duration_ms=0 error="rpc error: code = NotFound desc = character_relationship not found: a878529f-0cdd-4da8-a0dd-ea270445fd11"
time=2026-01-05T22:19:59.074-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_DeleteCharacterRelationship (0.15s)
    --- PASS: TestCharacterHandler_DeleteCharacterRelationship/delete_relationship (0.01s)
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats
time=2026-01-05T22:19:59.216-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:59.216-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:59.216-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:19:59.216-03:00 level=INFO msg="CharacterRPGStatsService registered"
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation
time=2026-01-05T22:19:59.217-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:59.219-03:00 level=INFO msg="tenant created" tenant_id=df86f301-1c09-4b9d-8f2a-466199f3bf10 name="Test Tenant for Character Stats"
time=2026-01-05T22:19:59.219-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:59.219-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:59.220-03:00 level=INFO msg="world created" world_id=38abef46-8ec6-40de-9ec0-d0e203913e34 name="Test World" tenant_id=df86f301-1c09-4b9d-8f2a-466199f3bf10
time=2026-01-05T22:19:59.220-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:59.220-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:59.222-03:00 level=INFO msg="character created" character_id=e35dfc85-c8d5-4b77-9471-3e14728d0271 name="Test Character"
time=2026-01-05T22:19:59.222-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:59.222-03:00 level=INFO msg="gRPC request started" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats
time=2026-01-05T22:19:59.224-03:00 level=INFO msg="character RPG stats created" character_id=e35dfc85-c8d5-4b77-9471-3e14728d0271 version=1
time=2026-01-05T22:19:59.224-03:00 level=INFO msg="gRPC request completed" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats duration_ms=1
time=2026-01-05T22:19:59.224-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats (0.15s)
    --- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation (0.01s)
=== RUN   TestCharacterSkillHandler_AddCharacterSkill
time=2026-01-05T22:19:59.354-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:59.354-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:59.354-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:19:59.355-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:19:59.355-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:19:59.355-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill
time=2026-01-05T22:19:59.356-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:59.359-03:00 level=INFO msg="tenant created" tenant_id=ae2d0316-0981-472d-8b68-92cc117f654e name="Test Tenant for Character Skill"
time=2026-01-05T22:19:59.359-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-05T22:19:59.360-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:59.361-03:00 level=INFO msg="world created" world_id=8f8c578b-77a9-4675-90e2-3225b467b81e name="Test World" tenant_id=ae2d0316-0981-472d-8b68-92cc117f654e
time=2026-01-05T22:19:59.361-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:59.361-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:59.362-03:00 level=INFO msg="character created" character_id=e69bd9d7-63cf-463e-8029-856f9647c4a5 name="Test Character"
time=2026-01-05T22:19:59.362-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:59.363-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:19:59.364-03:00 level=INFO msg="RPG system created" rpg_system_id=498f856a-801a-4b7e-b592-ba4376f7c611 name="Test System"
time=2026-01-05T22:19:59.364-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-05T22:19:59.366-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:19:59.367-03:00 level=INFO msg="skill created" skill_id=e3fa3b88-fd6b-4844-9310-721aeb97e09b name=Fireball
time=2026-01-05T22:19:59.367-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-05T22:19:59.368-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-05T22:19:59.370-03:00 level=INFO msg="character learned skill" character_id=e69bd9d7-63cf-463e-8029-856f9647c4a5 skill_id=e3fa3b88-fd6b-4844-9310-721aeb97e09b
time=2026-01-05T22:19:59.370-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-05T22:19:59.370-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_AddCharacterSkill (0.15s)
    --- PASS: TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill (0.01s)
=== RUN   TestCharacterSkillHandler_ListCharacterSkills
time=2026-01-05T22:19:59.508-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:59.508-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:59.508-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:19:59.508-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:19:59.508-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:19:59.508-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_ListCharacterSkills/list_character_skills
time=2026-01-05T22:19:59.510-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:59.512-03:00 level=INFO msg="tenant created" tenant_id=06983111-5758-4941-8f8f-921091480e8e name="List Test Tenant"
time=2026-01-05T22:19:59.512-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:59.513-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:59.514-03:00 level=INFO msg="world created" world_id=0fe587b1-1564-4f6d-bec6-561f203a3719 name="List Test World" tenant_id=06983111-5758-4941-8f8f-921091480e8e
time=2026-01-05T22:19:59.514-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:59.514-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:59.515-03:00 level=INFO msg="character created" character_id=76cbb2e2-5955-441a-99cf-d442a4c5f22e name="List Test Character"
time=2026-01-05T22:19:59.515-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:59.515-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:19:59.516-03:00 level=INFO msg="RPG system created" rpg_system_id=2e3ba217-2857-4987-b538-b9e0aadbc6c5 name="List Test System"
time=2026-01-05T22:19:59.516-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:19:59.516-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:19:59.517-03:00 level=INFO msg="skill created" skill_id=a51df71f-3442-41a7-91ed-6318d1698880 name="List Test Skill"
time=2026-01-05T22:19:59.517-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-05T22:19:59.518-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-05T22:19:59.519-03:00 level=INFO msg="character learned skill" character_id=76cbb2e2-5955-441a-99cf-d442a4c5f22e skill_id=a51df71f-3442-41a7-91ed-6318d1698880
time=2026-01-05T22:19:59.519-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-05T22:19:59.519-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-05T22:19:59.520-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
time=2026-01-05T22:19:59.520-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_ListCharacterSkills (0.15s)
    --- PASS: TestCharacterSkillHandler_ListCharacterSkills/list_character_skills (0.01s)
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill
time=2026-01-05T22:19:59.660-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:59.660-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:59.660-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:19:59.660-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:19:59.660-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:19:59.660-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-05T22:19:59.661-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:59.663-03:00 level=INFO msg="tenant created" tenant_id=24a40d6c-dd1e-4ef6-92be-74d10d257358 name="Update Skill Test Tenant"
time=2026-01-05T22:19:59.663-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:59.663-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:59.664-03:00 level=INFO msg="world created" world_id=d1a681f1-6309-44e4-828e-f27dbcdc7faf name="Test World" tenant_id=24a40d6c-dd1e-4ef6-92be-74d10d257358
time=2026-01-05T22:19:59.664-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:19:59.665-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:59.666-03:00 level=INFO msg="character created" character_id=62da2986-b5c9-474b-8ef3-017133f558e8 name="Test Character"
time=2026-01-05T22:19:59.666-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:19:59.666-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:19:59.667-03:00 level=INFO msg="RPG system created" rpg_system_id=b73d9405-1400-4ef3-a99c-c00d69d1ab5e name="Test System"
time=2026-01-05T22:19:59.667-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:19:59.667-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:19:59.668-03:00 level=INFO msg="skill created" skill_id=7d6732cc-c461-439e-8be5-28e3cca6459a name=Fireball
time=2026-01-05T22:19:59.668-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/successful_update
time=2026-01-05T22:19:59.668-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-05T22:19:59.670-03:00 level=INFO msg="character learned skill" character_id=62da2986-b5c9-474b-8ef3-017133f558e8 skill_id=7d6732cc-c461-439e-8be5-28e3cca6459a
time=2026-01-05T22:19:59.670-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-05T22:19:59.671-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-05T22:19:59.672-03:00 level=INFO msg="character skill updated" id=eb35ea88-e2be-4e8d-b0cd-09adb61ff03b character_id=62da2986-b5c9-474b-8ef3-017133f558e8
time=2026-01-05T22:19:59.672-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill
time=2026-01-05T22:19:59.673-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-05T22:19:59.673-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: 29b26d97-648f-4408-9bf7-b20b92ae1450"
time=2026-01-05T22:19:59.673-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_UpdateCharacterSkill (0.15s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/successful_update (0.00s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill (0.00s)
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill
time=2026-01-05T22:19:59.808-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:59.808-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:19:59.808-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:19:59.808-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:19:59.808-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:19:59.808-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-05T22:19:59.808-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:59.810-03:00 level=INFO msg="tenant created" tenant_id=2895d2eb-87df-454e-be7a-4a45eeec6191 name="Delete Skill Test Tenant"
time=2026-01-05T22:19:59.810-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:59.811-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:19:59.812-03:00 level=INFO msg="world created" world_id=18023989-c411-49c4-b4e9-1ae241c76b45 name="Test World" tenant_id=2895d2eb-87df-454e-be7a-4a45eeec6191
time=2026-01-05T22:19:59.812-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:19:59.812-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:19:59.814-03:00 level=INFO msg="character created" character_id=226849cd-22b3-4856-847a-ff5ffe485515 name="Test Character"
time=2026-01-05T22:19:59.814-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-05T22:19:59.816-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:19:59.816-03:00 level=INFO msg="RPG system created" rpg_system_id=afe7d01d-082a-42bf-908d-6fd4048b73c6 name="Test System"
time=2026-01-05T22:19:59.816-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:19:59.817-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:19:59.818-03:00 level=INFO msg="skill created" skill_id=b0cada5c-5d44-4b51-b82d-80316acf1a49 name=Fireball
time=2026-01-05T22:19:59.818-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete
time=2026-01-05T22:19:59.818-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-05T22:19:59.820-03:00 level=INFO msg="character learned skill" character_id=226849cd-22b3-4856-847a-ff5ffe485515 skill_id=b0cada5c-5d44-4b51-b82d-80316acf1a49
time=2026-01-05T22:19:59.820-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-05T22:19:59.820-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-05T22:19:59.820-03:00 level=INFO msg="character skill deleted" id=2152d375-4237-4bd1-bd24-9aaa9cc519c5
time=2026-01-05T22:19:59.820-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0
time=2026-01-05T22:19:59.821-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-05T22:19:59.821-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill
time=2026-01-05T22:19:59.821-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-05T22:19:59.821-03:00 level=ERROR msg="failed to delete character skill" error="character_skill not found: e9e7f088-1d44-4b28-81fa-18714b909c41" id=e9e7f088-1d44-4b28-81fa-18714b909c41
time=2026-01-05T22:19:59.821-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: e9e7f088-1d44-4b28-81fa-18714b909c41"
time=2026-01-05T22:19:59.821-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_DeleteCharacterSkill (0.15s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete (0.00s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill (0.00s)
=== RUN   TestContentBlockHandler_CreateContentBlock
time=2026-01-05T22:19:59.962-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:19:59.962-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:19:59.962-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:19:59.962-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:19:59.962-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:19:59.962-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:19:59.962-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:19:59.963-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:19:59.966-03:00 level=INFO msg="tenant created" tenant_id=26d23d55-35b5-400e-bbdb-f482874867bb name="Test Tenant for ContentBlock"
time=2026-01-05T22:19:59.966-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:19:59.966-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:19:59.967-03:00 level=INFO msg="world created" world_id=92e9294c-0088-4fdd-a210-215356b28b12 name="World of Test Story" tenant_id=26d23d55-35b5-400e-bbdb-f482874867bb
time=2026-01-05T22:19:59.967-03:00 level=INFO msg="created implicit world for story" world_id=92e9294c-0088-4fdd-a210-215356b28b12 story_title="Test Story"
time=2026-01-05T22:19:59.968-03:00 level=INFO msg="story created" story_id=dadfb8f9-b092-4c08-bcb0-9801f3653d1f title="Test Story" tenant_id=26d23d55-35b5-400e-bbdb-f482874867bb
time=2026-01-05T22:19:59.968-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:19:59.969-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:19:59.970-03:00 level=INFO msg="chapter created" chapter_id=a1384802-5a96-4bb2-9dde-264aea5f3e3a story_id=dadfb8f9-b092-4c08-bcb0-9801f3653d1f tenant_id=26d23d55-35b5-400e-bbdb-f482874867bb
time=2026-01-05T22:19:59.970-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/successful_creation
time=2026-01-05T22:19:59.970-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:19:59.972-03:00 level=INFO msg="content block created" content_block_id=e397bf83-89d4-4d16-8500-9a4f0601fda5 tenant_id=26d23d55-35b5-400e-bbdb-f482874867bb
time=2026-01-05T22:19:59.972-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockHandler_CreateContentBlock/default_kind
time=2026-01-05T22:19:59.972-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:19:59.972-03:00 level=INFO msg="content block created" content_block_id=132e7347-976e-4006-8d59-4fc8d8b7646e tenant_id=26d23d55-35b5-400e-bbdb-f482874867bb
time=2026-01-05T22:19:59.973-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_chapter_id
time=2026-01-05T22:19:59.973-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:19:59.973-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: f9454088-7a6a-4393-99aa-44471ea8dfdf"
=== RUN   TestContentBlockHandler_CreateContentBlock/empty_content
time=2026-01-05T22:19:59.973-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:19:59.973-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on content: content is required"
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_order_num
time=2026-01-05T22:19:59.973-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:19:59.974-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-05T22:19:59.974-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_CreateContentBlock (0.15s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/default_kind (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_chapter_id (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/empty_content (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_order_num (0.00s)
=== RUN   TestContentBlockHandler_GetContentBlock
time=2026-01-05T22:20:00.119-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:00.119-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:00.119-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:00.120-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:00.120-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:00.120-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:00.120-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:00.120-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:00.126-03:00 level=INFO msg="tenant created" tenant_id=a3933404-1ae9-42ad-8b45-c21a879544ac name="Test Tenant for Get ContentBlock"
time=2026-01-05T22:20:00.126-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-05T22:20:00.126-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:00.127-03:00 level=INFO msg="world created" world_id=62cc0aef-af28-461c-a941-4793c807f26e name="World of Test Story" tenant_id=a3933404-1ae9-42ad-8b45-c21a879544ac
time=2026-01-05T22:20:00.127-03:00 level=INFO msg="created implicit world for story" world_id=62cc0aef-af28-461c-a941-4793c807f26e story_title="Test Story"
time=2026-01-05T22:20:00.129-03:00 level=INFO msg="story created" story_id=6db8b80d-e802-4583-b09a-21177c904fc6 title="Test Story" tenant_id=a3933404-1ae9-42ad-8b45-c21a879544ac
time=2026-01-05T22:20:00.129-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:00.130-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:20:00.131-03:00 level=INFO msg="chapter created" chapter_id=bfee949d-bdca-40cb-b383-cd1f21693a1b story_id=6db8b80d-e802-4583-b09a-21177c904fc6 tenant_id=a3933404-1ae9-42ad-8b45-c21a879544ac
time=2026-01-05T22:20:00.131-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_GetContentBlock/existing_content_block
time=2026-01-05T22:20:00.131-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:20:00.132-03:00 level=INFO msg="content block created" content_block_id=136a66cf-c03d-4ed0-b3c4-7ce4e52e3981 tenant_id=a3933404-1ae9-42ad-8b45-c21a879544ac
time=2026-01-05T22:20:00.132-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-05T22:20:00.133-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-05T22:20:00.133-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_GetContentBlock/non-existing_content_block
time=2026-01-05T22:20:00.133-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-05T22:20:00.134-03:00 level=ERROR msg="failed to get content block" error="content_block not found: ac45c830-1dd8-4c51-8449-3dfede65d549" content_block_id=ac45c830-1dd8-4c51-8449-3dfede65d549 tenant_id=a3933404-1ae9-42ad-8b45-c21a879544ac
time=2026-01-05T22:20:00.134-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: ac45c830-1dd8-4c51-8449-3dfede65d549"
time=2026-01-05T22:20:00.134-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_GetContentBlock (0.16s)
    --- PASS: TestContentBlockHandler_GetContentBlock/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_GetContentBlock/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_UpdateContentBlock
time=2026-01-05T22:20:00.282-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:00.282-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:00.282-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:00.282-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:00.282-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:00.282-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:00.282-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:00.284-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:00.287-03:00 level=INFO msg="tenant created" tenant_id=c9232d38-c61b-457c-8854-99b16b6ca6b2 name="Test Tenant for Update ContentBlock"
time=2026-01-05T22:20:00.287-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:00.287-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:00.288-03:00 level=INFO msg="world created" world_id=c2e21186-4a6a-4e4f-879e-65d8180768ec name="World of Test Story" tenant_id=c9232d38-c61b-457c-8854-99b16b6ca6b2
time=2026-01-05T22:20:00.288-03:00 level=INFO msg="created implicit world for story" world_id=c2e21186-4a6a-4e4f-879e-65d8180768ec story_title="Test Story"
time=2026-01-05T22:20:00.289-03:00 level=INFO msg="story created" story_id=22311308-81c3-43c5-bebb-fd9c9ad28020 title="Test Story" tenant_id=c9232d38-c61b-457c-8854-99b16b6ca6b2
time=2026-01-05T22:20:00.289-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:00.290-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:20:00.291-03:00 level=INFO msg="chapter created" chapter_id=695011c5-1372-4425-95c1-09979e39b9ea story_id=22311308-81c3-43c5-bebb-fd9c9ad28020 tenant_id=c9232d38-c61b-457c-8854-99b16b6ca6b2
time=2026-01-05T22:20:00.291-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_UpdateContentBlock/successful_update
time=2026-01-05T22:20:00.291-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:20:00.292-03:00 level=INFO msg="content block created" content_block_id=3a377495-d146-4804-852c-73f193dec9bd tenant_id=c9232d38-c61b-457c-8854-99b16b6ca6b2
time=2026-01-05T22:20:00.292-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-05T22:20:00.292-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/UpdateContentBlock
time=2026-01-05T22:20:00.293-03:00 level=INFO msg="content block updated" content_block_id=3a377495-d146-4804-852c-73f193dec9bd tenant_id=c9232d38-c61b-457c-8854-99b16b6ca6b2
time=2026-01-05T22:20:00.293-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/UpdateContentBlock duration_ms=0
time=2026-01-05T22:20:00.293-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_UpdateContentBlock (0.16s)
    --- PASS: TestContentBlockHandler_UpdateContentBlock/successful_update (0.00s)
=== RUN   TestContentBlockHandler_DeleteContentBlock
time=2026-01-05T22:20:00.484-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:00.484-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:00.484-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:00.484-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:00.484-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:00.484-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:00.484-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:00.485-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:00.492-03:00 level=INFO msg="tenant created" tenant_id=a79ebeb8-9d1a-4a73-b268-95803dbde2aa name="Test Tenant for Delete ContentBlock"
time=2026-01-05T22:20:00.492-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=7
time=2026-01-05T22:20:00.492-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:00.494-03:00 level=INFO msg="world created" world_id=90088666-a67f-45e0-9b17-a44d6c9e7084 name="World of Test Story" tenant_id=a79ebeb8-9d1a-4a73-b268-95803dbde2aa
time=2026-01-05T22:20:00.494-03:00 level=INFO msg="created implicit world for story" world_id=90088666-a67f-45e0-9b17-a44d6c9e7084 story_title="Test Story"
time=2026-01-05T22:20:00.495-03:00 level=INFO msg="story created" story_id=8ef4488b-849d-46d1-8fc2-5c480a1053ee title="Test Story" tenant_id=a79ebeb8-9d1a-4a73-b268-95803dbde2aa
time=2026-01-05T22:20:00.495-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:00.495-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:20:00.496-03:00 level=INFO msg="chapter created" chapter_id=2c8adac5-9e60-40a5-93af-83745fc16b88 story_id=8ef4488b-849d-46d1-8fc2-5c480a1053ee tenant_id=a79ebeb8-9d1a-4a73-b268-95803dbde2aa
time=2026-01-05T22:20:00.496-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_DeleteContentBlock/successful_delete
time=2026-01-05T22:20:00.496-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:20:00.497-03:00 level=INFO msg="content block created" content_block_id=6513bc0e-4b1c-4fc7-9c7e-3e21304d80d0 tenant_id=a79ebeb8-9d1a-4a73-b268-95803dbde2aa
time=2026-01-05T22:20:00.497-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-05T22:20:00.497-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/DeleteContentBlock
time=2026-01-05T22:20:00.498-03:00 level=INFO msg="content block deleted" content_block_id=6513bc0e-4b1c-4fc7-9c7e-3e21304d80d0 tenant_id=a79ebeb8-9d1a-4a73-b268-95803dbde2aa
time=2026-01-05T22:20:00.498-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/DeleteContentBlock duration_ms=1
time=2026-01-05T22:20:00.498-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_DeleteContentBlock (0.21s)
    --- PASS: TestContentBlockHandler_DeleteContentBlock/successful_delete (0.00s)
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter
time=2026-01-05T22:20:00.647-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:00.647-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:00.647-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:00.647-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:00.647-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:00.647-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:00.647-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:00.649-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:00.651-03:00 level=INFO msg="tenant created" tenant_id=99d2d39a-4e85-4e88-8d85-9355c25bc1a3 name="Test Tenant for List ContentBlocks"
time=2026-01-05T22:20:00.651-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-05T22:20:00.652-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:00.654-03:00 level=INFO msg="world created" world_id=673f5955-a37d-4105-8a65-80707ef143a1 name="World of Test Story" tenant_id=99d2d39a-4e85-4e88-8d85-9355c25bc1a3
time=2026-01-05T22:20:00.654-03:00 level=INFO msg="created implicit world for story" world_id=673f5955-a37d-4105-8a65-80707ef143a1 story_title="Test Story"
time=2026-01-05T22:20:00.655-03:00 level=INFO msg="story created" story_id=83461927-2ca6-4b70-ad20-4ae58a0318ca title="Test Story" tenant_id=99d2d39a-4e85-4e88-8d85-9355c25bc1a3
time=2026-01-05T22:20:00.655-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:00.655-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:20:00.656-03:00 level=INFO msg="chapter created" chapter_id=396639b6-7588-4ee1-91d0-8c77b4f77da6 story_id=83461927-2ca6-4b70-ad20-4ae58a0318ca tenant_id=99d2d39a-4e85-4e88-8d85-9355c25bc1a3
time=2026-01-05T22:20:00.656-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter
time=2026-01-05T22:20:00.656-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:20:00.657-03:00 level=INFO msg="content block created" content_block_id=9e39ed5b-a73e-4c48-95f8-9deddf479130 tenant_id=99d2d39a-4e85-4e88-8d85-9355c25bc1a3
time=2026-01-05T22:20:00.657-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-05T22:20:00.657-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:20:00.658-03:00 level=INFO msg="content block created" content_block_id=75391147-0228-48f1-a869-184a11c12ba1 tenant_id=99d2d39a-4e85-4e88-8d85-9355c25bc1a3
time=2026-01-05T22:20:00.658-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-05T22:20:00.658-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:20:00.658-03:00 level=INFO msg="content block created" content_block_id=ee3e3d40-4f51-4a29-bdc0-816add3f5258 tenant_id=99d2d39a-4e85-4e88-8d85-9355c25bc1a3
time=2026-01-05T22:20:00.658-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-05T22:20:00.659-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/ListContentBlocksByChapter
time=2026-01-05T22:20:00.659-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/ListContentBlocksByChapter duration_ms=0
time=2026-01-05T22:20:00.659-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_ListContentBlocksByChapter (0.16s)
    --- PASS: TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter (0.00s)
=== RUN   TestContentBlockReferenceHandler_CreateAndList
time=2026-01-05T22:20:00.806-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:00.806-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:00.806-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:00.806-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:00.806-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:00.806-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:00.806-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:00.807-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:00.809-03:00 level=INFO msg="tenant created" tenant_id=96486e7e-0288-418c-b8ee-f0a12080599a name="Test Tenant for ContentBlockReference"
time=2026-01-05T22:20:00.809-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:00.810-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:00.811-03:00 level=INFO msg="world created" world_id=90bfe6e5-c8b4-4c2e-9bb3-2720bb8de415 name="World of Test Story" tenant_id=96486e7e-0288-418c-b8ee-f0a12080599a
time=2026-01-05T22:20:00.811-03:00 level=INFO msg="created implicit world for story" world_id=90bfe6e5-c8b4-4c2e-9bb3-2720bb8de415 story_title="Test Story"
time=2026-01-05T22:20:00.812-03:00 level=INFO msg="story created" story_id=3dc7ba18-cbbb-4173-8a41-76885693efe7 title="Test Story" tenant_id=96486e7e-0288-418c-b8ee-f0a12080599a
time=2026-01-05T22:20:00.812-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:00.813-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:20:00.813-03:00 level=INFO msg="chapter created" chapter_id=8814efef-e97b-40e6-8c74-33ad1ef2f380 story_id=3dc7ba18-cbbb-4173-8a41-76885693efe7 tenant_id=96486e7e-0288-418c-b8ee-f0a12080599a
time=2026-01-05T22:20:00.813-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-05T22:20:00.813-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-05T22:20:00.814-03:00 level=INFO msg="content block created" content_block_id=41c73f7a-aa15-4970-b5f5-847981ba9108 tenant_id=96486e7e-0288-418c-b8ee-f0a12080599a
time=2026-01-05T22:20:00.815-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockReferenceHandler_CreateAndList/create_and_list_references
time=2026-01-05T22:20:00.815-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-05T22:20:00.816-03:00 level=INFO msg="content block reference created" reference_id=1aa05f5f-5173-48cc-8665-b3c8da993926 content_block_id=41c73f7a-aa15-4970-b5f5-847981ba9108 tenant_id=96486e7e-0288-418c-b8ee-f0a12080599a
time=2026-01-05T22:20:00.816-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=1
time=2026-01-05T22:20:00.816-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock
time=2026-01-05T22:20:00.817-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock duration_ms=0
time=2026-01-05T22:20:00.817-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference
time=2026-01-05T22:20:00.817-03:00 level=INFO msg="content block reference deleted" reference_id=1aa05f5f-5173-48cc-8665-b3c8da993926 tenant_id=96486e7e-0288-418c-b8ee-f0a12080599a
time=2026-01-05T22:20:00.817-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference duration_ms=0
=== RUN   TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference
time=2026-01-05T22:20:00.818-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-05T22:20:00.818-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: 7c0b4a80-8ce7-46ae-a644-a0a2f91e3a1b"
time=2026-01-05T22:20:00.818-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockReferenceHandler_CreateAndList (0.16s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/create_and_list_references (0.00s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference (0.00s)
=== RUN   TestEventHandler_CreateEvent
time=2026-01-05T22:20:00.948-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:00.948-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:00.948-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_CreateEvent/successful_creation
time=2026-01-05T22:20:00.949-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:00.951-03:00 level=INFO msg="tenant created" tenant_id=e26bfacd-19e2-4264-8536-1984c10befc8 name="Test Tenant for Event"
time=2026-01-05T22:20:00.951-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:20:00.951-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:00.952-03:00 level=INFO msg="world created" world_id=6921cb5e-b656-4e1d-8c4a-890cd31723c5 name="Test World" tenant_id=e26bfacd-19e2-4264-8536-1984c10befc8
time=2026-01-05T22:20:00.952-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:00.956-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-05T22:20:00.957-03:00 level=INFO msg="event created" event_id=aa698c8f-8e6d-4bab-b9bc-6386da1f8f71 world_id=6921cb5e-b656-4e1d-8c4a-890cd31723c5
time=2026-01-05T22:20:00.957-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=2
=== RUN   TestEventHandler_CreateEvent/empty_name
time=2026-01-05T22:20:00.958-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:00.958-03:00 level=INFO msg="tenant created" tenant_id=67f6db29-3543-4f0f-b4ae-33befd81fa36 name="Test Tenant 2"
time=2026-01-05T22:20:00.958-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:00.958-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:00.959-03:00 level=INFO msg="world created" world_id=3647e325-89bc-4949-bcab-ae5dfe692bf2 name="Test World 2" tenant_id=67f6db29-3543-4f0f-b4ae-33befd81fa36
time=2026-01-05T22:20:00.959-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:00.959-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-05T22:20:00.959-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/CreateEvent duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-05T22:20:00.959-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_CreateEvent (0.14s)
    --- PASS: TestEventHandler_CreateEvent/successful_creation (0.01s)
    --- PASS: TestEventHandler_CreateEvent/empty_name (0.00s)
=== RUN   TestEventHandler_GetEvent
time=2026-01-05T22:20:01.093-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:01.093-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:01.093-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_GetEvent/existing_event
time=2026-01-05T22:20:01.093-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:01.095-03:00 level=INFO msg="tenant created" tenant_id=66ac8610-d64c-485e-976b-d8f095b23854 name="Get Test Tenant"
time=2026-01-05T22:20:01.095-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:20:01.095-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:01.096-03:00 level=INFO msg="world created" world_id=bfc81b20-9349-4d84-9b39-932be7d436be name="Get Test World" tenant_id=66ac8610-d64c-485e-976b-d8f095b23854
time=2026-01-05T22:20:01.096-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:01.097-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-05T22:20:01.098-03:00 level=INFO msg="event created" event_id=fbed7236-4fd1-47a5-a6cb-03d6bbb093dd world_id=bfc81b20-9349-4d84-9b39-932be7d436be
time=2026-01-05T22:20:01.098-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-05T22:20:01.098-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-05T22:20:01.099-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/GetEvent duration_ms=0
=== RUN   TestEventHandler_GetEvent/non-existing_event
time=2026-01-05T22:20:01.099-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:01.099-03:00 level=INFO msg="tenant created" tenant_id=78bc34e0-8478-4688-b098-a4819ee6cfa0 name="Non-existing Test Tenant"
time=2026-01-05T22:20:01.099-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:01.100-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-05T22:20:01.100-03:00 level=ERROR msg="failed to get event" error="event not found: 11b372f4-9e4c-4f8c-b124-bddf496dfea2" event_id=11b372f4-9e4c-4f8c-b124-bddf496dfea2
time=2026-01-05T22:20:01.100-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: 11b372f4-9e4c-4f8c-b124-bddf496dfea2"
time=2026-01-05T22:20:01.100-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_GetEvent (0.14s)
    --- PASS: TestEventHandler_GetEvent/existing_event (0.01s)
    --- PASS: TestEventHandler_GetEvent/non-existing_event (0.00s)
=== RUN   TestEventHandler_ListEvents
time=2026-01-05T22:20:01.241-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:01.241-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:01.241-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_ListEvents/list_events
time=2026-01-05T22:20:01.242-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:01.245-03:00 level=INFO msg="tenant created" tenant_id=1a3053ae-9fd7-46c6-8a70-f004568e7a70 name="List Test Tenant"
time=2026-01-05T22:20:01.245-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:01.245-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:01.246-03:00 level=INFO msg="world created" world_id=ec9aa088-ce78-4a13-b48f-83ba54571112 name="List Test World" tenant_id=1a3053ae-9fd7-46c6-8a70-f004568e7a70
time=2026-01-05T22:20:01.246-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:01.246-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-05T22:20:01.253-03:00 level=INFO msg="event created" event_id=2606a1f3-cc09-4e3c-adac-8a00d7be262c world_id=ec9aa088-ce78-4a13-b48f-83ba54571112
time=2026-01-05T22:20:01.253-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=6
time=2026-01-05T22:20:01.254-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-05T22:20:01.254-03:00 level=INFO msg="event created" event_id=2bd6b404-7e46-404f-bc6d-2864df7d6dce world_id=ec9aa088-ce78-4a13-b48f-83ba54571112
time=2026-01-05T22:20:01.254-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=0
time=2026-01-05T22:20:01.255-03:00 level=INFO msg="gRPC request started" method=/event.EventService/ListEvents
time=2026-01-05T22:20:01.255-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/ListEvents duration_ms=0
time=2026-01-05T22:20:01.256-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_ListEvents (0.15s)
    --- PASS: TestEventHandler_ListEvents/list_events (0.01s)
=== RUN   TestEventHandler_UpdateEvent
time=2026-01-05T22:20:01.390-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:01.390-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:01.390-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_UpdateEvent/update_event
time=2026-01-05T22:20:01.391-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:01.393-03:00 level=INFO msg="tenant created" tenant_id=6cfc8c1a-456b-46c6-ac3e-67044d3dafb4 name="Update Test Tenant"
time=2026-01-05T22:20:01.393-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:01.393-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:01.394-03:00 level=INFO msg="world created" world_id=747ef427-a946-4aff-b7cb-ef2ffa73f0e6 name="Update Test World" tenant_id=6cfc8c1a-456b-46c6-ac3e-67044d3dafb4
time=2026-01-05T22:20:01.394-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:01.394-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-05T22:20:01.396-03:00 level=INFO msg="event created" event_id=9b65b8d0-8b37-43d6-b478-ecb09f7dd358 world_id=747ef427-a946-4aff-b7cb-ef2ffa73f0e6
time=2026-01-05T22:20:01.396-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-05T22:20:01.396-03:00 level=INFO msg="gRPC request started" method=/event.EventService/UpdateEvent
time=2026-01-05T22:20:01.397-03:00 level=INFO msg="event updated" event_id=9b65b8d0-8b37-43d6-b478-ecb09f7dd358
time=2026-01-05T22:20:01.397-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/UpdateEvent duration_ms=1
time=2026-01-05T22:20:01.397-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_UpdateEvent (0.15s)
    --- PASS: TestEventHandler_UpdateEvent/update_event (0.01s)
=== RUN   TestEventHandler_DeleteEvent
time=2026-01-05T22:20:01.532-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:01.532-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:01.532-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_DeleteEvent/delete_event
time=2026-01-05T22:20:01.535-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:01.538-03:00 level=INFO msg="tenant created" tenant_id=a8df1df6-ae39-40b2-9760-374876b53fa4 name="Delete Test Tenant"
time=2026-01-05T22:20:01.538-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:01.540-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:01.541-03:00 level=INFO msg="world created" world_id=84a19558-fa05-483a-be3f-b8ae1e592970 name="Delete Test World" tenant_id=a8df1df6-ae39-40b2-9760-374876b53fa4
time=2026-01-05T22:20:01.541-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:01.541-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-05T22:20:01.543-03:00 level=INFO msg="event created" event_id=37443788-7588-4748-9258-eb89afe766ce world_id=84a19558-fa05-483a-be3f-b8ae1e592970
time=2026-01-05T22:20:01.543-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-05T22:20:01.543-03:00 level=INFO msg="gRPC request started" method=/event.EventService/DeleteEvent
time=2026-01-05T22:20:01.545-03:00 level=INFO msg="event deleted" event_id=37443788-7588-4748-9258-eb89afe766ce
time=2026-01-05T22:20:01.545-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/DeleteEvent duration_ms=1
time=2026-01-05T22:20:01.547-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-05T22:20:01.548-03:00 level=ERROR msg="failed to get event" error="event not found: 37443788-7588-4748-9258-eb89afe766ce" event_id=37443788-7588-4748-9258-eb89afe766ce
time=2026-01-05T22:20:01.548-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: 37443788-7588-4748-9258-eb89afe766ce"
time=2026-01-05T22:20:01.548-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_DeleteEvent (0.14s)
    --- PASS: TestEventHandler_DeleteEvent/delete_event (0.02s)
=== RUN   TestInventoryHandler_AddItemToInventory
time=2026-01-05T22:20:01.685-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:01.685-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:01.685-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:20:01.685-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-05T22:20:01.685-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:01.685-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_AddItemToInventory/successful_add_item
time=2026-01-05T22:20:01.686-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:01.688-03:00 level=INFO msg="tenant created" tenant_id=b55aaae9-a686-4d72-92dd-3a15c3c3b1af name="Test Tenant for Inventory"
time=2026-01-05T22:20:01.688-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:01.688-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:01.689-03:00 level=INFO msg="world created" world_id=eb6f6ea1-3fd6-4785-835f-9f520e140865 name="Test World" tenant_id=b55aaae9-a686-4d72-92dd-3a15c3c3b1af
time=2026-01-05T22:20:01.689-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:01.689-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:20:01.690-03:00 level=INFO msg="character created" character_id=7c8880a0-2b81-4ae8-a0f2-539d2950d437 name="Test Character"
time=2026-01-05T22:20:01.690-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:20:01.691-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:01.691-03:00 level=INFO msg="RPG system created" rpg_system_id=dcd66c5d-f6ba-48ad-8eae-421473a666f0 name="Test System"
time=2026-01-05T22:20:01.691-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:01.692-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-05T22:20:01.694-03:00 level=INFO msg="item added to inventory" character_id=7c8880a0-2b81-4ae8-a0f2-539d2950d437 item_id=7d17b324-ed69-4776-8aa2-eea4757c0f4b
time=2026-01-05T22:20:01.694-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-05T22:20:01.694-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_AddItemToInventory (0.15s)
    --- PASS: TestInventoryHandler_AddItemToInventory/successful_add_item (0.01s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-05T22:20:01.820-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:01.820-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:01.820-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:20:01.820-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-05T22:20:01.820-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:01.820-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
time=2026-01-05T22:20:01.821-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:01.823-03:00 level=INFO msg="tenant created" tenant_id=2d0e59b6-b8ee-48a3-8f6e-dd1c48f2fc0e name="List Test Tenant"
time=2026-01-05T22:20:01.823-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:01.824-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:01.825-03:00 level=INFO msg="world created" world_id=702e2a6b-a233-4dd4-a88b-0922dd8e66bd name="List Test World" tenant_id=2d0e59b6-b8ee-48a3-8f6e-dd1c48f2fc0e
time=2026-01-05T22:20:01.825-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:01.825-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:20:01.827-03:00 level=INFO msg="character created" character_id=c56c742e-e579-424a-8a01-1beb1f7380c2 name="List Test Character"
time=2026-01-05T22:20:01.827-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:20:01.827-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:01.828-03:00 level=INFO msg="RPG system created" rpg_system_id=237954eb-2a5a-43c2-a92d-da9cbf327f6d name="List Test System"
time=2026-01-05T22:20:01.828-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:01.829-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-05T22:20:01.830-03:00 level=INFO msg="item added to inventory" character_id=c56c742e-e579-424a-8a01-1beb1f7380c2 item_id=4a9c1c9e-270d-4a94-b5c2-947c4d955572
time=2026-01-05T22:20:01.830-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-05T22:20:01.831-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-05T22:20:01.832-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=1
time=2026-01-05T22:20:01.832-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_ListInventory (0.14s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.01s)
=== RUN   TestInventoryHandler_UpdateItemInInventory
time=2026-01-05T22:20:01.973-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:01.974-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:01.974-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:20:01.974-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-05T22:20:01.974-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:01.974-03:00 level=INFO msg="InventoryService registered"
time=2026-01-05T22:20:01.977-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:01.979-03:00 level=INFO msg="tenant created" tenant_id=0aff0ebb-4f84-4a0e-a68a-07d5d00b6bd8 name="Update Item Test Tenant"
time=2026-01-05T22:20:01.979-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:01.979-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:01.980-03:00 level=INFO msg="world created" world_id=24eeb79e-7ea8-45b9-8093-b922cf4af1c5 name="Test World" tenant_id=0aff0ebb-4f84-4a0e-a68a-07d5d00b6bd8
time=2026-01-05T22:20:01.980-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:01.980-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:20:01.981-03:00 level=INFO msg="character created" character_id=0ae80732-42a5-4571-98c3-0a06315e72a9 name="Test Character"
time=2026-01-05T22:20:01.981-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:20:01.981-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:01.982-03:00 level=INFO msg="RPG system created" rpg_system_id=1deb1c55-e07d-4a3a-82b6-ef4adad123c6 name="Test System"
time=2026-01-05T22:20:01.982-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/successful_update
time=2026-01-05T22:20:01.983-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-05T22:20:01.985-03:00 level=INFO msg="item added to inventory" character_id=0ae80732-42a5-4571-98c3-0a06315e72a9 item_id=a7308ecc-52f5-413b-a992-b5732a186d85
time=2026-01-05T22:20:01.985-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-05T22:20:01.985-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-05T22:20:01.985-03:00 level=INFO msg="character inventory updated" id=89699673-1ea9-4569-bd5a-bb69b7eb9dad
time=2026-01-05T22:20:01.985-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/non-existing_item
time=2026-01-05T22:20:01.985-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-05T22:20:01.986-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 8c3e6073-45f7-48f1-aaa5-07d5c0a972a8"
time=2026-01-05T22:20:01.986-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_UpdateItemInInventory (0.15s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/successful_update (0.00s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/non-existing_item (0.00s)
=== RUN   TestInventoryHandler_DeleteItemFromInventory
time=2026-01-05T22:20:02.122-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:02.122-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:02.122-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:20:02.122-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-05T22:20:02.122-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:02.122-03:00 level=INFO msg="InventoryService registered"
time=2026-01-05T22:20:02.125-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:02.127-03:00 level=INFO msg="tenant created" tenant_id=aeda8898-bd33-4fe7-8234-1cf9e5393aac name="Delete Item Test Tenant"
time=2026-01-05T22:20:02.127-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:20:02.127-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:02.128-03:00 level=INFO msg="world created" world_id=08a24805-2068-4dc6-88dc-afb3b9cdefeb name="Test World" tenant_id=aeda8898-bd33-4fe7-8234-1cf9e5393aac
time=2026-01-05T22:20:02.128-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:02.128-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:20:02.129-03:00 level=INFO msg="character created" character_id=c80835a5-dfc0-457d-8b39-75b8ea53e0f0 name="Test Character"
time=2026-01-05T22:20:02.129-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:20:02.130-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:02.130-03:00 level=INFO msg="RPG system created" rpg_system_id=e47706fd-2028-49ab-b34e-94437246188c name="Test System"
time=2026-01-05T22:20:02.130-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/successful_delete
time=2026-01-05T22:20:02.133-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-05T22:20:02.135-03:00 level=INFO msg="item added to inventory" character_id=c80835a5-dfc0-457d-8b39-75b8ea53e0f0 item_id=0f4b54b7-4a7f-486b-b9b5-7a1b721678c9
time=2026-01-05T22:20:02.135-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-05T22:20:02.135-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-05T22:20:02.135-03:00 level=INFO msg="item removed from inventory" id=c100b933-2697-423d-9649-fe2e2b9bcea7
time=2026-01-05T22:20:02.135-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0
time=2026-01-05T22:20:02.136-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-05T22:20:02.136-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item
time=2026-01-05T22:20:02.136-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-05T22:20:02.136-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: a702f1e5-7ace-43db-9f37-c1236a6b4a47" id=a702f1e5-7ace-43db-9f37-c1236a6b4a47
time=2026-01-05T22:20:02.136-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: a702f1e5-7ace-43db-9f37-c1236a6b4a47"
time=2026-01-05T22:20:02.136-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_DeleteItemFromInventory (0.15s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/successful_delete (0.00s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item (0.00s)
=== RUN   TestLocationHandler_CreateLocation
time=2026-01-05T22:20:02.279-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:02.279-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:02.279-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_CreateLocation/successful_creation
time=2026-01-05T22:20:02.282-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:02.284-03:00 level=INFO msg="tenant created" tenant_id=acbc7f1c-facc-4be3-a9d6-5c598f7389a8 name="Test Tenant for Location"
time=2026-01-05T22:20:02.284-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:02.284-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:02.285-03:00 level=INFO msg="world created" world_id=fafe0b76-80d8-4ed4-9d76-a76929fcc76d name="Test World" tenant_id=acbc7f1c-facc-4be3-a9d6-5c598f7389a8
time=2026-01-05T22:20:02.285-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:02.286-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-05T22:20:02.287-03:00 level=INFO msg="location created" location_id=64da2078-c65b-4681-a6e0-d2cfec1c22aa name="Test Location"
time=2026-01-05T22:20:02.287-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
=== RUN   TestLocationHandler_CreateLocation/empty_name
time=2026-01-05T22:20:02.287-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:02.288-03:00 level=INFO msg="tenant created" tenant_id=5c84bb73-8bef-4afa-9cc9-aaa7b7d0320d name="Test Tenant 2"
time=2026-01-05T22:20:02.288-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:02.288-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:02.289-03:00 level=INFO msg="world created" world_id=f76f57b8-34c1-4966-b9a3-0a5e1b1f2320 name="Test World 2" tenant_id=5c84bb73-8bef-4afa-9cc9-aaa7b7d0320d
time=2026-01-05T22:20:02.289-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:02.289-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-05T22:20:02.289-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/CreateLocation duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-05T22:20:02.289-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_CreateLocation (0.15s)
    --- PASS: TestLocationHandler_CreateLocation/successful_creation (0.01s)
    --- PASS: TestLocationHandler_CreateLocation/empty_name (0.00s)
=== RUN   TestLocationHandler_GetLocation
time=2026-01-05T22:20:02.417-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:02.417-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:02.417-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_GetLocation/existing_location
time=2026-01-05T22:20:02.418-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:02.420-03:00 level=INFO msg="tenant created" tenant_id=95337bf5-61f4-451b-b828-fccd006b4ec5 name="Get Test Tenant"
time=2026-01-05T22:20:02.420-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:02.421-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:02.423-03:00 level=INFO msg="world created" world_id=28352c71-3e73-4581-9703-5aef66046960 name="Get Test World" tenant_id=95337bf5-61f4-451b-b828-fccd006b4ec5
time=2026-01-05T22:20:02.423-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=2
time=2026-01-05T22:20:02.423-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-05T22:20:02.425-03:00 level=INFO msg="location created" location_id=535d31e8-6cfd-4ea5-b9d1-bebd7f5cf282 name="Get Test Location"
time=2026-01-05T22:20:02.425-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-05T22:20:02.425-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-05T22:20:02.426-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/GetLocation duration_ms=1
=== RUN   TestLocationHandler_GetLocation/non-existing_location
time=2026-01-05T22:20:02.427-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:02.427-03:00 level=INFO msg="tenant created" tenant_id=5b814d91-1584-496c-9202-256d2984bb71 name="Non-existing Test Tenant"
time=2026-01-05T22:20:02.427-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:02.428-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-05T22:20:02.428-03:00 level=ERROR msg="failed to get location" error="location not found: f12d8645-3bfd-4609-8668-97ce888ea461" location_id=f12d8645-3bfd-4609-8668-97ce888ea461
time=2026-01-05T22:20:02.428-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: f12d8645-3bfd-4609-8668-97ce888ea461"
time=2026-01-05T22:20:02.428-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_GetLocation (0.14s)
    --- PASS: TestLocationHandler_GetLocation/existing_location (0.01s)
    --- PASS: TestLocationHandler_GetLocation/non-existing_location (0.00s)
=== RUN   TestLocationHandler_ListLocations
time=2026-01-05T22:20:02.563-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:02.563-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:02.563-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_ListLocations/list_locations
time=2026-01-05T22:20:02.564-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:02.569-03:00 level=INFO msg="tenant created" tenant_id=6d6535ff-132d-41a9-a02f-493803958464 name="List Test Tenant"
time=2026-01-05T22:20:02.569-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-05T22:20:02.570-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:02.571-03:00 level=INFO msg="world created" world_id=3d547b0d-4df1-4869-bde1-d23af2f5bda8 name="List Test World" tenant_id=6d6535ff-132d-41a9-a02f-493803958464
time=2026-01-05T22:20:02.571-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:02.571-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-05T22:20:02.573-03:00 level=INFO msg="location created" location_id=5f322d94-522a-4f66-8319-787e6ab54201 name="Location 1"
time=2026-01-05T22:20:02.573-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-05T22:20:02.573-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-05T22:20:02.574-03:00 level=INFO msg="location created" location_id=986e764a-a728-4a60-a094-6da38ad250c4 name="Location 2"
time=2026-01-05T22:20:02.574-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-05T22:20:02.574-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/ListLocations
time=2026-01-05T22:20:02.575-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/ListLocations duration_ms=0
time=2026-01-05T22:20:02.575-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_ListLocations (0.15s)
    --- PASS: TestLocationHandler_ListLocations/list_locations (0.01s)
=== RUN   TestLocationHandler_UpdateLocation
time=2026-01-05T22:20:02.699-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:02.699-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:02.699-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_UpdateLocation/update_location
time=2026-01-05T22:20:02.703-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:02.705-03:00 level=INFO msg="tenant created" tenant_id=7face1a3-780a-4ad4-a926-c76ad2167c84 name="Update Test Tenant"
time=2026-01-05T22:20:02.705-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:02.705-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:02.706-03:00 level=INFO msg="world created" world_id=98e3553f-4366-4d16-872e-c09069ecd3a4 name="Update Test World" tenant_id=7face1a3-780a-4ad4-a926-c76ad2167c84
time=2026-01-05T22:20:02.706-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:02.707-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-05T22:20:02.708-03:00 level=INFO msg="location created" location_id=3bfbdaee-7873-4ea3-899b-bc0eed27a5b3 name="Original Location"
time=2026-01-05T22:20:02.708-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-05T22:20:02.708-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/UpdateLocation
time=2026-01-05T22:20:02.709-03:00 level=INFO msg="location updated" location_id=3bfbdaee-7873-4ea3-899b-bc0eed27a5b3 name="Updated Location"
time=2026-01-05T22:20:02.709-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/UpdateLocation duration_ms=1
time=2026-01-05T22:20:02.709-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_UpdateLocation (0.13s)
    --- PASS: TestLocationHandler_UpdateLocation/update_location (0.01s)
=== RUN   TestLocationHandler_DeleteLocation
time=2026-01-05T22:20:02.942-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:02.942-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:02.942-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_DeleteLocation/delete_location
time=2026-01-05T22:20:02.943-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:02.945-03:00 level=INFO msg="tenant created" tenant_id=e518ebf8-d164-44eb-b4c0-8d9bef252d30 name="Delete Test Tenant"
time=2026-01-05T22:20:02.945-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:02.945-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:02.947-03:00 level=INFO msg="world created" world_id=e78d818f-6d35-43f8-807d-73db67dceb32 name="Delete Test World" tenant_id=e518ebf8-d164-44eb-b4c0-8d9bef252d30
time=2026-01-05T22:20:02.947-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:02.947-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-05T22:20:02.949-03:00 level=INFO msg="location created" location_id=e16b9e4f-e168-4665-b3c3-e67352a063e9 name="Location to Delete"
time=2026-01-05T22:20:02.949-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-05T22:20:02.949-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/DeleteLocation
time=2026-01-05T22:20:02.950-03:00 level=INFO msg="location deleted" location_id=e16b9e4f-e168-4665-b3c3-e67352a063e9 name="Location to Delete"
time=2026-01-05T22:20:02.950-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/DeleteLocation duration_ms=0
time=2026-01-05T22:20:02.950-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-05T22:20:02.950-03:00 level=ERROR msg="failed to get location" error="location not found: e16b9e4f-e168-4665-b3c3-e67352a063e9" location_id=e16b9e4f-e168-4665-b3c3-e67352a063e9
time=2026-01-05T22:20:02.950-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: e16b9e4f-e168-4665-b3c3-e67352a063e9"
time=2026-01-05T22:20:02.950-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_DeleteLocation (0.26s)
    --- PASS: TestLocationHandler_DeleteLocation/delete_location (0.01s)
=== RUN   TestRPGClassHandler_CreateRPGClass
time=2026-01-05T22:20:03.203-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:03.203-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:03.203-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:20:03.203-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_CreateRPGClass/successful_creation
time=2026-01-05T22:20:03.204-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:03.206-03:00 level=INFO msg="tenant created" tenant_id=d4f5c74b-6eb1-482c-b6fe-01cdeb088403 name="Test Tenant for RPG Class"
time=2026-01-05T22:20:03.206-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:03.206-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:03.207-03:00 level=INFO msg="RPG system created" rpg_system_id=416ce03a-db80-4371-9859-713c72cfaa4f name="Test System"
time=2026-01-05T22:20:03.207-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:03.207-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:03.209-03:00 level=INFO msg="RPG class created" class_id=f040bfe6-831c-4103-99e8-1f6dee6ae088 name=Warrior
time=2026-01-05T22:20:03.209-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_CreateRPGClass/empty_name
time=2026-01-05T22:20:03.209-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:03.209-03:00 level=INFO msg="tenant created" tenant_id=aed842b8-05bc-4351-8a45-54bd5eadb776 name="Test Tenant 2"
time=2026-01-05T22:20:03.209-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:03.210-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:03.210-03:00 level=INFO msg="RPG system created" rpg_system_id=1eaa2170-59dd-4bb3-97f6-33734b7efc82 name="Test System 2"
time=2026-01-05T22:20:03.210-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:03.210-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:03.210-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-05T22:20:03.210-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_CreateRPGClass (0.26s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/successful_creation (0.01s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/empty_name (0.00s)
=== RUN   TestRPGClassHandler_GetRPGClass
time=2026-01-05T22:20:03.380-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:03.380-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:03.380-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:20:03.380-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_GetRPGClass/existing_RPG_class
time=2026-01-05T22:20:03.381-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:03.384-03:00 level=INFO msg="tenant created" tenant_id=1bf93d38-903d-44de-b571-f9b3cf899aee name="Get Test Tenant"
time=2026-01-05T22:20:03.384-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:03.384-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:03.385-03:00 level=INFO msg="RPG system created" rpg_system_id=dcc98df9-720d-4521-b476-fa96829851e7 name="Get Test System"
time=2026-01-05T22:20:03.385-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-05T22:20:03.385-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:03.387-03:00 level=INFO msg="RPG class created" class_id=b9607304-2036-4c35-9c02-a1efc4a03c9d name="Get Test Class"
time=2026-01-05T22:20:03.387-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-05T22:20:03.387-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-05T22:20:03.388-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0
=== RUN   TestRPGClassHandler_GetRPGClass/non-existing_RPG_class
time=2026-01-05T22:20:03.388-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:03.389-03:00 level=INFO msg="tenant created" tenant_id=d70881bf-496b-444d-9670-5e4d9750a23a name="Non-existing Test Tenant"
time=2026-01-05T22:20:03.389-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:03.389-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-05T22:20:03.389-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 45c2a54a-8a32-413e-a397-323f4ab13205" class_id=45c2a54a-8a32-413e-a397-323f4ab13205
time=2026-01-05T22:20:03.389-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 45c2a54a-8a32-413e-a397-323f4ab13205"
time=2026-01-05T22:20:03.390-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_GetRPGClass (0.16s)
    --- PASS: TestRPGClassHandler_GetRPGClass/existing_RPG_class (0.01s)
    --- PASS: TestRPGClassHandler_GetRPGClass/non-existing_RPG_class (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClasses
time=2026-01-05T22:20:03.625-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:03.625-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:03.625-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:20:03.625-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_ListRPGClasses/list_RPG_classes
time=2026-01-05T22:20:03.625-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:03.629-03:00 level=INFO msg="tenant created" tenant_id=13384b88-31e4-4a89-85f3-b33e2f319b03 name="List Test Tenant"
time=2026-01-05T22:20:03.629-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-05T22:20:03.629-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:03.642-03:00 level=INFO msg="RPG system created" rpg_system_id=1bf7266d-23c4-4491-bae1-c902c0fd17a9 name="List Test System"
time=2026-01-05T22:20:03.642-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=13
time=2026-01-05T22:20:03.643-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:03.645-03:00 level=INFO msg="RPG class created" class_id=65b23a64-58b2-4943-bdab-31528a67899c name="Class 1"
time=2026-01-05T22:20:03.645-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=2
time=2026-01-05T22:20:03.646-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:03.647-03:00 level=INFO msg="RPG class created" class_id=6b8daa5d-d67b-49b0-9158-b693eb94d5c2 name="Class 2"
time=2026-01-05T22:20:03.647-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-05T22:20:03.647-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClasses
time=2026-01-05T22:20:03.648-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClasses duration_ms=0
time=2026-01-05T22:20:03.648-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClasses (0.27s)
    --- PASS: TestRPGClassHandler_ListRPGClasses/list_RPG_classes (0.02s)
=== RUN   TestRPGClassHandler_UpdateRPGClass
time=2026-01-05T22:20:03.829-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:03.829-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:03.829-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:20:03.829-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_UpdateRPGClass/update_RPG_class
time=2026-01-05T22:20:03.830-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:03.833-03:00 level=INFO msg="tenant created" tenant_id=70637523-0591-48ae-8649-4a826959a1c7 name="Update Test Tenant"
time=2026-01-05T22:20:03.833-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:03.833-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:03.834-03:00 level=INFO msg="RPG system created" rpg_system_id=aa9e1bd7-e842-4fee-87e4-1fb856104074 name="Update Test System"
time=2026-01-05T22:20:03.834-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-05T22:20:03.834-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:03.836-03:00 level=INFO msg="RPG class created" class_id=18899328-4c52-4eca-bf0d-b9358c6af8c8 name="Original Class"
time=2026-01-05T22:20:03.836-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-05T22:20:03.836-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/UpdateRPGClass
time=2026-01-05T22:20:03.837-03:00 level=INFO msg="RPG class updated" class_id=18899328-4c52-4eca-bf0d-b9358c6af8c8
time=2026-01-05T22:20:03.837-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/UpdateRPGClass duration_ms=0
time=2026-01-05T22:20:03.837-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_UpdateRPGClass (0.17s)
    --- PASS: TestRPGClassHandler_UpdateRPGClass/update_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_DeleteRPGClass
time=2026-01-05T22:20:04.047-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:04.047-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:04.047-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:20:04.047-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_DeleteRPGClass/delete_RPG_class
time=2026-01-05T22:20:04.051-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:04.069-03:00 level=INFO msg="tenant created" tenant_id=b025160e-c148-4ae2-9592-76482f01eb9e name="Delete Test Tenant"
time=2026-01-05T22:20:04.069-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=18
time=2026-01-05T22:20:04.070-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:04.082-03:00 level=INFO msg="RPG system created" rpg_system_id=0ec8d59a-45cc-462b-b20a-53399d91b16c name="Delete Test System"
time=2026-01-05T22:20:04.082-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=12
time=2026-01-05T22:20:04.083-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:04.092-03:00 level=INFO msg="RPG class created" class_id=ab07548b-faa7-4514-8726-7878093d5b3c name="Class to Delete"
time=2026-01-05T22:20:04.092-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=8
time=2026-01-05T22:20:04.097-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/DeleteRPGClass
time=2026-01-05T22:20:04.101-03:00 level=INFO msg="RPG class deleted" class_id=ab07548b-faa7-4514-8726-7878093d5b3c
time=2026-01-05T22:20:04.101-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/DeleteRPGClass duration_ms=4
time=2026-01-05T22:20:04.102-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-05T22:20:04.104-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: ab07548b-faa7-4514-8726-7878093d5b3c" class_id=ab07548b-faa7-4514-8726-7878093d5b3c
time=2026-01-05T22:20:04.105-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=2 error="rpc error: code = NotFound desc = rpg_class not found: ab07548b-faa7-4514-8726-7878093d5b3c"
time=2026-01-05T22:20:04.105-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_DeleteRPGClass (0.27s)
    --- PASS: TestRPGClassHandler_DeleteRPGClass/delete_RPG_class (0.06s)
=== RUN   TestRPGClassHandler_AddSkillToClass
time=2026-01-05T22:20:04.261-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:04.261-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:04.261-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:20:04.261-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_AddSkillToClass/add_skill_to_class
time=2026-01-05T22:20:04.261-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:04.263-03:00 level=INFO msg="tenant created" tenant_id=34296ac7-7fe8-4afe-903d-95ac4991552a name="Add Skill Test Tenant"
time=2026-01-05T22:20:04.263-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:04.264-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:04.264-03:00 level=INFO msg="RPG system created" rpg_system_id=801a4759-850c-4df8-ae59-d71f7192aebd name="Add Skill Test System"
time=2026-01-05T22:20:04.264-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:04.265-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:04.266-03:00 level=INFO msg="RPG class created" class_id=502762b7-3714-44cb-a852-f7bcec2495fd name=Warrior
time=2026-01-05T22:20:04.266-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-05T22:20:04.266-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:04.266-03:00 level=INFO msg="skill created" skill_id=8df65195-cbb4-4602-bc4b-12c77042fce1 name="Sword Mastery"
time=2026-01-05T22:20:04.266-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-05T22:20:04.266-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-05T22:20:04.268-03:00 level=INFO msg="skill added to class" class_id=502762b7-3714-44cb-a852-f7bcec2495fd skill_id=8df65195-cbb4-4602-bc4b-12c77042fce1
time=2026-01-05T22:20:04.268-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-05T22:20:04.268-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_AddSkillToClass (0.15s)
    --- PASS: TestRPGClassHandler_AddSkillToClass/add_skill_to_class (0.01s)
=== RUN   TestRPGClassHandler_RemoveSkillFromClass
time=2026-01-05T22:20:04.462-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:04.462-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:04.462-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:20:04.462-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-05T22:20:04.463-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:04.465-03:00 level=INFO msg="tenant created" tenant_id=da20ed62-383c-4338-87ef-9dfa33298a51 name="Remove Skill Test Tenant"
time=2026-01-05T22:20:04.465-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:04.465-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:04.467-03:00 level=INFO msg="RPG system created" rpg_system_id=fa187004-9caf-4885-aaf0-e623494f9543 name="Remove Skill Test System"
time=2026-01-05T22:20:04.467-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-05T22:20:04.467-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:04.468-03:00 level=INFO msg="RPG class created" class_id=133a6fad-16fc-479c-94ca-8596171fdf15 name=Warrior
time=2026-01-05T22:20:04.468-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-05T22:20:04.468-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:04.469-03:00 level=INFO msg="skill created" skill_id=f4e8d652-b84f-4453-8545-f8ef305ca9b1 name="Sword Mastery"
time=2026-01-05T22:20:04.469-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/successful_remove
time=2026-01-05T22:20:04.470-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-05T22:20:04.472-03:00 level=INFO msg="skill added to class" class_id=133a6fad-16fc-479c-94ca-8596171fdf15 skill_id=f4e8d652-b84f-4453-8545-f8ef305ca9b1
time=2026-01-05T22:20:04.472-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-05T22:20:04.472-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-05T22:20:04.472-03:00 level=INFO msg="skill removed from class" class_id=133a6fad-16fc-479c-94ca-8596171fdf15 skill_id=f4e8d652-b84f-4453-8545-f8ef305ca9b1
time=2026-01-05T22:20:04.472-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0
time=2026-01-05T22:20:04.473-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-05T22:20:04.473-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill
time=2026-01-05T22:20:04.473-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-05T22:20:04.474-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class_skill not found: 133a6fad-16fc-479c-94ca-8596171fdf15/56d15769-a1ef-413b-a364-011a659c7ddf"
time=2026-01-05T22:20:04.474-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_RemoveSkillFromClass (0.21s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/successful_remove (0.00s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClassSkills
time=2026-01-05T22:20:04.622-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:04.622-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:04.622-03:00 level=INFO msg="SkillService registered"
time=2026-01-05T22:20:04.622-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-05T22:20:04.623-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:04.625-03:00 level=INFO msg="tenant created" tenant_id=6dc4cf63-ff1a-4d0f-823f-1729d20c84b5 name="List Skills Test Tenant"
time=2026-01-05T22:20:04.625-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:04.625-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:04.626-03:00 level=INFO msg="RPG system created" rpg_system_id=7f384784-b5de-4b05-954b-c29efc746270 name="List Skills Test System"
time=2026-01-05T22:20:04.626-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:04.626-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:04.627-03:00 level=INFO msg="RPG class created" class_id=79b58c1a-c3ce-4ba6-995b-722a81ecc8c5 name=Warrior
time=2026-01-05T22:20:04.627-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills
time=2026-01-05T22:20:04.628-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:04.628-03:00 level=INFO msg="skill created" skill_id=71c39ebf-56fb-4f23-b581-48325723a904 name="Sword Mastery"
time=2026-01-05T22:20:04.628-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-05T22:20:04.628-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:04.629-03:00 level=INFO msg="skill created" skill_id=7c1462c9-585c-4dab-b7bf-8e66112828e3 name="Shield Defense"
time=2026-01-05T22:20:04.629-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-05T22:20:04.629-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:04.629-03:00 level=INFO msg="skill created" skill_id=2a0f9f35-20c1-4a3a-938a-0a98f03290d7 name="Combat Tactics"
time=2026-01-05T22:20:04.629-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-05T22:20:04.629-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-05T22:20:04.631-03:00 level=INFO msg="skill added to class" class_id=79b58c1a-c3ce-4ba6-995b-722a81ecc8c5 skill_id=71c39ebf-56fb-4f23-b581-48325723a904
time=2026-01-05T22:20:04.631-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=1
time=2026-01-05T22:20:04.631-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-05T22:20:04.632-03:00 level=INFO msg="skill added to class" class_id=79b58c1a-c3ce-4ba6-995b-722a81ecc8c5 skill_id=7c1462c9-585c-4dab-b7bf-8e66112828e3
time=2026-01-05T22:20:04.632-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-05T22:20:04.632-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-05T22:20:04.633-03:00 level=INFO msg="skill added to class" class_id=79b58c1a-c3ce-4ba6-995b-722a81ecc8c5 skill_id=2a0f9f35-20c1-4a3a-938a-0a98f03290d7
time=2026-01-05T22:20:04.633-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-05T22:20:04.633-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-05T22:20:04.633-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class
time=2026-01-05T22:20:04.633-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-05T22:20:04.634-03:00 level=INFO msg="RPG class created" class_id=a0d44699-345e-493d-9dac-134d99303aa0 name=Mage
time=2026-01-05T22:20:04.634-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-05T22:20:04.634-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-05T22:20:04.634-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
time=2026-01-05T22:20:04.634-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClassSkills (0.16s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills (0.01s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class (0.00s)
=== RUN   TestRPGSystemHandler_CreateRPGSystem
time=2026-01-05T22:20:04.769-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:04.769-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/successful_creation
time=2026-01-05T22:20:04.769-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:04.771-03:00 level=INFO msg="tenant created" tenant_id=1039768a-d913-49e0-bd47-c57550d9b882 name="Test Tenant for RPG System"
time=2026-01-05T22:20:04.771-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:20:04.771-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:04.772-03:00 level=INFO msg="RPG system created" rpg_system_id=c4148d56-6ba9-4442-af53-1e24feff7c66 name="D&D 5e"
time=2026-01-05T22:20:04.772-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_name
time=2026-01-05T22:20:04.773-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:04.773-03:00 level=INFO msg="tenant created" tenant_id=aa50bde1-7929-46bd-8c7a-52dae58fe418 name="Test Tenant 2"
time=2026-01-05T22:20:04.773-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:04.774-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:04.774-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema
time=2026-01-05T22:20:04.774-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:04.774-03:00 level=INFO msg="tenant created" tenant_id=6ff033db-638f-4666-9d81-62c67d59b7e1 name="Test Tenant 3"
time=2026-01-05T22:20:04.774-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:04.774-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:04.774-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = base_stats_schema is required"
time=2026-01-05T22:20:04.775-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_CreateRPGSystem (0.14s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_name (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema (0.00s)
=== RUN   TestRPGSystemHandler_GetRPGSystem
time=2026-01-05T22:20:04.903-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:04.903-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_GetRPGSystem/existing_RPG_system
time=2026-01-05T22:20:04.906-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:04.908-03:00 level=INFO msg="tenant created" tenant_id=cdfa9c10-e405-43a6-b620-69eb70d369b5 name="Get Test Tenant"
time=2026-01-05T22:20:04.908-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:04.908-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:04.909-03:00 level=INFO msg="RPG system created" rpg_system_id=0426ae0c-af27-48d2-af48-a5721bd1b4a6 name="Get Test System"
time=2026-01-05T22:20:04.909-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:04.909-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-05T22:20:04.910-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0
=== RUN   TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system
time=2026-01-05T22:20:04.910-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:04.911-03:00 level=INFO msg="tenant created" tenant_id=2658882b-29a7-481b-8eb8-2608b90c8a6b name="Non-existing Test Tenant"
time=2026-01-05T22:20:04.911-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:04.911-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-05T22:20:04.911-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 23eab803-25b2-481e-8f8c-0f31a741a175" rpg_system_id=23eab803-25b2-481e-8f8c-0f31a741a175
time=2026-01-05T22:20:04.911-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: 23eab803-25b2-481e-8f8c-0f31a741a175"
time=2026-01-05T22:20:04.911-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_GetRPGSystem (0.14s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/existing_RPG_system (0.01s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system (0.00s)
=== RUN   TestRPGSystemHandler_ListRPGSystems
time=2026-01-05T22:20:05.034-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:05.034-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_ListRPGSystems/list_RPG_systems
time=2026-01-05T22:20:05.035-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:05.037-03:00 level=INFO msg="tenant created" tenant_id=d3402029-b37c-41be-8627-9be3e5e91104 name="List Test Tenant"
time=2026-01-05T22:20:05.037-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:05.037-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:05.038-03:00 level=INFO msg="RPG system created" rpg_system_id=7461ab1c-7e3a-47a5-81e1-00028e8651e5 name="System 1"
time=2026-01-05T22:20:05.038-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:05.038-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:05.039-03:00 level=INFO msg="RPG system created" rpg_system_id=cad60778-0fd1-4e1c-8d95-48470acf3a3e name="System 2"
time=2026-01-05T22:20:05.039-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:05.039-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/ListRPGSystems
time=2026-01-05T22:20:05.040-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/ListRPGSystems duration_ms=0
time=2026-01-05T22:20:05.040-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_ListRPGSystems (0.13s)
    --- PASS: TestRPGSystemHandler_ListRPGSystems/list_RPG_systems (0.01s)
=== RUN   TestRPGSystemHandler_UpdateRPGSystem
time=2026-01-05T22:20:05.166-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:05.166-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system
time=2026-01-05T22:20:05.167-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:05.169-03:00 level=INFO msg="tenant created" tenant_id=89224bcb-7d18-4da7-b4e9-b10756aa9875 name="Update Test Tenant"
time=2026-01-05T22:20:05.169-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:05.169-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:05.170-03:00 level=INFO msg="RPG system created" rpg_system_id=41dff68d-6e30-44d0-a1ba-4f749ec426df name="Original System"
time=2026-01-05T22:20:05.170-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:05.173-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/UpdateRPGSystem
time=2026-01-05T22:20:05.174-03:00 level=INFO msg="RPG system updated" rpg_system_id=41dff68d-6e30-44d0-a1ba-4f749ec426df
time=2026-01-05T22:20:05.174-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/UpdateRPGSystem duration_ms=0
time=2026-01-05T22:20:05.174-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_UpdateRPGSystem (0.13s)
    --- PASS: TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system (0.01s)
=== RUN   TestRPGSystemHandler_DeleteRPGSystem
time=2026-01-05T22:20:05.305-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:05.305-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system
time=2026-01-05T22:20:05.306-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:05.309-03:00 level=INFO msg="tenant created" tenant_id=e7d1d989-8028-4c12-a2f6-374df06c3154 name="Delete Test Tenant"
time=2026-01-05T22:20:05.309-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:05.309-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:05.310-03:00 level=INFO msg="RPG system created" rpg_system_id=d004f08c-204f-4e77-87a4-5013f84a1417 name="System to Delete"
time=2026-01-05T22:20:05.310-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:05.310-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/DeleteRPGSystem
time=2026-01-05T22:20:05.312-03:00 level=INFO msg="RPG system deleted" rpg_system_id=d004f08c-204f-4e77-87a4-5013f84a1417
time=2026-01-05T22:20:05.312-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/DeleteRPGSystem duration_ms=1
time=2026-01-05T22:20:05.312-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-05T22:20:05.312-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: d004f08c-204f-4e77-87a4-5013f84a1417" rpg_system_id=d004f08c-204f-4e77-87a4-5013f84a1417
time=2026-01-05T22:20:05.312-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: d004f08c-204f-4e77-87a4-5013f84a1417"
time=2026-01-05T22:20:05.312-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_DeleteRPGSystem (0.14s)
    --- PASS: TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system (0.01s)
=== RUN   TestSceneHandler_CreateScene
time=2026-01-05T22:20:05.441-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:05.441-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:05.441-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:05.441-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:05.441-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:05.441-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:05.441-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:05.442-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:05.444-03:00 level=INFO msg="tenant created" tenant_id=82d04179-45c1-43dd-995e-72fe6d84f836 name="Test Tenant for Scene"
time=2026-01-05T22:20:05.444-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:05.444-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:05.445-03:00 level=INFO msg="world created" world_id=f52444ee-afd0-4beb-b2c0-e84f799a2937 name="World of Test Story" tenant_id=82d04179-45c1-43dd-995e-72fe6d84f836
time=2026-01-05T22:20:05.445-03:00 level=INFO msg="created implicit world for story" world_id=f52444ee-afd0-4beb-b2c0-e84f799a2937 story_title="Test Story"
time=2026-01-05T22:20:05.447-03:00 level=INFO msg="story created" story_id=ac6b7504-424f-4313-a876-5827de8324f1 title="Test Story" tenant_id=82d04179-45c1-43dd-995e-72fe6d84f836
time=2026-01-05T22:20:05.447-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:05.447-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:20:05.448-03:00 level=INFO msg="chapter created" chapter_id=65f1c67b-e5ba-4ae3-91a0-f438b41af0f3 story_id=ac6b7504-424f-4313-a876-5827de8324f1 tenant_id=82d04179-45c1-43dd-995e-72fe6d84f836
time=2026-01-05T22:20:05.448-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_CreateScene/successful_creation_with_chapter
time=2026-01-05T22:20:05.448-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:05.449-03:00 level=INFO msg="scene created" scene_id=a05653a0-272f-4c57-8186-503c958870d0 story_id=ac6b7504-424f-4313-a876-5827de8324f1 tenant_id=82d04179-45c1-43dd-995e-72fe6d84f836
time=2026-01-05T22:20:05.449-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_CreateScene/successful_creation_without_chapter
time=2026-01-05T22:20:05.449-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:05.450-03:00 level=INFO msg="scene created" scene_id=7db0b710-4d96-4b46-8925-c1b118e62930 story_id=ac6b7504-424f-4313-a876-5827de8324f1 tenant_id=82d04179-45c1-43dd-995e-72fe6d84f836
time=2026-01-05T22:20:05.450-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_CreateScene/invalid_story_id
time=2026-01-05T22:20:05.450-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:05.450-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = NotFound desc = story not found: 14f88979-bb80-4216-9806-3bfaa8cca4bf"
=== RUN   TestSceneHandler_CreateScene/invalid_order_num
time=2026-01-05T22:20:05.450-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:05.451-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-05T22:20:05.451-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_CreateScene (0.14s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_with_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_without_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_story_id (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_order_num (0.00s)
=== RUN   TestSceneHandler_GetScene
time=2026-01-05T22:20:05.584-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:05.584-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:05.584-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:05.584-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:05.584-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:05.584-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:05.584-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:05.585-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:05.587-03:00 level=INFO msg="tenant created" tenant_id=e1aba5ce-a8ba-4bc5-a857-bb01d285edcb name="Test Tenant for Get Scene"
time=2026-01-05T22:20:05.587-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:20:05.587-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:05.589-03:00 level=INFO msg="world created" world_id=ff672590-ec6e-4b3b-9569-c3535dd3faa4 name="World of Test Story" tenant_id=e1aba5ce-a8ba-4bc5-a857-bb01d285edcb
time=2026-01-05T22:20:05.589-03:00 level=INFO msg="created implicit world for story" world_id=ff672590-ec6e-4b3b-9569-c3535dd3faa4 story_title="Test Story"
time=2026-01-05T22:20:05.590-03:00 level=INFO msg="story created" story_id=76ff6dfe-e43c-4491-a268-05d4e5416e4e title="Test Story" tenant_id=e1aba5ce-a8ba-4bc5-a857-bb01d285edcb
time=2026-01-05T22:20:05.590-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_GetScene/existing_scene
time=2026-01-05T22:20:05.590-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:05.591-03:00 level=INFO msg="scene created" scene_id=114513c3-3281-47d1-888e-fb6c07588ee0 story_id=76ff6dfe-e43c-4491-a268-05d4e5416e4e tenant_id=e1aba5ce-a8ba-4bc5-a857-bb01d285edcb
time=2026-01-05T22:20:05.591-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-05T22:20:05.591-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-05T22:20:05.592-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetScene duration_ms=0
=== RUN   TestSceneHandler_GetScene/non-existing_scene
time=2026-01-05T22:20:05.592-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-05T22:20:05.592-03:00 level=ERROR msg="failed to get scene" error="scene not found: 5037e3a3-286c-4818-832c-d13bafc1c09d" scene_id=5037e3a3-286c-4818-832c-d13bafc1c09d tenant_id=e1aba5ce-a8ba-4bc5-a857-bb01d285edcb
time=2026-01-05T22:20:05.592-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetScene duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 5037e3a3-286c-4818-832c-d13bafc1c09d"
time=2026-01-05T22:20:05.593-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetScene (0.14s)
    --- PASS: TestSceneHandler_GetScene/existing_scene (0.00s)
    --- PASS: TestSceneHandler_GetScene/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_UpdateScene
time=2026-01-05T22:20:05.722-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:05.722-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:05.722-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:05.722-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:05.722-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:05.722-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:05.722-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:05.724-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:05.726-03:00 level=INFO msg="tenant created" tenant_id=e518e74b-e3f1-4ad3-bc69-1a4ab600e6ca name="Test Tenant for Update Scene"
time=2026-01-05T22:20:05.726-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:05.726-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:05.727-03:00 level=INFO msg="world created" world_id=f9da3384-d95f-4132-a1d8-325a1f652a84 name="World of Test Story" tenant_id=e518e74b-e3f1-4ad3-bc69-1a4ab600e6ca
time=2026-01-05T22:20:05.727-03:00 level=INFO msg="created implicit world for story" world_id=f9da3384-d95f-4132-a1d8-325a1f652a84 story_title="Test Story"
time=2026-01-05T22:20:05.728-03:00 level=INFO msg="story created" story_id=4c44f9d7-d00f-4349-b465-606bd0b5a186 title="Test Story" tenant_id=e518e74b-e3f1-4ad3-bc69-1a4ab600e6ca
time=2026-01-05T22:20:05.728-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_UpdateScene/successful_update
time=2026-01-05T22:20:05.729-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:05.730-03:00 level=INFO msg="scene created" scene_id=5b51b3d6-bc9b-47d1-8b07-83aff31b5760 story_id=4c44f9d7-d00f-4349-b465-606bd0b5a186 tenant_id=e518e74b-e3f1-4ad3-bc69-1a4ab600e6ca
time=2026-01-05T22:20:05.730-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-05T22:20:05.730-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/UpdateScene
time=2026-01-05T22:20:05.731-03:00 level=INFO msg="scene updated" scene_id=5b51b3d6-bc9b-47d1-8b07-83aff31b5760 tenant_id=e518e74b-e3f1-4ad3-bc69-1a4ab600e6ca
time=2026-01-05T22:20:05.731-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/UpdateScene duration_ms=0
time=2026-01-05T22:20:05.731-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_UpdateScene (0.14s)
    --- PASS: TestSceneHandler_UpdateScene/successful_update (0.00s)
=== RUN   TestSceneHandler_MoveScene
time=2026-01-05T22:20:05.869-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:05.869-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:05.869-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:05.869-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:05.869-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:05.869-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:05.869-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:05.870-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:05.873-03:00 level=INFO msg="tenant created" tenant_id=86636835-488b-4fbf-8181-e0bd1c139788 name="Test Tenant for Move Scene"
time=2026-01-05T22:20:05.873-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:05.873-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:05.874-03:00 level=INFO msg="world created" world_id=887e5cbd-203e-4fe7-8b89-0ecfda611e20 name="World of Test Story" tenant_id=86636835-488b-4fbf-8181-e0bd1c139788
time=2026-01-05T22:20:05.874-03:00 level=INFO msg="created implicit world for story" world_id=887e5cbd-203e-4fe7-8b89-0ecfda611e20 story_title="Test Story"
time=2026-01-05T22:20:05.876-03:00 level=INFO msg="story created" story_id=1ccdd597-b818-477f-8edf-e5d6f785797d title="Test Story" tenant_id=86636835-488b-4fbf-8181-e0bd1c139788
time=2026-01-05T22:20:05.876-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:05.876-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:20:05.877-03:00 level=INFO msg="chapter created" chapter_id=f577335b-a39a-4eaa-aeef-2726db0ea973 story_id=1ccdd597-b818-477f-8edf-e5d6f785797d tenant_id=86636835-488b-4fbf-8181-e0bd1c139788
time=2026-01-05T22:20:05.877-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-05T22:20:05.877-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-05T22:20:05.877-03:00 level=INFO msg="chapter created" chapter_id=9217afb1-4205-4d15-9cef-257571bfee5f story_id=1ccdd597-b818-477f-8edf-e5d6f785797d tenant_id=86636835-488b-4fbf-8181-e0bd1c139788
time=2026-01-05T22:20:05.877-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_different_chapter
time=2026-01-05T22:20:05.878-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:05.879-03:00 level=INFO msg="scene created" scene_id=7f58865d-5df1-4f02-89e7-affaf8d416e5 story_id=1ccdd597-b818-477f-8edf-e5d6f785797d tenant_id=86636835-488b-4fbf-8181-e0bd1c139788
time=2026-01-05T22:20:05.879-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-05T22:20:05.879-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-05T22:20:05.880-03:00 level=INFO msg="scene moved" scene_id=7f58865d-5df1-4f02-89e7-affaf8d416e5 new_chapter_id=9217afb1-4205-4d15-9cef-257571bfee5f tenant_id=86636835-488b-4fbf-8181-e0bd1c139788
time=2026-01-05T22:20:05.880-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_no_chapter
time=2026-01-05T22:20:05.880-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:05.880-03:00 level=INFO msg="scene created" scene_id=c3efb945-7238-4067-8ff8-588153e60a2c story_id=1ccdd597-b818-477f-8edf-e5d6f785797d tenant_id=86636835-488b-4fbf-8181-e0bd1c139788
time=2026-01-05T22:20:05.880-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-05T22:20:05.881-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-05T22:20:05.881-03:00 level=INFO msg="scene moved" scene_id=c3efb945-7238-4067-8ff8-588153e60a2c new_chapter_id=<nil> tenant_id=86636835-488b-4fbf-8181-e0bd1c139788
time=2026-01-05T22:20:05.881-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
time=2026-01-05T22:20:05.881-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_MoveScene (0.15s)
    --- PASS: TestSceneHandler_MoveScene/move_to_different_chapter (0.00s)
    --- PASS: TestSceneHandler_MoveScene/move_to_no_chapter (0.00s)
=== RUN   TestSceneHandler_ListScenesByStory
time=2026-01-05T22:20:06.018-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:06.018-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:06.018-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:06.018-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:06.018-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:06.018-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:06.018-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:06.018-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:06.021-03:00 level=INFO msg="tenant created" tenant_id=a9dd79e0-f854-40b1-a521-775f9bd800c4 name="Test Tenant for List Scenes"
time=2026-01-05T22:20:06.021-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:06.021-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:06.022-03:00 level=INFO msg="world created" world_id=37e5fa0c-4e91-4fb6-8fc4-3f08a7496859 name="World of Test Story" tenant_id=a9dd79e0-f854-40b1-a521-775f9bd800c4
time=2026-01-05T22:20:06.022-03:00 level=INFO msg="created implicit world for story" world_id=37e5fa0c-4e91-4fb6-8fc4-3f08a7496859 story_title="Test Story"
time=2026-01-05T22:20:06.024-03:00 level=INFO msg="story created" story_id=7edfb3fc-76c5-4833-8ec3-aa3565d10635 title="Test Story" tenant_id=a9dd79e0-f854-40b1-a521-775f9bd800c4
time=2026-01-05T22:20:06.024-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_ListScenesByStory/list_scenes_by_story
time=2026-01-05T22:20:06.024-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:06.025-03:00 level=INFO msg="scene created" scene_id=988c969b-cc1f-4151-9663-da094d64b632 story_id=7edfb3fc-76c5-4833-8ec3-aa3565d10635 tenant_id=a9dd79e0-f854-40b1-a521-775f9bd800c4
time=2026-01-05T22:20:06.025-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-05T22:20:06.025-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:06.025-03:00 level=INFO msg="scene created" scene_id=763320c4-1561-4ce3-a2e6-be4f958dff11 story_id=7edfb3fc-76c5-4833-8ec3-aa3565d10635 tenant_id=a9dd79e0-f854-40b1-a521-775f9bd800c4
time=2026-01-05T22:20:06.025-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-05T22:20:06.025-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:06.026-03:00 level=INFO msg="scene created" scene_id=59f9198a-31b7-4eb5-b84e-6581519628d6 story_id=7edfb3fc-76c5-4833-8ec3-aa3565d10635 tenant_id=a9dd79e0-f854-40b1-a521-775f9bd800c4
time=2026-01-05T22:20:06.026-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-05T22:20:06.026-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/ListScenesByStory
time=2026-01-05T22:20:06.027-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/ListScenesByStory duration_ms=0
time=2026-01-05T22:20:06.027-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_ListScenesByStory (0.15s)
    --- PASS: TestSceneHandler_ListScenesByStory/list_scenes_by_story (0.00s)
=== RUN   TestSceneHandler_DeleteScene
time=2026-01-05T22:20:06.159-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:06.159-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:06.159-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:06.159-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:06.159-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:06.159-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:06.159-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-05T22:20:06.160-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:06.166-03:00 level=INFO msg="tenant created" tenant_id=766e0afa-778d-47d0-bb80-2bc77fb19161 name="Test Tenant for Delete Scene"
time=2026-01-05T22:20:06.166-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=5
time=2026-01-05T22:20:06.166-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:06.167-03:00 level=INFO msg="world created" world_id=7144729a-1060-41d4-a2f0-ef91e34c47e6 name="World of Test Story" tenant_id=766e0afa-778d-47d0-bb80-2bc77fb19161
time=2026-01-05T22:20:06.167-03:00 level=INFO msg="created implicit world for story" world_id=7144729a-1060-41d4-a2f0-ef91e34c47e6 story_title="Test Story"
time=2026-01-05T22:20:06.169-03:00 level=INFO msg="story created" story_id=d4035617-ed8c-44ce-b662-ec4c7e314d91 title="Test Story" tenant_id=766e0afa-778d-47d0-bb80-2bc77fb19161
time=2026-01-05T22:20:06.169-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_DeleteScene/successful_delete
time=2026-01-05T22:20:06.169-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:06.170-03:00 level=INFO msg="scene created" scene_id=e757170a-8b46-4806-81a5-3759e5096625 story_id=d4035617-ed8c-44ce-b662-ec4c7e314d91 tenant_id=766e0afa-778d-47d0-bb80-2bc77fb19161
time=2026-01-05T22:20:06.170-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-05T22:20:06.170-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/DeleteScene
time=2026-01-05T22:20:06.172-03:00 level=INFO msg="scene deleted" scene_id=e757170a-8b46-4806-81a5-3759e5096625 tenant_id=766e0afa-778d-47d0-bb80-2bc77fb19161
time=2026-01-05T22:20:06.172-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/DeleteScene duration_ms=1
time=2026-01-05T22:20:06.172-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_DeleteScene (0.14s)
    --- PASS: TestSceneHandler_DeleteScene/successful_delete (0.00s)
=== RUN   TestSceneHandler_AddSceneReference
time=2026-01-05T22:20:06.313-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:06.313-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:06.313-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:06.313-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:06.313-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:06.313-03:00 level=INFO msg="LocationService registered"
time=2026-01-05T22:20:06.313-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:20:06.313-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-05T22:20:06.314-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:06.317-03:00 level=INFO msg="tenant created" tenant_id=becd215f-41fb-4366-b9b2-373cf1be4433 name="Test Tenant for Scene References"
time=2026-01-05T22:20:06.317-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:06.317-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:06.318-03:00 level=INFO msg="world created" world_id=0e9a9b23-8d1d-4ad8-8262-130d688a4a17 name="Test World" tenant_id=becd215f-41fb-4366-b9b2-373cf1be4433
time=2026-01-05T22:20:06.318-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:06.318-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:06.319-03:00 level=INFO msg="world created" world_id=bc516321-157c-48ca-9967-1debd7f7409d name="World of Test Story" tenant_id=becd215f-41fb-4366-b9b2-373cf1be4433
time=2026-01-05T22:20:06.319-03:00 level=INFO msg="created implicit world for story" world_id=bc516321-157c-48ca-9967-1debd7f7409d story_title="Test Story"
time=2026-01-05T22:20:06.321-03:00 level=INFO msg="story created" story_id=1c29238c-763b-451e-a2d5-f8362b1ad583 title="Test Story" tenant_id=becd215f-41fb-4366-b9b2-373cf1be4433
time=2026-01-05T22:20:06.321-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:06.321-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:06.322-03:00 level=INFO msg="scene created" scene_id=df8a1f8e-ae8e-4104-bfc6-71c815aa6927 story_id=1c29238c-763b-451e-a2d5-f8362b1ad583 tenant_id=becd215f-41fb-4366-b9b2-373cf1be4433
time=2026-01-05T22:20:06.322-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_AddSceneReference/add_character_reference
time=2026-01-05T22:20:06.322-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:20:06.324-03:00 level=INFO msg="character created" character_id=08949b89-383d-406a-8902-18f37dbdf93f name="Test Character"
time=2026-01-05T22:20:06.324-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:20:06.324-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-05T22:20:06.326-03:00 level=INFO msg="scene reference added" scene_id=df8a1f8e-ae8e-4104-bfc6-71c815aa6927 entity_type=character entity_id=08949b89-383d-406a-8902-18f37dbdf93f story_id=1c29238c-763b-451e-a2d5-f8362b1ad583
time=2026-01-05T22:20:06.326-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
=== RUN   TestSceneHandler_AddSceneReference/add_location_reference
time=2026-01-05T22:20:06.327-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-05T22:20:06.328-03:00 level=INFO msg="location created" location_id=9b2e28f6-5f72-4b7a-9086-a9e18acbf1d8 name="Test Location"
time=2026-01-05T22:20:06.328-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-05T22:20:06.328-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-05T22:20:06.330-03:00 level=INFO msg="scene reference added" scene_id=df8a1f8e-ae8e-4104-bfc6-71c815aa6927 entity_type=location entity_id=9b2e28f6-5f72-4b7a-9086-a9e18acbf1d8 story_id=1c29238c-763b-451e-a2d5-f8362b1ad583
time=2026-01-05T22:20:06.330-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_artifact_reference
time=2026-01-05T22:20:06.330-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:20:06.331-03:00 level=INFO msg="artifact created" artifact_id=8bb102eb-ecf7-4a5a-83e4-29ab5f371ab9 name="Test Artifact"
time=2026-01-05T22:20:06.331-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-05T22:20:06.331-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-05T22:20:06.332-03:00 level=INFO msg="scene reference added" scene_id=df8a1f8e-ae8e-4104-bfc6-71c815aa6927 entity_type=artifact entity_id=8bb102eb-ecf7-4a5a-83e4-29ab5f371ab9 story_id=1c29238c-763b-451e-a2d5-f8362b1ad583
time=2026-01-05T22:20:06.333-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/invalid_entity_type
time=2026-01-05T22:20:06.333-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-05T22:20:06.333-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = InvalidArgument desc = entity_type must be 'character', 'location', or 'artifact'"
=== RUN   TestSceneHandler_AddSceneReference/invalid_scene_id
time=2026-01-05T22:20:06.333-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-05T22:20:06.333-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 87bdd384-a1cf-48bd-ba37-4ef06f42bdf5"
time=2026-01-05T22:20:06.334-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_AddSceneReference (0.16s)
    --- PASS: TestSceneHandler_AddSceneReference/add_character_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_location_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_artifact_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_entity_type (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_scene_id (0.00s)
=== RUN   TestSceneHandler_RemoveSceneReference
time=2026-01-05T22:20:06.475-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:06.475-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:06.475-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:06.475-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:06.475-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:06.475-03:00 level=INFO msg="LocationService registered"
time=2026-01-05T22:20:06.475-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:20:06.475-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-05T22:20:06.476-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:06.478-03:00 level=INFO msg="tenant created" tenant_id=5b5dcb21-9145-41ff-923d-ed716d768ed5 name="Test Tenant for Remove Reference"
time=2026-01-05T22:20:06.478-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:06.478-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:06.479-03:00 level=INFO msg="world created" world_id=f94b2a7f-f910-4080-9af1-19162a357df2 name="Test World" tenant_id=5b5dcb21-9145-41ff-923d-ed716d768ed5
time=2026-01-05T22:20:06.479-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:06.479-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:06.480-03:00 level=INFO msg="world created" world_id=9e68aa52-e09c-466d-ac34-1907b7f400d6 name="World of Test Story" tenant_id=5b5dcb21-9145-41ff-923d-ed716d768ed5
time=2026-01-05T22:20:06.480-03:00 level=INFO msg="created implicit world for story" world_id=9e68aa52-e09c-466d-ac34-1907b7f400d6 story_title="Test Story"
time=2026-01-05T22:20:06.481-03:00 level=INFO msg="story created" story_id=a9a01772-7ec8-4be2-a9cd-a1f047acbd3a title="Test Story" tenant_id=5b5dcb21-9145-41ff-923d-ed716d768ed5
time=2026-01-05T22:20:06.481-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-05T22:20:06.481-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:06.482-03:00 level=INFO msg="scene created" scene_id=d8cefe36-4533-4680-ac8d-9062ee66e181 story_id=a9a01772-7ec8-4be2-a9cd-a1f047acbd3a tenant_id=5b5dcb21-9145-41ff-923d-ed716d768ed5
time=2026-01-05T22:20:06.482-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-05T22:20:06.482-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:20:06.483-03:00 level=INFO msg="character created" character_id=29f78ddc-f28c-4cb7-b37f-b173b5890e5a name="Test Character"
time=2026-01-05T22:20:06.483-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestSceneHandler_RemoveSceneReference/successful_remove
time=2026-01-05T22:20:06.484-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-05T22:20:06.485-03:00 level=INFO msg="scene reference added" scene_id=d8cefe36-4533-4680-ac8d-9062ee66e181 entity_type=character entity_id=29f78ddc-f28c-4cb7-b37f-b173b5890e5a story_id=a9a01772-7ec8-4be2-a9cd-a1f047acbd3a
time=2026-01-05T22:20:06.486-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-05T22:20:06.486-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-05T22:20:06.486-03:00 level=INFO msg="scene reference removed" scene_id=d8cefe36-4533-4680-ac8d-9062ee66e181 entity_type=character entity_id=29f78ddc-f28c-4cb7-b37f-b173b5890e5a
time=2026-01-05T22:20:06.486-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/RemoveSceneReference duration_ms=0
time=2026-01-05T22:20:06.486-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-05T22:20:06.486-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/remove_non-existing_reference
time=2026-01-05T22:20:06.487-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-05T22:20:06.487-03:00 level=ERROR msg="failed to remove scene reference" error="scene_reference not found: d8cefe36-4533-4680-ac8d-9062ee66e181/character/fa74267c-1330-4afd-8030-b3a0f07e13d0" scene_id=d8cefe36-4533-4680-ac8d-9062ee66e181
time=2026-01-05T22:20:06.487-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/RemoveSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene_reference not found: d8cefe36-4533-4680-ac8d-9062ee66e181/character/fa74267c-1330-4afd-8030-b3a0f07e13d0"
time=2026-01-05T22:20:06.487-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_RemoveSceneReference (0.15s)
    --- PASS: TestSceneHandler_RemoveSceneReference/successful_remove (0.00s)
    --- PASS: TestSceneHandler_RemoveSceneReference/remove_non-existing_reference (0.00s)
=== RUN   TestSceneHandler_GetSceneReferences
time=2026-01-05T22:20:06.629-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:06.629-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:06.629-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:06.629-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:06.629-03:00 level=INFO msg="WorldService registered"
time=2026-01-05T22:20:06.629-03:00 level=INFO msg="LocationService registered"
time=2026-01-05T22:20:06.629-03:00 level=INFO msg="CharacterService registered"
time=2026-01-05T22:20:06.629-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-05T22:20:06.630-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:06.632-03:00 level=INFO msg="tenant created" tenant_id=5f87a500-782c-4214-becd-de7848b3dd3e name="Test Tenant for Get References"
time=2026-01-05T22:20:06.632-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:06.632-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:06.634-03:00 level=INFO msg="world created" world_id=5d4c4587-bdcf-4f87-8f68-7da7a4e72de2 name="Test World" tenant_id=5f87a500-782c-4214-becd-de7848b3dd3e
time=2026-01-05T22:20:06.634-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:06.634-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:06.635-03:00 level=INFO msg="world created" world_id=737e4a19-b733-4848-934d-2683ae85e234 name="World of Test Story" tenant_id=5f87a500-782c-4214-becd-de7848b3dd3e
time=2026-01-05T22:20:06.635-03:00 level=INFO msg="created implicit world for story" world_id=737e4a19-b733-4848-934d-2683ae85e234 story_title="Test Story"
time=2026-01-05T22:20:06.636-03:00 level=INFO msg="story created" story_id=9706fb30-43f0-4add-8b7e-d377fcb3630c title="Test Story" tenant_id=5f87a500-782c-4214-becd-de7848b3dd3e
time=2026-01-05T22:20:06.636-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-05T22:20:06.636-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:06.637-03:00 level=INFO msg="scene created" scene_id=fca70ec3-fde3-4098-9aa7-09135be4fef7 story_id=9706fb30-43f0-4add-8b7e-d377fcb3630c tenant_id=5f87a500-782c-4214-becd-de7848b3dd3e
time=2026-01-05T22:20:06.637-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_multiple_references
time=2026-01-05T22:20:06.637-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-05T22:20:06.638-03:00 level=INFO msg="character created" character_id=fc18364e-f98b-4670-afd8-d4e258ba3938 name="Test Character"
time=2026-01-05T22:20:06.638-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-05T22:20:06.638-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-05T22:20:06.640-03:00 level=INFO msg="location created" location_id=3d7699b6-8579-403a-97bb-2c9129a1fb35 name="Test Location"
time=2026-01-05T22:20:06.640-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-05T22:20:06.640-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-05T22:20:06.641-03:00 level=INFO msg="artifact created" artifact_id=2327cf83-6cbf-4a76-a67b-e1983016fd74 name="Test Artifact"
time=2026-01-05T22:20:06.641-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-05T22:20:06.641-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-05T22:20:06.643-03:00 level=INFO msg="scene reference added" scene_id=fca70ec3-fde3-4098-9aa7-09135be4fef7 entity_type=character entity_id=fc18364e-f98b-4670-afd8-d4e258ba3938 story_id=9706fb30-43f0-4add-8b7e-d377fcb3630c
time=2026-01-05T22:20:06.644-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-05T22:20:06.644-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-05T22:20:06.645-03:00 level=INFO msg="scene reference added" scene_id=fca70ec3-fde3-4098-9aa7-09135be4fef7 entity_type=location entity_id=3d7699b6-8579-403a-97bb-2c9129a1fb35 story_id=9706fb30-43f0-4add-8b7e-d377fcb3630c
time=2026-01-05T22:20:06.645-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-05T22:20:06.645-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-05T22:20:06.646-03:00 level=INFO msg="scene reference added" scene_id=fca70ec3-fde3-4098-9aa7-09135be4fef7 entity_type=artifact entity_id=2327cf83-6cbf-4a76-a67b-e1983016fd74 story_id=9706fb30-43f0-4add-8b7e-d377fcb3630c
time=2026-01-05T22:20:06.647-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-05T22:20:06.647-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-05T22:20:06.647-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_empty_references
time=2026-01-05T22:20:06.647-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-05T22:20:06.648-03:00 level=INFO msg="scene created" scene_id=a8cad7ee-4865-4ddc-a4d5-24e27f0c3e8c story_id=9706fb30-43f0-4add-8b7e-d377fcb3630c tenant_id=5f87a500-782c-4214-becd-de7848b3dd3e
time=2026-01-05T22:20:06.648-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-05T22:20:06.648-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-05T22:20:06.648-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/invalid_scene_id
time=2026-01-05T22:20:06.648-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-05T22:20:06.648-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetSceneReferences duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid scene_id: invalid UUID length: 10"
time=2026-01-05T22:20:06.648-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetSceneReferences (0.23s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_multiple_references (0.01s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_empty_references (0.00s)
    --- PASS: TestSceneHandler_GetSceneReferences/invalid_scene_id (0.00s)
=== RUN   TestSkillHandler_CreateSkill
time=2026-01-05T22:20:06.851-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:06.851-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:06.851-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_CreateSkill/successful_creation
time=2026-01-05T22:20:06.852-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:06.854-03:00 level=INFO msg="tenant created" tenant_id=c82569ef-4994-47aa-a987-28aa202bcf06 name="Test Tenant for Skill"
time=2026-01-05T22:20:06.854-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:06.854-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:06.856-03:00 level=INFO msg="RPG system created" rpg_system_id=c834bd2e-1a62-4015-a68a-b1b37eeb1d32 name="Test System"
time=2026-01-05T22:20:06.856-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-05T22:20:06.856-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:06.857-03:00 level=INFO msg="skill created" skill_id=34ad7966-cd80-4aba-bbca-9ef4651925f4 name=Fireball
time=2026-01-05T22:20:06.857-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestSkillHandler_CreateSkill/empty_name
time=2026-01-05T22:20:06.857-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:06.858-03:00 level=INFO msg="tenant created" tenant_id=bcf3c6e8-7d60-4808-970b-37baab0d4ed9 name="Test Tenant 2"
time=2026-01-05T22:20:06.858-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:06.858-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:06.859-03:00 level=INFO msg="RPG system created" rpg_system_id=afecd122-762c-4aca-b8ff-ca0b03e9f59d name="Test System 2"
time=2026-01-05T22:20:06.859-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:06.859-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:06.859-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/CreateSkill duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-05T22:20:06.859-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_CreateSkill (0.14s)
    --- PASS: TestSkillHandler_CreateSkill/successful_creation (0.01s)
    --- PASS: TestSkillHandler_CreateSkill/empty_name (0.00s)
=== RUN   TestSkillHandler_GetSkill
time=2026-01-05T22:20:07.013-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:07.013-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:07.013-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_GetSkill/existing_skill
time=2026-01-05T22:20:07.014-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.017-03:00 level=INFO msg="tenant created" tenant_id=667c91b7-a77c-4faa-98d3-6734655410c5 name="Get Test Tenant"
time=2026-01-05T22:20:07.017-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:07.017-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:07.018-03:00 level=INFO msg="RPG system created" rpg_system_id=c113f2a5-cca1-44ba-a39c-f61d21381c67 name="Get Test System"
time=2026-01-05T22:20:07.018-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:07.018-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:07.019-03:00 level=INFO msg="skill created" skill_id=e6871fb2-7d70-4a95-b228-0cbbd6052f7b name="Get Test Skill"
time=2026-01-05T22:20:07.019-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-05T22:20:07.019-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-05T22:20:07.020-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/GetSkill duration_ms=0
=== RUN   TestSkillHandler_GetSkill/non-existing_skill
time=2026-01-05T22:20:07.020-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.020-03:00 level=INFO msg="tenant created" tenant_id=f3274e31-c858-409b-b7ae-d9c77d57dc73 name="Non-existing Test Tenant"
time=2026-01-05T22:20:07.020-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:07.020-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-05T22:20:07.021-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 69e3a7ee-c888-452e-a4f7-eb596bf49e2b" skill_id=69e3a7ee-c888-452e-a4f7-eb596bf49e2b
time=2026-01-05T22:20:07.021-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 69e3a7ee-c888-452e-a4f7-eb596bf49e2b"
time=2026-01-05T22:20:07.021-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_GetSkill (0.16s)
    --- PASS: TestSkillHandler_GetSkill/existing_skill (0.01s)
    --- PASS: TestSkillHandler_GetSkill/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_ListSkills
time=2026-01-05T22:20:07.180-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:07.180-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:07.180-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_ListSkills/list_skills
time=2026-01-05T22:20:07.181-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.182-03:00 level=INFO msg="tenant created" tenant_id=ef753171-0b59-421d-ac8b-8259a5870fff name="List Test Tenant"
time=2026-01-05T22:20:07.182-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-05T22:20:07.183-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:07.183-03:00 level=INFO msg="RPG system created" rpg_system_id=4010f13b-2abc-4121-a418-044c8ac341c7 name="List Test System"
time=2026-01-05T22:20:07.183-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:07.184-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:07.185-03:00 level=INFO msg="skill created" skill_id=c4c68a0d-58e1-4151-8317-f4578b60e97d name="Skill 1"
time=2026-01-05T22:20:07.185-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-05T22:20:07.185-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:07.185-03:00 level=INFO msg="skill created" skill_id=d6289316-38fa-421a-a5cc-3cbfcbf11e2a name="Skill 2"
time=2026-01-05T22:20:07.185-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-05T22:20:07.185-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/ListSkills
time=2026-01-05T22:20:07.186-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/ListSkills duration_ms=0
time=2026-01-05T22:20:07.186-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_ListSkills (0.17s)
    --- PASS: TestSkillHandler_ListSkills/list_skills (0.01s)
=== RUN   TestSkillHandler_UpdateSkill
time=2026-01-05T22:20:07.345-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:07.345-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:07.345-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_UpdateSkill/update_skill
time=2026-01-05T22:20:07.346-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.348-03:00 level=INFO msg="tenant created" tenant_id=693654eb-54ab-464e-99fb-38f3fc0e732c name="Update Test Tenant"
time=2026-01-05T22:20:07.348-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:07.349-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:07.350-03:00 level=INFO msg="RPG system created" rpg_system_id=9eebf267-2ed2-4076-baf4-c821df0e2991 name="Update Test System"
time=2026-01-05T22:20:07.350-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:07.350-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:07.351-03:00 level=INFO msg="skill created" skill_id=83473246-73f0-4253-84ff-241175174a97 name="Original Skill"
time=2026-01-05T22:20:07.351-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-05T22:20:07.351-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/UpdateSkill
time=2026-01-05T22:20:07.353-03:00 level=INFO msg="skill updated" skill_id=83473246-73f0-4253-84ff-241175174a97
time=2026-01-05T22:20:07.353-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/UpdateSkill duration_ms=1
time=2026-01-05T22:20:07.353-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_UpdateSkill (0.16s)
    --- PASS: TestSkillHandler_UpdateSkill/update_skill (0.01s)
=== RUN   TestSkillHandler_DeleteSkill
time=2026-01-05T22:20:07.522-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:07.522-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-05T22:20:07.522-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_DeleteSkill/delete_skill
time=2026-01-05T22:20:07.523-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.525-03:00 level=INFO msg="tenant created" tenant_id=c191d1db-56b4-49ac-b7bc-e265a490f9c0 name="Delete Test Tenant"
time=2026-01-05T22:20:07.525-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:07.526-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-05T22:20:07.526-03:00 level=INFO msg="RPG system created" rpg_system_id=e77dbcf1-9251-464e-86ae-5afb905e10d6 name="Delete Test System"
time=2026-01-05T22:20:07.526-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-05T22:20:07.526-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-05T22:20:07.527-03:00 level=INFO msg="skill created" skill_id=1b71c2d5-f574-4446-8e1b-86ee34eeb439 name="Skill to Delete"
time=2026-01-05T22:20:07.527-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-05T22:20:07.528-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/DeleteSkill
time=2026-01-05T22:20:07.529-03:00 level=INFO msg="skill deleted" skill_id=1b71c2d5-f574-4446-8e1b-86ee34eeb439
time=2026-01-05T22:20:07.529-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/DeleteSkill duration_ms=1
time=2026-01-05T22:20:07.529-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-05T22:20:07.529-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 1b71c2d5-f574-4446-8e1b-86ee34eeb439" skill_id=1b71c2d5-f574-4446-8e1b-86ee34eeb439
time=2026-01-05T22:20:07.529-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 1b71c2d5-f574-4446-8e1b-86ee34eeb439"
time=2026-01-05T22:20:07.529-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_DeleteSkill (0.18s)
    --- PASS: TestSkillHandler_DeleteSkill/delete_skill (0.01s)
=== RUN   TestStoryHandler_CreateStory
time=2026-01-05T22:20:07.795-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:07.795-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:07.795-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:07.795-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:07.795-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:07.795-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:07.795-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata
time=2026-01-05T22:20:07.796-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.798-03:00 level=INFO msg="tenant created" tenant_id=a0104879-3a44-4893-ab60-08ae353ed48b name="Test Tenant for Story"
time=2026-01-05T22:20:07.798-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:07.798-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:07.799-03:00 level=INFO msg="world created" world_id=36e93781-d426-4b35-be3f-3691f4977907 name="World of Test Story" tenant_id=a0104879-3a44-4893-ab60-08ae353ed48b
time=2026-01-05T22:20:07.799-03:00 level=INFO msg="created implicit world for story" world_id=36e93781-d426-4b35-be3f-3691f4977907 story_title="Test Story"
time=2026-01-05T22:20:07.800-03:00 level=INFO msg="story created" story_id=f54a9b9d-0b54-4d87-a4a6-521e4f6c7698 title="Test Story" tenant_id=a0104879-3a44-4893-ab60-08ae353ed48b
time=2026-01-05T22:20:07.800-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request
time=2026-01-05T22:20:07.800-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.801-03:00 level=INFO msg="tenant created" tenant_id=34c88bed-e61c-4356-97e3-f2fd22bd78eb name="Test Tenant for Story 2"
time=2026-01-05T22:20:07.801-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:07.801-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:07.802-03:00 level=INFO msg="world created" world_id=b16b7d8f-d4e0-45f9-8874-e37c497633b2 name="World of Test Story 2" tenant_id=34c88bed-e61c-4356-97e3-f2fd22bd78eb
time=2026-01-05T22:20:07.802-03:00 level=INFO msg="created implicit world for story" world_id=b16b7d8f-d4e0-45f9-8874-e37c497633b2 story_title="Test Story 2"
time=2026-01-05T22:20:07.802-03:00 level=INFO msg="story created" story_id=1cc3563a-ed94-4fd6-9372-b2313453e805 title="Test Story 2" tenant_id=34c88bed-e61c-4356-97e3-f2fd22bd78eb
time=2026-01-05T22:20:07.802-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=0
=== RUN   TestStoryHandler_CreateStory/without_tenant_id
time=2026-01-05T22:20:07.802-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:07.802-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
=== RUN   TestStoryHandler_CreateStory/with_invalid_tenant
time=2026-01-05T22:20:07.802-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:07.802-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: ed9cf71b-884d-437f-9ecb-a0fc248be86a"
=== RUN   TestStoryHandler_CreateStory/empty_title
time=2026-01-05T22:20:07.802-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.803-03:00 level=INFO msg="tenant created" tenant_id=b3152304-a4f0-4be2-8d77-114d986c0242 name="Test Tenant for Empty Title"
time=2026-01-05T22:20:07.803-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:07.803-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:07.803-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = title is required"
time=2026-01-05T22:20:07.803-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CreateStory (0.28s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata (0.00s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestStoryHandler_CreateStory/without_tenant_id (0.00s)
    --- PASS: TestStoryHandler_CreateStory/with_invalid_tenant (0.00s)
    --- PASS: TestStoryHandler_CreateStory/empty_title (0.00s)
=== RUN   TestStoryHandler_GetStory
time=2026-01-05T22:20:07.943-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:07.943-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:07.943-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:07.943-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:07.943-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:07.943-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:07.943-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_GetStory/existing_story
time=2026-01-05T22:20:07.944-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.946-03:00 level=INFO msg="tenant created" tenant_id=cd0c04ec-a2a0-4c36-a3ba-a6a5dee52b42 name="Test Tenant for Get"
time=2026-01-05T22:20:07.946-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:07.946-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:07.948-03:00 level=INFO msg="world created" world_id=8552df4b-1fd5-44ad-8163-c06c90c7a46f name="World of Get Test Story" tenant_id=cd0c04ec-a2a0-4c36-a3ba-a6a5dee52b42
time=2026-01-05T22:20:07.948-03:00 level=INFO msg="created implicit world for story" world_id=8552df4b-1fd5-44ad-8163-c06c90c7a46f story_title="Get Test Story"
time=2026-01-05T22:20:07.949-03:00 level=INFO msg="story created" story_id=8ad0e312-1498-4659-b5fa-8104a198594b title="Get Test Story" tenant_id=cd0c04ec-a2a0-4c36-a3ba-a6a5dee52b42
time=2026-01-05T22:20:07.949-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
    story_handler_test.go:160: Created story ID: '8ad0e312-1498-4659-b5fa-8104a198594b' (length: 36)
time=2026-01-05T22:20:07.950-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-05T22:20:07.950-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/GetStory duration_ms=0
=== RUN   TestStoryHandler_GetStory/non-existing_story
time=2026-01-05T22:20:07.950-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.951-03:00 level=INFO msg="tenant created" tenant_id=f8bee0b5-daa5-477b-9661-edc688813818 name="Test Tenant for Non-existing"
time=2026-01-05T22:20:07.951-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:07.951-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-05T22:20:07.951-03:00 level=ERROR msg="failed to get story" error="story not found: d0024a0f-cb8b-4841-b7be-6c03ad3df64d" story_id=d0024a0f-cb8b-4841-b7be-6c03ad3df64d tenant_id=f8bee0b5-daa5-477b-9661-edc688813818
time=2026-01-05T22:20:07.951-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: d0024a0f-cb8b-4841-b7be-6c03ad3df64d"
=== RUN   TestStoryHandler_GetStory/invalid_story_ID
time=2026-01-05T22:20:07.951-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:07.952-03:00 level=INFO msg="tenant created" tenant_id=bf44e05e-1e19-4db8-9590-c89d93542225 name="Test Tenant for Invalid ID"
time=2026-01-05T22:20:07.952-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:07.952-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-05T22:20:07.952-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-05T22:20:07.952-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_GetStory (0.14s)
    --- PASS: TestStoryHandler_GetStory/existing_story (0.01s)
    --- PASS: TestStoryHandler_GetStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_GetStory/invalid_story_ID (0.00s)
=== RUN   TestStoryHandler_ListStories
time=2026-01-05T22:20:08.093-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:08.093-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:08.093-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:08.093-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:08.093-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:08.093-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:08.093-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStories/with_pagination
time=2026-01-05T22:20:08.093-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.096-03:00 level=INFO msg="tenant created" tenant_id=388ecb6e-6a4e-4c23-bb47-88a72cbea7d7 name="Test Tenant for List"
time=2026-01-05T22:20:08.096-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:08.097-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:08.098-03:00 level=INFO msg="world created" world_id=173f63a7-dda1-436f-ab45-d67ce94a8af1 name="World of List Test Story 1" tenant_id=388ecb6e-6a4e-4c23-bb47-88a72cbea7d7
time=2026-01-05T22:20:08.098-03:00 level=INFO msg="created implicit world for story" world_id=173f63a7-dda1-436f-ab45-d67ce94a8af1 story_title="List Test Story 1"
time=2026-01-05T22:20:08.100-03:00 level=INFO msg="story created" story_id=213b9a3f-ae73-4202-953b-e872a4b70aff title="List Test Story 1" tenant_id=388ecb6e-6a4e-4c23-bb47-88a72cbea7d7
time=2026-01-05T22:20:08.100-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-05T22:20:08.100-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:08.101-03:00 level=INFO msg="world created" world_id=25000c80-a90a-49ad-8f20-6166966e2f64 name="World of List Test Story 2" tenant_id=388ecb6e-6a4e-4c23-bb47-88a72cbea7d7
time=2026-01-05T22:20:08.101-03:00 level=INFO msg="created implicit world for story" world_id=25000c80-a90a-49ad-8f20-6166966e2f64 story_title="List Test Story 2"
time=2026-01-05T22:20:08.101-03:00 level=INFO msg="story created" story_id=fd63f238-53cb-4a2e-b1df-5422dab25f31 title="List Test Story 2" tenant_id=388ecb6e-6a4e-4c23-bb47-88a72cbea7d7
time=2026-01-05T22:20:08.101-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-05T22:20:08.101-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:08.102-03:00 level=INFO msg="world created" world_id=f89c4d20-fc20-4723-82e0-a8b147684e45 name="World of List Test Story 3" tenant_id=388ecb6e-6a4e-4c23-bb47-88a72cbea7d7
time=2026-01-05T22:20:08.102-03:00 level=INFO msg="created implicit world for story" world_id=f89c4d20-fc20-4723-82e0-a8b147684e45 story_title="List Test Story 3"
time=2026-01-05T22:20:08.103-03:00 level=INFO msg="story created" story_id=f89c8fb3-ff53-4de9-9d28-cd60619e0a67 title="List Test Story 3" tenant_id=388ecb6e-6a4e-4c23-bb47-88a72cbea7d7
time=2026-01-05T22:20:08.103-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-05T22:20:08.103-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-05T22:20:08.103-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStories duration_ms=0
=== RUN   TestStoryHandler_ListStories/without_tenant_id
time=2026-01-05T22:20:08.104-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-05T22:20:08.104-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/ListStories duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
time=2026-01-05T22:20:08.104-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStories (0.15s)
    --- PASS: TestStoryHandler_ListStories/with_pagination (0.01s)
    --- PASS: TestStoryHandler_ListStories/without_tenant_id (0.00s)
=== RUN   TestStoryHandler_CloneStory
time=2026-01-05T22:20:08.251-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:08.251-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:08.251-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:08.251-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:08.251-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:08.251-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:08.251-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CloneStory/successful_clone
time=2026-01-05T22:20:08.252-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.255-03:00 level=INFO msg="tenant created" tenant_id=5cfd8e23-f968-4502-9322-6e03b2af9b2a name="Test Tenant for Clone"
time=2026-01-05T22:20:08.255-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:08.255-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:08.256-03:00 level=INFO msg="world created" world_id=5e17c04e-8fe5-4ba1-b34f-c5dd664ad322 name="World of Clone Test Story" tenant_id=5cfd8e23-f968-4502-9322-6e03b2af9b2a
time=2026-01-05T22:20:08.256-03:00 level=INFO msg="created implicit world for story" world_id=5e17c04e-8fe5-4ba1-b34f-c5dd664ad322 story_title="Clone Test Story"
time=2026-01-05T22:20:08.258-03:00 level=INFO msg="story created" story_id=1c085349-0407-4c75-b4a6-ad4ffea401e9 title="Clone Test Story" tenant_id=5cfd8e23-f968-4502-9322-6e03b2af9b2a
time=2026-01-05T22:20:08.258-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:08.258-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-05T22:20:08.261-03:00 level=INFO msg="story cloned" source_story_id=1c085349-0407-4c75-b4a6-ad4ffea401e9 new_story_id=93cb1e1d-145e-4acc-b1df-1a807df4ff96 version_number=2
time=2026-01-05T22:20:08.261-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
=== RUN   TestStoryHandler_CloneStory/non-existing_source_story
time=2026-01-05T22:20:08.261-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.262-03:00 level=INFO msg="tenant created" tenant_id=8bc46707-8a5e-4736-9a6e-65b7c3897dd5 name="Test Tenant for Non-existing Clone"
time=2026-01-05T22:20:08.262-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:08.262-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-05T22:20:08.262-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CloneStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: fbe866e1-daa5-4c82-a656-c2407d012f3f"
time=2026-01-05T22:20:08.263-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CloneStory (0.17s)
    --- PASS: TestStoryHandler_CloneStory/successful_clone (0.01s)
    --- PASS: TestStoryHandler_CloneStory/non-existing_source_story (0.00s)
=== RUN   TestStoryHandler_ListStoryVersions
time=2026-01-05T22:20:08.430-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:08.430-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:08.430-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:08.430-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:08.430-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:08.430-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:08.430-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStoryVersions/list_versions
time=2026-01-05T22:20:08.431-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.433-03:00 level=INFO msg="tenant created" tenant_id=cbc5f8ca-f012-4141-beda-e62c84a9d0e6 name="Test Tenant for Versions"
time=2026-01-05T22:20:08.433-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:08.433-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:08.435-03:00 level=INFO msg="world created" world_id=3d68f917-41f1-40eb-bc48-d24dba826972 name="World of Version Test Story" tenant_id=cbc5f8ca-f012-4141-beda-e62c84a9d0e6
time=2026-01-05T22:20:08.435-03:00 level=INFO msg="created implicit world for story" world_id=3d68f917-41f1-40eb-bc48-d24dba826972 story_title="Version Test Story"
time=2026-01-05T22:20:08.436-03:00 level=INFO msg="story created" story_id=23efb492-0b99-42ec-a44a-78e0a04163eb title="Version Test Story" tenant_id=cbc5f8ca-f012-4141-beda-e62c84a9d0e6
time=2026-01-05T22:20:08.436-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-05T22:20:08.436-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-05T22:20:08.439-03:00 level=INFO msg="story cloned" source_story_id=23efb492-0b99-42ec-a44a-78e0a04163eb new_story_id=e0deff26-08b5-449c-b26c-7e4ced68957b version_number=2
time=2026-01-05T22:20:08.440-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=3
time=2026-01-05T22:20:08.440-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-05T22:20:08.442-03:00 level=INFO msg="story cloned" source_story_id=e0deff26-08b5-449c-b26c-7e4ced68957b new_story_id=5a8548c1-5c63-473f-8060-23da8ad9fded version_number=3
time=2026-01-05T22:20:08.442-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
time=2026-01-05T22:20:08.442-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-05T22:20:08.442-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
=== RUN   TestStoryHandler_ListStoryVersions/non-existing_root_story
time=2026-01-05T22:20:08.443-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.443-03:00 level=INFO msg="tenant created" tenant_id=22f2a706-c31d-4b55-89a1-ce016a83c12e name="Test Tenant for Non-existing Root"
time=2026-01-05T22:20:08.443-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:08.444-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-05T22:20:08.444-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
time=2026-01-05T22:20:08.444-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStoryVersions (0.17s)
    --- PASS: TestStoryHandler_ListStoryVersions/list_versions (0.01s)
    --- PASS: TestStoryHandler_ListStoryVersions/non-existing_root_story (0.00s)
=== RUN   TestStoryHandler_UpdateStory
time=2026-01-05T22:20:08.603-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:08.603-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:08.603-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:08.603-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:08.603-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:08.603-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:08.603-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_UpdateStory/successful_update_title
time=2026-01-05T22:20:08.604-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.607-03:00 level=INFO msg="tenant created" tenant_id=3ab7f286-1284-4247-b1fc-95e6f953ca89 name="Test Tenant for Update Story"
time=2026-01-05T22:20:08.607-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:08.607-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:08.609-03:00 level=INFO msg="world created" world_id=da39359f-46ee-4ba2-a3b6-e9eefce84afe name="World of Original Title" tenant_id=3ab7f286-1284-4247-b1fc-95e6f953ca89
time=2026-01-05T22:20:08.609-03:00 level=INFO msg="created implicit world for story" world_id=da39359f-46ee-4ba2-a3b6-e9eefce84afe story_title="Original Title"
time=2026-01-05T22:20:08.610-03:00 level=INFO msg="story created" story_id=b638788e-39b6-400a-b6d5-cb1e6c5aa7a5 title="Original Title" tenant_id=3ab7f286-1284-4247-b1fc-95e6f953ca89
time=2026-01-05T22:20:08.610-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-05T22:20:08.610-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-05T22:20:08.611-03:00 level=INFO msg="story updated" story_id=b638788e-39b6-400a-b6d5-cb1e6c5aa7a5 tenant_id=3ab7f286-1284-4247-b1fc-95e6f953ca89
time=2026-01-05T22:20:08.611-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/successful_update_status
time=2026-01-05T22:20:08.612-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.612-03:00 level=INFO msg="tenant created" tenant_id=62568db0-445f-4185-b6e8-4a0734068614 name="Test Tenant for Update Story Status"
time=2026-01-05T22:20:08.612-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:08.613-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-05T22:20:08.614-03:00 level=INFO msg="world created" world_id=0b9257aa-2977-4eb4-aeb5-91a461212631 name="World of Test Story" tenant_id=62568db0-445f-4185-b6e8-4a0734068614
time=2026-01-05T22:20:08.614-03:00 level=INFO msg="created implicit world for story" world_id=0b9257aa-2977-4eb4-aeb5-91a461212631 story_title="Test Story"
time=2026-01-05T22:20:08.614-03:00 level=INFO msg="story created" story_id=fd7bd2f9-00a9-450f-9dfd-450ea88c59b7 title="Test Story" tenant_id=62568db0-445f-4185-b6e8-4a0734068614
time=2026-01-05T22:20:08.614-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-05T22:20:08.615-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-05T22:20:08.615-03:00 level=INFO msg="story updated" story_id=fd7bd2f9-00a9-450f-9dfd-450ea88c59b7 tenant_id=62568db0-445f-4185-b6e8-4a0734068614
time=2026-01-05T22:20:08.615-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/non-existing_story
time=2026-01-05T22:20:08.615-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.616-03:00 level=INFO msg="tenant created" tenant_id=424e7559-a96d-46f4-9f1b-cf211d4442d9 name="Test Tenant for Non-existing Update"
time=2026-01-05T22:20:08.616-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:08.616-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-05T22:20:08.616-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: e28f8c28-1927-44cc-b69f-022b92e9620b"
=== RUN   TestStoryHandler_UpdateStory/invalid_story_ID
time=2026-01-05T22:20:08.617-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.617-03:00 level=INFO msg="tenant created" tenant_id=6e84d91b-31aa-464d-8ad5-a869c85208d3 name="Test Tenant for Invalid Update ID"
time=2026-01-05T22:20:08.617-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:08.617-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-05T22:20:08.617-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-05T22:20:08.617-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_UpdateStory (0.18s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_title (0.01s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_status (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/invalid_story_ID (0.00s)
=== RUN   TestTenantHandler_CreateTenant
time=2026-01-05T22:20:08.790-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:08.790-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:08.790-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:08.790-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:08.790-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:08.790-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:08.790-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_CreateTenant/successful_creation
time=2026-01-05T22:20:08.790-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.793-03:00 level=INFO msg="tenant created" tenant_id=69b42365-58c1-4e84-a650-3c4b625809af name="Test Tenant"
time=2026-01-05T22:20:08.793-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
=== RUN   TestTenantHandler_CreateTenant/duplicate_name
time=2026-01-05T22:20:08.793-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.794-03:00 level=INFO msg="tenant created" tenant_id=31d21a1f-9270-4b82-a84f-5bb16578d569 name="Duplicate Tenant"
time=2026-01-05T22:20:08.794-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:08.794-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.794-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = AlreadyExists desc = tenant already exists with name: Duplicate Tenant"
=== RUN   TestTenantHandler_CreateTenant/empty_name
time=2026-01-05T22:20:08.794-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.794-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-05T22:20:08.795-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_CreateTenant (0.17s)
    --- PASS: TestTenantHandler_CreateTenant/successful_creation (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/empty_name (0.00s)
=== RUN   TestTenantHandler_GetTenant
time=2026-01-05T22:20:08.975-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:08.975-03:00 level=INFO msg="StoryService registered"
time=2026-01-05T22:20:08.975-03:00 level=INFO msg="ChapterService registered"
time=2026-01-05T22:20:08.975-03:00 level=INFO msg="SceneService registered"
time=2026-01-05T22:20:08.975-03:00 level=INFO msg="BeatService registered"
time=2026-01-05T22:20:08.975-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-05T22:20:08.975-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_GetTenant/existing_tenant
time=2026-01-05T22:20:08.975-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:08.978-03:00 level=INFO msg="tenant created" tenant_id=5d9af51b-6514-4a39-ad12-8b2f5fcc0e94 name="Get Test Tenant"
time=2026-01-05T22:20:08.978-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:08.978-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-05T22:20:08.979-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/GetTenant duration_ms=0
=== RUN   TestTenantHandler_GetTenant/non-existing_tenant
time=2026-01-05T22:20:08.979-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-05T22:20:08.979-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: 00c2fe92-1a93-4c4a-97e9-6d99fa9ef6c8"
=== RUN   TestTenantHandler_GetTenant/invalid_tenant_ID
time=2026-01-05T22:20:08.979-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-05T22:20:08.979-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant id: invalid UUID length: 10"
time=2026-01-05T22:20:08.980-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_GetTenant (0.21s)
    --- PASS: TestTenantHandler_GetTenant/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/non-existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/invalid_tenant_ID (0.00s)
=== RUN   TestTraitHandler_CreateTrait
time=2026-01-05T22:20:09.210-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:09.210-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_CreateTrait/successful_creation
time=2026-01-05T22:20:09.211-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:09.213-03:00 level=INFO msg="tenant created" tenant_id=e07e17a5-c18c-4870-aa98-cc2b455b2bd0 name="Test Tenant for Trait"
time=2026-01-05T22:20:09.213-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:09.214-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:20:09.215-03:00 level=INFO msg="trait created" trait_id=2182dee2-52f2-4319-85b6-e08374b151ec name=Brave
time=2026-01-05T22:20:09.215-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
=== RUN   TestTraitHandler_CreateTrait/empty_name
time=2026-01-05T22:20:09.215-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:09.216-03:00 level=INFO msg="tenant created" tenant_id=37c53637-2ec0-4e80-afb3-7f9a4e399b9d name="Test Tenant 2"
time=2026-01-05T22:20:09.216-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:09.216-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:20:09.216-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/CreateTrait duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-05T22:20:09.216-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_CreateTrait (0.22s)
    --- PASS: TestTraitHandler_CreateTrait/successful_creation (0.01s)
    --- PASS: TestTraitHandler_CreateTrait/empty_name (0.00s)
=== RUN   TestTraitHandler_GetTrait
time=2026-01-05T22:20:09.378-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:09.378-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_GetTrait/existing_trait
time=2026-01-05T22:20:09.379-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:09.381-03:00 level=INFO msg="tenant created" tenant_id=957d8d70-de90-4310-af68-72e5bab95cca name="Get Test Tenant"
time=2026-01-05T22:20:09.381-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:09.381-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:20:09.383-03:00 level=INFO msg="trait created" trait_id=6904743b-a1a3-4bae-b19f-decab6a4eda6 name="Get Test Trait"
time=2026-01-05T22:20:09.383-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-05T22:20:09.383-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-05T22:20:09.384-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/GetTrait duration_ms=0
=== RUN   TestTraitHandler_GetTrait/non-existing_trait
time=2026-01-05T22:20:09.384-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:09.385-03:00 level=INFO msg="tenant created" tenant_id=c96bcf94-c8d9-4718-8f19-3ea7d106dbaa name="Non-existing Test Tenant"
time=2026-01-05T22:20:09.385-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:09.385-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-05T22:20:09.385-03:00 level=ERROR msg="failed to get trait" error="trait not found: 3ee7f764-df55-470c-9302-184416e3b240" trait_id=3ee7f764-df55-470c-9302-184416e3b240
time=2026-01-05T22:20:09.385-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 3ee7f764-df55-470c-9302-184416e3b240"
time=2026-01-05T22:20:09.385-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_GetTrait (0.16s)
    --- PASS: TestTraitHandler_GetTrait/existing_trait (0.01s)
    --- PASS: TestTraitHandler_GetTrait/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_ListTraits
time=2026-01-05T22:20:09.533-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:09.533-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_ListTraits/list_traits
time=2026-01-05T22:20:09.534-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:09.537-03:00 level=INFO msg="tenant created" tenant_id=e8330a44-37ef-4d54-ab38-8952f93333a7 name="List Test Tenant"
time=2026-01-05T22:20:09.537-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:09.537-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:20:09.539-03:00 level=INFO msg="trait created" trait_id=93cee1e1-77e7-49cf-a126-170ec0be0583 name="Trait 1"
time=2026-01-05T22:20:09.539-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-05T22:20:09.539-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:20:09.540-03:00 level=INFO msg="trait created" trait_id=19e80afb-f826-4907-a708-241b94c37417 name="Trait 2"
time=2026-01-05T22:20:09.540-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-05T22:20:09.540-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/ListTraits
time=2026-01-05T22:20:09.541-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/ListTraits duration_ms=0
time=2026-01-05T22:20:09.541-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_ListTraits (0.16s)
    --- PASS: TestTraitHandler_ListTraits/list_traits (0.01s)
=== RUN   TestTraitHandler_UpdateTrait
time=2026-01-05T22:20:09.701-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:09.701-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_UpdateTrait/update_trait
time=2026-01-05T22:20:09.702-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:09.707-03:00 level=INFO msg="tenant created" tenant_id=48a00ba6-7ccb-4efa-a92e-0eeecee3ae5b name="Update Test Tenant"
time=2026-01-05T22:20:09.707-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-05T22:20:09.707-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:20:09.708-03:00 level=INFO msg="trait created" trait_id=8a402e9a-df3c-4ace-a35e-25cbedf70d0d name="Original Trait"
time=2026-01-05T22:20:09.708-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-05T22:20:09.708-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/UpdateTrait
time=2026-01-05T22:20:09.709-03:00 level=INFO msg="trait updated" trait_id=8a402e9a-df3c-4ace-a35e-25cbedf70d0d name="Updated Trait"
time=2026-01-05T22:20:09.709-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/UpdateTrait duration_ms=0
time=2026-01-05T22:20:09.709-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_UpdateTrait (0.17s)
    --- PASS: TestTraitHandler_UpdateTrait/update_trait (0.01s)
=== RUN   TestTraitHandler_DeleteTrait
time=2026-01-05T22:20:09.852-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:09.852-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_DeleteTrait/delete_trait
time=2026-01-05T22:20:09.852-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:09.855-03:00 level=INFO msg="tenant created" tenant_id=f3552de6-af8e-45af-ba73-cd7ccd5493a3 name="Delete Test Tenant"
time=2026-01-05T22:20:09.855-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:09.855-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-05T22:20:09.857-03:00 level=INFO msg="trait created" trait_id=948f906a-1d37-4f99-937e-0f6eaafd5035 name="Trait to Delete"
time=2026-01-05T22:20:09.857-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-05T22:20:09.857-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/DeleteTrait
time=2026-01-05T22:20:09.859-03:00 level=INFO msg="trait deleted" trait_id=948f906a-1d37-4f99-937e-0f6eaafd5035 name="Trait to Delete"
time=2026-01-05T22:20:09.859-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/DeleteTrait duration_ms=1
time=2026-01-05T22:20:09.859-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-05T22:20:09.860-03:00 level=ERROR msg="failed to get trait" error="trait not found: 948f906a-1d37-4f99-937e-0f6eaafd5035" trait_id=948f906a-1d37-4f99-937e-0f6eaafd5035
time=2026-01-05T22:20:09.860-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 948f906a-1d37-4f99-937e-0f6eaafd5035"
time=2026-01-05T22:20:09.860-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_DeleteTrait (0.15s)
    --- PASS: TestTraitHandler_DeleteTrait/delete_trait (0.01s)
=== RUN   TestWorldHandler_CreateWorld
time=2026-01-05T22:20:10.002-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:10.002-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata
time=2026-01-05T22:20:10.002-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.005-03:00 level=INFO msg="tenant created" tenant_id=9eb078ae-f291-4ea0-9404-6e98f6a6c80c name="Test Tenant for World"
time=2026-01-05T22:20:10.005-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:10.005-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:10.006-03:00 level=INFO msg="world created" world_id=20f1588d-cf4a-4dbc-b183-619ab4e98ebb name="Test World" tenant_id=9eb078ae-f291-4ea0-9404-6e98f6a6c80c
time=2026-01-05T22:20:10.006-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request
time=2026-01-05T22:20:10.006-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.007-03:00 level=INFO msg="tenant created" tenant_id=ab0bf96b-389f-4250-b9bd-a2d147b937ad name="Test Tenant 2"
time=2026-01-05T22:20:10.007-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:10.007-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:10.008-03:00 level=INFO msg="world created" world_id=5f76bada-3d70-4370-8f6f-ba2813af5696 name="Test World 2" tenant_id=ab0bf96b-389f-4250-b9bd-a2d147b937ad
time=2026-01-05T22:20:10.008-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
=== RUN   TestWorldHandler_CreateWorld/empty_name
time=2026-01-05T22:20:10.008-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.009-03:00 level=INFO msg="tenant created" tenant_id=4f12aca0-2422-4c80-a1c8-553518e48fde name="Test Tenant 3"
time=2026-01-05T22:20:10.009-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:10.009-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:10.009-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestWorldHandler_CreateWorld/invalid_tenant_id
time=2026-01-05T22:20:10.009-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:10.009-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant_id: invalid UUID length: 10"
time=2026-01-05T22:20:10.009-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_CreateWorld (0.15s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/empty_name (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/invalid_tenant_id (0.00s)
=== RUN   TestWorldHandler_GetWorld
time=2026-01-05T22:20:10.146-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:10.146-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_GetWorld/existing_world
time=2026-01-05T22:20:10.147-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.149-03:00 level=INFO msg="tenant created" tenant_id=66accf16-3a0d-4d11-8057-520a45848664 name="Get Test Tenant"
time=2026-01-05T22:20:10.149-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:10.149-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:10.151-03:00 level=INFO msg="world created" world_id=b9cf4d7f-c477-430e-83b7-71132cf0d998 name="Get Test World" tenant_id=66accf16-3a0d-4d11-8057-520a45848664
time=2026-01-05T22:20:10.151-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-05T22:20:10.151-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-05T22:20:10.151-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/GetWorld duration_ms=0
=== RUN   TestWorldHandler_GetWorld/non-existing_world
time=2026-01-05T22:20:10.152-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.152-03:00 level=INFO msg="tenant created" tenant_id=d38d7be3-68d9-416a-bb40-92148bd8dd75 name="Non-existing Test Tenant"
time=2026-01-05T22:20:10.152-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:10.153-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-05T22:20:10.153-03:00 level=ERROR msg="failed to get world" error="world not found: d9bedb72-7f69-486f-a3a5-7748ce13d041" world_id=d9bedb72-7f69-486f-a3a5-7748ce13d041
time=2026-01-05T22:20:10.153-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: d9bedb72-7f69-486f-a3a5-7748ce13d041"
=== RUN   TestWorldHandler_GetWorld/invalid_world_ID
time=2026-01-05T22:20:10.153-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.154-03:00 level=INFO msg="tenant created" tenant_id=10f1410b-c8e9-4f40-ad60-cab3d8f35edc name="Invalid ID Test Tenant"
time=2026-01-05T22:20:10.154-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:10.154-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-05T22:20:10.154-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid world id: invalid UUID length: 10"
time=2026-01-05T22:20:10.154-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_GetWorld (0.15s)
    --- PASS: TestWorldHandler_GetWorld/existing_world (0.01s)
    --- PASS: TestWorldHandler_GetWorld/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_GetWorld/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_ListWorlds
time=2026-01-05T22:20:10.292-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:10.292-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_ListWorlds/list_worlds_for_tenant
time=2026-01-05T22:20:10.292-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.294-03:00 level=INFO msg="tenant created" tenant_id=8c2c1318-1f92-45c6-bbcc-c1fb8ce8880c name="List Test Tenant"
time=2026-01-05T22:20:10.294-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:10.295-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:10.297-03:00 level=INFO msg="world created" world_id=69a95f8e-a20d-4395-a47c-74e00adfdeac name="World 1" tenant_id=8c2c1318-1f92-45c6-bbcc-c1fb8ce8880c
time=2026-01-05T22:20:10.297-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=2
time=2026-01-05T22:20:10.298-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:10.298-03:00 level=INFO msg="world created" world_id=acf5789a-d805-43e8-aead-bdce34d07349 name="World 2" tenant_id=8c2c1318-1f92-45c6-bbcc-c1fb8ce8880c
time=2026-01-05T22:20:10.298-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:10.298-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/ListWorlds
time=2026-01-05T22:20:10.302-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/ListWorlds duration_ms=3
time=2026-01-05T22:20:10.302-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_ListWorlds (0.15s)
    --- PASS: TestWorldHandler_ListWorlds/list_worlds_for_tenant (0.01s)
=== RUN   TestWorldHandler_UpdateWorld
time=2026-01-05T22:20:10.443-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:10.443-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_UpdateWorld/update_world_name
time=2026-01-05T22:20:10.443-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.445-03:00 level=INFO msg="tenant created" tenant_id=3f5429a7-359f-49f6-befa-9f575a035385 name="Update Test Tenant"
time=2026-01-05T22:20:10.445-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:10.446-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:10.446-03:00 level=INFO msg="world created" world_id=3d2dc7fc-e52a-4154-be7a-ac34b80831b0 name="Original World" tenant_id=3f5429a7-359f-49f6-befa-9f575a035385
time=2026-01-05T22:20:10.446-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:10.447-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-05T22:20:10.448-03:00 level=INFO msg="world updated" world_id=3d2dc7fc-e52a-4154-be7a-ac34b80831b0 name="Updated World"
time=2026-01-05T22:20:10.448-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/UpdateWorld duration_ms=1
=== RUN   TestWorldHandler_UpdateWorld/non-existing_world
time=2026-01-05T22:20:10.448-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.449-03:00 level=INFO msg="tenant created" tenant_id=8a1a104c-f6c3-401d-bd6f-32994a1779b6 name="Update Test Tenant 2"
time=2026-01-05T22:20:10.449-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:10.449-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-05T22:20:10.449-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/UpdateWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: a5bc08f4-b98b-4970-869f-3bc575596318"
time=2026-01-05T22:20:10.449-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_UpdateWorld (0.14s)
    --- PASS: TestWorldHandler_UpdateWorld/update_world_name (0.00s)
    --- PASS: TestWorldHandler_UpdateWorld/non-existing_world (0.00s)
=== RUN   TestWorldHandler_DeleteWorld
time=2026-01-05T22:20:10.591-03:00 level=INFO msg="TenantService registered"
time=2026-01-05T22:20:10.591-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_DeleteWorld/delete_existing_world
time=2026-01-05T22:20:10.593-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.595-03:00 level=INFO msg="tenant created" tenant_id=ac655107-d205-45d4-b05a-a99475212841 name="Delete Test Tenant"
time=2026-01-05T22:20:10.595-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-05T22:20:10.595-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-05T22:20:10.596-03:00 level=INFO msg="world created" world_id=abc97480-8864-42cb-9dae-7097aa55715a name="World to Delete" tenant_id=ac655107-d205-45d4-b05a-a99475212841
time=2026-01-05T22:20:10.596-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-05T22:20:10.596-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-05T22:20:10.599-03:00 level=INFO msg="world deleted" world_id=abc97480-8864-42cb-9dae-7097aa55715a name="World to Delete"
time=2026-01-05T22:20:10.599-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/DeleteWorld duration_ms=2
time=2026-01-05T22:20:10.599-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-05T22:20:10.599-03:00 level=ERROR msg="failed to get world" error="world not found: abc97480-8864-42cb-9dae-7097aa55715a" world_id=abc97480-8864-42cb-9dae-7097aa55715a
time=2026-01-05T22:20:10.599-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: abc97480-8864-42cb-9dae-7097aa55715a"
=== RUN   TestWorldHandler_DeleteWorld/delete_non-existing_world
time=2026-01-05T22:20:10.599-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-05T22:20:10.600-03:00 level=INFO msg="tenant created" tenant_id=63d7a0e6-d70d-49b5-9cc6-85c7ed3428eb name="Delete Test Tenant 2"
time=2026-01-05T22:20:10.600-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-05T22:20:10.600-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-05T22:20:10.600-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/DeleteWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 3e63c582-e9e1-407f-8e4c-5a168f9f726b"
time=2026-01-05T22:20:10.600-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_DeleteWorld (0.15s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_existing_world (0.01s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/grpc/handlers	18.331s
?   	github.com/story-engine/main-service/internal/transport/grpc/interceptors	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/mappers	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/testing	[no test files]
FAIL	github.com/story-engine/main-service/internal/transport/http/handlers [build failed]
?   	github.com/story-engine/main-service/internal/transport/http/middleware	[no test files]
?   	github.com/story-engine/main-service/proto/archetype	[no test files]
?   	github.com/story-engine/main-service/proto/artifact	[no test files]
?   	github.com/story-engine/main-service/proto/artifact_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/beat	[no test files]
?   	github.com/story-engine/main-service/proto/chapter	[no test files]
?   	github.com/story-engine/main-service/proto/character	[no test files]
?   	github.com/story-engine/main-service/proto/character_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/character_skill	[no test files]
?   	github.com/story-engine/main-service/proto/common	[no test files]
?   	github.com/story-engine/main-service/proto/content_block	[no test files]
?   	github.com/story-engine/main-service/proto/event	[no test files]
?   	github.com/story-engine/main-service/proto/faction	[no test files]
?   	github.com/story-engine/main-service/proto/inventory	[no test files]
?   	github.com/story-engine/main-service/proto/location	[no test files]
?   	github.com/story-engine/main-service/proto/lore	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_class	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_system	[no test files]
?   	github.com/story-engine/main-service/proto/scene	[no test files]
?   	github.com/story-engine/main-service/proto/skill	[no test files]
?   	github.com/story-engine/main-service/proto/story	[no test files]
?   	github.com/story-engine/main-service/proto/tenant	[no test files]
?   	github.com/story-engine/main-service/proto/trait	[no test files]
?   	github.com/story-engine/main-service/proto/world	[no test files]
FAIL
