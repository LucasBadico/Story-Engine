Checking if PostgreSQL is running locally...
PostgreSQL is ready!
Creating database if it doesn't exist...
Database 'storyengine' already exists
Running integration tests with database cloning...
go test -v -tags=integration ./... 2>&1 | tee /tmp/gotest-integration.log
?   	github.com/story-engine/main-service/cmd/api-grpc	[no test files]
?   	github.com/story-engine/main-service/cmd/api-http	[no test files]
?   	github.com/story-engine/main-service/cmd/api-offline	[no test files]
=== RUN   TestMembershipRepository_Create
=== RUN   TestMembershipRepository_Create/successful_creation
=== RUN   TestMembershipRepository_Create/duplicate_tenant-user_constraint
--- PASS: TestMembershipRepository_Create (0.86s)
    --- PASS: TestMembershipRepository_Create/successful_creation (0.00s)
    --- PASS: TestMembershipRepository_Create/duplicate_tenant-user_constraint (0.01s)
=== RUN   TestMembershipRepository_GetByID
=== RUN   TestMembershipRepository_GetByID/existing_membership
=== RUN   TestMembershipRepository_GetByID/non-existing_membership
--- PASS: TestMembershipRepository_GetByID (0.47s)
    --- PASS: TestMembershipRepository_GetByID/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByID/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_GetByTenantAndUser
=== RUN   TestMembershipRepository_GetByTenantAndUser/existing_membership
=== RUN   TestMembershipRepository_GetByTenantAndUser/non-existing_membership
--- PASS: TestMembershipRepository_GetByTenantAndUser (0.51s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/existing_membership (0.00s)
    --- PASS: TestMembershipRepository_GetByTenantAndUser/non-existing_membership (0.00s)
=== RUN   TestMembershipRepository_ListByTenant
--- PASS: TestMembershipRepository_ListByTenant (0.32s)
=== RUN   TestMembershipRepository_ListByUser
--- PASS: TestMembershipRepository_ListByUser (0.30s)
=== RUN   TestMembershipRepository_Update
--- PASS: TestMembershipRepository_Update (0.28s)
=== RUN   TestMembershipRepository_Delete
--- PASS: TestMembershipRepository_Delete (0.29s)
=== RUN   TestMembershipRepository_CountOwnersByTenant
--- PASS: TestMembershipRepository_CountOwnersByTenant (0.26s)
=== RUN   TestUserRepository_Create
=== RUN   TestUserRepository_Create/successful_creation
=== RUN   TestUserRepository_Create/duplicate_email_constraint
--- PASS: TestUserRepository_Create (0.23s)
    --- PASS: TestUserRepository_Create/successful_creation (0.00s)
    --- PASS: TestUserRepository_Create/duplicate_email_constraint (0.00s)
=== RUN   TestUserRepository_GetByID
=== RUN   TestUserRepository_GetByID/existing_user
=== RUN   TestUserRepository_GetByID/non-existing_user
--- PASS: TestUserRepository_GetByID (0.23s)
    --- PASS: TestUserRepository_GetByID/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByID/non-existing_user (0.00s)
=== RUN   TestUserRepository_GetByEmail
=== RUN   TestUserRepository_GetByEmail/existing_user
=== RUN   TestUserRepository_GetByEmail/non-existing_email
--- PASS: TestUserRepository_GetByEmail (0.22s)
    --- PASS: TestUserRepository_GetByEmail/existing_user (0.00s)
    --- PASS: TestUserRepository_GetByEmail/non-existing_email (0.00s)
=== RUN   TestUserRepository_Update
--- PASS: TestUserRepository_Update (0.23s)
=== RUN   TestUserRepository_Delete
--- PASS: TestUserRepository_Delete (0.22s)
=== RUN   TestUserRepository_List
=== RUN   TestUserRepository_List/list_with_limit
=== RUN   TestUserRepository_List/list_with_offset
=== RUN   TestUserRepository_List/list_all
--- PASS: TestUserRepository_List (0.23s)
    --- PASS: TestUserRepository_List/list_with_limit (0.00s)
    --- PASS: TestUserRepository_List/list_with_offset (0.00s)
    --- PASS: TestUserRepository_List/list_all (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/postgres	(cached)
=== RUN   TestArchetypeRepository_Create
=== RUN   TestArchetypeRepository_Create/successful_creation
=== RUN   TestArchetypeRepository_Create/creation_with_description
--- PASS: TestArchetypeRepository_Create (0.01s)
    --- PASS: TestArchetypeRepository_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeRepository_Create/creation_with_description (0.00s)
=== RUN   TestArchetypeRepository_GetByID
=== RUN   TestArchetypeRepository_GetByID/existing_archetype
=== RUN   TestArchetypeRepository_GetByID/non-existent_archetype
--- PASS: TestArchetypeRepository_GetByID (0.01s)
    --- PASS: TestArchetypeRepository_GetByID/existing_archetype (0.00s)
    --- PASS: TestArchetypeRepository_GetByID/non-existent_archetype (0.00s)
=== RUN   TestArchetypeRepository_ListByTenant
=== RUN   TestArchetypeRepository_ListByTenant/empty_list
=== RUN   TestArchetypeRepository_ListByTenant/list_with_archetypes
=== RUN   TestArchetypeRepository_ListByTenant/pagination
=== RUN   TestArchetypeRepository_ListByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_ListByTenant (0.01s)
    --- PASS: TestArchetypeRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/list_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestArchetypeRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeRepository_Update
=== RUN   TestArchetypeRepository_Update/successful_update
--- PASS: TestArchetypeRepository_Update (0.01s)
    --- PASS: TestArchetypeRepository_Update/successful_update (0.00s)
=== RUN   TestArchetypeRepository_Delete
=== RUN   TestArchetypeRepository_Delete/successful_delete
--- PASS: TestArchetypeRepository_Delete (0.01s)
    --- PASS: TestArchetypeRepository_Delete/successful_delete (0.00s)
=== RUN   TestArchetypeRepository_CountByTenant
=== RUN   TestArchetypeRepository_CountByTenant/empty_count
=== RUN   TestArchetypeRepository_CountByTenant/count_with_archetypes
=== RUN   TestArchetypeRepository_CountByTenant/tenant_isolation
--- PASS: TestArchetypeRepository_CountByTenant (0.01s)
    --- PASS: TestArchetypeRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/count_with_archetypes (0.00s)
    --- PASS: TestArchetypeRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestArchetypeTraitRepository_Create
=== RUN   TestArchetypeTraitRepository_Create/successful_creation
--- PASS: TestArchetypeTraitRepository_Create (0.01s)
    --- PASS: TestArchetypeTraitRepository_Create/successful_creation (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByArchetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype
=== RUN   TestArchetypeTraitRepository_GetByArchetype/empty_list
--- PASS: TestArchetypeTraitRepository_GetByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/get_traits_for_archetype (0.00s)
    --- PASS: TestArchetypeTraitRepository_GetByArchetype/empty_list (0.00s)
=== RUN   TestArchetypeTraitRepository_GetByTrait
=== RUN   TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait
--- PASS: TestArchetypeTraitRepository_GetByTrait (0.01s)
    --- PASS: TestArchetypeTraitRepository_GetByTrait/get_archetypes_for_trait (0.00s)
=== RUN   TestArchetypeTraitRepository_Delete
=== RUN   TestArchetypeTraitRepository_Delete/delete_specific_relationship
--- PASS: TestArchetypeTraitRepository_Delete (0.01s)
    --- PASS: TestArchetypeTraitRepository_Delete/delete_specific_relationship (0.00s)
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype
=== RUN   TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype
--- PASS: TestArchetypeTraitRepository_DeleteByArchetype (0.01s)
    --- PASS: TestArchetypeTraitRepository_DeleteByArchetype/delete_all_relationships_for_archetype (0.00s)
=== RUN   TestArtifactReferenceRepository_Create
=== RUN   TestArtifactReferenceRepository_Create/successful_creation_with_character
=== RUN   TestArtifactReferenceRepository_Create/successful_creation_with_location
--- PASS: TestArtifactReferenceRepository_Create (0.01s)
    --- PASS: TestArtifactReferenceRepository_Create/successful_creation_with_character (0.00s)
    --- PASS: TestArtifactReferenceRepository_Create/successful_creation_with_location (0.00s)
=== RUN   TestArtifactReferenceRepository_GetByID
=== RUN   TestArtifactReferenceRepository_GetByID/existing_artifact_reference
=== RUN   TestArtifactReferenceRepository_GetByID/non-existent_artifact_reference
--- PASS: TestArtifactReferenceRepository_GetByID (0.01s)
    --- PASS: TestArtifactReferenceRepository_GetByID/existing_artifact_reference (0.00s)
    --- PASS: TestArtifactReferenceRepository_GetByID/non-existent_artifact_reference (0.00s)
=== RUN   TestArtifactReferenceRepository_ListByArtifact
=== RUN   TestArtifactReferenceRepository_ListByArtifact/empty_list
=== RUN   TestArtifactReferenceRepository_ListByArtifact/list_with_references
--- PASS: TestArtifactReferenceRepository_ListByArtifact (0.03s)
    --- PASS: TestArtifactReferenceRepository_ListByArtifact/empty_list (0.00s)
    --- PASS: TestArtifactReferenceRepository_ListByArtifact/list_with_references (0.02s)
=== RUN   TestArtifactReferenceRepository_ListByEntity
=== RUN   TestArtifactReferenceRepository_ListByEntity/list_by_character
=== RUN   TestArtifactReferenceRepository_ListByEntity/list_by_location
=== RUN   TestArtifactReferenceRepository_ListByEntity/empty_list
--- PASS: TestArtifactReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestArtifactReferenceRepository_ListByEntity/list_by_character (0.00s)
    --- PASS: TestArtifactReferenceRepository_ListByEntity/list_by_location (0.00s)
    --- PASS: TestArtifactReferenceRepository_ListByEntity/empty_list (0.00s)
=== RUN   TestArtifactReferenceRepository_Delete
=== RUN   TestArtifactReferenceRepository_Delete/successful_delete
--- PASS: TestArtifactReferenceRepository_Delete (0.01s)
    --- PASS: TestArtifactReferenceRepository_Delete/successful_delete (0.00s)
=== RUN   TestArtifactReferenceRepository_DeleteByArtifact
=== RUN   TestArtifactReferenceRepository_DeleteByArtifact/delete_all_references_for_artifact
--- PASS: TestArtifactReferenceRepository_DeleteByArtifact (0.01s)
    --- PASS: TestArtifactReferenceRepository_DeleteByArtifact/delete_all_references_for_artifact (0.00s)
=== RUN   TestArtifactReferenceRepository_DeleteByArtifactAndEntity
=== RUN   TestArtifactReferenceRepository_DeleteByArtifactAndEntity/delete_specific_artifact-entity_reference
--- PASS: TestArtifactReferenceRepository_DeleteByArtifactAndEntity (0.01s)
    --- PASS: TestArtifactReferenceRepository_DeleteByArtifactAndEntity/delete_specific_artifact-entity_reference (0.00s)
=== RUN   TestArtifactRepository_Create
=== RUN   TestArtifactRepository_Create/successful_creation
=== RUN   TestArtifactRepository_Create/successful_creation_with_description
=== RUN   TestArtifactRepository_Create/successful_creation_with_rarity
--- PASS: TestArtifactRepository_Create (0.01s)
    --- PASS: TestArtifactRepository_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestArtifactRepository_Create/successful_creation_with_rarity (0.00s)
=== RUN   TestArtifactRepository_GetByID
=== RUN   TestArtifactRepository_GetByID/existing_artifact
=== RUN   TestArtifactRepository_GetByID/non-existent_artifact
--- PASS: TestArtifactRepository_GetByID (0.01s)
    --- PASS: TestArtifactRepository_GetByID/existing_artifact (0.00s)
    --- PASS: TestArtifactRepository_GetByID/non-existent_artifact (0.00s)
=== RUN   TestArtifactRepository_ListByWorld
=== RUN   TestArtifactRepository_ListByWorld/empty_list
=== RUN   TestArtifactRepository_ListByWorld/list_with_artifacts
=== RUN   TestArtifactRepository_ListByWorld/pagination
--- PASS: TestArtifactRepository_ListByWorld (0.10s)
    --- PASS: TestArtifactRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestArtifactRepository_ListByWorld/list_with_artifacts (0.03s)
    --- PASS: TestArtifactRepository_ListByWorld/pagination (0.05s)
=== RUN   TestArtifactRepository_Update
=== RUN   TestArtifactRepository_Update/successful_update
--- PASS: TestArtifactRepository_Update (0.01s)
    --- PASS: TestArtifactRepository_Update/successful_update (0.00s)
=== RUN   TestArtifactRepository_Delete
=== RUN   TestArtifactRepository_Delete/successful_delete
--- PASS: TestArtifactRepository_Delete (0.01s)
    --- PASS: TestArtifactRepository_Delete/successful_delete (0.00s)
=== RUN   TestArtifactRepository_CountByWorld
=== RUN   TestArtifactRepository_CountByWorld/empty_count
=== RUN   TestArtifactRepository_CountByWorld/count_with_artifacts
--- PASS: TestArtifactRepository_CountByWorld (0.01s)
    --- PASS: TestArtifactRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestArtifactRepository_CountByWorld/count_with_artifacts (0.00s)
=== RUN   TestBeatRepository_Create
=== RUN   TestBeatRepository_Create/successful_creation
=== RUN   TestBeatRepository_Create/creation_with_intent_and_outcome
--- PASS: TestBeatRepository_Create (0.01s)
    --- PASS: TestBeatRepository_Create/successful_creation (0.00s)
    --- PASS: TestBeatRepository_Create/creation_with_intent_and_outcome (0.00s)
=== RUN   TestBeatRepository_GetByID
=== RUN   TestBeatRepository_GetByID/existing_beat
=== RUN   TestBeatRepository_GetByID/non-existent_beat
--- PASS: TestBeatRepository_GetByID (0.01s)
    --- PASS: TestBeatRepository_GetByID/existing_beat (0.00s)
    --- PASS: TestBeatRepository_GetByID/non-existent_beat (0.00s)
=== RUN   TestBeatRepository_ListByScene
=== RUN   TestBeatRepository_ListByScene/list_with_beats
=== RUN   TestBeatRepository_ListByScene/empty_list
--- PASS: TestBeatRepository_ListByScene (0.01s)
    --- PASS: TestBeatRepository_ListByScene/list_with_beats (0.00s)
    --- PASS: TestBeatRepository_ListByScene/empty_list (0.00s)
=== RUN   TestBeatRepository_ListBySceneOrdered
=== RUN   TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num
--- PASS: TestBeatRepository_ListBySceneOrdered (0.01s)
    --- PASS: TestBeatRepository_ListBySceneOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestBeatRepository_ListByStory
=== RUN   TestBeatRepository_ListByStory/list_by_story
--- PASS: TestBeatRepository_ListByStory (0.01s)
    --- PASS: TestBeatRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestBeatRepository_Update
=== RUN   TestBeatRepository_Update/successful_update
--- PASS: TestBeatRepository_Update (0.01s)
    --- PASS: TestBeatRepository_Update/successful_update (0.00s)
=== RUN   TestBeatRepository_Delete
=== RUN   TestBeatRepository_Delete/successful_delete
--- PASS: TestBeatRepository_Delete (0.01s)
    --- PASS: TestBeatRepository_Delete/successful_delete (0.00s)
=== RUN   TestBeatRepository_DeleteByScene
=== RUN   TestBeatRepository_DeleteByScene/delete_all_beats_for_scene
--- PASS: TestBeatRepository_DeleteByScene (0.01s)
    --- PASS: TestBeatRepository_DeleteByScene/delete_all_beats_for_scene (0.00s)
=== RUN   TestChapterRepository_Create
=== RUN   TestChapterRepository_Create/successful_creation
=== RUN   TestChapterRepository_Create/creation_without_title
--- PASS: TestChapterRepository_Create (0.01s)
    --- PASS: TestChapterRepository_Create/successful_creation (0.00s)
    --- PASS: TestChapterRepository_Create/creation_without_title (0.00s)
=== RUN   TestChapterRepository_GetByID
=== RUN   TestChapterRepository_GetByID/existing_chapter
=== RUN   TestChapterRepository_GetByID/non-existent_chapter
--- PASS: TestChapterRepository_GetByID (0.01s)
    --- PASS: TestChapterRepository_GetByID/existing_chapter (0.00s)
    --- PASS: TestChapterRepository_GetByID/non-existent_chapter (0.00s)
=== RUN   TestChapterRepository_ListByStory
=== RUN   TestChapterRepository_ListByStory/empty_list
=== RUN   TestChapterRepository_ListByStory/list_with_chapters
--- PASS: TestChapterRepository_ListByStory (0.01s)
    --- PASS: TestChapterRepository_ListByStory/empty_list (0.00s)
    --- PASS: TestChapterRepository_ListByStory/list_with_chapters (0.00s)
=== RUN   TestChapterRepository_ListByStoryOrdered
=== RUN   TestChapterRepository_ListByStoryOrdered/list_ordered_by_number
--- PASS: TestChapterRepository_ListByStoryOrdered (0.01s)
    --- PASS: TestChapterRepository_ListByStoryOrdered/list_ordered_by_number (0.00s)
=== RUN   TestChapterRepository_Update
=== RUN   TestChapterRepository_Update/successful_update
--- PASS: TestChapterRepository_Update (0.01s)
    --- PASS: TestChapterRepository_Update/successful_update (0.00s)
=== RUN   TestChapterRepository_Delete
=== RUN   TestChapterRepository_Delete/successful_delete
--- PASS: TestChapterRepository_Delete (0.01s)
    --- PASS: TestChapterRepository_Delete/successful_delete (0.00s)
=== RUN   TestChapterRepository_DeleteByStory
=== RUN   TestChapterRepository_DeleteByStory/delete_all_chapters_for_story
--- PASS: TestChapterRepository_DeleteByStory (0.01s)
    --- PASS: TestChapterRepository_DeleteByStory/delete_all_chapters_for_story (0.00s)
=== RUN   TestCharacterRelationshipRepository_Create
=== RUN   TestCharacterRelationshipRepository_Create/successful_creation
=== RUN   TestCharacterRelationshipRepository_Create/successful_creation_without_description
--- PASS: TestCharacterRelationshipRepository_Create (0.01s)
    --- PASS: TestCharacterRelationshipRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRelationshipRepository_Create/successful_creation_without_description (0.00s)
=== RUN   TestCharacterRelationshipRepository_GetByID
=== RUN   TestCharacterRelationshipRepository_GetByID/existing_relationship
=== RUN   TestCharacterRelationshipRepository_GetByID/non-existent_relationship
--- PASS: TestCharacterRelationshipRepository_GetByID (0.01s)
    --- PASS: TestCharacterRelationshipRepository_GetByID/existing_relationship (0.00s)
    --- PASS: TestCharacterRelationshipRepository_GetByID/non-existent_relationship (0.00s)
=== RUN   TestCharacterRelationshipRepository_ListByCharacter
=== RUN   TestCharacterRelationshipRepository_ListByCharacter/empty_list
=== RUN   TestCharacterRelationshipRepository_ListByCharacter/list_with_relationships_as_character1
=== RUN   TestCharacterRelationshipRepository_ListByCharacter/list_with_relationships_as_character2
--- PASS: TestCharacterRelationshipRepository_ListByCharacter (0.01s)
    --- PASS: TestCharacterRelationshipRepository_ListByCharacter/empty_list (0.00s)
    --- PASS: TestCharacterRelationshipRepository_ListByCharacter/list_with_relationships_as_character1 (0.00s)
    --- PASS: TestCharacterRelationshipRepository_ListByCharacter/list_with_relationships_as_character2 (0.00s)
=== RUN   TestCharacterRelationshipRepository_Update
=== RUN   TestCharacterRelationshipRepository_Update/successful_update
=== RUN   TestCharacterRelationshipRepository_Update/update_description_only
--- PASS: TestCharacterRelationshipRepository_Update (0.01s)
    --- PASS: TestCharacterRelationshipRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterRelationshipRepository_Update/update_description_only (0.00s)
=== RUN   TestCharacterRelationshipRepository_Delete
=== RUN   TestCharacterRelationshipRepository_Delete/successful_delete
=== RUN   TestCharacterRelationshipRepository_Delete/delete_non-existent_relationship
=== RUN   TestCharacterRelationshipRepository_Delete/deleting_one_relationship_doesn't_affect_others
--- PASS: TestCharacterRelationshipRepository_Delete (0.01s)
    --- PASS: TestCharacterRelationshipRepository_Delete/successful_delete (0.00s)
    --- PASS: TestCharacterRelationshipRepository_Delete/delete_non-existent_relationship (0.00s)
    --- PASS: TestCharacterRelationshipRepository_Delete/deleting_one_relationship_doesn't_affect_others (0.00s)
=== RUN   TestCharacterRepository_Create
=== RUN   TestCharacterRepository_Create/successful_creation
=== RUN   TestCharacterRepository_Create/successful_creation_with_archetype
=== RUN   TestCharacterRepository_Create/successful_creation_with_class
=== RUN   TestCharacterRepository_Create/successful_creation_with_description
--- PASS: TestCharacterRepository_Create (0.01s)
    --- PASS: TestCharacterRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_archetype (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_class (0.00s)
    --- PASS: TestCharacterRepository_Create/successful_creation_with_description (0.00s)
=== RUN   TestCharacterRepository_GetByID
=== RUN   TestCharacterRepository_GetByID/existing_character
=== RUN   TestCharacterRepository_GetByID/non-existent_character
--- PASS: TestCharacterRepository_GetByID (0.01s)
    --- PASS: TestCharacterRepository_GetByID/existing_character (0.00s)
    --- PASS: TestCharacterRepository_GetByID/non-existent_character (0.00s)
=== RUN   TestCharacterRepository_ListByWorld
=== RUN   TestCharacterRepository_ListByWorld/empty_list
=== RUN   TestCharacterRepository_ListByWorld/list_with_characters
=== RUN   TestCharacterRepository_ListByWorld/pagination
--- PASS: TestCharacterRepository_ListByWorld (0.10s)
    --- PASS: TestCharacterRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestCharacterRepository_ListByWorld/list_with_characters (0.03s)
    --- PASS: TestCharacterRepository_ListByWorld/pagination (0.05s)
=== RUN   TestCharacterRepository_Update
=== RUN   TestCharacterRepository_Update/successful_update
=== RUN   TestCharacterRepository_Update/update_archetype
=== RUN   TestCharacterRepository_Update/update_class
--- PASS: TestCharacterRepository_Update (0.01s)
    --- PASS: TestCharacterRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterRepository_Update/update_archetype (0.00s)
    --- PASS: TestCharacterRepository_Update/update_class (0.00s)
=== RUN   TestCharacterRepository_Delete
=== RUN   TestCharacterRepository_Delete/successful_delete
--- PASS: TestCharacterRepository_Delete (0.01s)
    --- PASS: TestCharacterRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterRepository_CountByWorld
=== RUN   TestCharacterRepository_CountByWorld/empty_count
=== RUN   TestCharacterRepository_CountByWorld/count_with_characters
--- PASS: TestCharacterRepository_CountByWorld (0.01s)
    --- PASS: TestCharacterRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestCharacterRepository_CountByWorld/count_with_characters (0.00s)
=== RUN   TestCharacterTraitRepository_Create
=== RUN   TestCharacterTraitRepository_Create/successful_creation
=== RUN   TestCharacterTraitRepository_Create/successful_creation_with_notes
=== RUN   TestCharacterTraitRepository_Create/trait_snapshot_copied
--- PASS: TestCharacterTraitRepository_Create (0.01s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/successful_creation_with_notes (0.00s)
    --- PASS: TestCharacterTraitRepository_Create/trait_snapshot_copied (0.00s)
=== RUN   TestCharacterTraitRepository_GetByID
=== RUN   TestCharacterTraitRepository_GetByID/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByID/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByID (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByID/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByID/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_GetByCharacter
=== RUN   TestCharacterTraitRepository_GetByCharacter/empty_list
=== RUN   TestCharacterTraitRepository_GetByCharacter/list_with_character-traits
--- PASS: TestCharacterTraitRepository_GetByCharacter (0.03s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/empty_list (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacter/list_with_character-traits (0.02s)
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait
=== RUN   TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait
--- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait (0.01s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/existing_character-trait (0.00s)
    --- PASS: TestCharacterTraitRepository_GetByCharacterAndTrait/non-existent_character-trait (0.00s)
=== RUN   TestCharacterTraitRepository_Update
=== RUN   TestCharacterTraitRepository_Update/successful_update
=== RUN   TestCharacterTraitRepository_Update/update_trait_snapshot
--- PASS: TestCharacterTraitRepository_Update (0.01s)
    --- PASS: TestCharacterTraitRepository_Update/successful_update (0.00s)
    --- PASS: TestCharacterTraitRepository_Update/update_trait_snapshot (0.00s)
=== RUN   TestCharacterTraitRepository_Delete
=== RUN   TestCharacterTraitRepository_Delete/successful_delete
--- PASS: TestCharacterTraitRepository_Delete (0.01s)
    --- PASS: TestCharacterTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestCharacterTraitRepository_DeleteByCharacter
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character
=== RUN   TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits
--- PASS: TestCharacterTraitRepository_DeleteByCharacter (0.01s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_all_character-traits_for_character (0.00s)
    --- PASS: TestCharacterTraitRepository_DeleteByCharacter/delete_for_character_with_no_traits (0.00s)
=== RUN   TestContentBlockReferenceRepository_Create
=== RUN   TestContentBlockReferenceRepository_Create/create_with_character
=== RUN   TestContentBlockReferenceRepository_Create/create_with_location
=== RUN   TestContentBlockReferenceRepository_Create/create_with_artifact
--- PASS: TestContentBlockReferenceRepository_Create (0.01s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_location (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Create/create_with_artifact (0.00s)
=== RUN   TestContentBlockReferenceRepository_GetByID
=== RUN   TestContentBlockReferenceRepository_GetByID/existing_content_block_reference
=== RUN   TestContentBlockReferenceRepository_GetByID/non-existent_content_block_reference
--- PASS: TestContentBlockReferenceRepository_GetByID (0.01s)
    --- PASS: TestContentBlockReferenceRepository_GetByID/existing_content_block_reference (0.00s)
    --- PASS: TestContentBlockReferenceRepository_GetByID/non-existent_content_block_reference (0.00s)
=== RUN   TestContentBlockReferenceRepository_ListByContentBlock
=== RUN   TestContentBlockReferenceRepository_ListByContentBlock/list_by_content_block
--- PASS: TestContentBlockReferenceRepository_ListByContentBlock (0.01s)
    --- PASS: TestContentBlockReferenceRepository_ListByContentBlock/list_by_content_block (0.00s)
=== RUN   TestContentBlockReferenceRepository_ListByEntity
=== RUN   TestContentBlockReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestContentBlockReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestContentBlockReferenceRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestContentBlockReferenceRepository_Delete
=== RUN   TestContentBlockReferenceRepository_Delete/delete_by_id
=== RUN   TestContentBlockReferenceRepository_Delete/delete_by_content_block
--- PASS: TestContentBlockReferenceRepository_Delete (0.01s)
    --- PASS: TestContentBlockReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestContentBlockReferenceRepository_Delete/delete_by_content_block (0.00s)
=== RUN   TestContentBlockRepository_Create
=== RUN   TestContentBlockRepository_Create/successful_creation
=== RUN   TestContentBlockRepository_Create/creation_without_chapter
--- PASS: TestContentBlockRepository_Create (0.01s)
    --- PASS: TestContentBlockRepository_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockRepository_Create/creation_without_chapter (0.00s)
=== RUN   TestContentBlockRepository_GetByID
=== RUN   TestContentBlockRepository_GetByID/existing_content_block
=== RUN   TestContentBlockRepository_GetByID/non-existent_content_block
--- PASS: TestContentBlockRepository_GetByID (0.01s)
    --- PASS: TestContentBlockRepository_GetByID/existing_content_block (0.00s)
    --- PASS: TestContentBlockRepository_GetByID/non-existent_content_block (0.00s)
=== RUN   TestContentBlockRepository_ListByChapter
=== RUN   TestContentBlockRepository_ListByChapter/list_with_content_blocks
=== RUN   TestContentBlockRepository_ListByChapter/empty_list
--- PASS: TestContentBlockRepository_ListByChapter (0.01s)
    --- PASS: TestContentBlockRepository_ListByChapter/list_with_content_blocks (0.00s)
    --- PASS: TestContentBlockRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestContentBlockRepository_GetByChapterAndKind
=== RUN   TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind
--- PASS: TestContentBlockRepository_GetByChapterAndKind (0.01s)
    --- PASS: TestContentBlockRepository_GetByChapterAndKind/get_by_chapter_and_kind (0.00s)
=== RUN   TestContentBlockRepository_Update
=== RUN   TestContentBlockRepository_Update/successful_update
--- PASS: TestContentBlockRepository_Update (0.01s)
    --- PASS: TestContentBlockRepository_Update/successful_update (0.00s)
=== RUN   TestContentBlockRepository_Delete
=== RUN   TestContentBlockRepository_Delete/successful_delete
--- PASS: TestContentBlockRepository_Delete (0.01s)
    --- PASS: TestContentBlockRepository_Delete/successful_delete (0.00s)
=== RUN   TestContentBlockRepository_DeleteByChapter
=== RUN   TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter
--- PASS: TestContentBlockRepository_DeleteByChapter (0.01s)
    --- PASS: TestContentBlockRepository_DeleteByChapter/delete_all_content_blocks_for_chapter (0.00s)
=== RUN   TestEventRepository_Create
=== RUN   TestEventRepository_Create/successful_creation
=== RUN   TestEventRepository_Create/successful_creation_with_type
=== RUN   TestEventRepository_Create/successful_creation_with_description
=== RUN   TestEventRepository_Create/successful_creation_with_timeline
=== RUN   TestEventRepository_Create/successful_creation_with_importance
--- PASS: TestEventRepository_Create (0.01s)
    --- PASS: TestEventRepository_Create/successful_creation (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_type (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_description (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_timeline (0.00s)
    --- PASS: TestEventRepository_Create/successful_creation_with_importance (0.00s)
=== RUN   TestEventRepository_GetByID
=== RUN   TestEventRepository_GetByID/existing_event
=== RUN   TestEventRepository_GetByID/non-existent_event
--- PASS: TestEventRepository_GetByID (0.01s)
    --- PASS: TestEventRepository_GetByID/existing_event (0.00s)
    --- PASS: TestEventRepository_GetByID/non-existent_event (0.00s)
=== RUN   TestEventRepository_ListByWorld
=== RUN   TestEventRepository_ListByWorld/empty_list
=== RUN   TestEventRepository_ListByWorld/list_with_events
--- PASS: TestEventRepository_ListByWorld (0.04s)
    --- PASS: TestEventRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestEventRepository_ListByWorld/list_with_events (0.03s)
=== RUN   TestEventRepository_Update
=== RUN   TestEventRepository_Update/successful_update
=== RUN   TestEventRepository_Update/update_nullable_fields_to_nil
--- PASS: TestEventRepository_Update (0.01s)
    --- PASS: TestEventRepository_Update/successful_update (0.00s)
    --- PASS: TestEventRepository_Update/update_nullable_fields_to_nil (0.00s)
=== RUN   TestEventRepository_Delete
=== RUN   TestEventRepository_Delete/successful_delete
--- PASS: TestEventRepository_Delete (0.01s)
    --- PASS: TestEventRepository_Delete/successful_delete (0.00s)
=== RUN   TestFactionReferenceRepository_Create
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_character
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_location
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_role
=== RUN   TestFactionReferenceRepository_Create/successful_creation_with_notes
--- PASS: TestFactionReferenceRepository_Create (0.01s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_character (0.00s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_location (0.00s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_role (0.00s)
    --- PASS: TestFactionReferenceRepository_Create/successful_creation_with_notes (0.00s)
=== RUN   TestFactionReferenceRepository_GetByID
=== RUN   TestFactionReferenceRepository_GetByID/existing_faction-reference
=== RUN   TestFactionReferenceRepository_GetByID/non-existent_faction-reference
--- PASS: TestFactionReferenceRepository_GetByID (0.01s)
    --- PASS: TestFactionReferenceRepository_GetByID/existing_faction-reference (0.00s)
    --- PASS: TestFactionReferenceRepository_GetByID/non-existent_faction-reference (0.00s)
=== RUN   TestFactionReferenceRepository_ListByFaction
=== RUN   TestFactionReferenceRepository_ListByFaction/empty_list
=== RUN   TestFactionReferenceRepository_ListByFaction/list_with_references
--- PASS: TestFactionReferenceRepository_ListByFaction (0.03s)
    --- PASS: TestFactionReferenceRepository_ListByFaction/empty_list (0.00s)
    --- PASS: TestFactionReferenceRepository_ListByFaction/list_with_references (0.02s)
=== RUN   TestFactionReferenceRepository_ListByEntity
=== RUN   TestFactionReferenceRepository_ListByEntity/list_by_character
=== RUN   TestFactionReferenceRepository_ListByEntity/list_by_location
=== RUN   TestFactionReferenceRepository_ListByEntity/empty_list
--- PASS: TestFactionReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestFactionReferenceRepository_ListByEntity/list_by_character (0.00s)
    --- PASS: TestFactionReferenceRepository_ListByEntity/list_by_location (0.00s)
    --- PASS: TestFactionReferenceRepository_ListByEntity/empty_list (0.00s)
=== RUN   TestFactionReferenceRepository_Update
=== RUN   TestFactionReferenceRepository_Update/successful_update
=== RUN   TestFactionReferenceRepository_Update/update_role_to_nil
--- PASS: TestFactionReferenceRepository_Update (0.03s)
    --- PASS: TestFactionReferenceRepository_Update/successful_update (0.00s)
    --- PASS: TestFactionReferenceRepository_Update/update_role_to_nil (0.00s)
=== RUN   TestFactionReferenceRepository_Delete
=== RUN   TestFactionReferenceRepository_Delete/successful_delete
--- PASS: TestFactionReferenceRepository_Delete (0.02s)
    --- PASS: TestFactionReferenceRepository_Delete/successful_delete (0.00s)
=== RUN   TestFactionReferenceRepository_DeleteByFaction
=== RUN   TestFactionReferenceRepository_DeleteByFaction/delete_all_references_for_faction
--- PASS: TestFactionReferenceRepository_DeleteByFaction (0.01s)
    --- PASS: TestFactionReferenceRepository_DeleteByFaction/delete_all_references_for_faction (0.00s)
=== RUN   TestFactionReferenceRepository_DeleteByFactionAndEntity
=== RUN   TestFactionReferenceRepository_DeleteByFactionAndEntity/delete_specific_faction-entity_reference
--- PASS: TestFactionReferenceRepository_DeleteByFactionAndEntity (0.01s)
    --- PASS: TestFactionReferenceRepository_DeleteByFactionAndEntity/delete_specific_faction-entity_reference (0.00s)
=== RUN   TestFactionRepository_Create
=== RUN   TestFactionRepository_Create/successful_creation_root_faction
=== RUN   TestFactionRepository_Create/successful_creation_with_parent
=== RUN   TestFactionRepository_Create/creation_with_type_and_fields
--- PASS: TestFactionRepository_Create (0.01s)
    --- PASS: TestFactionRepository_Create/successful_creation_root_faction (0.00s)
    --- PASS: TestFactionRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestFactionRepository_Create/creation_with_type_and_fields (0.00s)
=== RUN   TestFactionRepository_GetByID
=== RUN   TestFactionRepository_GetByID/existing_faction
=== RUN   TestFactionRepository_GetByID/non-existent_faction
--- PASS: TestFactionRepository_GetByID (0.01s)
    --- PASS: TestFactionRepository_GetByID/existing_faction (0.00s)
    --- PASS: TestFactionRepository_GetByID/non-existent_faction (0.00s)
=== RUN   TestFactionRepository_ListByWorld
=== RUN   TestFactionRepository_ListByWorld/empty_list
=== RUN   TestFactionRepository_ListByWorld/list_with_factions
--- PASS: TestFactionRepository_ListByWorld (0.04s)
    --- PASS: TestFactionRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestFactionRepository_ListByWorld/list_with_factions (0.03s)
=== RUN   TestFactionRepository_GetChildren
=== RUN   TestFactionRepository_GetChildren/get_direct_children
=== RUN   TestFactionRepository_GetChildren/no_children
--- PASS: TestFactionRepository_GetChildren (0.01s)
    --- PASS: TestFactionRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestFactionRepository_GetChildren/no_children (0.00s)
=== RUN   TestFactionRepository_Update
=== RUN   TestFactionRepository_Update/successful_update
=== RUN   TestFactionRepository_Update/update_parent
--- PASS: TestFactionRepository_Update (0.01s)
    --- PASS: TestFactionRepository_Update/successful_update (0.00s)
    --- PASS: TestFactionRepository_Update/update_parent (0.00s)
=== RUN   TestFactionRepository_Delete
=== RUN   TestFactionRepository_Delete/successful_delete
--- PASS: TestFactionRepository_Delete (0.01s)
    --- PASS: TestFactionRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_Create
=== RUN   TestLocationRepository_Create/successful_creation_root_location
=== RUN   TestLocationRepository_Create/successful_creation_with_parent
=== RUN   TestLocationRepository_Create/creation_with_type_and_description
--- PASS: TestLocationRepository_Create (0.01s)
    --- PASS: TestLocationRepository_Create/successful_creation_root_location (0.00s)
    --- PASS: TestLocationRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLocationRepository_Create/creation_with_type_and_description (0.00s)
=== RUN   TestLocationRepository_GetByID
=== RUN   TestLocationRepository_GetByID/existing_location
=== RUN   TestLocationRepository_GetByID/non-existent_location
--- PASS: TestLocationRepository_GetByID (0.01s)
    --- PASS: TestLocationRepository_GetByID/existing_location (0.00s)
    --- PASS: TestLocationRepository_GetByID/non-existent_location (0.00s)
=== RUN   TestLocationRepository_ListByWorld
=== RUN   TestLocationRepository_ListByWorld/empty_list
=== RUN   TestLocationRepository_ListByWorld/list_with_locations
=== RUN   TestLocationRepository_ListByWorld/pagination
--- PASS: TestLocationRepository_ListByWorld (0.10s)
    --- PASS: TestLocationRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLocationRepository_ListByWorld/list_with_locations (0.03s)
    --- PASS: TestLocationRepository_ListByWorld/pagination (0.05s)
=== RUN   TestLocationRepository_ListByWorldTree
=== RUN   TestLocationRepository_ListByWorldTree/tree_structure
--- PASS: TestLocationRepository_ListByWorldTree (0.01s)
    --- PASS: TestLocationRepository_ListByWorldTree/tree_structure (0.00s)
=== RUN   TestLocationRepository_GetChildren
=== RUN   TestLocationRepository_GetChildren/get_direct_children
=== RUN   TestLocationRepository_GetChildren/no_children
--- PASS: TestLocationRepository_GetChildren (0.01s)
    --- PASS: TestLocationRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLocationRepository_GetChildren/no_children (0.00s)
=== RUN   TestLocationRepository_GetAncestors
=== RUN   TestLocationRepository_GetAncestors/get_ancestors
=== RUN   TestLocationRepository_GetAncestors/root_has_no_ancestors
--- PASS: TestLocationRepository_GetAncestors (0.01s)
    --- PASS: TestLocationRepository_GetAncestors/get_ancestors (0.00s)
    --- PASS: TestLocationRepository_GetAncestors/root_has_no_ancestors (0.00s)
=== RUN   TestLocationRepository_GetDescendants
=== RUN   TestLocationRepository_GetDescendants/get_descendants
=== RUN   TestLocationRepository_GetDescendants/no_descendants
--- PASS: TestLocationRepository_GetDescendants (0.01s)
    --- PASS: TestLocationRepository_GetDescendants/get_descendants (0.00s)
    --- PASS: TestLocationRepository_GetDescendants/no_descendants (0.00s)
=== RUN   TestLocationRepository_Update
=== RUN   TestLocationRepository_Update/successful_update
=== RUN   TestLocationRepository_Update/update_parent
--- PASS: TestLocationRepository_Update (0.01s)
    --- PASS: TestLocationRepository_Update/successful_update (0.00s)
    --- PASS: TestLocationRepository_Update/update_parent (0.00s)
=== RUN   TestLocationRepository_Delete
=== RUN   TestLocationRepository_Delete/successful_delete
--- PASS: TestLocationRepository_Delete (0.01s)
    --- PASS: TestLocationRepository_Delete/successful_delete (0.00s)
=== RUN   TestLocationRepository_CountByWorld
=== RUN   TestLocationRepository_CountByWorld/empty_count
=== RUN   TestLocationRepository_CountByWorld/count_with_locations
--- PASS: TestLocationRepository_CountByWorld (0.01s)
    --- PASS: TestLocationRepository_CountByWorld/empty_count (0.00s)
    --- PASS: TestLocationRepository_CountByWorld/count_with_locations (0.00s)
=== RUN   TestLoreReferenceRepository_Create
=== RUN   TestLoreReferenceRepository_Create/create_with_character
=== RUN   TestLoreReferenceRepository_Create/create_with_location
--- PASS: TestLoreReferenceRepository_Create (0.01s)
    --- PASS: TestLoreReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestLoreReferenceRepository_Create/create_with_location (0.00s)
=== RUN   TestLoreReferenceRepository_GetByID
=== RUN   TestLoreReferenceRepository_GetByID/existing_lore_reference
=== RUN   TestLoreReferenceRepository_GetByID/non-existent_lore_reference
--- PASS: TestLoreReferenceRepository_GetByID (0.01s)
    --- PASS: TestLoreReferenceRepository_GetByID/existing_lore_reference (0.00s)
    --- PASS: TestLoreReferenceRepository_GetByID/non-existent_lore_reference (0.00s)
=== RUN   TestLoreReferenceRepository_ListByLore
=== RUN   TestLoreReferenceRepository_ListByLore/list_by_lore
--- PASS: TestLoreReferenceRepository_ListByLore (0.01s)
    --- PASS: TestLoreReferenceRepository_ListByLore/list_by_lore (0.00s)
=== RUN   TestLoreReferenceRepository_ListByEntity
=== RUN   TestLoreReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestLoreReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestLoreReferenceRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestLoreReferenceRepository_Update
=== RUN   TestLoreReferenceRepository_Update/update_notes_and_relationship_type
--- PASS: TestLoreReferenceRepository_Update (0.01s)
    --- PASS: TestLoreReferenceRepository_Update/update_notes_and_relationship_type (0.00s)
=== RUN   TestLoreReferenceRepository_Delete
=== RUN   TestLoreReferenceRepository_Delete/delete_by_id
=== RUN   TestLoreReferenceRepository_Delete/delete_by_lore
=== RUN   TestLoreReferenceRepository_Delete/delete_by_lore_and_entity
--- PASS: TestLoreReferenceRepository_Delete (0.01s)
    --- PASS: TestLoreReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestLoreReferenceRepository_Delete/delete_by_lore (0.00s)
    --- PASS: TestLoreReferenceRepository_Delete/delete_by_lore_and_entity (0.00s)
=== RUN   TestLoreRepository_Create
=== RUN   TestLoreRepository_Create/successful_creation_root_lore
=== RUN   TestLoreRepository_Create/successful_creation_with_parent
=== RUN   TestLoreRepository_Create/creation_with_category_and_fields
--- PASS: TestLoreRepository_Create (0.01s)
    --- PASS: TestLoreRepository_Create/successful_creation_root_lore (0.00s)
    --- PASS: TestLoreRepository_Create/successful_creation_with_parent (0.00s)
    --- PASS: TestLoreRepository_Create/creation_with_category_and_fields (0.00s)
=== RUN   TestLoreRepository_GetByID
=== RUN   TestLoreRepository_GetByID/existing_lore
=== RUN   TestLoreRepository_GetByID/non-existent_lore
--- PASS: TestLoreRepository_GetByID (0.01s)
    --- PASS: TestLoreRepository_GetByID/existing_lore (0.00s)
    --- PASS: TestLoreRepository_GetByID/non-existent_lore (0.00s)
=== RUN   TestLoreRepository_ListByWorld
=== RUN   TestLoreRepository_ListByWorld/empty_list
=== RUN   TestLoreRepository_ListByWorld/list_with_lores
--- PASS: TestLoreRepository_ListByWorld (0.04s)
    --- PASS: TestLoreRepository_ListByWorld/empty_list (0.00s)
    --- PASS: TestLoreRepository_ListByWorld/list_with_lores (0.03s)
=== RUN   TestLoreRepository_GetChildren
=== RUN   TestLoreRepository_GetChildren/get_direct_children
=== RUN   TestLoreRepository_GetChildren/no_children
--- PASS: TestLoreRepository_GetChildren (0.01s)
    --- PASS: TestLoreRepository_GetChildren/get_direct_children (0.00s)
    --- PASS: TestLoreRepository_GetChildren/no_children (0.00s)
=== RUN   TestLoreRepository_Update
=== RUN   TestLoreRepository_Update/successful_update
=== RUN   TestLoreRepository_Update/update_parent
--- PASS: TestLoreRepository_Update (0.01s)
    --- PASS: TestLoreRepository_Update/successful_update (0.00s)
    --- PASS: TestLoreRepository_Update/update_parent (0.00s)
=== RUN   TestLoreRepository_Delete
=== RUN   TestLoreRepository_Delete/successful_delete
--- PASS: TestLoreRepository_Delete (0.01s)
    --- PASS: TestLoreRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneReferenceRepository_Create
=== RUN   TestSceneReferenceRepository_Create/create_with_character
=== RUN   TestSceneReferenceRepository_Create/create_with_location
=== RUN   TestSceneReferenceRepository_Create/create_with_artifact
--- PASS: TestSceneReferenceRepository_Create (0.01s)
    --- PASS: TestSceneReferenceRepository_Create/create_with_character (0.00s)
    --- PASS: TestSceneReferenceRepository_Create/create_with_location (0.00s)
    --- PASS: TestSceneReferenceRepository_Create/create_with_artifact (0.00s)
=== RUN   TestSceneReferenceRepository_GetByID
=== RUN   TestSceneReferenceRepository_GetByID/existing_scene_reference
=== RUN   TestSceneReferenceRepository_GetByID/non-existent_scene_reference
--- PASS: TestSceneReferenceRepository_GetByID (0.01s)
    --- PASS: TestSceneReferenceRepository_GetByID/existing_scene_reference (0.00s)
    --- PASS: TestSceneReferenceRepository_GetByID/non-existent_scene_reference (0.00s)
=== RUN   TestSceneReferenceRepository_ListByScene
=== RUN   TestSceneReferenceRepository_ListByScene/list_by_scene
--- PASS: TestSceneReferenceRepository_ListByScene (0.01s)
    --- PASS: TestSceneReferenceRepository_ListByScene/list_by_scene (0.00s)
=== RUN   TestSceneReferenceRepository_ListByEntity
=== RUN   TestSceneReferenceRepository_ListByEntity/list_by_entity
--- PASS: TestSceneReferenceRepository_ListByEntity (0.01s)
    --- PASS: TestSceneReferenceRepository_ListByEntity/list_by_entity (0.00s)
=== RUN   TestSceneReferenceRepository_Delete
=== RUN   TestSceneReferenceRepository_Delete/delete_by_id
=== RUN   TestSceneReferenceRepository_Delete/delete_by_scene
=== RUN   TestSceneReferenceRepository_Delete/delete_by_scene_and_entity
--- PASS: TestSceneReferenceRepository_Delete (0.01s)
    --- PASS: TestSceneReferenceRepository_Delete/delete_by_id (0.00s)
    --- PASS: TestSceneReferenceRepository_Delete/delete_by_scene (0.00s)
    --- PASS: TestSceneReferenceRepository_Delete/delete_by_scene_and_entity (0.00s)
=== RUN   TestSceneRepository_Create
=== RUN   TestSceneRepository_Create/successful_creation
=== RUN   TestSceneRepository_Create/creation_with_chapter
--- PASS: TestSceneRepository_Create (0.01s)
    --- PASS: TestSceneRepository_Create/successful_creation (0.00s)
    --- PASS: TestSceneRepository_Create/creation_with_chapter (0.00s)
=== RUN   TestSceneRepository_GetByID
=== RUN   TestSceneRepository_GetByID/existing_scene
=== RUN   TestSceneRepository_GetByID/non-existent_scene
--- PASS: TestSceneRepository_GetByID (0.01s)
    --- PASS: TestSceneRepository_GetByID/existing_scene (0.00s)
    --- PASS: TestSceneRepository_GetByID/non-existent_scene (0.00s)
=== RUN   TestSceneRepository_ListByChapter
=== RUN   TestSceneRepository_ListByChapter/list_with_scenes
=== RUN   TestSceneRepository_ListByChapter/empty_list
--- PASS: TestSceneRepository_ListByChapter (0.01s)
    --- PASS: TestSceneRepository_ListByChapter/list_with_scenes (0.00s)
    --- PASS: TestSceneRepository_ListByChapter/empty_list (0.00s)
=== RUN   TestSceneRepository_ListByChapterOrdered
=== RUN   TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num
--- PASS: TestSceneRepository_ListByChapterOrdered (0.01s)
    --- PASS: TestSceneRepository_ListByChapterOrdered/list_ordered_by_order_num (0.00s)
=== RUN   TestSceneRepository_ListByStory
=== RUN   TestSceneRepository_ListByStory/list_by_story
--- PASS: TestSceneRepository_ListByStory (0.01s)
    --- PASS: TestSceneRepository_ListByStory/list_by_story (0.00s)
=== RUN   TestSceneRepository_Update
=== RUN   TestSceneRepository_Update/successful_update
--- PASS: TestSceneRepository_Update (0.01s)
    --- PASS: TestSceneRepository_Update/successful_update (0.00s)
=== RUN   TestSceneRepository_Delete
=== RUN   TestSceneRepository_Delete/successful_delete
--- PASS: TestSceneRepository_Delete (0.01s)
    --- PASS: TestSceneRepository_Delete/successful_delete (0.00s)
=== RUN   TestSceneRepository_DeleteByChapter
=== RUN   TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter
--- PASS: TestSceneRepository_DeleteByChapter (0.01s)
    --- PASS: TestSceneRepository_DeleteByChapter/delete_all_scenes_for_chapter (0.00s)
=== RUN   TestSceneRepository_DeleteByStory
=== RUN   TestSceneRepository_DeleteByStory/delete_all_scenes_for_story
--- PASS: TestSceneRepository_DeleteByStory (0.01s)
    --- PASS: TestSceneRepository_DeleteByStory/delete_all_scenes_for_story (0.00s)
=== RUN   TestStoryRepository_Create
=== RUN   TestStoryRepository_Create/successful_creation_root_story
=== RUN   TestStoryRepository_Create/creation_with_world_and_user
--- PASS: TestStoryRepository_Create (0.01s)
    --- PASS: TestStoryRepository_Create/successful_creation_root_story (0.00s)
    --- PASS: TestStoryRepository_Create/creation_with_world_and_user (0.00s)
=== RUN   TestStoryRepository_GetByID
=== RUN   TestStoryRepository_GetByID/existing_story
=== RUN   TestStoryRepository_GetByID/non-existent_story
--- PASS: TestStoryRepository_GetByID (0.01s)
    --- PASS: TestStoryRepository_GetByID/existing_story (0.00s)
    --- PASS: TestStoryRepository_GetByID/non-existent_story (0.00s)
=== RUN   TestStoryRepository_ListByTenant
=== RUN   TestStoryRepository_ListByTenant/empty_list
=== RUN   TestStoryRepository_ListByTenant/list_with_stories
=== RUN   TestStoryRepository_ListByTenant/pagination
--- PASS: TestStoryRepository_ListByTenant (0.01s)
    --- PASS: TestStoryRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/list_with_stories (0.00s)
    --- PASS: TestStoryRepository_ListByTenant/pagination (0.00s)
=== RUN   TestStoryRepository_ListVersionsByRoot
=== RUN   TestStoryRepository_ListVersionsByRoot/list_versions
=== RUN   TestStoryRepository_ListVersionsByRoot/single_version
--- PASS: TestStoryRepository_ListVersionsByRoot (0.01s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/list_versions (0.00s)
    --- PASS: TestStoryRepository_ListVersionsByRoot/single_version (0.00s)
=== RUN   TestStoryRepository_GetVersionGraph
=== RUN   TestStoryRepository_GetVersionGraph/get_version_graph
--- PASS: TestStoryRepository_GetVersionGraph (0.01s)
    --- PASS: TestStoryRepository_GetVersionGraph/get_version_graph (0.00s)
=== RUN   TestStoryRepository_Update
=== RUN   TestStoryRepository_Update/successful_update
--- PASS: TestStoryRepository_Update (0.01s)
    --- PASS: TestStoryRepository_Update/successful_update (0.00s)
=== RUN   TestStoryRepository_Delete
=== RUN   TestStoryRepository_Delete/successful_delete
--- PASS: TestStoryRepository_Delete (0.01s)
    --- PASS: TestStoryRepository_Delete/successful_delete (0.00s)
=== RUN   TestStoryRepository_CountByTenant
=== RUN   TestStoryRepository_CountByTenant/empty_count
=== RUN   TestStoryRepository_CountByTenant/count_with_stories
--- PASS: TestStoryRepository_CountByTenant (0.01s)
    --- PASS: TestStoryRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestStoryRepository_CountByTenant/count_with_stories (0.00s)
=== RUN   TestTenantRepository_Create
=== RUN   TestTenantRepository_Create/successful_creation
=== RUN   TestTenantRepository_Create/duplicate_name_constraint
--- PASS: TestTenantRepository_Create (0.01s)
    --- PASS: TestTenantRepository_Create/successful_creation (0.00s)
    --- PASS: TestTenantRepository_Create/duplicate_name_constraint (0.00s)
=== RUN   TestTenantRepository_GetByID
=== RUN   TestTenantRepository_GetByID/existing_tenant
=== RUN   TestTenantRepository_GetByID/non-existent_tenant
--- PASS: TestTenantRepository_GetByID (0.01s)
    --- PASS: TestTenantRepository_GetByID/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByID/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_GetByName
=== RUN   TestTenantRepository_GetByName/existing_tenant
=== RUN   TestTenantRepository_GetByName/non-existent_tenant
--- PASS: TestTenantRepository_GetByName (0.01s)
    --- PASS: TestTenantRepository_GetByName/existing_tenant (0.00s)
    --- PASS: TestTenantRepository_GetByName/non-existent_tenant (0.00s)
=== RUN   TestTenantRepository_Update
=== RUN   TestTenantRepository_Update/successful_update
--- PASS: TestTenantRepository_Update (0.01s)
    --- PASS: TestTenantRepository_Update/successful_update (0.00s)
=== RUN   TestTenantRepository_Delete
=== RUN   TestTenantRepository_Delete/successful_delete
--- PASS: TestTenantRepository_Delete (0.07s)
    --- PASS: TestTenantRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_Create
=== RUN   TestTraitRepository_Create/successful_creation
=== RUN   TestTraitRepository_Create/creation_with_category_and_description
--- PASS: TestTraitRepository_Create (0.03s)
    --- PASS: TestTraitRepository_Create/successful_creation (0.00s)
    --- PASS: TestTraitRepository_Create/creation_with_category_and_description (0.00s)
=== RUN   TestTraitRepository_GetByID
=== RUN   TestTraitRepository_GetByID/existing_trait
=== RUN   TestTraitRepository_GetByID/non-existent_trait
--- PASS: TestTraitRepository_GetByID (0.01s)
    --- PASS: TestTraitRepository_GetByID/existing_trait (0.00s)
    --- PASS: TestTraitRepository_GetByID/non-existent_trait (0.00s)
=== RUN   TestTraitRepository_ListByTenant
=== RUN   TestTraitRepository_ListByTenant/empty_list
=== RUN   TestTraitRepository_ListByTenant/list_with_traits
=== RUN   TestTraitRepository_ListByTenant/pagination
=== RUN   TestTraitRepository_ListByTenant/tenant_isolation
--- PASS: TestTraitRepository_ListByTenant (0.01s)
    --- PASS: TestTraitRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/list_with_traits (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/pagination (0.00s)
    --- PASS: TestTraitRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestTraitRepository_Update
=== RUN   TestTraitRepository_Update/successful_update
--- PASS: TestTraitRepository_Update (0.01s)
    --- PASS: TestTraitRepository_Update/successful_update (0.00s)
=== RUN   TestTraitRepository_Delete
=== RUN   TestTraitRepository_Delete/successful_delete
--- PASS: TestTraitRepository_Delete (0.03s)
    --- PASS: TestTraitRepository_Delete/successful_delete (0.00s)
=== RUN   TestTraitRepository_CountByTenant
=== RUN   TestTraitRepository_CountByTenant/empty_count
=== RUN   TestTraitRepository_CountByTenant/count_with_traits
=== RUN   TestTraitRepository_CountByTenant/tenant_isolation
--- PASS: TestTraitRepository_CountByTenant (0.01s)
    --- PASS: TestTraitRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/count_with_traits (0.00s)
    --- PASS: TestTraitRepository_CountByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Create
=== RUN   TestWorldRepository_Create/successful_creation
=== RUN   TestWorldRepository_Create/successful_creation_with_RPG_system
=== RUN   TestWorldRepository_Create/successful_creation_with_implicit_flag
--- PASS: TestWorldRepository_Create (0.01s)
    --- PASS: TestWorldRepository_Create/successful_creation (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_RPG_system (0.00s)
    --- PASS: TestWorldRepository_Create/successful_creation_with_implicit_flag (0.00s)
=== RUN   TestWorldRepository_GetByID
=== RUN   TestWorldRepository_GetByID/existing_world
=== RUN   TestWorldRepository_GetByID/non-existent_world
=== RUN   TestWorldRepository_GetByID/wrong_tenant
--- PASS: TestWorldRepository_GetByID (0.01s)
    --- PASS: TestWorldRepository_GetByID/existing_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/non-existent_world (0.00s)
    --- PASS: TestWorldRepository_GetByID/wrong_tenant (0.00s)
=== RUN   TestWorldRepository_ListByTenant
=== RUN   TestWorldRepository_ListByTenant/empty_list
=== RUN   TestWorldRepository_ListByTenant/list_with_worlds
=== RUN   TestWorldRepository_ListByTenant/pagination
=== RUN   TestWorldRepository_ListByTenant/tenant_isolation
--- PASS: TestWorldRepository_ListByTenant (0.24s)
    --- PASS: TestWorldRepository_ListByTenant/empty_list (0.00s)
    --- PASS: TestWorldRepository_ListByTenant/list_with_worlds (0.07s)
    --- PASS: TestWorldRepository_ListByTenant/pagination (0.06s)
    --- PASS: TestWorldRepository_ListByTenant/tenant_isolation (0.00s)
=== RUN   TestWorldRepository_Update
=== RUN   TestWorldRepository_Update/successful_update
=== RUN   TestWorldRepository_Update/update_RPG_system
--- PASS: TestWorldRepository_Update (0.01s)
    --- PASS: TestWorldRepository_Update/successful_update (0.00s)
    --- PASS: TestWorldRepository_Update/update_RPG_system (0.00s)
=== RUN   TestWorldRepository_Delete
=== RUN   TestWorldRepository_Delete/successful_delete
=== RUN   TestWorldRepository_Delete/delete_non-existent_world
--- PASS: TestWorldRepository_Delete (0.01s)
    --- PASS: TestWorldRepository_Delete/successful_delete (0.00s)
    --- PASS: TestWorldRepository_Delete/delete_non-existent_world (0.00s)
=== RUN   TestWorldRepository_CountByTenant
=== RUN   TestWorldRepository_CountByTenant/empty_count
=== RUN   TestWorldRepository_CountByTenant/count_with_worlds
=== RUN   TestWorldRepository_CountByTenant/tenant_isolation
--- PASS: TestWorldRepository_CountByTenant (0.01s)
    --- PASS: TestWorldRepository_CountByTenant/empty_count (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/count_with_worlds (0.00s)
    --- PASS: TestWorldRepository_CountByTenant/tenant_isolation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/adapters/db/sqlite	(cached)
?   	github.com/story-engine/main-service/internal/adapters/redis	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/artifact_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_inventory	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_skill	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/character_stats	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_item	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/inventory_slot	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_class	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/rpg_system	[no test files]
?   	github.com/story-engine/main-service/internal/application/rpg/skill	[no test files]
=== RUN   TestCloneStoryUseCase_Execute
time=2026-01-06T19:45:07.642-03:00 level=INFO msg="tenant created" tenant_id=d0370a53-5078-42f4-9f68-d6504eaf0bb4 name="Test Tenant"
time=2026-01-06T19:45:07.715-03:00 level=INFO msg="world created" world_id=76ffc7a4-7198-44b4-8c8c-fd0d1b897104 name="World of Test Story" tenant_id=d0370a53-5078-42f4-9f68-d6504eaf0bb4
time=2026-01-06T19:45:07.715-03:00 level=INFO msg="created implicit world for story" world_id=76ffc7a4-7198-44b4-8c8c-fd0d1b897104 story_title="Test Story"
time=2026-01-06T19:45:07.739-03:00 level=INFO msg="story created" story_id=c34a7555-ca70-4095-9775-8f9080c0a5db title="Test Story" tenant_id=d0370a53-5078-42f4-9f68-d6504eaf0bb4
=== RUN   TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters)
time=2026-01-06T19:45:07.756-03:00 level=INFO msg="story cloned" source_story_id=c34a7555-ca70-4095-9775-8f9080c0a5db new_story_id=5ec17eb0-2675-4c95-87f7-6d9a25720a93 version_number=2
=== RUN   TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy
time=2026-01-06T19:45:07.847-03:00 level=INFO msg="story cloned" source_story_id=13d91cba-e20c-4c86-84bd-01a10a97b138 new_story_id=571c8b9f-d45d-4e29-adec-0263027b7663 version_number=2
--- PASS: TestCloneStoryUseCase_Execute (0.72s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_simple_story_(no_chapters) (0.02s)
    --- PASS: TestCloneStoryUseCase_Execute/clone_story_with_full_hierarchy (0.09s)
=== RUN   TestCreateStoryUseCase_Execute
time=2026-01-06T19:45:08.350-03:00 level=INFO msg="tenant created" tenant_id=4a343a47-9a93-46b5-bb30-09b845bced95 name="Test Tenant"
=== RUN   TestCreateStoryUseCase_Execute/successful_creation
time=2026-01-06T19:45:08.351-03:00 level=INFO msg="world created" world_id=29361f84-a79d-4390-aba8-92c8e9b1c11a name="World of Test Story" tenant_id=4a343a47-9a93-46b5-bb30-09b845bced95
time=2026-01-06T19:45:08.351-03:00 level=INFO msg="created implicit world for story" world_id=29361f84-a79d-4390-aba8-92c8e9b1c11a story_title="Test Story"
time=2026-01-06T19:45:08.353-03:00 level=INFO msg="story created" story_id=6ae41d15-81d8-4175-9baa-2c2630c7d0aa title="Test Story" tenant_id=4a343a47-9a93-46b5-bb30-09b845bced95
=== RUN   TestCreateStoryUseCase_Execute/multi-tenant_isolation
time=2026-01-06T19:45:08.354-03:00 level=INFO msg="tenant created" tenant_id=fcae8990-cd00-4400-8977-a466f99f1985 name="Test Tenant 2"
time=2026-01-06T19:45:08.354-03:00 level=INFO msg="world created" world_id=06afed11-d0dc-416c-98e7-d197b9d274e8 name="World of Test Story 2" tenant_id=fcae8990-cd00-4400-8977-a466f99f1985
time=2026-01-06T19:45:08.354-03:00 level=INFO msg="created implicit world for story" world_id=06afed11-d0dc-416c-98e7-d197b9d274e8 story_title="Test Story 2"
time=2026-01-06T19:45:08.355-03:00 level=INFO msg="story created" story_id=2190b178-0ec0-4eef-9bfd-e707105c0445 title="Test Story 2" tenant_id=fcae8990-cd00-4400-8977-a466f99f1985
=== RUN   TestCreateStoryUseCase_Execute/invalid_tenant
=== RUN   TestCreateStoryUseCase_Execute/empty_title_validation
--- PASS: TestCreateStoryUseCase_Execute (0.38s)
    --- PASS: TestCreateStoryUseCase_Execute/successful_creation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/multi-tenant_isolation (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/invalid_tenant (0.00s)
    --- PASS: TestCreateStoryUseCase_Execute/empty_title_validation (0.00s)
=== RUN   TestCreateStoryUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateStoryUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateStoryUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateStoryUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story	(cached)
=== RUN   TestCreateBeatUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateBeatUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateBeatUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateBeatUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/beat	(cached)
=== RUN   TestCreateChapterUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateChapterUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateChapterUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateChapterUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/chapter	(cached)
=== RUN   TestCreateContentBlockUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateContentBlockUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateContentBlockUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateContentBlockUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/content_block	(cached)
=== RUN   TestCreateSceneUseCase_EnqueueIngestion_NilQueue
--- PASS: TestCreateSceneUseCase_EnqueueIngestion_NilQueue (0.00s)
=== RUN   TestUpdateSceneUseCase_EnqueueIngestion_NilQueue
--- PASS: TestUpdateSceneUseCase_EnqueueIngestion_NilQueue (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/story/scene	(cached)
=== RUN   TestCreateTenantUseCase_Execute
=== RUN   TestCreateTenantUseCase_Execute/successful_creation
time=2026-01-06T19:45:08.100-03:00 level=INFO msg="tenant created" tenant_id=289976ee-a6e5-4d8e-a42e-c3715d29ef0e name="Test Tenant"
=== RUN   TestCreateTenantUseCase_Execute/duplicate_name_validation
=== RUN   TestCreateTenantUseCase_Execute/empty_name_validation
--- PASS: TestCreateTenantUseCase_Execute (0.75s)
    --- PASS: TestCreateTenantUseCase_Execute/successful_creation (0.01s)
    --- PASS: TestCreateTenantUseCase_Execute/duplicate_name_validation (0.00s)
    --- PASS: TestCreateTenantUseCase_Execute/empty_name_validation (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/application/tenant	(cached)
?   	github.com/story-engine/main-service/internal/application/world	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/archetype	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/artifact	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/character	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/character_relationship	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/event	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/faction	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/location	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/lore	[no test files]
?   	github.com/story-engine/main-service/internal/application/world/trait	[no test files]
?   	github.com/story-engine/main-service/internal/core/audit	[no test files]
?   	github.com/story-engine/main-service/internal/core/auth	[no test files]
?   	github.com/story-engine/main-service/internal/core/rpg	[no test files]
?   	github.com/story-engine/main-service/internal/core/story	[no test files]
?   	github.com/story-engine/main-service/internal/core/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/core/versioning	[no test files]
?   	github.com/story-engine/main-service/internal/core/world	[no test files]
?   	github.com/story-engine/main-service/internal/platform/config	[no test files]
?   	github.com/story-engine/main-service/internal/platform/database	[no test files]
?   	github.com/story-engine/main-service/internal/platform/errors	[no test files]
?   	github.com/story-engine/main-service/internal/platform/logger	[no test files]
?   	github.com/story-engine/main-service/internal/platform/tenant	[no test files]
?   	github.com/story-engine/main-service/internal/ports/queue	[no test files]
?   	github.com/story-engine/main-service/internal/ports/repositories	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/grpcctx	[no test files]
=== RUN   TestArchetypeHandler_CreateArchetype
time=2026-01-06T19:45:08.854-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:08.855-03:00 level=INFO msg="TraitService registered"
time=2026-01-06T19:45:08.855-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_CreateArchetype/successful_creation
time=2026-01-06T19:45:08.856-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:08.858-03:00 level=INFO msg="tenant created" tenant_id=916f4b77-555c-4e49-84cf-a265bae08d93 name="Test Tenant for Archetype"
time=2026-01-06T19:45:08.858-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:08.858-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:08.859-03:00 level=INFO msg="archetype created" archetype_id=27a0d410-53aa-432c-8aef-b7b41eb1d9e6 name=Warrior
time=2026-01-06T19:45:08.859-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
=== RUN   TestArchetypeHandler_CreateArchetype/empty_name
time=2026-01-06T19:45:08.860-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:08.860-03:00 level=INFO msg="tenant created" tenant_id=b97f5d3a-c4a6-4444-9614-0614270181af name="Test Tenant 2"
time=2026-01-06T19:45:08.860-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:08.860-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:08.860-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-06T19:45:08.861-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_CreateArchetype (0.21s)
    --- PASS: TestArchetypeHandler_CreateArchetype/successful_creation (0.00s)
    --- PASS: TestArchetypeHandler_CreateArchetype/empty_name (0.00s)
=== RUN   TestArchetypeHandler_GetArchetype
time=2026-01-06T19:45:09.023-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:09.023-03:00 level=INFO msg="TraitService registered"
time=2026-01-06T19:45:09.023-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetype/existing_archetype
time=2026-01-06T19:45:09.026-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:09.028-03:00 level=INFO msg="tenant created" tenant_id=1e85e499-96c2-4256-8a22-a63b8c6dd96f name="Get Test Tenant"
time=2026-01-06T19:45:09.028-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:09.028-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:09.029-03:00 level=INFO msg="archetype created" archetype_id=c1ba8832-1bac-416c-b48c-feabf80802a4 name="Get Test Archetype"
time=2026-01-06T19:45:09.029-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-06T19:45:09.029-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-06T19:45:09.029-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetype/non-existing_archetype
time=2026-01-06T19:45:09.029-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:09.030-03:00 level=INFO msg="tenant created" tenant_id=f8e52150-9078-4420-b326-8d7a0a16892f name="Non-existing Test Tenant"
time=2026-01-06T19:45:09.030-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:09.030-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-06T19:45:09.030-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: b9bea745-4928-41a7-a74e-4acacae89084" archetype_id=b9bea745-4928-41a7-a74e-4acacae89084
time=2026-01-06T19:45:09.030-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: b9bea745-4928-41a7-a74e-4acacae89084"
time=2026-01-06T19:45:09.031-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetype (0.17s)
    --- PASS: TestArchetypeHandler_GetArchetype/existing_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetype/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_ListArchetypes
time=2026-01-06T19:45:09.219-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:09.219-03:00 level=INFO msg="TraitService registered"
time=2026-01-06T19:45:09.219-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_ListArchetypes/list_archetypes
time=2026-01-06T19:45:09.220-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:09.222-03:00 level=INFO msg="tenant created" tenant_id=61f06b7a-1676-47a1-84a3-4c329ff3461b name="List Test Tenant"
time=2026-01-06T19:45:09.222-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:09.222-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:09.223-03:00 level=INFO msg="archetype created" archetype_id=f7c48e73-1cbe-488f-97bb-d526c053b78b name="Archetype 1"
time=2026-01-06T19:45:09.223-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-06T19:45:09.223-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:09.224-03:00 level=INFO msg="archetype created" archetype_id=b058f792-e4a9-48e5-b13e-1096d752daca name="Archetype 2"
time=2026-01-06T19:45:09.224-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-06T19:45:09.224-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/ListArchetypes
time=2026-01-06T19:45:09.225-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/ListArchetypes duration_ms=0
time=2026-01-06T19:45:09.225-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_ListArchetypes (0.22s)
    --- PASS: TestArchetypeHandler_ListArchetypes/list_archetypes (0.01s)
=== RUN   TestArchetypeHandler_UpdateArchetype
time=2026-01-06T19:45:09.510-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:09.510-03:00 level=INFO msg="TraitService registered"
time=2026-01-06T19:45:09.510-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_UpdateArchetype/update_archetype
time=2026-01-06T19:45:09.510-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:09.512-03:00 level=INFO msg="tenant created" tenant_id=b07471ae-05ca-4050-9df9-b3089003145b name="Update Test Tenant"
time=2026-01-06T19:45:09.512-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:09.513-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:09.514-03:00 level=INFO msg="archetype created" archetype_id=42901f88-1019-43c6-a9cd-cf4fc05dddf3 name="Original Archetype"
time=2026-01-06T19:45:09.514-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-06T19:45:09.514-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/UpdateArchetype
time=2026-01-06T19:45:09.514-03:00 level=INFO msg="archetype updated" archetype_id=42901f88-1019-43c6-a9cd-cf4fc05dddf3 name="Updated Archetype"
time=2026-01-06T19:45:09.514-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/UpdateArchetype duration_ms=0
time=2026-01-06T19:45:09.515-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_UpdateArchetype (0.28s)
    --- PASS: TestArchetypeHandler_UpdateArchetype/update_archetype (0.00s)
=== RUN   TestArchetypeHandler_DeleteArchetype
time=2026-01-06T19:45:09.874-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:09.874-03:00 level=INFO msg="TraitService registered"
time=2026-01-06T19:45:09.874-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_DeleteArchetype/delete_archetype
time=2026-01-06T19:45:09.875-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:09.877-03:00 level=INFO msg="tenant created" tenant_id=0f5eff11-9ac2-4c7c-bdd2-7a8dd9718b8d name="Delete Test Tenant"
time=2026-01-06T19:45:09.877-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:09.877-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:09.879-03:00 level=INFO msg="archetype created" archetype_id=20ef42f7-1e3e-4255-9a06-bde0133067fd name="Archetype to Delete"
time=2026-01-06T19:45:09.879-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-06T19:45:09.879-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/DeleteArchetype
time=2026-01-06T19:45:09.881-03:00 level=INFO msg="archetype deleted" archetype_id=20ef42f7-1e3e-4255-9a06-bde0133067fd name="Archetype to Delete"
time=2026-01-06T19:45:09.881-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/DeleteArchetype duration_ms=1
time=2026-01-06T19:45:09.881-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetype
time=2026-01-06T19:45:09.881-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 20ef42f7-1e3e-4255-9a06-bde0133067fd" archetype_id=20ef42f7-1e3e-4255-9a06-bde0133067fd
time=2026-01-06T19:45:09.881-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetype duration_ms=0 error="rpc error: code = NotFound desc = archetype not found: 20ef42f7-1e3e-4255-9a06-bde0133067fd"
time=2026-01-06T19:45:09.881-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_DeleteArchetype (0.36s)
    --- PASS: TestArchetypeHandler_DeleteArchetype/delete_archetype (0.01s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-06T19:45:10.046-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:10.046-03:00 level=INFO msg="TraitService registered"
time=2026-01-06T19:45:10.046-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-06T19:45:10.048-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.051-03:00 level=INFO msg="tenant created" tenant_id=35cca2f7-81d8-430a-a3ba-257e6df24749 name="Add Trait Test Tenant"
time=2026-01-06T19:45:10.051-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:10.051-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:10.052-03:00 level=INFO msg="archetype created" archetype_id=71953006-f18a-43ef-8bb6-cc793ecef616 name=Warrior
time=2026-01-06T19:45:10.052-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-06T19:45:10.052-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:10.054-03:00 level=INFO msg="trait created" trait_id=e3d90a64-a82b-4f42-b24f-049bce1f986b name=Brave
time=2026-01-06T19:45:10.054-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-06T19:45:10.054-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-06T19:45:10.056-03:00 level=INFO msg="trait added to archetype" archetype_id=71953006-f18a-43ef-8bb6-cc793ecef616 trait_id=e3d90a64-a82b-4f42-b24f-049bce1f986b
time=2026-01-06T19:45:10.056-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-06T19:45:10.056-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_AddTrait (0.17s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.01s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-06T19:45:10.224-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:10.224-03:00 level=INFO msg="TraitService registered"
time=2026-01-06T19:45:10.224-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-06T19:45:10.225-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.227-03:00 level=INFO msg="tenant created" tenant_id=54472658-9cdd-4eef-9901-2992c88eb9d3 name="Remove Trait Test Tenant"
time=2026-01-06T19:45:10.227-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:10.228-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:10.229-03:00 level=INFO msg="archetype created" archetype_id=af369e98-1810-4eec-a8f0-76170f6ef79a name=Warrior
time=2026-01-06T19:45:10.229-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-06T19:45:10.230-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:10.231-03:00 level=INFO msg="trait created" trait_id=2d2ef8c6-85ab-4109-a03a-5f70707d1454 name=Brave
time=2026-01-06T19:45:10.231-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-06T19:45:10.231-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-06T19:45:10.233-03:00 level=INFO msg="trait added to archetype" archetype_id=af369e98-1810-4eec-a8f0-76170f6ef79a trait_id=2d2ef8c6-85ab-4109-a03a-5f70707d1454
time=2026-01-06T19:45:10.233-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-06T19:45:10.233-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/RemoveTraitFromArchetype
time=2026-01-06T19:45:10.234-03:00 level=INFO msg="trait removed from archetype" archetype_id=af369e98-1810-4eec-a8f0-76170f6ef79a trait_id=2d2ef8c6-85ab-4109-a03a-5f70707d1454
time=2026-01-06T19:45:10.234-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/RemoveTraitFromArchetype duration_ms=0
time=2026-01-06T19:45:10.234-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_RemoveTrait (0.18s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.01s)
=== RUN   TestArchetypeHandler_GetArchetypeTraits
time=2026-01-06T19:45:10.407-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:10.407-03:00 level=INFO msg="TraitService registered"
time=2026-01-06T19:45:10.407-03:00 level=INFO msg="ArchetypeService registered"
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype
time=2026-01-06T19:45:10.408-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.410-03:00 level=INFO msg="tenant created" tenant_id=73b51291-fa1b-4cf1-98fd-f1487d421ed6 name="Get Traits Test Tenant"
time=2026-01-06T19:45:10.410-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:10.410-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:10.412-03:00 level=INFO msg="archetype created" archetype_id=8cb2aaa5-17c4-4ab2-b5a3-d30399b08e2e name=Warrior
time=2026-01-06T19:45:10.412-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=1
time=2026-01-06T19:45:10.412-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:10.413-03:00 level=INFO msg="trait created" trait_id=9508b47e-85b7-4902-aa00-8674251a856a name=Brave
time=2026-01-06T19:45:10.413-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-06T19:45:10.413-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:10.414-03:00 level=INFO msg="trait created" trait_id=a792f18b-9147-4fde-8f3d-7818dd9ffd09 name=Strong
time=2026-01-06T19:45:10.414-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-06T19:45:10.414-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-06T19:45:10.416-03:00 level=INFO msg="trait added to archetype" archetype_id=8cb2aaa5-17c4-4ab2-b5a3-d30399b08e2e trait_id=9508b47e-85b7-4902-aa00-8674251a856a
time=2026-01-06T19:45:10.416-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=1
time=2026-01-06T19:45:10.416-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/AddTraitToArchetype
time=2026-01-06T19:45:10.417-03:00 level=INFO msg="trait added to archetype" archetype_id=8cb2aaa5-17c4-4ab2-b5a3-d30399b08e2e trait_id=a792f18b-9147-4fde-8f3d-7818dd9ffd09
time=2026-01-06T19:45:10.417-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/AddTraitToArchetype duration_ms=0
time=2026-01-06T19:45:10.417-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-06T19:45:10.418-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits
time=2026-01-06T19:45:10.418-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.419-03:00 level=INFO msg="tenant created" tenant_id=7ce1c4c4-d71c-4096-9c54-fcfdfd4a3066 name="Empty Traits Test Tenant"
time=2026-01-06T19:45:10.419-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:10.419-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/CreateArchetype
time=2026-01-06T19:45:10.420-03:00 level=INFO msg="archetype created" archetype_id=bc7ec36d-5c31-403b-9293-8b7384248dd3 name=Mage
time=2026-01-06T19:45:10.420-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/CreateArchetype duration_ms=0
time=2026-01-06T19:45:10.420-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-06T19:45:10.420-03:00 level=INFO msg="gRPC request completed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0
=== RUN   TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id
time=2026-01-06T19:45:10.420-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.421-03:00 level=INFO msg="tenant created" tenant_id=5932567e-4f73-4770-a672-bf5c0a274800 name="Invalid ID Test Tenant"
time=2026-01-06T19:45:10.421-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:10.421-03:00 level=INFO msg="gRPC request started" method=/archetype.ArchetypeService/GetArchetypeTraits
time=2026-01-06T19:45:10.421-03:00 level=ERROR msg="gRPC request failed" method=/archetype.ArchetypeService/GetArchetypeTraits duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid archetype_id: invalid UUID length: 12"
time=2026-01-06T19:45:10.421-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArchetypeHandler_GetArchetypeTraits (0.19s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype (0.01s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/get_traits_for_archetype_with_no_traits (0.00s)
    --- PASS: TestArchetypeHandler_GetArchetypeTraits/invalid_archetype_id (0.00s)
=== RUN   TestArtifactHandler_CreateArtifact
time=2026-01-06T19:45:10.592-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:10.592-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:10.592-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_CreateArtifact/successful_creation
time=2026-01-06T19:45:10.592-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.594-03:00 level=INFO msg="tenant created" tenant_id=fc65f9ce-accd-4696-b74e-84f010157ceb name="Test Tenant for Artifact"
time=2026-01-06T19:45:10.594-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:10.595-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:10.596-03:00 level=INFO msg="world created" world_id=e78a1bf1-01fc-4f51-8e13-a3ab781cef19 name="Test World" tenant_id=fc65f9ce-accd-4696-b74e-84f010157ceb
time=2026-01-06T19:45:10.596-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:10.596-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:10.598-03:00 level=INFO msg="artifact created" artifact_id=fb2f1291-fa46-4f9d-b250-21dc7a1e30ca name="Test Artifact"
time=2026-01-06T19:45:10.598-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
=== RUN   TestArtifactHandler_CreateArtifact/empty_name
time=2026-01-06T19:45:10.598-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.598-03:00 level=INFO msg="tenant created" tenant_id=b9c85dc4-cba2-4133-8ff2-245db0a6218d name="Test Tenant 2"
time=2026-01-06T19:45:10.598-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:10.599-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:10.599-03:00 level=INFO msg="world created" world_id=43aaccd8-9a1a-4a19-93e5-6838d52e99fb name="Test World 2" tenant_id=b9c85dc4-cba2-4133-8ff2-245db0a6218d
time=2026-01-06T19:45:10.599-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:10.599-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:10.599-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-06T19:45:10.599-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_CreateArtifact (0.18s)
    --- PASS: TestArtifactHandler_CreateArtifact/successful_creation (0.01s)
    --- PASS: TestArtifactHandler_CreateArtifact/empty_name (0.00s)
=== RUN   TestArtifactHandler_GetArtifact
time=2026-01-06T19:45:10.757-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:10.757-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:10.757-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_GetArtifact/existing_artifact
time=2026-01-06T19:45:10.757-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.760-03:00 level=INFO msg="tenant created" tenant_id=2560434c-32d2-4ae5-9b84-784ad0866376 name="Get Test Tenant"
time=2026-01-06T19:45:10.760-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:10.760-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:10.761-03:00 level=INFO msg="world created" world_id=6b027326-85d0-476a-95e2-2a4ae0abeb0b name="Get Test World" tenant_id=2560434c-32d2-4ae5-9b84-784ad0866376
time=2026-01-06T19:45:10.761-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:10.761-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:10.763-03:00 level=INFO msg="artifact created" artifact_id=104ad747-224d-4d2b-9024-7100b966aac5 name="Get Test Artifact"
time=2026-01-06T19:45:10.763-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-06T19:45:10.763-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-06T19:45:10.764-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/GetArtifact duration_ms=0
=== RUN   TestArtifactHandler_GetArtifact/non-existing_artifact
time=2026-01-06T19:45:10.764-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.765-03:00 level=INFO msg="tenant created" tenant_id=7d5f0f88-47f9-43f7-a0c5-7ce0957f42f3 name="Non-existing Test Tenant"
time=2026-01-06T19:45:10.765-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:10.765-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-06T19:45:10.765-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 40084377-b40c-4424-8ac3-b2bd721d0bfa" artifact_id=40084377-b40c-4424-8ac3-b2bd721d0bfa
time=2026-01-06T19:45:10.765-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 40084377-b40c-4424-8ac3-b2bd721d0bfa"
time=2026-01-06T19:45:10.765-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_GetArtifact (0.16s)
    --- PASS: TestArtifactHandler_GetArtifact/existing_artifact (0.01s)
    --- PASS: TestArtifactHandler_GetArtifact/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_ListArtifacts
time=2026-01-06T19:45:10.970-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:10.970-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:10.970-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_ListArtifacts/list_artifacts
time=2026-01-06T19:45:10.970-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:10.973-03:00 level=INFO msg="tenant created" tenant_id=287cfabb-4b66-4967-8618-50b5fe5e95cf name="List Test Tenant"
time=2026-01-06T19:45:10.973-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:10.973-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:10.976-03:00 level=INFO msg="world created" world_id=b294d4de-efe9-4ee3-aae9-92cfbb3957d0 name="List Test World" tenant_id=287cfabb-4b66-4967-8618-50b5fe5e95cf
time=2026-01-06T19:45:10.976-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=2
time=2026-01-06T19:45:10.976-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:10.977-03:00 level=INFO msg="artifact created" artifact_id=0ed52274-f27f-402f-b9e0-469c7163b14b name="Artifact 1"
time=2026-01-06T19:45:10.977-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-06T19:45:10.977-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:10.978-03:00 level=INFO msg="artifact created" artifact_id=42bedf9d-d2ca-4f9f-b8fe-0d8945b4701b name="Artifact 2"
time=2026-01-06T19:45:10.978-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=0
time=2026-01-06T19:45:10.978-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/ListArtifacts
time=2026-01-06T19:45:10.978-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/ListArtifacts duration_ms=0
time=2026-01-06T19:45:10.979-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_ListArtifacts (0.22s)
    --- PASS: TestArtifactHandler_ListArtifacts/list_artifacts (0.01s)
=== RUN   TestArtifactHandler_UpdateArtifact
time=2026-01-06T19:45:11.142-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:11.142-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:11.142-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_UpdateArtifact/update_artifact
time=2026-01-06T19:45:11.143-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:11.146-03:00 level=INFO msg="tenant created" tenant_id=8e2af52c-2394-44f2-aedd-43910b8e4628 name="Update Test Tenant"
time=2026-01-06T19:45:11.146-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:11.146-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:11.148-03:00 level=INFO msg="world created" world_id=fbb7997c-5639-4ecf-97d4-7d8fea1240e4 name="Update Test World" tenant_id=8e2af52c-2394-44f2-aedd-43910b8e4628
time=2026-01-06T19:45:11.148-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:11.148-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:11.149-03:00 level=INFO msg="artifact created" artifact_id=5d226d1d-a438-449b-ba22-d6f27c9a4643 name="Original Artifact"
time=2026-01-06T19:45:11.149-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-06T19:45:11.149-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/UpdateArtifact
time=2026-01-06T19:45:11.151-03:00 level=INFO msg="artifact updated" artifact_id=5d226d1d-a438-449b-ba22-d6f27c9a4643 name="Updated Artifact"
time=2026-01-06T19:45:11.151-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/UpdateArtifact duration_ms=1
time=2026-01-06T19:45:11.151-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_UpdateArtifact (0.17s)
    --- PASS: TestArtifactHandler_UpdateArtifact/update_artifact (0.01s)
=== RUN   TestArtifactHandler_DeleteArtifact
time=2026-01-06T19:45:11.334-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:11.334-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:11.334-03:00 level=INFO msg="ArtifactService registered"
=== RUN   TestArtifactHandler_DeleteArtifact/delete_artifact
time=2026-01-06T19:45:11.335-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:11.337-03:00 level=INFO msg="tenant created" tenant_id=98c29469-4baf-4879-b299-5ec4d3402422 name="Delete Test Tenant"
time=2026-01-06T19:45:11.337-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:11.337-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:11.338-03:00 level=INFO msg="world created" world_id=db647ede-65c8-446f-9b0c-15e2927c1a32 name="Delete Test World" tenant_id=98c29469-4baf-4879-b299-5ec4d3402422
time=2026-01-06T19:45:11.338-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:11.339-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:11.340-03:00 level=INFO msg="artifact created" artifact_id=0f8a0baf-524f-4004-83e4-a7b8123a8f8d name="Artifact to Delete"
time=2026-01-06T19:45:11.340-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-06T19:45:11.340-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/DeleteArtifact
time=2026-01-06T19:45:11.342-03:00 level=INFO msg="artifact deleted" artifact_id=0f8a0baf-524f-4004-83e4-a7b8123a8f8d name="Artifact to Delete"
time=2026-01-06T19:45:11.342-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/DeleteArtifact duration_ms=2
time=2026-01-06T19:45:11.342-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/GetArtifact
time=2026-01-06T19:45:11.342-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 0f8a0baf-524f-4004-83e4-a7b8123a8f8d" artifact_id=0f8a0baf-524f-4004-83e4-a7b8123a8f8d
time=2026-01-06T19:45:11.342-03:00 level=ERROR msg="gRPC request failed" method=/artifact.ArtifactService/GetArtifact duration_ms=0 error="rpc error: code = NotFound desc = artifact not found: 0f8a0baf-524f-4004-83e4-a7b8123a8f8d"
time=2026-01-06T19:45:11.342-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactHandler_DeleteArtifact (0.19s)
    --- PASS: TestArtifactHandler_DeleteArtifact/delete_artifact (0.01s)
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats
time=2026-01-06T19:45:11.509-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:11.509-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:11.509-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-06T19:45:11.509-03:00 level=INFO msg="ArtifactRPGStatsService registered"
=== RUN   TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation
time=2026-01-06T19:45:11.510-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:11.512-03:00 level=INFO msg="tenant created" tenant_id=91ebd5e7-7b16-4607-8290-9fface592647 name="Test Tenant for Artifact Stats"
time=2026-01-06T19:45:11.512-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:11.513-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:11.514-03:00 level=INFO msg="world created" world_id=b3ec0cab-39bd-4bf1-bb1d-5dee0d3db99a name="Test World" tenant_id=91ebd5e7-7b16-4607-8290-9fface592647
time=2026-01-06T19:45:11.514-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:11.514-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:11.516-03:00 level=INFO msg="artifact created" artifact_id=7d8ff7ef-08a4-4ad7-8769-3058c6389413 name="Test Artifact"
time=2026-01-06T19:45:11.516-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-06T19:45:11.516-03:00 level=INFO msg="gRPC request started" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats
time=2026-01-06T19:45:11.519-03:00 level=INFO msg="artifact RPG stats created" artifact_id=7d8ff7ef-08a4-4ad7-8769-3058c6389413 version=1
time=2026-01-06T19:45:11.519-03:00 level=INFO msg="gRPC request completed" method=/artifact_rpg_stats.ArtifactRPGStatsService/CreateArtifactRPGStats duration_ms=2
time=2026-01-06T19:45:11.519-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats (0.18s)
    --- PASS: TestArtifactRPGStatsHandler_CreateArtifactRPGStats/successful_creation (0.01s)
=== RUN   TestBeatHandler_CreateBeat
time=2026-01-06T19:45:11.678-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:11.678-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:11.678-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:11.678-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:11.678-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:11.678-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:11.678-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:11.679-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:11.682-03:00 level=INFO msg="tenant created" tenant_id=ab27e223-450a-4ca8-9751-51da49713d63 name="Test Tenant for Beat"
time=2026-01-06T19:45:11.682-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:11.682-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:11.684-03:00 level=INFO msg="world created" world_id=d0e300f5-f4ea-440c-af05-3c16432f75df name="World of Test Story" tenant_id=ab27e223-450a-4ca8-9751-51da49713d63
time=2026-01-06T19:45:11.684-03:00 level=INFO msg="created implicit world for story" world_id=d0e300f5-f4ea-440c-af05-3c16432f75df story_title="Test Story"
time=2026-01-06T19:45:11.685-03:00 level=INFO msg="story created" story_id=0fdcacf4-de1a-4ae3-ac7d-c04bfed75065 title="Test Story" tenant_id=ab27e223-450a-4ca8-9751-51da49713d63
time=2026-01-06T19:45:11.685-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-06T19:45:11.686-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:11.687-03:00 level=INFO msg="scene created" scene_id=0f57668e-d47d-4409-9831-7c7600ede502 story_id=0fdcacf4-de1a-4ae3-ac7d-c04bfed75065 tenant_id=ab27e223-450a-4ca8-9751-51da49713d63
time=2026-01-06T19:45:11.687-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/successful_creation
time=2026-01-06T19:45:11.687-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:11.688-03:00 level=INFO msg="beat created" beat_id=860b08c7-273a-437d-b66f-6bbfa2b9a03d scene_id=0f57668e-d47d-4409-9831-7c7600ede502 tenant_id=ab27e223-450a-4ca8-9751-51da49713d63
time=2026-01-06T19:45:11.688-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
=== RUN   TestBeatHandler_CreateBeat/invalid_scene_id
time=2026-01-06T19:45:11.689-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:11.689-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = NotFound desc = scene not found: e6ba03c9-bf08-4ff6-acd9-1a2789095cfc"
=== RUN   TestBeatHandler_CreateBeat/invalid_type
time=2026-01-06T19:45:11.689-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:11.689-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on beat: invalid beat type"
=== RUN   TestBeatHandler_CreateBeat/missing_type
time=2026-01-06T19:45:11.689-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:11.689-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on type: type is required"
=== RUN   TestBeatHandler_CreateBeat/invalid_order_num
time=2026-01-06T19:45:11.690-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:11.690-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/CreateBeat duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-06T19:45:11.690-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_CreateBeat (0.17s)
    --- PASS: TestBeatHandler_CreateBeat/successful_creation (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_scene_id (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/missing_type (0.00s)
    --- PASS: TestBeatHandler_CreateBeat/invalid_order_num (0.00s)
=== RUN   TestBeatHandler_GetBeat
time=2026-01-06T19:45:11.892-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:11.892-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:11.892-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:11.892-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:11.892-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:11.892-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:11.892-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:11.893-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:11.896-03:00 level=INFO msg="tenant created" tenant_id=68100914-131b-4fd1-bcc2-e6a2534f2e44 name="Test Tenant for Get Beat"
time=2026-01-06T19:45:11.896-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:11.896-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:11.897-03:00 level=INFO msg="world created" world_id=96e0004c-ef78-4e5b-8529-abe79c45bd0d name="World of Test Story" tenant_id=68100914-131b-4fd1-bcc2-e6a2534f2e44
time=2026-01-06T19:45:11.897-03:00 level=INFO msg="created implicit world for story" world_id=96e0004c-ef78-4e5b-8529-abe79c45bd0d story_title="Test Story"
time=2026-01-06T19:45:11.898-03:00 level=INFO msg="story created" story_id=77349b45-51d0-4846-8637-179a62f9a974 title="Test Story" tenant_id=68100914-131b-4fd1-bcc2-e6a2534f2e44
time=2026-01-06T19:45:11.899-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:11.899-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:11.900-03:00 level=INFO msg="scene created" scene_id=80e833bf-1c56-4287-aa65-3f895cacfc6e story_id=77349b45-51d0-4846-8637-179a62f9a974 tenant_id=68100914-131b-4fd1-bcc2-e6a2534f2e44
time=2026-01-06T19:45:11.900-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_GetBeat/existing_beat
time=2026-01-06T19:45:11.900-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:11.901-03:00 level=INFO msg="beat created" beat_id=4fe3c9ce-cf56-4c4d-9e9b-fd093f4d6716 scene_id=80e833bf-1c56-4287-aa65-3f895cacfc6e tenant_id=68100914-131b-4fd1-bcc2-e6a2534f2e44
time=2026-01-06T19:45:11.901-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-06T19:45:11.901-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-06T19:45:11.901-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/GetBeat duration_ms=0
=== RUN   TestBeatHandler_GetBeat/non-existing_beat
time=2026-01-06T19:45:11.901-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/GetBeat
time=2026-01-06T19:45:11.901-03:00 level=ERROR msg="failed to get beat" error="beat not found: 78ac9252-2a3a-4ccb-b423-8fa7a47be855" beat_id=78ac9252-2a3a-4ccb-b423-8fa7a47be855 tenant_id=68100914-131b-4fd1-bcc2-e6a2534f2e44
time=2026-01-06T19:45:11.901-03:00 level=ERROR msg="gRPC request failed" method=/beat.BeatService/GetBeat duration_ms=0 error="rpc error: code = NotFound desc = beat not found: 78ac9252-2a3a-4ccb-b423-8fa7a47be855"
time=2026-01-06T19:45:11.901-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_GetBeat (0.21s)
    --- PASS: TestBeatHandler_GetBeat/existing_beat (0.00s)
    --- PASS: TestBeatHandler_GetBeat/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_UpdateBeat
time=2026-01-06T19:45:12.178-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:12.178-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:12.178-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:12.178-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:12.178-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:12.178-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:12.178-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:12.179-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:12.180-03:00 level=INFO msg="tenant created" tenant_id=89857fc2-b399-4f38-8848-ffe4ccf967cf name="Test Tenant for Update Beat"
time=2026-01-06T19:45:12.181-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:12.181-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:12.182-03:00 level=INFO msg="world created" world_id=71030441-fdd8-407c-95d6-6f211ce41eb1 name="World of Test Story" tenant_id=89857fc2-b399-4f38-8848-ffe4ccf967cf
time=2026-01-06T19:45:12.182-03:00 level=INFO msg="created implicit world for story" world_id=71030441-fdd8-407c-95d6-6f211ce41eb1 story_title="Test Story"
time=2026-01-06T19:45:12.183-03:00 level=INFO msg="story created" story_id=04a72b24-348f-432f-84c5-e3b97c3650e9 title="Test Story" tenant_id=89857fc2-b399-4f38-8848-ffe4ccf967cf
time=2026-01-06T19:45:12.183-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:12.183-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:12.184-03:00 level=INFO msg="scene created" scene_id=99184166-4003-4dfd-9ece-b3a4379f1a13 story_id=04a72b24-348f-432f-84c5-e3b97c3650e9 tenant_id=89857fc2-b399-4f38-8848-ffe4ccf967cf
time=2026-01-06T19:45:12.184-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_UpdateBeat/successful_update
time=2026-01-06T19:45:12.184-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:12.185-03:00 level=INFO msg="beat created" beat_id=efc3c91c-a337-4763-a7b8-feac507c90ae scene_id=99184166-4003-4dfd-9ece-b3a4379f1a13 tenant_id=89857fc2-b399-4f38-8848-ffe4ccf967cf
time=2026-01-06T19:45:12.185-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-06T19:45:12.185-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/UpdateBeat
time=2026-01-06T19:45:12.186-03:00 level=INFO msg="beat updated" beat_id=efc3c91c-a337-4763-a7b8-feac507c90ae tenant_id=89857fc2-b399-4f38-8848-ffe4ccf967cf
time=2026-01-06T19:45:12.186-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/UpdateBeat duration_ms=0
time=2026-01-06T19:45:12.186-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_UpdateBeat (0.29s)
    --- PASS: TestBeatHandler_UpdateBeat/successful_update (0.00s)
=== RUN   TestBeatHandler_MoveBeat
time=2026-01-06T19:45:12.326-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:12.326-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:12.326-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:12.326-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:12.326-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:12.326-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:12.326-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:12.326-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:12.328-03:00 level=INFO msg="tenant created" tenant_id=31d68a67-2936-46c7-b78f-4f3a92df534a name="Test Tenant for Move Beat"
time=2026-01-06T19:45:12.328-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:12.329-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:12.330-03:00 level=INFO msg="world created" world_id=5de928d4-8a33-4ecf-bebb-e82870a21d2a name="World of Test Story" tenant_id=31d68a67-2936-46c7-b78f-4f3a92df534a
time=2026-01-06T19:45:12.330-03:00 level=INFO msg="created implicit world for story" world_id=5de928d4-8a33-4ecf-bebb-e82870a21d2a story_title="Test Story"
time=2026-01-06T19:45:12.331-03:00 level=INFO msg="story created" story_id=08d4ff6c-ed86-4993-a7cd-4844bc8dd33a title="Test Story" tenant_id=31d68a67-2936-46c7-b78f-4f3a92df534a
time=2026-01-06T19:45:12.331-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:12.331-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:12.332-03:00 level=INFO msg="scene created" scene_id=53f71d4a-0304-42d1-95a2-3f7d66e63457 story_id=08d4ff6c-ed86-4993-a7cd-4844bc8dd33a tenant_id=31d68a67-2936-46c7-b78f-4f3a92df534a
time=2026-01-06T19:45:12.332-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-06T19:45:12.332-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:12.333-03:00 level=INFO msg="scene created" scene_id=dd8d3f0f-dba9-4265-9157-682f18bdc6cb story_id=08d4ff6c-ed86-4993-a7cd-4844bc8dd33a tenant_id=31d68a67-2936-46c7-b78f-4f3a92df534a
time=2026-01-06T19:45:12.333-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestBeatHandler_MoveBeat/move_to_different_scene
time=2026-01-06T19:45:12.333-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:12.334-03:00 level=INFO msg="beat created" beat_id=af64e766-cd8d-4d4c-9b42-6f706c75f6bd scene_id=53f71d4a-0304-42d1-95a2-3f7d66e63457 tenant_id=31d68a67-2936-46c7-b78f-4f3a92df534a
time=2026-01-06T19:45:12.334-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-06T19:45:12.334-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/MoveBeat
time=2026-01-06T19:45:12.335-03:00 level=INFO msg="beat moved" beat_id=af64e766-cd8d-4d4c-9b42-6f706c75f6bd new_scene_id=dd8d3f0f-dba9-4265-9157-682f18bdc6cb tenant_id=31d68a67-2936-46c7-b78f-4f3a92df534a
time=2026-01-06T19:45:12.335-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/MoveBeat duration_ms=0
time=2026-01-06T19:45:12.335-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_MoveBeat (0.15s)
    --- PASS: TestBeatHandler_MoveBeat/move_to_different_scene (0.00s)
=== RUN   TestBeatHandler_ListBeatsByScene
time=2026-01-06T19:45:12.478-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:12.478-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:12.478-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:12.478-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:12.478-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:12.478-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:12.478-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:12.479-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:12.481-03:00 level=INFO msg="tenant created" tenant_id=89e5a93a-c07e-4cf2-b52f-aa42638ccef6 name="Test Tenant for List Beats"
time=2026-01-06T19:45:12.481-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:12.482-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:12.483-03:00 level=INFO msg="world created" world_id=7c2f452e-f3f7-4531-816d-d801685fcbdc name="World of Test Story" tenant_id=89e5a93a-c07e-4cf2-b52f-aa42638ccef6
time=2026-01-06T19:45:12.484-03:00 level=INFO msg="created implicit world for story" world_id=7c2f452e-f3f7-4531-816d-d801685fcbdc story_title="Test Story"
time=2026-01-06T19:45:12.486-03:00 level=INFO msg="story created" story_id=53663e77-0342-4589-88f3-3addccf2c090 title="Test Story" tenant_id=89e5a93a-c07e-4cf2-b52f-aa42638ccef6
time=2026-01-06T19:45:12.486-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=4
time=2026-01-06T19:45:12.486-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:12.487-03:00 level=INFO msg="scene created" scene_id=a08fd7f5-cd8d-4548-b49c-1f1b4468563b story_id=53663e77-0342-4589-88f3-3addccf2c090 tenant_id=89e5a93a-c07e-4cf2-b52f-aa42638ccef6
time=2026-01-06T19:45:12.487-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_ListBeatsByScene/list_beats_by_scene
time=2026-01-06T19:45:12.487-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:12.489-03:00 level=INFO msg="beat created" beat_id=7ea649d6-b428-4b8d-ab1a-bd348d1a4c28 scene_id=a08fd7f5-cd8d-4548-b49c-1f1b4468563b tenant_id=89e5a93a-c07e-4cf2-b52f-aa42638ccef6
time=2026-01-06T19:45:12.489-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=1
time=2026-01-06T19:45:12.490-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:12.491-03:00 level=INFO msg="beat created" beat_id=218d1b86-a030-41cc-968e-36112a314ac5 scene_id=a08fd7f5-cd8d-4548-b49c-1f1b4468563b tenant_id=89e5a93a-c07e-4cf2-b52f-aa42638ccef6
time=2026-01-06T19:45:12.491-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-06T19:45:12.491-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:12.491-03:00 level=INFO msg="beat created" beat_id=b7ebf6cd-0858-4c20-a699-e733fafdf183 scene_id=a08fd7f5-cd8d-4548-b49c-1f1b4468563b tenant_id=89e5a93a-c07e-4cf2-b52f-aa42638ccef6
time=2026-01-06T19:45:12.491-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-06T19:45:12.491-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/ListBeatsByScene
time=2026-01-06T19:45:12.492-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/ListBeatsByScene duration_ms=0
time=2026-01-06T19:45:12.492-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_ListBeatsByScene (0.16s)
    --- PASS: TestBeatHandler_ListBeatsByScene/list_beats_by_scene (0.00s)
=== RUN   TestBeatHandler_DeleteBeat
time=2026-01-06T19:45:12.665-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:12.665-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:12.665-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:12.665-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:12.665-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:12.665-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:12.665-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:12.666-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:12.668-03:00 level=INFO msg="tenant created" tenant_id=765fe001-6be1-47e3-844f-7a2a31af410b name="Test Tenant for Delete Beat"
time=2026-01-06T19:45:12.668-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:12.668-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:12.669-03:00 level=INFO msg="world created" world_id=f7f303a8-08eb-4d71-ac02-6041f7b0eefe name="World of Test Story" tenant_id=765fe001-6be1-47e3-844f-7a2a31af410b
time=2026-01-06T19:45:12.669-03:00 level=INFO msg="created implicit world for story" world_id=f7f303a8-08eb-4d71-ac02-6041f7b0eefe story_title="Test Story"
time=2026-01-06T19:45:12.671-03:00 level=INFO msg="story created" story_id=6e111095-1885-491a-8742-cfb07d339881 title="Test Story" tenant_id=765fe001-6be1-47e3-844f-7a2a31af410b
time=2026-01-06T19:45:12.671-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:12.671-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:12.672-03:00 level=INFO msg="scene created" scene_id=531a307b-e43c-44c3-8687-2b8534af70cb story_id=6e111095-1885-491a-8742-cfb07d339881 tenant_id=765fe001-6be1-47e3-844f-7a2a31af410b
time=2026-01-06T19:45:12.672-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestBeatHandler_DeleteBeat/successful_delete
time=2026-01-06T19:45:12.672-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/CreateBeat
time=2026-01-06T19:45:12.673-03:00 level=INFO msg="beat created" beat_id=0850c043-797d-48df-9223-21a63044ce9b scene_id=531a307b-e43c-44c3-8687-2b8534af70cb tenant_id=765fe001-6be1-47e3-844f-7a2a31af410b
time=2026-01-06T19:45:12.673-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/CreateBeat duration_ms=0
time=2026-01-06T19:45:12.673-03:00 level=INFO msg="gRPC request started" method=/beat.BeatService/DeleteBeat
time=2026-01-06T19:45:12.674-03:00 level=INFO msg="beat deleted" beat_id=0850c043-797d-48df-9223-21a63044ce9b tenant_id=765fe001-6be1-47e3-844f-7a2a31af410b
time=2026-01-06T19:45:12.674-03:00 level=INFO msg="gRPC request completed" method=/beat.BeatService/DeleteBeat duration_ms=0
time=2026-01-06T19:45:12.674-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestBeatHandler_DeleteBeat (0.18s)
    --- PASS: TestBeatHandler_DeleteBeat/successful_delete (0.00s)
=== RUN   TestChapterHandler_CreateChapter
time=2026-01-06T19:45:12.823-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:12.823-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:12.823-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:12.823-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:12.823-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:12.823-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:12.823-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:12.824-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:12.827-03:00 level=INFO msg="tenant created" tenant_id=9d63dc23-7318-4a6b-b70e-d0545b184ad8 name="Test Tenant for Chapter"
time=2026-01-06T19:45:12.828-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-06T19:45:12.828-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:12.830-03:00 level=INFO msg="world created" world_id=637127ea-b1aa-4915-a68c-a33a87a8714f name="World of Test Story for Chapter" tenant_id=9d63dc23-7318-4a6b-b70e-d0545b184ad8
time=2026-01-06T19:45:12.830-03:00 level=INFO msg="created implicit world for story" world_id=637127ea-b1aa-4915-a68c-a33a87a8714f story_title="Test Story for Chapter"
time=2026-01-06T19:45:12.831-03:00 level=INFO msg="story created" story_id=b2c46a08-8585-4915-8e72-1df6a0ae5ce3 title="Test Story for Chapter" tenant_id=9d63dc23-7318-4a6b-b70e-d0545b184ad8
time=2026-01-06T19:45:12.831-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_CreateChapter/successful_creation
time=2026-01-06T19:45:12.831-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:12.833-03:00 level=INFO msg="chapter created" chapter_id=a48e4eae-dfee-4551-b704-7099f84da53a story_id=b2c46a08-8585-4915-8e72-1df6a0ae5ce3 tenant_id=9d63dc23-7318-4a6b-b70e-d0545b184ad8
time=2026-01-06T19:45:12.833-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestChapterHandler_CreateChapter/invalid_story_id
time=2026-01-06T19:45:12.833-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:12.833-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = NotFound desc = story not found: 169f4ecc-fe32-4578-8978-649a2066e760"
=== RUN   TestChapterHandler_CreateChapter/invalid_number
time=2026-01-06T19:45:12.833-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:12.833-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on number: must be greater than 0"
=== RUN   TestChapterHandler_CreateChapter/empty_title
time=2026-01-06T19:45:12.834-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:12.834-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/CreateChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on title: title is required"
time=2026-01-06T19:45:12.834-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_CreateChapter (0.16s)
    --- PASS: TestChapterHandler_CreateChapter/successful_creation (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_story_id (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/invalid_number (0.00s)
    --- PASS: TestChapterHandler_CreateChapter/empty_title (0.00s)
=== RUN   TestChapterHandler_GetChapter
time=2026-01-06T19:45:13.039-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:13.039-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:13.039-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:13.039-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:13.039-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:13.039-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:13.039-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:13.040-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:13.042-03:00 level=INFO msg="tenant created" tenant_id=866cf34b-c936-4cd6-a119-d2c67e2b07f4 name="Test Tenant for Get Chapter"
time=2026-01-06T19:45:13.042-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:13.042-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:13.043-03:00 level=INFO msg="world created" world_id=7a96d569-0ac9-4967-9614-a26320a057a0 name="World of Test Story" tenant_id=866cf34b-c936-4cd6-a119-d2c67e2b07f4
time=2026-01-06T19:45:13.043-03:00 level=INFO msg="created implicit world for story" world_id=7a96d569-0ac9-4967-9614-a26320a057a0 story_title="Test Story"
time=2026-01-06T19:45:13.044-03:00 level=INFO msg="story created" story_id=8a28ccd1-38e8-4b03-b6a5-f655563cff85 title="Test Story" tenant_id=866cf34b-c936-4cd6-a119-d2c67e2b07f4
time=2026-01-06T19:45:13.044-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_GetChapter/existing_chapter
time=2026-01-06T19:45:13.045-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:13.045-03:00 level=INFO msg="chapter created" chapter_id=05accbed-7c63-4d06-916d-d920bc264c76 story_id=8a28ccd1-38e8-4b03-b6a5-f655563cff85 tenant_id=866cf34b-c936-4cd6-a119-d2c67e2b07f4
time=2026-01-06T19:45:13.045-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-06T19:45:13.046-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-06T19:45:13.046-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/GetChapter duration_ms=0
=== RUN   TestChapterHandler_GetChapter/non-existing_chapter
time=2026-01-06T19:45:13.047-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-06T19:45:13.047-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 2c5d7f73-f51c-480c-9b9a-855bda8c3d3f" chapter_id=2c5d7f73-f51c-480c-9b9a-855bda8c3d3f tenant_id=866cf34b-c936-4cd6-a119-d2c67e2b07f4
time=2026-01-06T19:45:13.047-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 2c5d7f73-f51c-480c-9b9a-855bda8c3d3f"
=== RUN   TestChapterHandler_GetChapter/invalid_ID
time=2026-01-06T19:45:13.047-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-06T19:45:13.047-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid id: invalid UUID length: 10"
time=2026-01-06T19:45:13.047-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_GetChapter (0.21s)
    --- PASS: TestChapterHandler_GetChapter/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/non-existing_chapter (0.00s)
    --- PASS: TestChapterHandler_GetChapter/invalid_ID (0.00s)
=== RUN   TestChapterHandler_UpdateChapter
time=2026-01-06T19:45:13.186-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:13.186-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:13.186-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:13.186-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:13.186-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:13.186-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:13.186-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:13.186-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:13.189-03:00 level=INFO msg="tenant created" tenant_id=e68287dc-7a96-4aa6-bf4c-09a1293ab9ac name="Test Tenant for Update Chapter"
time=2026-01-06T19:45:13.189-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:13.189-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:13.190-03:00 level=INFO msg="world created" world_id=5bc37d5e-9074-415c-82d4-305291b200e3 name="World of Test Story" tenant_id=e68287dc-7a96-4aa6-bf4c-09a1293ab9ac
time=2026-01-06T19:45:13.190-03:00 level=INFO msg="created implicit world for story" world_id=5bc37d5e-9074-415c-82d4-305291b200e3 story_title="Test Story"
time=2026-01-06T19:45:13.191-03:00 level=INFO msg="story created" story_id=e3d58a24-f3fa-424e-bef9-87f2faec50e8 title="Test Story" tenant_id=e68287dc-7a96-4aa6-bf4c-09a1293ab9ac
time=2026-01-06T19:45:13.191-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_UpdateChapter/successful_update
time=2026-01-06T19:45:13.191-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:13.192-03:00 level=INFO msg="chapter created" chapter_id=4f1b84ea-ee37-40ce-97b1-6494945dc190 story_id=e3d58a24-f3fa-424e-bef9-87f2faec50e8 tenant_id=e68287dc-7a96-4aa6-bf4c-09a1293ab9ac
time=2026-01-06T19:45:13.192-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-06T19:45:13.192-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-06T19:45:13.193-03:00 level=INFO msg="chapter updated" chapter_id=4f1b84ea-ee37-40ce-97b1-6494945dc190 tenant_id=e68287dc-7a96-4aa6-bf4c-09a1293ab9ac
time=2026-01-06T19:45:13.193-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/UpdateChapter duration_ms=0
=== RUN   TestChapterHandler_UpdateChapter/non-existing_chapter
time=2026-01-06T19:45:13.193-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/UpdateChapter
time=2026-01-06T19:45:13.193-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/UpdateChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 69cf95b7-2d43-4897-acab-80dad8de541e"
time=2026-01-06T19:45:13.193-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_UpdateChapter (0.15s)
    --- PASS: TestChapterHandler_UpdateChapter/successful_update (0.00s)
    --- PASS: TestChapterHandler_UpdateChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_DeleteChapter
time=2026-01-06T19:45:13.442-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:13.442-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:13.442-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:13.442-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:13.442-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:13.442-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:13.442-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:13.442-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:13.445-03:00 level=INFO msg="tenant created" tenant_id=7b043efc-51ef-41a7-be1e-0b3815fa783e name="Test Tenant for Delete Chapter"
time=2026-01-06T19:45:13.445-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:13.445-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:13.446-03:00 level=INFO msg="world created" world_id=8f1cf9af-bb71-4213-8c16-d2678fbdf8e1 name="World of Test Story" tenant_id=7b043efc-51ef-41a7-be1e-0b3815fa783e
time=2026-01-06T19:45:13.446-03:00 level=INFO msg="created implicit world for story" world_id=8f1cf9af-bb71-4213-8c16-d2678fbdf8e1 story_title="Test Story"
time=2026-01-06T19:45:13.448-03:00 level=INFO msg="story created" story_id=1aa038b6-bb3e-4855-b959-0625def954b5 title="Test Story" tenant_id=7b043efc-51ef-41a7-be1e-0b3815fa783e
time=2026-01-06T19:45:13.448-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_DeleteChapter/successful_delete
time=2026-01-06T19:45:13.448-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:13.449-03:00 level=INFO msg="chapter created" chapter_id=2d4a8381-a2bb-41d2-b9f2-f6d482f3f86b story_id=1aa038b6-bb3e-4855-b959-0625def954b5 tenant_id=7b043efc-51ef-41a7-be1e-0b3815fa783e
time=2026-01-06T19:45:13.449-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
time=2026-01-06T19:45:13.449-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-06T19:45:13.451-03:00 level=INFO msg="chapter deleted" chapter_id=2d4a8381-a2bb-41d2-b9f2-f6d482f3f86b tenant_id=7b043efc-51ef-41a7-be1e-0b3815fa783e
time=2026-01-06T19:45:13.451-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/DeleteChapter duration_ms=1
time=2026-01-06T19:45:13.451-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/GetChapter
time=2026-01-06T19:45:13.451-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 2d4a8381-a2bb-41d2-b9f2-f6d482f3f86b" chapter_id=2d4a8381-a2bb-41d2-b9f2-f6d482f3f86b tenant_id=7b043efc-51ef-41a7-be1e-0b3815fa783e
time=2026-01-06T19:45:13.451-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/GetChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 2d4a8381-a2bb-41d2-b9f2-f6d482f3f86b"
=== RUN   TestChapterHandler_DeleteChapter/non-existing_chapter
time=2026-01-06T19:45:13.451-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/DeleteChapter
time=2026-01-06T19:45:13.451-03:00 level=ERROR msg="gRPC request failed" method=/chapter.ChapterService/DeleteChapter duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 957e1c17-0eb3-4946-87b8-55a706d4b554"
time=2026-01-06T19:45:13.452-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_DeleteChapter (0.26s)
    --- PASS: TestChapterHandler_DeleteChapter/successful_delete (0.00s)
    --- PASS: TestChapterHandler_DeleteChapter/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_ListChaptersByStory
time=2026-01-06T19:45:13.736-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:13.736-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:13.736-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:13.736-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:13.736-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:13.736-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:13.736-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:13.738-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:13.740-03:00 level=INFO msg="tenant created" tenant_id=0c1e0080-0e2c-40fb-959d-f2baa05b4b3c name="Test Tenant for List Chapters"
time=2026-01-06T19:45:13.740-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:13.740-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:13.741-03:00 level=INFO msg="world created" world_id=aa5bc7b0-b9a4-4102-b3e4-073533532cf9 name="World of Test Story" tenant_id=0c1e0080-0e2c-40fb-959d-f2baa05b4b3c
time=2026-01-06T19:45:13.741-03:00 level=INFO msg="created implicit world for story" world_id=aa5bc7b0-b9a4-4102-b3e4-073533532cf9 story_title="Test Story"
time=2026-01-06T19:45:13.742-03:00 level=INFO msg="story created" story_id=a92d67d0-0652-4832-a272-6762f1a87251 title="Test Story" tenant_id=0c1e0080-0e2c-40fb-959d-f2baa05b4b3c
time=2026-01-06T19:45:13.742-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestChapterHandler_ListChaptersByStory/list_chapters
time=2026-01-06T19:45:13.742-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:13.743-03:00 level=INFO msg="chapter created" chapter_id=a8adea96-00bf-4d8e-b56f-6b0aaedf7e10 story_id=a92d67d0-0652-4832-a272-6762f1a87251 tenant_id=0c1e0080-0e2c-40fb-959d-f2baa05b4b3c
time=2026-01-06T19:45:13.743-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-06T19:45:13.743-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:13.744-03:00 level=INFO msg="chapter created" chapter_id=1fd56b7a-f75b-4492-8098-7b9a96accbbb story_id=a92d67d0-0652-4832-a272-6762f1a87251 tenant_id=0c1e0080-0e2c-40fb-959d-f2baa05b4b3c
time=2026-01-06T19:45:13.744-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-06T19:45:13.744-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:13.744-03:00 level=INFO msg="chapter created" chapter_id=62643fe9-fcb3-4f9a-9635-13e25a76fb36 story_id=a92d67d0-0652-4832-a272-6762f1a87251 tenant_id=0c1e0080-0e2c-40fb-959d-f2baa05b4b3c
time=2026-01-06T19:45:13.744-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-06T19:45:13.744-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-06T19:45:13.745-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
=== RUN   TestChapterHandler_ListChaptersByStory/empty_list_for_new_story
time=2026-01-06T19:45:13.745-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:13.746-03:00 level=INFO msg="world created" world_id=ade6ed65-05c3-49f0-934a-9db84e374ade name="World of Empty Story" tenant_id=0c1e0080-0e2c-40fb-959d-f2baa05b4b3c
time=2026-01-06T19:45:13.746-03:00 level=INFO msg="created implicit world for story" world_id=ade6ed65-05c3-49f0-934a-9db84e374ade story_title="Empty Story"
time=2026-01-06T19:45:13.746-03:00 level=INFO msg="story created" story_id=fd3ce164-d65b-47e1-945f-b3e9f597cfc3 title="Empty Story" tenant_id=0c1e0080-0e2c-40fb-959d-f2baa05b4b3c
time=2026-01-06T19:45:13.746-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-06T19:45:13.746-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/ListChaptersByStory
time=2026-01-06T19:45:13.747-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/ListChaptersByStory duration_ms=0
time=2026-01-06T19:45:13.747-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestChapterHandler_ListChaptersByStory (0.30s)
    --- PASS: TestChapterHandler_ListChaptersByStory/list_chapters (0.00s)
    --- PASS: TestChapterHandler_ListChaptersByStory/empty_list_for_new_story (0.00s)
=== RUN   TestCharacterHandler_CreateCharacter
time=2026-01-06T19:45:13.899-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:13.899-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:13.899-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_CreateCharacter/successful_creation
time=2026-01-06T19:45:13.899-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:13.901-03:00 level=INFO msg="tenant created" tenant_id=16f4a570-5daf-475b-abd5-f6c96c43e353 name="Test Tenant for Character"
time=2026-01-06T19:45:13.901-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:13.902-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:13.903-03:00 level=INFO msg="world created" world_id=53ea5502-7619-4c05-90b7-36487617f71d name="Test World" tenant_id=16f4a570-5daf-475b-abd5-f6c96c43e353
time=2026-01-06T19:45:13.903-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:13.903-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:13.905-03:00 level=INFO msg="character created" character_id=bfae0536-5ee0-4858-8201-a4d29055394f name="Test Character"
time=2026-01-06T19:45:13.905-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestCharacterHandler_CreateCharacter/empty_name
time=2026-01-06T19:45:13.905-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:13.906-03:00 level=INFO msg="tenant created" tenant_id=dd7999fa-f168-4365-b276-6156786ce59d name="Test Tenant 2"
time=2026-01-06T19:45:13.906-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:13.906-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:13.906-03:00 level=INFO msg="world created" world_id=0e795017-833c-4bb3-aefb-df7da75fefb3 name="Test World 2" tenant_id=dd7999fa-f168-4365-b276-6156786ce59d
time=2026-01-06T19:45:13.906-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:13.907-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:13.907-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacter duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-06T19:45:13.907-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_CreateCharacter (0.16s)
    --- PASS: TestCharacterHandler_CreateCharacter/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacter/empty_name (0.00s)
=== RUN   TestCharacterHandler_GetCharacter
time=2026-01-06T19:45:14.058-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:14.058-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:14.058-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacter/existing_character
time=2026-01-06T19:45:14.067-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.069-03:00 level=INFO msg="tenant created" tenant_id=7367bb11-517e-4c01-abd0-04143eef64df name="Get Test Tenant"
time=2026-01-06T19:45:14.069-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:14.069-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:14.070-03:00 level=INFO msg="world created" world_id=7219b9f4-b057-4310-92fd-4d1ae0935198 name="Get Test World" tenant_id=7367bb11-517e-4c01-abd0-04143eef64df
time=2026-01-06T19:45:14.070-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:14.070-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.072-03:00 level=INFO msg="character created" character_id=91ba00e2-8571-46b6-8715-c8946d675055 name="Get Test Character"
time=2026-01-06T19:45:14.072-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:14.072-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-06T19:45:14.072-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacter duration_ms=0
=== RUN   TestCharacterHandler_GetCharacter/non-existing_character
time=2026-01-06T19:45:14.072-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.073-03:00 level=INFO msg="tenant created" tenant_id=a8cd89d7-bb33-4294-8bdd-134cdac13434 name="Non-existing Test Tenant"
time=2026-01-06T19:45:14.073-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:14.073-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-06T19:45:14.073-03:00 level=ERROR msg="failed to get character" error="character not found: 0163891b-5b56-4ead-a555-081f50999620" character_id=0163891b-5b56-4ead-a555-081f50999620
time=2026-01-06T19:45:14.073-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: 0163891b-5b56-4ead-a555-081f50999620"
time=2026-01-06T19:45:14.073-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacter (0.16s)
    --- PASS: TestCharacterHandler_GetCharacter/existing_character (0.01s)
    --- PASS: TestCharacterHandler_GetCharacter/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_ListCharacters
time=2026-01-06T19:45:14.239-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:14.239-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:14.239-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_ListCharacters/list_characters
time=2026-01-06T19:45:14.240-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.242-03:00 level=INFO msg="tenant created" tenant_id=fa115a0d-9687-4327-a00a-a363a84792a8 name="List Test Tenant"
time=2026-01-06T19:45:14.242-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:14.243-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:14.244-03:00 level=INFO msg="world created" world_id=cb9789f7-30fb-44db-ac86-d3726a9ca9ea name="List Test World" tenant_id=fa115a0d-9687-4327-a00a-a363a84792a8
time=2026-01-06T19:45:14.244-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:14.244-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.245-03:00 level=INFO msg="character created" character_id=3b02b00e-a75b-4ffc-a14a-083db147fd20 name="Character 1"
time=2026-01-06T19:45:14.245-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:14.245-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.246-03:00 level=INFO msg="character created" character_id=780d6825-2fd0-4c95-94d3-e4d4157dad8e name="Character 2"
time=2026-01-06T19:45:14.246-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:14.246-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacters
time=2026-01-06T19:45:14.247-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacters duration_ms=0
time=2026-01-06T19:45:14.247-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_ListCharacters (0.17s)
    --- PASS: TestCharacterHandler_ListCharacters/list_characters (0.01s)
=== RUN   TestCharacterHandler_UpdateCharacter
time=2026-01-06T19:45:14.440-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:14.440-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:14.440-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_UpdateCharacter/update_character
time=2026-01-06T19:45:14.441-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.444-03:00 level=INFO msg="tenant created" tenant_id=fe81063c-8af1-4c61-ae18-820194a2ee15 name="Update Test Tenant"
time=2026-01-06T19:45:14.444-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-06T19:45:14.444-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:14.445-03:00 level=INFO msg="world created" world_id=0ac39d79-0245-4918-af13-21ccd2ea1daa name="Update Test World" tenant_id=fe81063c-8af1-4c61-ae18-820194a2ee15
time=2026-01-06T19:45:14.445-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:14.446-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.448-03:00 level=INFO msg="character created" character_id=167b3a78-4385-4414-992d-95bab7dfa9cf name="Original Character"
time=2026-01-06T19:45:14.448-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=2
time=2026-01-06T19:45:14.449-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacter
time=2026-01-06T19:45:14.450-03:00 level=INFO msg="character updated" character_id=167b3a78-4385-4414-992d-95bab7dfa9cf name="Updated Character"
time=2026-01-06T19:45:14.450-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacter duration_ms=1
time=2026-01-06T19:45:14.453-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_UpdateCharacter (0.21s)
    --- PASS: TestCharacterHandler_UpdateCharacter/update_character (0.01s)
=== RUN   TestCharacterHandler_DeleteCharacter
time=2026-01-06T19:45:14.654-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:14.654-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:14.654-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_DeleteCharacter/delete_character
time=2026-01-06T19:45:14.654-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.657-03:00 level=INFO msg="tenant created" tenant_id=68ff86ce-b790-4446-876d-e62ec6b1c771 name="Delete Test Tenant"
time=2026-01-06T19:45:14.657-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:14.657-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:14.658-03:00 level=INFO msg="world created" world_id=bdf8b42a-b33b-4c93-88f0-35a03c99313e name="Delete Test World" tenant_id=68ff86ce-b790-4446-876d-e62ec6b1c771
time=2026-01-06T19:45:14.658-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:14.658-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.659-03:00 level=INFO msg="character created" character_id=d002dd93-425a-49bd-a8ea-a6f014014131 name="Character to Delete"
time=2026-01-06T19:45:14.659-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:14.659-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/DeleteCharacter
time=2026-01-06T19:45:14.662-03:00 level=INFO msg="character deleted" character_id=d002dd93-425a-49bd-a8ea-a6f014014131 name="Character to Delete"
time=2026-01-06T19:45:14.662-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/DeleteCharacter duration_ms=2
time=2026-01-06T19:45:14.662-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacter
time=2026-01-06T19:45:14.662-03:00 level=ERROR msg="failed to get character" error="character not found: d002dd93-425a-49bd-a8ea-a6f014014131" character_id=d002dd93-425a-49bd-a8ea-a6f014014131
time=2026-01-06T19:45:14.662-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacter duration_ms=0 error="rpc error: code = NotFound desc = character not found: d002dd93-425a-49bd-a8ea-a6f014014131"
time=2026-01-06T19:45:14.662-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_DeleteCharacter (0.21s)
    --- PASS: TestCharacterHandler_DeleteCharacter/delete_character (0.01s)
=== RUN   TestCharacterHandler_GetCharacterEvents
time=2026-01-06T19:45:14.819-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:14.819-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:14.819-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events
time=2026-01-06T19:45:14.821-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.823-03:00 level=INFO msg="tenant created" tenant_id=45fc18ba-ab08-4d7f-ba6d-24945e337020 name="Events Test Tenant"
time=2026-01-06T19:45:14.824-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:14.824-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:14.825-03:00 level=INFO msg="world created" world_id=9eeef0cb-5091-4c24-996a-9e0b2db61d05 name="Events Test World" tenant_id=45fc18ba-ab08-4d7f-ba6d-24945e337020
time=2026-01-06T19:45:14.825-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:14.825-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.827-03:00 level=INFO msg="character created" character_id=13747a67-c84c-419d-b761-d1fcebdccf8b name="Character With Events"
time=2026-01-06T19:45:14.827-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:14.827-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-06T19:45:14.828-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacterEvents duration_ms=0
=== RUN   TestCharacterHandler_GetCharacterEvents/invalid_character_id
time=2026-01-06T19:45:14.828-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.828-03:00 level=INFO msg="tenant created" tenant_id=fdfc9441-f637-4829-876a-e51baf3499f1 name="Invalid Events Test Tenant"
time=2026-01-06T19:45:14.828-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:14.829-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterEvents
time=2026-01-06T19:45:14.829-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacterEvents duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid character_id: invalid UUID length: 12"
time=2026-01-06T19:45:14.829-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacterEvents (0.16s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/get_events_for_character_with_no_events (0.01s)
    --- PASS: TestCharacterHandler_GetCharacterEvents/invalid_character_id (0.00s)
=== RUN   TestCharacterHandler_CreateCharacterRelationship
time=2026-01-06T19:45:14.973-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:14.973-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:14.973-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_CreateCharacterRelationship/successful_creation
time=2026-01-06T19:45:14.974-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.977-03:00 level=INFO msg="tenant created" tenant_id=f1007e98-01f8-4c08-98e3-d9b44a28d2b2 name="Relationship Test Tenant"
time=2026-01-06T19:45:14.977-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:14.977-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:14.978-03:00 level=INFO msg="world created" world_id=4cabcd2a-1e58-4f82-ac82-43ef51802b28 name="Relationship Test World" tenant_id=f1007e98-01f8-4c08-98e3-d9b44a28d2b2
time=2026-01-06T19:45:14.978-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:14.979-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.980-03:00 level=INFO msg="character created" character_id=b5103939-4079-4d6c-b44a-798305a9ccbc name="Character 1"
time=2026-01-06T19:45:14.980-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:14.981-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.981-03:00 level=INFO msg="character created" character_id=ce686523-f909-4174-af50-8c4b257c8049 name="Character 2"
time=2026-01-06T19:45:14.981-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:14.982-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-06T19:45:14.983-03:00 level=INFO msg="character relationship created" relationship_id=c4c51233-999e-46df-a09e-333265531e37 character1_id=b5103939-4079-4d6c-b44a-798305a9ccbc character2_id=ce686523-f909-4174-af50-8c4b257c8049
time=2026-01-06T19:45:14.983-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=1
=== RUN   TestCharacterHandler_CreateCharacterRelationship/same_character_relationship_fails
time=2026-01-06T19:45:14.984-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.985-03:00 level=INFO msg="tenant created" tenant_id=1241fd31-f942-4792-8d84-e1933e8e5444 name="Same Char Test Tenant"
time=2026-01-06T19:45:14.985-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:14.986-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:14.987-03:00 level=INFO msg="world created" world_id=d1b215ee-20da-4006-ae32-7fb65a8c2057 name="Same Char Test World" tenant_id=1241fd31-f942-4792-8d84-e1933e8e5444
time=2026-01-06T19:45:14.987-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:14.988-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.988-03:00 level=INFO msg="character created" character_id=bf4eb4d3-ca51-4b83-9a33-554762223f31 name="Solo Character"
time=2026-01-06T19:45:14.988-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:14.988-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-06T19:45:14.989-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=0 error="rpc error: code = Internal desc = internal server error: character1_id and character2_id must be different"
=== RUN   TestCharacterHandler_CreateCharacterRelationship/empty_relationship_type_fails
time=2026-01-06T19:45:14.989-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:14.989-03:00 level=INFO msg="tenant created" tenant_id=2fb5047d-edcb-41e2-ac50-c1b876ba0567 name="Empty Type Test Tenant"
time=2026-01-06T19:45:14.989-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:14.989-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:14.990-03:00 level=INFO msg="world created" world_id=2ef24ebf-82c3-4593-bdf9-6e255f3d5ff5 name="Empty Type Test World" tenant_id=2fb5047d-edcb-41e2-ac50-c1b876ba0567
time=2026-01-06T19:45:14.990-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:14.990-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.991-03:00 level=INFO msg="character created" character_id=26e8d654-c344-44f2-b176-0e04a3babe0a name="Character A"
time=2026-01-06T19:45:14.991-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:14.991-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:14.991-03:00 level=INFO msg="character created" character_id=b6a54736-15cc-4b01-bfd3-ad3f6d8b1755 name="Character B"
time=2026-01-06T19:45:14.991-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:14.991-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-06T19:45:14.992-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=0 error="rpc error: code = Internal desc = internal server error: character relationship type is required"
time=2026-01-06T19:45:14.992-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_CreateCharacterRelationship (0.16s)
    --- PASS: TestCharacterHandler_CreateCharacterRelationship/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacterRelationship/same_character_relationship_fails (0.01s)
    --- PASS: TestCharacterHandler_CreateCharacterRelationship/empty_relationship_type_fails (0.00s)
=== RUN   TestCharacterHandler_GetCharacterRelationship
time=2026-01-06T19:45:15.155-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:15.155-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:15.155-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_GetCharacterRelationship/existing_relationship
time=2026-01-06T19:45:15.156-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:15.158-03:00 level=INFO msg="tenant created" tenant_id=f6d7dcad-ae5c-4c6b-81a8-85d39eb64e93 name="Get Rel Test Tenant"
time=2026-01-06T19:45:15.158-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:15.158-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:15.159-03:00 level=INFO msg="world created" world_id=28172b25-6945-4988-8a5c-01e7bdcb487a name="Get Rel Test World" tenant_id=f6d7dcad-ae5c-4c6b-81a8-85d39eb64e93
time=2026-01-06T19:45:15.159-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:15.159-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.173-03:00 level=INFO msg="character created" character_id=15de1813-0d40-4c26-84ac-9c949b1a67ee name="Char 1"
time=2026-01-06T19:45:15.173-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=13
time=2026-01-06T19:45:15.173-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.173-03:00 level=INFO msg="character created" character_id=b270dc53-9dba-464f-98fe-85ef325120c1 name="Char 2"
time=2026-01-06T19:45:15.173-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:15.173-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-06T19:45:15.211-03:00 level=INFO msg="character relationship created" relationship_id=8af35ad8-d251-400d-b26c-32f9496f9d52 character1_id=15de1813-0d40-4c26-84ac-9c949b1a67ee character2_id=b270dc53-9dba-464f-98fe-85ef325120c1
time=2026-01-06T19:45:15.211-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=37
time=2026-01-06T19:45:15.212-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterRelationship
time=2026-01-06T19:45:15.212-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/GetCharacterRelationship duration_ms=0
=== RUN   TestCharacterHandler_GetCharacterRelationship/non-existing_relationship
time=2026-01-06T19:45:15.212-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:15.213-03:00 level=INFO msg="tenant created" tenant_id=246ffe29-c721-4991-befb-03efac0c0d2f name="NonExist Rel Test Tenant"
time=2026-01-06T19:45:15.213-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:15.213-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterRelationship
time=2026-01-06T19:45:15.213-03:00 level=ERROR msg="failed to get character relationship" error="character_relationship not found: 4d67a1c9-8965-4e6d-98b2-491f4f8f3d40" relationship_id=4d67a1c9-8965-4e6d-98b2-491f4f8f3d40
time=2026-01-06T19:45:15.213-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacterRelationship duration_ms=0 error="rpc error: code = NotFound desc = character_relationship not found: 4d67a1c9-8965-4e6d-98b2-491f4f8f3d40"
time=2026-01-06T19:45:15.213-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_GetCharacterRelationship (0.27s)
    --- PASS: TestCharacterHandler_GetCharacterRelationship/existing_relationship (0.06s)
    --- PASS: TestCharacterHandler_GetCharacterRelationship/non-existing_relationship (0.00s)
=== RUN   TestCharacterHandler_ListCharacterRelationships
time=2026-01-06T19:45:15.412-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:15.412-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:15.412-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_ListCharacterRelationships/list_relationships
time=2026-01-06T19:45:15.413-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:15.415-03:00 level=INFO msg="tenant created" tenant_id=b362c076-8921-458e-a2e9-9320cac29016 name="List Rel Test Tenant"
time=2026-01-06T19:45:15.415-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:15.415-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:15.417-03:00 level=INFO msg="world created" world_id=bb4418c4-bd1d-42a1-9ba4-8e6d2f33f664 name="List Rel Test World" tenant_id=b362c076-8921-458e-a2e9-9320cac29016
time=2026-01-06T19:45:15.417-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:15.417-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.418-03:00 level=INFO msg="character created" character_id=f1ec4743-a35d-461a-9871-8d8c0a6c6aa8 name="Main Character"
time=2026-01-06T19:45:15.418-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:15.418-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.419-03:00 level=INFO msg="character created" character_id=736fb9b9-287b-42f4-a1cd-4b3fd1786d7c name=Friend
time=2026-01-06T19:45:15.419-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:15.419-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.420-03:00 level=INFO msg="character created" character_id=53165f9c-0963-4b51-ad56-bd865814b5e0 name=Enemy
time=2026-01-06T19:45:15.420-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:15.420-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-06T19:45:15.421-03:00 level=INFO msg="character relationship created" relationship_id=269ea192-bb62-427f-a087-8d4862be5e7d character1_id=f1ec4743-a35d-461a-9871-8d8c0a6c6aa8 character2_id=736fb9b9-287b-42f4-a1cd-4b3fd1786d7c
time=2026-01-06T19:45:15.421-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=1
time=2026-01-06T19:45:15.421-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-06T19:45:15.422-03:00 level=INFO msg="character relationship created" relationship_id=cd5d7576-2298-453f-a84d-fc84361c6a13 character1_id=f1ec4743-a35d-461a-9871-8d8c0a6c6aa8 character2_id=53165f9c-0963-4b51-ad56-bd865814b5e0
time=2026-01-06T19:45:15.422-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=0
time=2026-01-06T19:45:15.422-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacterRelationships
time=2026-01-06T19:45:15.423-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacterRelationships duration_ms=0
=== RUN   TestCharacterHandler_ListCharacterRelationships/list_with_no_relationships
time=2026-01-06T19:45:15.423-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:15.424-03:00 level=INFO msg="tenant created" tenant_id=51298b3d-029b-4aab-890b-6735379f4679 name="Empty List Test Tenant"
time=2026-01-06T19:45:15.424-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:15.424-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:15.424-03:00 level=INFO msg="world created" world_id=7f16b0be-7d22-40d3-9de2-743c4789a3d5 name="Empty List Test World" tenant_id=51298b3d-029b-4aab-890b-6735379f4679
time=2026-01-06T19:45:15.424-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:15.424-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.425-03:00 level=INFO msg="character created" character_id=53cde9c1-9901-4e13-a91f-ccb005de8b0e name="Lonely Character"
time=2026-01-06T19:45:15.425-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:15.425-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/ListCharacterRelationships
time=2026-01-06T19:45:15.425-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/ListCharacterRelationships duration_ms=0
time=2026-01-06T19:45:15.425-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_ListCharacterRelationships (0.16s)
    --- PASS: TestCharacterHandler_ListCharacterRelationships/list_relationships (0.01s)
    --- PASS: TestCharacterHandler_ListCharacterRelationships/list_with_no_relationships (0.00s)
=== RUN   TestCharacterHandler_UpdateCharacterRelationship
time=2026-01-06T19:45:15.625-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:15.625-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:15.625-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_UpdateCharacterRelationship/update_relationship
time=2026-01-06T19:45:15.628-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:15.632-03:00 level=INFO msg="tenant created" tenant_id=ac08b56b-b30a-4f0e-ad3c-952a5dd56999 name="Update Rel Test Tenant"
time=2026-01-06T19:45:15.632-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-06T19:45:15.633-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:15.634-03:00 level=INFO msg="world created" world_id=d1916d7b-8891-4282-86b9-d3f7b6d444dd name="Update Rel Test World" tenant_id=ac08b56b-b30a-4f0e-ad3c-952a5dd56999
time=2026-01-06T19:45:15.634-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:15.634-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.636-03:00 level=INFO msg="character created" character_id=5c2545a2-ab4a-4235-a2fd-4dceedc85d80 name="Char A"
time=2026-01-06T19:45:15.636-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:15.636-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.637-03:00 level=INFO msg="character created" character_id=03ed81f4-42d2-40a0-ba54-f706c447004a name="Char B"
time=2026-01-06T19:45:15.637-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:15.637-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-06T19:45:15.638-03:00 level=INFO msg="character relationship created" relationship_id=49edb8e2-de25-4b39-b232-a3aa7306e469 character1_id=5c2545a2-ab4a-4235-a2fd-4dceedc85d80 character2_id=03ed81f4-42d2-40a0-ba54-f706c447004a
time=2026-01-06T19:45:15.638-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=1
time=2026-01-06T19:45:15.638-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacterRelationship
time=2026-01-06T19:45:15.639-03:00 level=INFO msg="character relationship updated" relationship_id=49edb8e2-de25-4b39-b232-a3aa7306e469
time=2026-01-06T19:45:15.639-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacterRelationship duration_ms=0
=== RUN   TestCharacterHandler_UpdateCharacterRelationship/partial_update
time=2026-01-06T19:45:15.639-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:15.640-03:00 level=INFO msg="tenant created" tenant_id=7d8614c6-ccfe-4407-b8bb-29a7facb572f name="Partial Update Test Tenant"
time=2026-01-06T19:45:15.640-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:15.640-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:15.641-03:00 level=INFO msg="world created" world_id=a0710740-b56d-4ede-974d-8de1d19f6b2b name="Partial Update Test World" tenant_id=7d8614c6-ccfe-4407-b8bb-29a7facb572f
time=2026-01-06T19:45:15.641-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:15.641-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.642-03:00 level=INFO msg="character created" character_id=22d34d48-3e62-4444-b3be-96b2dc8f81c1 name=Hero
time=2026-01-06T19:45:15.642-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:15.642-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.642-03:00 level=INFO msg="character created" character_id=29d674e4-4104-45f9-b297-009403741fd5 name=Villain
time=2026-01-06T19:45:15.642-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:15.643-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-06T19:45:15.643-03:00 level=INFO msg="character relationship created" relationship_id=8ab89389-ff35-40c3-8523-be32e8c7fbcd character1_id=22d34d48-3e62-4444-b3be-96b2dc8f81c1 character2_id=29d674e4-4104-45f9-b297-009403741fd5
time=2026-01-06T19:45:15.643-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=0
time=2026-01-06T19:45:15.643-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/UpdateCharacterRelationship
time=2026-01-06T19:45:15.644-03:00 level=INFO msg="character relationship updated" relationship_id=8ab89389-ff35-40c3-8523-be32e8c7fbcd
time=2026-01-06T19:45:15.644-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/UpdateCharacterRelationship duration_ms=0
time=2026-01-06T19:45:15.644-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_UpdateCharacterRelationship (0.22s)
    --- PASS: TestCharacterHandler_UpdateCharacterRelationship/update_relationship (0.01s)
    --- PASS: TestCharacterHandler_UpdateCharacterRelationship/partial_update (0.00s)
=== RUN   TestCharacterHandler_DeleteCharacterRelationship
time=2026-01-06T19:45:15.798-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:15.798-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:15.798-03:00 level=INFO msg="CharacterService registered"
=== RUN   TestCharacterHandler_DeleteCharacterRelationship/delete_relationship
time=2026-01-06T19:45:15.802-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:15.804-03:00 level=INFO msg="tenant created" tenant_id=5d60ca03-5fc9-46c7-88da-d7e345ad610b name="Delete Rel Test Tenant"
time=2026-01-06T19:45:15.804-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:15.804-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:15.805-03:00 level=INFO msg="world created" world_id=9939f3ab-0f01-4407-af97-dceca1bda316 name="Delete Rel Test World" tenant_id=5d60ca03-5fc9-46c7-88da-d7e345ad610b
time=2026-01-06T19:45:15.805-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:15.805-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.807-03:00 level=INFO msg="character created" character_id=8f876ecc-5365-43de-8650-035a290dad67 name="Del Char 1"
time=2026-01-06T19:45:15.807-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:15.807-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.808-03:00 level=INFO msg="character created" character_id=fe5cb082-d8e6-4171-8caa-6503c186edad name="Del Char 2"
time=2026-01-06T19:45:15.808-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=0
time=2026-01-06T19:45:15.808-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacterRelationship
time=2026-01-06T19:45:15.810-03:00 level=INFO msg="character relationship created" relationship_id=b3b7b888-4bdc-44ab-8047-3e838bfc02d8 character1_id=8f876ecc-5365-43de-8650-035a290dad67 character2_id=fe5cb082-d8e6-4171-8caa-6503c186edad
time=2026-01-06T19:45:15.810-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacterRelationship duration_ms=1
time=2026-01-06T19:45:15.810-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/DeleteCharacterRelationship
time=2026-01-06T19:45:15.811-03:00 level=INFO msg="character relationship deleted" relationship_id=b3b7b888-4bdc-44ab-8047-3e838bfc02d8
time=2026-01-06T19:45:15.811-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/DeleteCharacterRelationship duration_ms=0
time=2026-01-06T19:45:15.811-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/GetCharacterRelationship
time=2026-01-06T19:45:15.811-03:00 level=ERROR msg="failed to get character relationship" error="character_relationship not found: b3b7b888-4bdc-44ab-8047-3e838bfc02d8" relationship_id=b3b7b888-4bdc-44ab-8047-3e838bfc02d8
time=2026-01-06T19:45:15.811-03:00 level=ERROR msg="gRPC request failed" method=/character.CharacterService/GetCharacterRelationship duration_ms=0 error="rpc error: code = NotFound desc = character_relationship not found: b3b7b888-4bdc-44ab-8047-3e838bfc02d8"
time=2026-01-06T19:45:15.812-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterHandler_DeleteCharacterRelationship (0.17s)
    --- PASS: TestCharacterHandler_DeleteCharacterRelationship/delete_relationship (0.01s)
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats
time=2026-01-06T19:45:15.972-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:15.972-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:15.972-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:15.972-03:00 level=INFO msg="CharacterRPGStatsService registered"
=== RUN   TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation
time=2026-01-06T19:45:15.973-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:15.975-03:00 level=INFO msg="tenant created" tenant_id=0e82880c-a30a-4f32-a06d-0f872a20160b name="Test Tenant for Character Stats"
time=2026-01-06T19:45:15.975-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:15.975-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:15.976-03:00 level=INFO msg="world created" world_id=2de4026f-d3a0-4e59-8bde-cc19c53062a3 name="Test World" tenant_id=0e82880c-a30a-4f32-a06d-0f872a20160b
time=2026-01-06T19:45:15.976-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:15.977-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:15.978-03:00 level=INFO msg="character created" character_id=2eb0f1fe-de4a-439e-92f0-52ae2ceb05f5 name="Test Character"
time=2026-01-06T19:45:15.978-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:15.978-03:00 level=INFO msg="gRPC request started" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats
time=2026-01-06T19:45:15.980-03:00 level=INFO msg="character RPG stats created" character_id=2eb0f1fe-de4a-439e-92f0-52ae2ceb05f5 version=1
time=2026-01-06T19:45:15.980-03:00 level=INFO msg="gRPC request completed" method=/character_rpg_stats.CharacterRPGStatsService/CreateCharacterRPGStats duration_ms=2
time=2026-01-06T19:45:15.980-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats (0.17s)
    --- PASS: TestCharacterRPGStatsHandler_CreateCharacterRPGStats/successful_creation (0.01s)
=== RUN   TestCharacterSkillHandler_AddCharacterSkill
time=2026-01-06T19:45:16.140-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:16.140-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:16.140-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:16.140-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:16.140-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:16.140-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill
time=2026-01-06T19:45:16.141-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:16.143-03:00 level=INFO msg="tenant created" tenant_id=8ec41f81-4fe1-4b02-b122-de44d9dc97d7 name="Test Tenant for Character Skill"
time=2026-01-06T19:45:16.143-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:16.143-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:16.145-03:00 level=INFO msg="world created" world_id=2fb54041-6966-4555-a9a2-b6b372bdfa08 name="Test World" tenant_id=8ec41f81-4fe1-4b02-b122-de44d9dc97d7
time=2026-01-06T19:45:16.145-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:16.145-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:16.149-03:00 level=INFO msg="character created" character_id=93411208-b378-4134-913c-db422639ab56 name="Test Character"
time=2026-01-06T19:45:16.149-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=3
time=2026-01-06T19:45:16.151-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:16.154-03:00 level=INFO msg="RPG system created" rpg_system_id=32013d29-6d42-4266-b484-6badc8f06346 name="Test System"
time=2026-01-06T19:45:16.154-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=2
time=2026-01-06T19:45:16.155-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:16.156-03:00 level=INFO msg="skill created" skill_id=64484f50-75e5-46c8-a44b-78b2f1a46249 name=Fireball
time=2026-01-06T19:45:16.156-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-06T19:45:16.156-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-06T19:45:16.158-03:00 level=INFO msg="character learned skill" character_id=93411208-b378-4134-913c-db422639ab56 skill_id=64484f50-75e5-46c8-a44b-78b2f1a46249
time=2026-01-06T19:45:16.158-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-06T19:45:16.158-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_AddCharacterSkill (0.18s)
    --- PASS: TestCharacterSkillHandler_AddCharacterSkill/successful_add_skill (0.02s)
=== RUN   TestCharacterSkillHandler_ListCharacterSkills
time=2026-01-06T19:45:16.320-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:16.320-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:16.320-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:16.320-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:16.320-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:16.320-03:00 level=INFO msg="CharacterSkillService registered"
=== RUN   TestCharacterSkillHandler_ListCharacterSkills/list_character_skills
time=2026-01-06T19:45:16.321-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:16.323-03:00 level=INFO msg="tenant created" tenant_id=ea45b9ae-a1c6-45ac-b7fa-fd814771ff8f name="List Test Tenant"
time=2026-01-06T19:45:16.323-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:16.323-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:16.324-03:00 level=INFO msg="world created" world_id=c8065889-2702-4e84-aebd-48102fbd051e name="List Test World" tenant_id=ea45b9ae-a1c6-45ac-b7fa-fd814771ff8f
time=2026-01-06T19:45:16.324-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:16.325-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:16.326-03:00 level=INFO msg="character created" character_id=cecc628b-17dd-48f0-9e80-b4b4b652eadb name="List Test Character"
time=2026-01-06T19:45:16.326-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:16.327-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:16.332-03:00 level=INFO msg="RPG system created" rpg_system_id=d3840ea6-f8bc-4565-afc6-ae1c73b4be2c name="List Test System"
time=2026-01-06T19:45:16.332-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=5
time=2026-01-06T19:45:16.332-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:16.334-03:00 level=INFO msg="skill created" skill_id=fb301c61-7fd5-4a12-bae0-a08941a37e40 name="List Test Skill"
time=2026-01-06T19:45:16.334-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-06T19:45:16.334-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-06T19:45:16.335-03:00 level=INFO msg="character learned skill" character_id=cecc628b-17dd-48f0-9e80-b4b4b652eadb skill_id=fb301c61-7fd5-4a12-bae0-a08941a37e40
time=2026-01-06T19:45:16.335-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-06T19:45:16.336-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-06T19:45:16.336-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
time=2026-01-06T19:45:16.336-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_ListCharacterSkills (0.18s)
    --- PASS: TestCharacterSkillHandler_ListCharacterSkills/list_character_skills (0.02s)
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill
time=2026-01-06T19:45:16.496-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:16.496-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:16.496-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:16.496-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:16.496-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:16.496-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-06T19:45:16.497-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:16.505-03:00 level=INFO msg="tenant created" tenant_id=1dea2784-479b-4237-8a39-4bfc11706b23 name="Update Skill Test Tenant"
time=2026-01-06T19:45:16.505-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=7
time=2026-01-06T19:45:16.506-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:16.508-03:00 level=INFO msg="world created" world_id=b4994c37-ef2c-4dc4-8489-b9d172555d51 name="Test World" tenant_id=1dea2784-479b-4237-8a39-4bfc11706b23
time=2026-01-06T19:45:16.508-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:16.508-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:16.509-03:00 level=INFO msg="character created" character_id=38a00cc0-9a76-4d75-b521-0e37843daebf name="Test Character"
time=2026-01-06T19:45:16.509-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:16.509-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:16.510-03:00 level=INFO msg="RPG system created" rpg_system_id=63c66adb-7815-471f-9290-6b5374794ec6 name="Test System"
time=2026-01-06T19:45:16.510-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:16.510-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:16.511-03:00 level=INFO msg="skill created" skill_id=efe90093-db07-461b-a42c-b45324757543 name=Fireball
time=2026-01-06T19:45:16.511-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/successful_update
time=2026-01-06T19:45:16.511-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-06T19:45:16.513-03:00 level=INFO msg="character learned skill" character_id=38a00cc0-9a76-4d75-b521-0e37843daebf skill_id=efe90093-db07-461b-a42c-b45324757543
time=2026-01-06T19:45:16.513-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=1
time=2026-01-06T19:45:16.513-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-06T19:45:16.514-03:00 level=INFO msg="character skill updated" id=f97dd9d8-8e0c-47a5-89b5-a7b36e41b03e character_id=38a00cc0-9a76-4d75-b521-0e37843daebf
time=2026-01-06T19:45:16.514-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0
=== RUN   TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill
time=2026-01-06T19:45:16.514-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/UpdateCharacterSkill
time=2026-01-06T19:45:16.515-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/UpdateCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: fff79a7a-5049-44b6-89fe-a7c954fbbd71"
time=2026-01-06T19:45:16.515-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_UpdateCharacterSkill (0.18s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/successful_update (0.00s)
    --- PASS: TestCharacterSkillHandler_UpdateCharacterSkill/non-existing_skill (0.00s)
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill
time=2026-01-06T19:45:16.669-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:16.669-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:16.669-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:16.669-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:16.669-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:16.669-03:00 level=INFO msg="CharacterSkillService registered"
time=2026-01-06T19:45:16.670-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:16.672-03:00 level=INFO msg="tenant created" tenant_id=ba57ca59-050d-467c-99ca-3b3a088c3ee1 name="Delete Skill Test Tenant"
time=2026-01-06T19:45:16.672-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:16.672-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:16.673-03:00 level=INFO msg="world created" world_id=bd0bc05d-c4a5-49c3-8a22-6b1a7af2da7a name="Test World" tenant_id=ba57ca59-050d-467c-99ca-3b3a088c3ee1
time=2026-01-06T19:45:16.673-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:16.673-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:16.674-03:00 level=INFO msg="character created" character_id=46ee5807-db9b-403d-877f-632c6033ef7c name="Test Character"
time=2026-01-06T19:45:16.674-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:16.675-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:16.675-03:00 level=INFO msg="RPG system created" rpg_system_id=2b1eaead-b28f-4bc5-a9df-4842b2e78803 name="Test System"
time=2026-01-06T19:45:16.675-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:16.675-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:16.676-03:00 level=INFO msg="skill created" skill_id=10164ea2-7b5e-4458-9268-3432590df7ef name=Fireball
time=2026-01-06T19:45:16.676-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete
time=2026-01-06T19:45:16.677-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/AddCharacterSkill
time=2026-01-06T19:45:16.679-03:00 level=INFO msg="character learned skill" character_id=46ee5807-db9b-403d-877f-632c6033ef7c skill_id=10164ea2-7b5e-4458-9268-3432590df7ef
time=2026-01-06T19:45:16.679-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/AddCharacterSkill duration_ms=2
time=2026-01-06T19:45:16.680-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-06T19:45:16.681-03:00 level=INFO msg="character skill deleted" id=72845b9c-67d1-4ef3-8d28-46f411120288
time=2026-01-06T19:45:16.681-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=1
time=2026-01-06T19:45:16.682-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/ListCharacterSkills
time=2026-01-06T19:45:16.683-03:00 level=INFO msg="gRPC request completed" method=/character_skill.CharacterSkillService/ListCharacterSkills duration_ms=0
=== RUN   TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill
time=2026-01-06T19:45:16.683-03:00 level=INFO msg="gRPC request started" method=/character_skill.CharacterSkillService/RemoveCharacterSkill
time=2026-01-06T19:45:16.683-03:00 level=ERROR msg="failed to delete character skill" error="character_skill not found: 4d029fe8-e650-49b7-8830-29363f116630" id=4d029fe8-e650-49b7-8830-29363f116630
time=2026-01-06T19:45:16.683-03:00 level=ERROR msg="gRPC request failed" method=/character_skill.CharacterSkillService/RemoveCharacterSkill duration_ms=0 error="rpc error: code = NotFound desc = character_skill not found: 4d029fe8-e650-49b7-8830-29363f116630"
time=2026-01-06T19:45:16.683-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestCharacterSkillHandler_DeleteCharacterSkill (0.17s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/successful_delete (0.01s)
    --- PASS: TestCharacterSkillHandler_DeleteCharacterSkill/delete_non-existing_skill (0.00s)
=== RUN   TestContentBlockHandler_CreateContentBlock
time=2026-01-06T19:45:16.841-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:16.841-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:16.841-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:16.841-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:16.841-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:16.841-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:16.842-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:16.845-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:16.851-03:00 level=INFO msg="tenant created" tenant_id=d86b04bf-bb09-4895-a02a-611b9da53c45 name="Test Tenant for ContentBlock"
time=2026-01-06T19:45:16.851-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-06T19:45:16.852-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:16.854-03:00 level=INFO msg="world created" world_id=7bbfd43c-eb27-48b3-9239-2b25c8963c19 name="World of Test Story" tenant_id=d86b04bf-bb09-4895-a02a-611b9da53c45
time=2026-01-06T19:45:16.854-03:00 level=INFO msg="created implicit world for story" world_id=7bbfd43c-eb27-48b3-9239-2b25c8963c19 story_title="Test Story"
time=2026-01-06T19:45:16.855-03:00 level=INFO msg="story created" story_id=1ec63d50-04ba-4281-8629-750aca92cc09 title="Test Story" tenant_id=d86b04bf-bb09-4895-a02a-611b9da53c45
time=2026-01-06T19:45:16.855-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:16.855-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:16.856-03:00 level=INFO msg="chapter created" chapter_id=19f5d2d7-2195-4ecf-b754-46bded95134d story_id=1ec63d50-04ba-4281-8629-750aca92cc09 tenant_id=d86b04bf-bb09-4895-a02a-611b9da53c45
time=2026-01-06T19:45:16.856-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/successful_creation
time=2026-01-06T19:45:16.856-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:16.857-03:00 level=INFO msg="content block created" content_block_id=f0877a88-c69d-46c9-8085-bf41160d3443 tenant_id=d86b04bf-bb09-4895-a02a-611b9da53c45
time=2026-01-06T19:45:16.857-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/default_kind
time=2026-01-06T19:45:16.857-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:16.858-03:00 level=INFO msg="content block created" content_block_id=7af62690-097a-4008-b3fc-e9e99ea1c939 tenant_id=d86b04bf-bb09-4895-a02a-611b9da53c45
time=2026-01-06T19:45:16.858-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_chapter_id
time=2026-01-06T19:45:16.858-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:16.858-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = NotFound desc = chapter not found: 0157e657-c036-41e0-adae-7358c47250af"
=== RUN   TestContentBlockHandler_CreateContentBlock/empty_content
time=2026-01-06T19:45:16.858-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:16.859-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on content: content is required"
=== RUN   TestContentBlockHandler_CreateContentBlock/invalid_order_num
time=2026-01-06T19:45:16.859-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:16.859-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-06T19:45:16.859-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_CreateContentBlock (0.20s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/default_kind (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_chapter_id (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/empty_content (0.00s)
    --- PASS: TestContentBlockHandler_CreateContentBlock/invalid_order_num (0.00s)
=== RUN   TestContentBlockHandler_GetContentBlock
time=2026-01-06T19:45:17.144-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:17.144-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:17.144-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:17.144-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:17.144-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:17.144-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:17.144-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:17.145-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:17.147-03:00 level=INFO msg="tenant created" tenant_id=c2a12a19-6844-42dd-884d-4e5ae8111c7d name="Test Tenant for Get ContentBlock"
time=2026-01-06T19:45:17.147-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:17.147-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:17.149-03:00 level=INFO msg="world created" world_id=a09062e7-94df-4712-8911-171b53ac19e2 name="World of Test Story" tenant_id=c2a12a19-6844-42dd-884d-4e5ae8111c7d
time=2026-01-06T19:45:17.149-03:00 level=INFO msg="created implicit world for story" world_id=a09062e7-94df-4712-8911-171b53ac19e2 story_title="Test Story"
time=2026-01-06T19:45:17.150-03:00 level=INFO msg="story created" story_id=de8dafd0-5073-42a3-8880-674bea566e86 title="Test Story" tenant_id=c2a12a19-6844-42dd-884d-4e5ae8111c7d
time=2026-01-06T19:45:17.150-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:17.150-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:17.151-03:00 level=INFO msg="chapter created" chapter_id=ebe8f216-caaa-4851-a7c0-9fc6a85f8b9e story_id=de8dafd0-5073-42a3-8880-674bea566e86 tenant_id=c2a12a19-6844-42dd-884d-4e5ae8111c7d
time=2026-01-06T19:45:17.151-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_GetContentBlock/existing_content_block
time=2026-01-06T19:45:17.151-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:17.152-03:00 level=INFO msg="content block created" content_block_id=1e131802-5a6d-4279-ba8c-6bb4061d55d6 tenant_id=c2a12a19-6844-42dd-884d-4e5ae8111c7d
time=2026-01-06T19:45:17.152-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-06T19:45:17.153-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-06T19:45:17.153-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0
=== RUN   TestContentBlockHandler_GetContentBlock/non-existing_content_block
time=2026-01-06T19:45:17.153-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/GetContentBlock
time=2026-01-06T19:45:17.153-03:00 level=ERROR msg="failed to get content block" error="content_block not found: a39d9ece-9461-46d4-a168-f70e0fed3fa5" content_block_id=a39d9ece-9461-46d4-a168-f70e0fed3fa5 tenant_id=c2a12a19-6844-42dd-884d-4e5ae8111c7d
time=2026-01-06T19:45:17.154-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockService/GetContentBlock duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: a39d9ece-9461-46d4-a168-f70e0fed3fa5"
time=2026-01-06T19:45:17.154-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_GetContentBlock (0.35s)
    --- PASS: TestContentBlockHandler_GetContentBlock/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_GetContentBlock/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_UpdateContentBlock
time=2026-01-06T19:45:17.400-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:17.400-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:17.400-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:17.400-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:17.400-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:17.400-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:17.400-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:17.405-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:17.409-03:00 level=INFO msg="tenant created" tenant_id=f1991e31-3186-43d0-9303-33ecb70cb7e2 name="Test Tenant for Update ContentBlock"
time=2026-01-06T19:45:17.409-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-06T19:45:17.409-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:17.411-03:00 level=INFO msg="world created" world_id=991d7da9-a526-41d8-a3b9-6cfa26e63305 name="World of Test Story" tenant_id=f1991e31-3186-43d0-9303-33ecb70cb7e2
time=2026-01-06T19:45:17.411-03:00 level=INFO msg="created implicit world for story" world_id=991d7da9-a526-41d8-a3b9-6cfa26e63305 story_title="Test Story"
time=2026-01-06T19:45:17.412-03:00 level=INFO msg="story created" story_id=6be39f9b-fbbe-48ca-8dc0-c3901a50e4e2 title="Test Story" tenant_id=f1991e31-3186-43d0-9303-33ecb70cb7e2
time=2026-01-06T19:45:17.412-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:17.412-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:17.414-03:00 level=INFO msg="chapter created" chapter_id=8cd84a7d-4da3-4db9-ae25-938e09929678 story_id=6be39f9b-fbbe-48ca-8dc0-c3901a50e4e2 tenant_id=f1991e31-3186-43d0-9303-33ecb70cb7e2
time=2026-01-06T19:45:17.414-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestContentBlockHandler_UpdateContentBlock/successful_update
time=2026-01-06T19:45:17.415-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:17.416-03:00 level=INFO msg="content block created" content_block_id=ce37317c-c1ac-4485-9047-ad5835d757b9 tenant_id=f1991e31-3186-43d0-9303-33ecb70cb7e2
time=2026-01-06T19:45:17.416-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-06T19:45:17.417-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/UpdateContentBlock
time=2026-01-06T19:45:17.419-03:00 level=INFO msg="content block updated" content_block_id=ce37317c-c1ac-4485-9047-ad5835d757b9 tenant_id=f1991e31-3186-43d0-9303-33ecb70cb7e2
time=2026-01-06T19:45:17.419-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/UpdateContentBlock duration_ms=1
time=2026-01-06T19:45:17.419-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_UpdateContentBlock (0.19s)
    --- PASS: TestContentBlockHandler_UpdateContentBlock/successful_update (0.00s)
=== RUN   TestContentBlockHandler_DeleteContentBlock
time=2026-01-06T19:45:17.581-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:17.581-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:17.581-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:17.581-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:17.581-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:17.581-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:17.581-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:17.584-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:17.586-03:00 level=INFO msg="tenant created" tenant_id=50a97164-9e4d-44a8-8439-2b9740c9358c name="Test Tenant for Delete ContentBlock"
time=2026-01-06T19:45:17.586-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:17.587-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:17.588-03:00 level=INFO msg="world created" world_id=15bfdd77-0147-4d52-ae70-b0da2395cc53 name="World of Test Story" tenant_id=50a97164-9e4d-44a8-8439-2b9740c9358c
time=2026-01-06T19:45:17.588-03:00 level=INFO msg="created implicit world for story" world_id=15bfdd77-0147-4d52-ae70-b0da2395cc53 story_title="Test Story"
time=2026-01-06T19:45:17.589-03:00 level=INFO msg="story created" story_id=1b3075f1-46f6-4130-bc59-e7c9a13a8dd8 title="Test Story" tenant_id=50a97164-9e4d-44a8-8439-2b9740c9358c
time=2026-01-06T19:45:17.589-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:17.589-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:17.590-03:00 level=INFO msg="chapter created" chapter_id=e7b02719-7aac-4848-8b14-c0d5bc55ab60 story_id=1b3075f1-46f6-4130-bc59-e7c9a13a8dd8 tenant_id=50a97164-9e4d-44a8-8439-2b9740c9358c
time=2026-01-06T19:45:17.590-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_DeleteContentBlock/successful_delete
time=2026-01-06T19:45:17.590-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:17.591-03:00 level=INFO msg="content block created" content_block_id=f92638e9-b1a3-4c3b-83e1-1281af8738ae tenant_id=50a97164-9e4d-44a8-8439-2b9740c9358c
time=2026-01-06T19:45:17.591-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-06T19:45:17.591-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/DeleteContentBlock
time=2026-01-06T19:45:17.592-03:00 level=INFO msg="content block deleted" content_block_id=f92638e9-b1a3-4c3b-83e1-1281af8738ae tenant_id=50a97164-9e4d-44a8-8439-2b9740c9358c
time=2026-01-06T19:45:17.592-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/DeleteContentBlock duration_ms=0
time=2026-01-06T19:45:17.593-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_DeleteContentBlock (0.16s)
    --- PASS: TestContentBlockHandler_DeleteContentBlock/successful_delete (0.00s)
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter
time=2026-01-06T19:45:17.740-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:17.740-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:17.740-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:17.740-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:17.740-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:17.740-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:17.740-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:17.741-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:17.743-03:00 level=INFO msg="tenant created" tenant_id=045799a0-8bcc-4e93-a9c2-c582315a833c name="Test Tenant for List ContentBlocks"
time=2026-01-06T19:45:17.743-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:17.743-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:17.745-03:00 level=INFO msg="world created" world_id=f8a9001b-c793-483f-bcfb-f2282e1a258b name="World of Test Story" tenant_id=045799a0-8bcc-4e93-a9c2-c582315a833c
time=2026-01-06T19:45:17.745-03:00 level=INFO msg="created implicit world for story" world_id=f8a9001b-c793-483f-bcfb-f2282e1a258b story_title="Test Story"
time=2026-01-06T19:45:17.746-03:00 level=INFO msg="story created" story_id=076f84fe-4bc7-4aff-96a1-dfc973c9a960 title="Test Story" tenant_id=045799a0-8bcc-4e93-a9c2-c582315a833c
time=2026-01-06T19:45:17.746-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:17.746-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:17.747-03:00 level=INFO msg="chapter created" chapter_id=23d228e3-0161-429c-87ec-03bab2cfe93d story_id=076f84fe-4bc7-4aff-96a1-dfc973c9a960 tenant_id=045799a0-8bcc-4e93-a9c2-c582315a833c
time=2026-01-06T19:45:17.747-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter
time=2026-01-06T19:45:17.747-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:17.748-03:00 level=INFO msg="content block created" content_block_id=38706834-1bce-44d3-b478-7edb52f89ae8 tenant_id=045799a0-8bcc-4e93-a9c2-c582315a833c
time=2026-01-06T19:45:17.748-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
time=2026-01-06T19:45:17.749-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:17.749-03:00 level=INFO msg="content block created" content_block_id=5984d459-f314-4624-aa66-0f5ad976c563 tenant_id=045799a0-8bcc-4e93-a9c2-c582315a833c
time=2026-01-06T19:45:17.749-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-06T19:45:17.750-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:17.750-03:00 level=INFO msg="content block created" content_block_id=03530e35-8cc7-4868-97d9-5631b4255c5d tenant_id=045799a0-8bcc-4e93-a9c2-c582315a833c
time=2026-01-06T19:45:17.750-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=0
time=2026-01-06T19:45:17.751-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/ListContentBlocksByChapter
time=2026-01-06T19:45:17.752-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/ListContentBlocksByChapter duration_ms=1
time=2026-01-06T19:45:17.755-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockHandler_ListContentBlocksByChapter (0.16s)
    --- PASS: TestContentBlockHandler_ListContentBlocksByChapter/list_content_blocks_by_chapter (0.01s)
=== RUN   TestContentBlockReferenceHandler_CreateAndList
time=2026-01-06T19:45:17.899-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:17.899-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:17.899-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:17.899-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:17.899-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:17.899-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:17.899-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:17.900-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:17.902-03:00 level=INFO msg="tenant created" tenant_id=4fd133eb-fdab-4ec3-a447-a7f000f92dc7 name="Test Tenant for ContentBlockReference"
time=2026-01-06T19:45:17.902-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:17.903-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:17.904-03:00 level=INFO msg="world created" world_id=6e03c58d-d494-4de4-8932-552864a58eac name="World of Test Story" tenant_id=4fd133eb-fdab-4ec3-a447-a7f000f92dc7
time=2026-01-06T19:45:17.904-03:00 level=INFO msg="created implicit world for story" world_id=6e03c58d-d494-4de4-8932-552864a58eac story_title="Test Story"
time=2026-01-06T19:45:17.906-03:00 level=INFO msg="story created" story_id=ec586647-ea95-494c-9f96-98d83acf1f3d title="Test Story" tenant_id=4fd133eb-fdab-4ec3-a447-a7f000f92dc7
time=2026-01-06T19:45:17.906-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-06T19:45:17.906-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:17.907-03:00 level=INFO msg="chapter created" chapter_id=d739227e-922b-4c37-b1a6-dd7d066218da story_id=ec586647-ea95-494c-9f96-98d83acf1f3d tenant_id=4fd133eb-fdab-4ec3-a447-a7f000f92dc7
time=2026-01-06T19:45:17.907-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-06T19:45:17.907-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockService/CreateContentBlock
time=2026-01-06T19:45:17.909-03:00 level=INFO msg="content block created" content_block_id=228a3b5b-0404-4b45-9c9b-9889d6fbf0e3 tenant_id=4fd133eb-fdab-4ec3-a447-a7f000f92dc7
time=2026-01-06T19:45:17.909-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockService/CreateContentBlock duration_ms=1
=== RUN   TestContentBlockReferenceHandler_CreateAndList/create_and_list_references
time=2026-01-06T19:45:17.912-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-06T19:45:17.914-03:00 level=INFO msg="content block reference created" reference_id=e818e5bc-06df-47cf-95ee-94af75cc95c3 content_block_id=228a3b5b-0404-4b45-9c9b-9889d6fbf0e3 tenant_id=4fd133eb-fdab-4ec3-a447-a7f000f92dc7
time=2026-01-06T19:45:17.914-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=2
time=2026-01-06T19:45:17.914-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock
time=2026-01-06T19:45:17.915-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/ListContentBlockReferencesByContentBlock duration_ms=0
time=2026-01-06T19:45:17.915-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference
time=2026-01-06T19:45:17.916-03:00 level=INFO msg="content block reference deleted" reference_id=e818e5bc-06df-47cf-95ee-94af75cc95c3 tenant_id=4fd133eb-fdab-4ec3-a447-a7f000f92dc7
time=2026-01-06T19:45:17.916-03:00 level=INFO msg="gRPC request completed" method=/content_block.ContentBlockReferenceService/DeleteContentBlockReference duration_ms=0
=== RUN   TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference
time=2026-01-06T19:45:17.916-03:00 level=INFO msg="gRPC request started" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference
time=2026-01-06T19:45:17.916-03:00 level=ERROR msg="gRPC request failed" method=/content_block.ContentBlockReferenceService/CreateContentBlockReference duration_ms=0 error="rpc error: code = NotFound desc = content_block not found: dfa1a5b8-f70c-4024-9b67-62481df22619"
time=2026-01-06T19:45:17.916-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestContentBlockReferenceHandler_CreateAndList (0.16s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/create_and_list_references (0.00s)
    --- PASS: TestContentBlockReferenceHandler_CreateAndList/invalid_content_block_for_reference (0.00s)
=== RUN   TestEventHandler_CreateEvent
time=2026-01-06T19:45:18.040-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:18.040-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:18.040-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_CreateEvent/successful_creation
time=2026-01-06T19:45:18.041-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:18.043-03:00 level=INFO msg="tenant created" tenant_id=102fe341-fa5a-4814-938a-438bc4f50043 name="Test Tenant for Event"
time=2026-01-06T19:45:18.043-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:18.044-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:18.045-03:00 level=INFO msg="world created" world_id=77404122-ec82-4f27-81f1-404e295006bc name="Test World" tenant_id=102fe341-fa5a-4814-938a-438bc4f50043
time=2026-01-06T19:45:18.045-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:18.045-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-06T19:45:18.049-03:00 level=INFO msg="event created" event_id=90c6dc6f-3e5f-4771-8ea2-2e4249083a44 world_id=77404122-ec82-4f27-81f1-404e295006bc
time=2026-01-06T19:45:18.049-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=4
=== RUN   TestEventHandler_CreateEvent/empty_name
time=2026-01-06T19:45:18.050-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:18.050-03:00 level=INFO msg="tenant created" tenant_id=ad51214f-9049-4301-8abe-d871c4eee8c4 name="Test Tenant 2"
time=2026-01-06T19:45:18.050-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:18.051-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:18.052-03:00 level=INFO msg="world created" world_id=19b72e30-b023-41ba-a366-726e828719d1 name="Test World 2" tenant_id=ad51214f-9049-4301-8abe-d871c4eee8c4
time=2026-01-06T19:45:18.052-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:18.052-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-06T19:45:18.052-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/CreateEvent duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-06T19:45:18.053-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_CreateEvent (0.13s)
    --- PASS: TestEventHandler_CreateEvent/successful_creation (0.01s)
    --- PASS: TestEventHandler_CreateEvent/empty_name (0.00s)
=== RUN   TestEventHandler_GetEvent
time=2026-01-06T19:45:18.181-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:18.181-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:18.181-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_GetEvent/existing_event
time=2026-01-06T19:45:18.183-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:18.186-03:00 level=INFO msg="tenant created" tenant_id=461b8591-1c38-49b8-8517-4d58e6f38bf8 name="Get Test Tenant"
time=2026-01-06T19:45:18.186-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:18.186-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:18.188-03:00 level=INFO msg="world created" world_id=a3577af7-2746-4396-9524-e398d850a3f2 name="Get Test World" tenant_id=461b8591-1c38-49b8-8517-4d58e6f38bf8
time=2026-01-06T19:45:18.188-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:18.190-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-06T19:45:18.192-03:00 level=INFO msg="event created" event_id=0cba9cb0-52e0-41fe-8226-db8a35c4805b world_id=a3577af7-2746-4396-9524-e398d850a3f2
time=2026-01-06T19:45:18.192-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-06T19:45:18.193-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-06T19:45:18.193-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/GetEvent duration_ms=0
=== RUN   TestEventHandler_GetEvent/non-existing_event
time=2026-01-06T19:45:18.194-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:18.194-03:00 level=INFO msg="tenant created" tenant_id=7ae33b75-3eb2-4582-89c0-475177dc1d9d name="Non-existing Test Tenant"
time=2026-01-06T19:45:18.194-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:18.195-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-06T19:45:18.195-03:00 level=ERROR msg="failed to get event" error="event not found: f9257351-3acb-4557-a0d2-b5a0ce73f106" event_id=f9257351-3acb-4557-a0d2-b5a0ce73f106
time=2026-01-06T19:45:18.195-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: f9257351-3acb-4557-a0d2-b5a0ce73f106"
time=2026-01-06T19:45:18.195-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_GetEvent (0.15s)
    --- PASS: TestEventHandler_GetEvent/existing_event (0.01s)
    --- PASS: TestEventHandler_GetEvent/non-existing_event (0.00s)
=== RUN   TestEventHandler_ListEvents
time=2026-01-06T19:45:18.337-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:18.337-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:18.337-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_ListEvents/list_events
time=2026-01-06T19:45:18.338-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:18.340-03:00 level=INFO msg="tenant created" tenant_id=d67f8454-5873-4e32-9a7c-55395de84e48 name="List Test Tenant"
time=2026-01-06T19:45:18.340-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:18.340-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:18.341-03:00 level=INFO msg="world created" world_id=76ed6520-dfad-44d5-8a13-55bd42330ae2 name="List Test World" tenant_id=d67f8454-5873-4e32-9a7c-55395de84e48
time=2026-01-06T19:45:18.341-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:18.341-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-06T19:45:18.343-03:00 level=INFO msg="event created" event_id=f01fff9f-c4f4-4eb0-8d70-25a18bc21d1d world_id=76ed6520-dfad-44d5-8a13-55bd42330ae2
time=2026-01-06T19:45:18.343-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-06T19:45:18.343-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-06T19:45:18.343-03:00 level=INFO msg="event created" event_id=3668ae3e-25eb-434e-9ead-3e27b61f8181 world_id=76ed6520-dfad-44d5-8a13-55bd42330ae2
time=2026-01-06T19:45:18.343-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=0
time=2026-01-06T19:45:18.344-03:00 level=INFO msg="gRPC request started" method=/event.EventService/ListEvents
time=2026-01-06T19:45:18.344-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/ListEvents duration_ms=0
time=2026-01-06T19:45:18.344-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_ListEvents (0.15s)
    --- PASS: TestEventHandler_ListEvents/list_events (0.01s)
=== RUN   TestEventHandler_UpdateEvent
time=2026-01-06T19:45:18.492-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:18.493-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:18.493-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_UpdateEvent/update_event
time=2026-01-06T19:45:18.493-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:18.495-03:00 level=INFO msg="tenant created" tenant_id=74ee648b-5853-4c21-bbdd-9b7d70f4665f name="Update Test Tenant"
time=2026-01-06T19:45:18.495-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:18.495-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:18.496-03:00 level=INFO msg="world created" world_id=a0ec9cf6-ed83-4781-b1df-1adb3fcd0d9e name="Update Test World" tenant_id=74ee648b-5853-4c21-bbdd-9b7d70f4665f
time=2026-01-06T19:45:18.496-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:18.497-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-06T19:45:18.498-03:00 level=INFO msg="event created" event_id=1eddc3d4-530f-4d36-a3c7-a43d6ed4fef5 world_id=a0ec9cf6-ed83-4781-b1df-1adb3fcd0d9e
time=2026-01-06T19:45:18.498-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-06T19:45:18.498-03:00 level=INFO msg="gRPC request started" method=/event.EventService/UpdateEvent
time=2026-01-06T19:45:18.499-03:00 level=INFO msg="event updated" event_id=1eddc3d4-530f-4d36-a3c7-a43d6ed4fef5
time=2026-01-06T19:45:18.499-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/UpdateEvent duration_ms=1
time=2026-01-06T19:45:18.500-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_UpdateEvent (0.16s)
    --- PASS: TestEventHandler_UpdateEvent/update_event (0.01s)
=== RUN   TestEventHandler_DeleteEvent
time=2026-01-06T19:45:18.636-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:18.636-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:18.636-03:00 level=INFO msg="EventService registered"
=== RUN   TestEventHandler_DeleteEvent/delete_event
time=2026-01-06T19:45:18.637-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:18.639-03:00 level=INFO msg="tenant created" tenant_id=e39d43a7-7805-445c-984a-73cd459d4910 name="Delete Test Tenant"
time=2026-01-06T19:45:18.639-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:18.639-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:18.641-03:00 level=INFO msg="world created" world_id=59103e73-713a-4220-87a4-5eab611cab53 name="Delete Test World" tenant_id=e39d43a7-7805-445c-984a-73cd459d4910
time=2026-01-06T19:45:18.641-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:18.641-03:00 level=INFO msg="gRPC request started" method=/event.EventService/CreateEvent
time=2026-01-06T19:45:18.643-03:00 level=INFO msg="event created" event_id=d877aced-41e8-4e0b-aba2-61272fb4d8e0 world_id=59103e73-713a-4220-87a4-5eab611cab53
time=2026-01-06T19:45:18.643-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/CreateEvent duration_ms=1
time=2026-01-06T19:45:18.643-03:00 level=INFO msg="gRPC request started" method=/event.EventService/DeleteEvent
time=2026-01-06T19:45:18.645-03:00 level=INFO msg="event deleted" event_id=d877aced-41e8-4e0b-aba2-61272fb4d8e0
time=2026-01-06T19:45:18.645-03:00 level=INFO msg="gRPC request completed" method=/event.EventService/DeleteEvent duration_ms=1
time=2026-01-06T19:45:18.645-03:00 level=INFO msg="gRPC request started" method=/event.EventService/GetEvent
time=2026-01-06T19:45:18.645-03:00 level=ERROR msg="failed to get event" error="event not found: d877aced-41e8-4e0b-aba2-61272fb4d8e0" event_id=d877aced-41e8-4e0b-aba2-61272fb4d8e0
time=2026-01-06T19:45:18.645-03:00 level=ERROR msg="gRPC request failed" method=/event.EventService/GetEvent duration_ms=0 error="rpc error: code = NotFound desc = event not found: d877aced-41e8-4e0b-aba2-61272fb4d8e0"
time=2026-01-06T19:45:18.645-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestEventHandler_DeleteEvent (0.14s)
    --- PASS: TestEventHandler_DeleteEvent/delete_event (0.01s)
=== RUN   TestInventoryHandler_AddItemToInventory
time=2026-01-06T19:45:18.774-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:18.774-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:18.774-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:18.774-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-06T19:45:18.774-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:18.774-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_AddItemToInventory/successful_add_item
time=2026-01-06T19:45:18.775-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:18.777-03:00 level=INFO msg="tenant created" tenant_id=da67400b-487b-4027-8e39-3a4541ce3cc9 name="Test Tenant for Inventory"
time=2026-01-06T19:45:18.777-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:18.778-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:18.780-03:00 level=INFO msg="world created" world_id=50e74655-ddac-4372-b580-c5fb25cb68ff name="Test World" tenant_id=da67400b-487b-4027-8e39-3a4541ce3cc9
time=2026-01-06T19:45:18.780-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:18.780-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:18.782-03:00 level=INFO msg="character created" character_id=9fb1598c-842f-4f6a-b007-9664e6ba6340 name="Test Character"
time=2026-01-06T19:45:18.782-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:18.782-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:18.783-03:00 level=INFO msg="RPG system created" rpg_system_id=9f7bbe28-2337-4b15-a3b4-d82312992167 name="Test System"
time=2026-01-06T19:45:18.783-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:18.785-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-06T19:45:18.788-03:00 level=INFO msg="item added to inventory" character_id=9fb1598c-842f-4f6a-b007-9664e6ba6340 item_id=9aee5f12-f101-4145-9e50-2500c6de7eca
time=2026-01-06T19:45:18.789-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=3
time=2026-01-06T19:45:18.790-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_AddItemToInventory (0.14s)
    --- PASS: TestInventoryHandler_AddItemToInventory/successful_add_item (0.02s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-06T19:45:18.923-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:18.923-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:18.923-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:18.923-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-06T19:45:18.923-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:18.923-03:00 level=INFO msg="InventoryService registered"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
time=2026-01-06T19:45:18.924-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:18.926-03:00 level=INFO msg="tenant created" tenant_id=65af0ed2-30c7-49a8-8f46-086390303c0b name="List Test Tenant"
time=2026-01-06T19:45:18.926-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:18.926-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:18.927-03:00 level=INFO msg="world created" world_id=b7bbda14-7c48-4b9f-918c-0e7145da5194 name="List Test World" tenant_id=65af0ed2-30c7-49a8-8f46-086390303c0b
time=2026-01-06T19:45:18.927-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:18.928-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:18.929-03:00 level=INFO msg="character created" character_id=3932ae3a-72c9-424e-8f8a-a7d8f111bd89 name="List Test Character"
time=2026-01-06T19:45:18.929-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:18.929-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:18.930-03:00 level=INFO msg="RPG system created" rpg_system_id=f5101706-899d-4b0f-9c6b-1ddf84039305 name="List Test System"
time=2026-01-06T19:45:18.930-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:18.931-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-06T19:45:18.933-03:00 level=INFO msg="item added to inventory" character_id=3932ae3a-72c9-424e-8f8a-a7d8f111bd89 item_id=65b5604e-5cfb-4cdb-b595-1d01e18c8c4c
time=2026-01-06T19:45:18.933-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-06T19:45:18.933-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-06T19:45:18.933-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
time=2026-01-06T19:45:18.933-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_ListInventory (0.15s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.01s)
=== RUN   TestInventoryHandler_UpdateItemInInventory
time=2026-01-06T19:45:19.082-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:19.082-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:19.082-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:19.082-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-06T19:45:19.083-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:19.083-03:00 level=INFO msg="InventoryService registered"
time=2026-01-06T19:45:19.095-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:19.098-03:00 level=INFO msg="tenant created" tenant_id=34a1ac2c-86e3-4bf8-bdcf-bf492680c700 name="Update Item Test Tenant"
time=2026-01-06T19:45:19.098-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:19.098-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:19.099-03:00 level=INFO msg="world created" world_id=e0e15c2b-7387-4a9e-bd03-ba5ff90d0d4b name="Test World" tenant_id=34a1ac2c-86e3-4bf8-bdcf-bf492680c700
time=2026-01-06T19:45:19.099-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:19.099-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:19.100-03:00 level=INFO msg="character created" character_id=d2cedf25-4a2f-47a6-bc32-468983e70688 name="Test Character"
time=2026-01-06T19:45:19.100-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:19.100-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:19.102-03:00 level=INFO msg="RPG system created" rpg_system_id=b2093d2d-76d3-431b-8e09-b7585330bd1c name="Test System"
time=2026-01-06T19:45:19.102-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
=== RUN   TestInventoryHandler_UpdateItemInInventory/successful_update
time=2026-01-06T19:45:19.103-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-06T19:45:19.105-03:00 level=INFO msg="item added to inventory" character_id=d2cedf25-4a2f-47a6-bc32-468983e70688 item_id=f56d84ee-c79a-4d55-b5c6-8ab7007b600e
time=2026-01-06T19:45:19.105-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-06T19:45:19.105-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-06T19:45:19.106-03:00 level=INFO msg="character inventory updated" id=9d3a220c-d3e6-4d3b-974c-18511dfb662c
time=2026-01-06T19:45:19.106-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0
=== RUN   TestInventoryHandler_UpdateItemInInventory/non-existing_item
time=2026-01-06T19:45:19.106-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/UpdateInventoryItem
time=2026-01-06T19:45:19.107-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/UpdateInventoryItem duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: c465ec4e-a2aa-4c38-bd7e-447da5b39b73"
time=2026-01-06T19:45:19.107-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_UpdateItemInInventory (0.18s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/successful_update (0.00s)
    --- PASS: TestInventoryHandler_UpdateItemInInventory/non-existing_item (0.00s)
=== RUN   TestInventoryHandler_DeleteItemFromInventory
time=2026-01-06T19:45:19.307-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:19.307-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:19.307-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:19.307-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-06T19:45:19.307-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:19.307-03:00 level=INFO msg="InventoryService registered"
time=2026-01-06T19:45:19.308-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:19.310-03:00 level=INFO msg="tenant created" tenant_id=10b9558a-4bec-46e2-91a9-0b036ecbf7bc name="Delete Item Test Tenant"
time=2026-01-06T19:45:19.310-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:19.311-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:19.312-03:00 level=INFO msg="world created" world_id=b3f672eb-0c8b-4d5d-a354-8b2ab4978712 name="Test World" tenant_id=10b9558a-4bec-46e2-91a9-0b036ecbf7bc
time=2026-01-06T19:45:19.312-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:19.312-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:19.313-03:00 level=INFO msg="character created" character_id=e081727a-8004-44a2-b8ca-8888c2df3f63 name="Test Character"
time=2026-01-06T19:45:19.313-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:19.314-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:19.315-03:00 level=INFO msg="RPG system created" rpg_system_id=63d71b3c-2a12-445a-a91a-6d362d32d5d1 name="Test System"
time=2026-01-06T19:45:19.315-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
=== RUN   TestInventoryHandler_DeleteItemFromInventory/successful_delete
time=2026-01-06T19:45:19.316-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/AddItemToInventory
time=2026-01-06T19:45:19.317-03:00 level=INFO msg="item added to inventory" character_id=e081727a-8004-44a2-b8ca-8888c2df3f63 item_id=361fdc33-5bdb-4330-95bc-c04cb1c3d650
time=2026-01-06T19:45:19.317-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/AddItemToInventory duration_ms=1
time=2026-01-06T19:45:19.318-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-06T19:45:19.318-03:00 level=INFO msg="item removed from inventory" id=2a3cdc08-d57d-43b7-abd9-4cfc4997c295
time=2026-01-06T19:45:19.318-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0
time=2026-01-06T19:45:19.318-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/ListInventory
time=2026-01-06T19:45:19.318-03:00 level=INFO msg="gRPC request completed" method=/inventory.InventoryService/ListInventory duration_ms=0
=== RUN   TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item
time=2026-01-06T19:45:19.319-03:00 level=INFO msg="gRPC request started" method=/inventory.InventoryService/RemoveItemFromInventory
time=2026-01-06T19:45:19.319-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 8f4cef46-3b49-4b18-98d0-8e70bfac16bf" id=8f4cef46-3b49-4b18-98d0-8e70bfac16bf
time=2026-01-06T19:45:19.319-03:00 level=ERROR msg="gRPC request failed" method=/inventory.InventoryService/RemoveItemFromInventory duration_ms=0 error="rpc error: code = NotFound desc = character_inventory not found: 8f4cef46-3b49-4b18-98d0-8e70bfac16bf"
time=2026-01-06T19:45:19.319-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestInventoryHandler_DeleteItemFromInventory (0.21s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/successful_delete (0.00s)
    --- PASS: TestInventoryHandler_DeleteItemFromInventory/delete_non-existing_item (0.00s)
=== RUN   TestLocationHandler_CreateLocation
time=2026-01-06T19:45:19.452-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:19.452-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:19.452-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_CreateLocation/successful_creation
time=2026-01-06T19:45:19.453-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:19.456-03:00 level=INFO msg="tenant created" tenant_id=f0ceeabb-6c08-431b-b95a-cc6b5234828c name="Test Tenant for Location"
time=2026-01-06T19:45:19.456-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:19.456-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:19.457-03:00 level=INFO msg="world created" world_id=ac78bf40-bf16-4147-a200-696f909aa630 name="Test World" tenant_id=f0ceeabb-6c08-431b-b95a-cc6b5234828c
time=2026-01-06T19:45:19.457-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:19.458-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-06T19:45:19.459-03:00 level=INFO msg="location created" location_id=713d63c1-3f18-4276-8243-08b5caf0cc29 name="Test Location"
time=2026-01-06T19:45:19.459-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
=== RUN   TestLocationHandler_CreateLocation/empty_name
time=2026-01-06T19:45:19.459-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:19.460-03:00 level=INFO msg="tenant created" tenant_id=f9d48c55-c280-4765-8052-6073bf476f76 name="Test Tenant 2"
time=2026-01-06T19:45:19.460-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:19.461-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:19.462-03:00 level=INFO msg="world created" world_id=b4dff162-94f8-451b-8cc7-9c7d70a61937 name="Test World 2" tenant_id=f9d48c55-c280-4765-8052-6073bf476f76
time=2026-01-06T19:45:19.462-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:19.462-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-06T19:45:19.462-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/CreateLocation duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-06T19:45:19.462-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_CreateLocation (0.15s)
    --- PASS: TestLocationHandler_CreateLocation/successful_creation (0.01s)
    --- PASS: TestLocationHandler_CreateLocation/empty_name (0.00s)
=== RUN   TestLocationHandler_GetLocation
time=2026-01-06T19:45:19.605-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:19.605-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:19.605-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_GetLocation/existing_location
time=2026-01-06T19:45:19.606-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:19.608-03:00 level=INFO msg="tenant created" tenant_id=acb9ecf9-7d62-4776-bcf6-fde37ecdf905 name="Get Test Tenant"
time=2026-01-06T19:45:19.608-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:19.608-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:19.609-03:00 level=INFO msg="world created" world_id=3c4ac06c-7f8e-428d-a85a-b03810058b1b name="Get Test World" tenant_id=acb9ecf9-7d62-4776-bcf6-fde37ecdf905
time=2026-01-06T19:45:19.609-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:19.610-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-06T19:45:19.611-03:00 level=INFO msg="location created" location_id=f6c5b19b-fc1d-4483-9491-b6054e7d3d7d name="Get Test Location"
time=2026-01-06T19:45:19.611-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-06T19:45:19.611-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-06T19:45:19.611-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/GetLocation duration_ms=0
=== RUN   TestLocationHandler_GetLocation/non-existing_location
time=2026-01-06T19:45:19.612-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:19.612-03:00 level=INFO msg="tenant created" tenant_id=5d818021-47b2-4684-8325-78cc01b05bcf name="Non-existing Test Tenant"
time=2026-01-06T19:45:19.612-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:19.612-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-06T19:45:19.612-03:00 level=ERROR msg="failed to get location" error="location not found: ec5955a0-282e-4658-b2df-1c073e61c4b8" location_id=ec5955a0-282e-4658-b2df-1c073e61c4b8
time=2026-01-06T19:45:19.613-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: ec5955a0-282e-4658-b2df-1c073e61c4b8"
time=2026-01-06T19:45:19.613-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_GetLocation (0.15s)
    --- PASS: TestLocationHandler_GetLocation/existing_location (0.01s)
    --- PASS: TestLocationHandler_GetLocation/non-existing_location (0.00s)
=== RUN   TestLocationHandler_ListLocations
time=2026-01-06T19:45:19.744-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:19.744-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:19.744-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_ListLocations/list_locations
time=2026-01-06T19:45:19.745-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:19.747-03:00 level=INFO msg="tenant created" tenant_id=b3d0c976-14e7-4dc5-a453-6467f5946160 name="List Test Tenant"
time=2026-01-06T19:45:19.747-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:19.748-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:19.749-03:00 level=INFO msg="world created" world_id=63660563-be2b-4b45-a7fc-72bc3a015ee3 name="List Test World" tenant_id=b3d0c976-14e7-4dc5-a453-6467f5946160
time=2026-01-06T19:45:19.749-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:19.749-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-06T19:45:19.750-03:00 level=INFO msg="location created" location_id=6a7c47c8-f473-4e75-a4ed-a94ef50d883b name="Location 1"
time=2026-01-06T19:45:19.750-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-06T19:45:19.750-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-06T19:45:19.751-03:00 level=INFO msg="location created" location_id=3de10c1a-d819-481c-8359-d5d08e666c06 name="Location 2"
time=2026-01-06T19:45:19.751-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-06T19:45:19.752-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/ListLocations
time=2026-01-06T19:45:19.753-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/ListLocations duration_ms=1
time=2026-01-06T19:45:19.753-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_ListLocations (0.14s)
    --- PASS: TestLocationHandler_ListLocations/list_locations (0.01s)
=== RUN   TestLocationHandler_UpdateLocation
time=2026-01-06T19:45:19.885-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:19.885-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:19.885-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_UpdateLocation/update_location
time=2026-01-06T19:45:19.886-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:19.888-03:00 level=INFO msg="tenant created" tenant_id=6701e896-091c-416f-a1f5-f2051d909728 name="Update Test Tenant"
time=2026-01-06T19:45:19.888-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:19.889-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:19.890-03:00 level=INFO msg="world created" world_id=9382d434-ed8a-4e03-a09d-acebbbcd38f3 name="Update Test World" tenant_id=6701e896-091c-416f-a1f5-f2051d909728
time=2026-01-06T19:45:19.890-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:19.890-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-06T19:45:19.891-03:00 level=INFO msg="location created" location_id=c9a64249-5765-4a74-a4a8-9f2625b9b2ed name="Original Location"
time=2026-01-06T19:45:19.891-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-06T19:45:19.892-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/UpdateLocation
time=2026-01-06T19:45:19.893-03:00 level=INFO msg="location updated" location_id=c9a64249-5765-4a74-a4a8-9f2625b9b2ed name="Updated Location"
time=2026-01-06T19:45:19.893-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/UpdateLocation duration_ms=1
time=2026-01-06T19:45:19.893-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_UpdateLocation (0.14s)
    --- PASS: TestLocationHandler_UpdateLocation/update_location (0.01s)
=== RUN   TestLocationHandler_DeleteLocation
time=2026-01-06T19:45:20.023-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:20.024-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:20.024-03:00 level=INFO msg="LocationService registered"
=== RUN   TestLocationHandler_DeleteLocation/delete_location
time=2026-01-06T19:45:20.024-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:20.026-03:00 level=INFO msg="tenant created" tenant_id=efa287ea-f4fb-44f3-9b1c-3e8bd0e039fc name="Delete Test Tenant"
time=2026-01-06T19:45:20.026-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:20.026-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:20.027-03:00 level=INFO msg="world created" world_id=f7fa4475-c454-4496-badc-f1aa222114c5 name="Delete Test World" tenant_id=efa287ea-f4fb-44f3-9b1c-3e8bd0e039fc
time=2026-01-06T19:45:20.027-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:20.027-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-06T19:45:20.029-03:00 level=INFO msg="location created" location_id=b49ebcfa-5e64-4f17-ada5-ce22e5602c28 name="Location to Delete"
time=2026-01-06T19:45:20.029-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-06T19:45:20.029-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/DeleteLocation
time=2026-01-06T19:45:20.030-03:00 level=INFO msg="location deleted" location_id=b49ebcfa-5e64-4f17-ada5-ce22e5602c28 name="Location to Delete"
time=2026-01-06T19:45:20.030-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/DeleteLocation duration_ms=0
time=2026-01-06T19:45:20.030-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/GetLocation
time=2026-01-06T19:45:20.030-03:00 level=ERROR msg="failed to get location" error="location not found: b49ebcfa-5e64-4f17-ada5-ce22e5602c28" location_id=b49ebcfa-5e64-4f17-ada5-ce22e5602c28
time=2026-01-06T19:45:20.030-03:00 level=ERROR msg="gRPC request failed" method=/location.LocationService/GetLocation duration_ms=0 error="rpc error: code = NotFound desc = location not found: b49ebcfa-5e64-4f17-ada5-ce22e5602c28"
time=2026-01-06T19:45:20.030-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestLocationHandler_DeleteLocation (0.14s)
    --- PASS: TestLocationHandler_DeleteLocation/delete_location (0.01s)
=== RUN   TestRPGClassHandler_CreateRPGClass
time=2026-01-06T19:45:20.182-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:20.182-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:20.182-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:20.182-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_CreateRPGClass/successful_creation
time=2026-01-06T19:45:20.183-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:20.185-03:00 level=INFO msg="tenant created" tenant_id=6eddde07-e536-4bba-9d83-e06003c93739 name="Test Tenant for RPG Class"
time=2026-01-06T19:45:20.185-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:20.185-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:20.186-03:00 level=INFO msg="RPG system created" rpg_system_id=3b05f564-60e1-41d1-9a6f-5027bbb5736e name="Test System"
time=2026-01-06T19:45:20.186-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:20.186-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:20.187-03:00 level=INFO msg="RPG class created" class_id=7eaa83af-1994-43fd-8418-f094ad037036 name=Warrior
time=2026-01-06T19:45:20.187-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
=== RUN   TestRPGClassHandler_CreateRPGClass/empty_name
time=2026-01-06T19:45:20.187-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:20.188-03:00 level=INFO msg="tenant created" tenant_id=08faf7ae-bf5e-41c3-8718-4ebf6647bc75 name="Test Tenant 2"
time=2026-01-06T19:45:20.188-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:20.188-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:20.189-03:00 level=INFO msg="RPG system created" rpg_system_id=d92afd7d-8b09-4971-abb1-4b55bb2f88c2 name="Test System 2"
time=2026-01-06T19:45:20.189-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:20.189-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:20.189-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-06T19:45:20.189-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_CreateRPGClass (0.16s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/successful_creation (0.01s)
    --- PASS: TestRPGClassHandler_CreateRPGClass/empty_name (0.00s)
=== RUN   TestRPGClassHandler_GetRPGClass
time=2026-01-06T19:45:20.343-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:20.343-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:20.343-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:20.344-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_GetRPGClass/existing_RPG_class
time=2026-01-06T19:45:20.362-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:20.365-03:00 level=INFO msg="tenant created" tenant_id=73a6b6c4-a73d-425f-8d10-f6918efc4545 name="Get Test Tenant"
time=2026-01-06T19:45:20.365-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:20.365-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:20.366-03:00 level=INFO msg="RPG system created" rpg_system_id=88ab6856-1397-49f0-8025-bddcf2104a2d name="Get Test System"
time=2026-01-06T19:45:20.366-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:20.366-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:20.367-03:00 level=INFO msg="RPG class created" class_id=fc8d788e-6e7e-4fd2-8f13-10e94edfff7e name="Get Test Class"
time=2026-01-06T19:45:20.367-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-06T19:45:20.367-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-06T19:45:20.367-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0
=== RUN   TestRPGClassHandler_GetRPGClass/non-existing_RPG_class
time=2026-01-06T19:45:20.367-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:20.368-03:00 level=INFO msg="tenant created" tenant_id=8b94e422-0428-4f09-9a47-bbb2e463359e name="Non-existing Test Tenant"
time=2026-01-06T19:45:20.368-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:20.368-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-06T19:45:20.368-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 29ead569-cb1d-45dc-8af4-6ceeecd663c5" class_id=29ead569-cb1d-45dc-8af4-6ceeecd663c5
time=2026-01-06T19:45:20.368-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: 29ead569-cb1d-45dc-8af4-6ceeecd663c5"
time=2026-01-06T19:45:20.368-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_GetRPGClass (0.18s)
    --- PASS: TestRPGClassHandler_GetRPGClass/existing_RPG_class (0.01s)
    --- PASS: TestRPGClassHandler_GetRPGClass/non-existing_RPG_class (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClasses
time=2026-01-06T19:45:20.628-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:20.628-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:20.628-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:20.628-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_ListRPGClasses/list_RPG_classes
time=2026-01-06T19:45:20.630-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:20.640-03:00 level=INFO msg="tenant created" tenant_id=25ad87ea-705b-4b02-9b99-1fe3552fd624 name="List Test Tenant"
time=2026-01-06T19:45:20.640-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=9
time=2026-01-06T19:45:20.640-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:20.643-03:00 level=INFO msg="RPG system created" rpg_system_id=acab601e-9f9f-4c8e-be9a-b4a339ac9532 name="List Test System"
time=2026-01-06T19:45:20.643-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=3
time=2026-01-06T19:45:20.643-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:20.646-03:00 level=INFO msg="RPG class created" class_id=627c2359-3460-4a4c-9287-53bb7454d7b0 name="Class 1"
time=2026-01-06T19:45:20.646-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=2
time=2026-01-06T19:45:20.646-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:20.647-03:00 level=INFO msg="RPG class created" class_id=65b6bb5e-8052-48d9-8ee9-39dfd2ce6529 name="Class 2"
time=2026-01-06T19:45:20.647-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-06T19:45:20.648-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClasses
time=2026-01-06T19:45:20.648-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClasses duration_ms=0
time=2026-01-06T19:45:20.648-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClasses (0.28s)
    --- PASS: TestRPGClassHandler_ListRPGClasses/list_RPG_classes (0.02s)
=== RUN   TestRPGClassHandler_UpdateRPGClass
time=2026-01-06T19:45:20.921-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:20.921-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:20.921-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:20.921-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_UpdateRPGClass/update_RPG_class
time=2026-01-06T19:45:20.925-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:20.929-03:00 level=INFO msg="tenant created" tenant_id=8f6a53ec-5fec-4d25-a966-cb818b743018 name="Update Test Tenant"
time=2026-01-06T19:45:20.929-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-06T19:45:20.929-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:20.930-03:00 level=INFO msg="RPG system created" rpg_system_id=27bff266-229f-4884-824b-2da2821cd7ae name="Update Test System"
time=2026-01-06T19:45:20.930-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-06T19:45:20.930-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:20.932-03:00 level=INFO msg="RPG class created" class_id=4e26e543-75d2-4cc5-8871-f447ed43fc72 name="Original Class"
time=2026-01-06T19:45:20.932-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-06T19:45:20.932-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/UpdateRPGClass
time=2026-01-06T19:45:20.933-03:00 level=INFO msg="RPG class updated" class_id=4e26e543-75d2-4cc5-8871-f447ed43fc72
time=2026-01-06T19:45:20.933-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/UpdateRPGClass duration_ms=0
time=2026-01-06T19:45:20.933-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_UpdateRPGClass (0.29s)
    --- PASS: TestRPGClassHandler_UpdateRPGClass/update_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_DeleteRPGClass
time=2026-01-06T19:45:21.086-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:21.086-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:21.086-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:21.086-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_DeleteRPGClass/delete_RPG_class
time=2026-01-06T19:45:21.087-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:21.089-03:00 level=INFO msg="tenant created" tenant_id=a8f05857-78dd-49e9-b989-befce09cbb8a name="Delete Test Tenant"
time=2026-01-06T19:45:21.089-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:21.089-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:21.090-03:00 level=INFO msg="RPG system created" rpg_system_id=b379318a-ab4d-4b65-8be9-88e56f08abce name="Delete Test System"
time=2026-01-06T19:45:21.090-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-06T19:45:21.090-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:21.092-03:00 level=INFO msg="RPG class created" class_id=f1445588-60e5-4664-bbed-23644a365d8b name="Class to Delete"
time=2026-01-06T19:45:21.092-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-06T19:45:21.092-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/DeleteRPGClass
time=2026-01-06T19:45:21.093-03:00 level=INFO msg="RPG class deleted" class_id=f1445588-60e5-4664-bbed-23644a365d8b
time=2026-01-06T19:45:21.093-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/DeleteRPGClass duration_ms=0
time=2026-01-06T19:45:21.093-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/GetRPGClass
time=2026-01-06T19:45:21.093-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: f1445588-60e5-4664-bbed-23644a365d8b" class_id=f1445588-60e5-4664-bbed-23644a365d8b
time=2026-01-06T19:45:21.093-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/GetRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class not found: f1445588-60e5-4664-bbed-23644a365d8b"
time=2026-01-06T19:45:21.093-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_DeleteRPGClass (0.15s)
    --- PASS: TestRPGClassHandler_DeleteRPGClass/delete_RPG_class (0.01s)
=== RUN   TestRPGClassHandler_AddSkillToClass
time=2026-01-06T19:45:21.236-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:21.236-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:21.236-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:21.236-03:00 level=INFO msg="RPGClassService registered"
=== RUN   TestRPGClassHandler_AddSkillToClass/add_skill_to_class
time=2026-01-06T19:45:21.238-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:21.240-03:00 level=INFO msg="tenant created" tenant_id=f76ece8a-d347-4340-aef9-916dadd1aad4 name="Add Skill Test Tenant"
time=2026-01-06T19:45:21.240-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:21.240-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:21.241-03:00 level=INFO msg="RPG system created" rpg_system_id=cfdc903a-e62d-4e83-b834-d858142ddb55 name="Add Skill Test System"
time=2026-01-06T19:45:21.241-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-06T19:45:21.242-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:21.243-03:00 level=INFO msg="RPG class created" class_id=267c77ee-f8d0-492a-983f-a19d3f39be19 name=Warrior
time=2026-01-06T19:45:21.243-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
time=2026-01-06T19:45:21.243-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:21.244-03:00 level=INFO msg="skill created" skill_id=c1d7903e-c5c0-4379-a8f9-81f8fb4cd94e name="Sword Mastery"
time=2026-01-06T19:45:21.244-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-06T19:45:21.244-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-06T19:45:21.247-03:00 level=INFO msg="skill added to class" class_id=267c77ee-f8d0-492a-983f-a19d3f39be19 skill_id=c1d7903e-c5c0-4379-a8f9-81f8fb4cd94e
time=2026-01-06T19:45:21.247-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=2
time=2026-01-06T19:45:21.248-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_AddSkillToClass (0.16s)
    --- PASS: TestRPGClassHandler_AddSkillToClass/add_skill_to_class (0.01s)
=== RUN   TestRPGClassHandler_RemoveSkillFromClass
time=2026-01-06T19:45:21.397-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:21.397-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:21.397-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:21.397-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-06T19:45:21.397-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:21.399-03:00 level=INFO msg="tenant created" tenant_id=e64bd9fe-50cf-4263-abec-4cf9b242bb28 name="Remove Skill Test Tenant"
time=2026-01-06T19:45:21.399-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:21.400-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:21.401-03:00 level=INFO msg="RPG system created" rpg_system_id=83e0ba14-0e51-4947-9a19-7b00f8da1dc6 name="Remove Skill Test System"
time=2026-01-06T19:45:21.401-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:21.401-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:21.403-03:00 level=INFO msg="RPG class created" class_id=5e64bf1e-1600-4d74-a348-992e6e904291 name=Warrior
time=2026-01-06T19:45:21.403-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=2
time=2026-01-06T19:45:21.404-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:21.405-03:00 level=INFO msg="skill created" skill_id=855f54b0-9594-45d9-8c0d-0ae70301b817 name="Sword Mastery"
time=2026-01-06T19:45:21.405-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/successful_remove
time=2026-01-06T19:45:21.405-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-06T19:45:21.408-03:00 level=INFO msg="skill added to class" class_id=5e64bf1e-1600-4d74-a348-992e6e904291 skill_id=855f54b0-9594-45d9-8c0d-0ae70301b817
time=2026-01-06T19:45:21.408-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=3
time=2026-01-06T19:45:21.412-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-06T19:45:21.413-03:00 level=INFO msg="skill removed from class" class_id=5e64bf1e-1600-4d74-a348-992e6e904291 skill_id=855f54b0-9594-45d9-8c0d-0ae70301b817
time=2026-01-06T19:45:21.413-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0
time=2026-01-06T19:45:21.414-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-06T19:45:21.415-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill
time=2026-01-06T19:45:21.415-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass
time=2026-01-06T19:45:21.416-03:00 level=ERROR msg="gRPC request failed" method=/rpg_class.RPGClassService/RemoveSkillFromRPGClass duration_ms=0 error="rpc error: code = NotFound desc = rpg_class_skill not found: 5e64bf1e-1600-4d74-a348-992e6e904291/e5d43ef9-f105-4154-9a85-4a870406cf11"
time=2026-01-06T19:45:21.416-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_RemoveSkillFromClass (0.17s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/successful_remove (0.01s)
    --- PASS: TestRPGClassHandler_RemoveSkillFromClass/remove_non-existing_skill (0.00s)
=== RUN   TestRPGClassHandler_ListRPGClassSkills
time=2026-01-06T19:45:21.582-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:21.582-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:21.582-03:00 level=INFO msg="SkillService registered"
time=2026-01-06T19:45:21.582-03:00 level=INFO msg="RPGClassService registered"
time=2026-01-06T19:45:21.583-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:21.585-03:00 level=INFO msg="tenant created" tenant_id=eccac1f3-de87-4f64-a66f-050a1dc33856 name="List Skills Test Tenant"
time=2026-01-06T19:45:21.585-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:21.585-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:21.586-03:00 level=INFO msg="RPG system created" rpg_system_id=e9f3b5d9-29a0-49bf-963e-ddad1861e974 name="List Skills Test System"
time=2026-01-06T19:45:21.586-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-06T19:45:21.587-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:21.588-03:00 level=INFO msg="RPG class created" class_id=37863bfe-4c4b-4758-999d-f30a0b6dce97 name=Warrior
time=2026-01-06T19:45:21.588-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=1
=== RUN   TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills
time=2026-01-06T19:45:21.589-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:21.590-03:00 level=INFO msg="skill created" skill_id=2c2bddcb-2b7c-4322-921c-20c5d8703efe name="Sword Mastery"
time=2026-01-06T19:45:21.590-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-06T19:45:21.590-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:21.590-03:00 level=INFO msg="skill created" skill_id=f1992612-12ba-4500-a7b5-66ad0de887c2 name="Shield Defense"
time=2026-01-06T19:45:21.591-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-06T19:45:21.591-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:21.591-03:00 level=INFO msg="skill created" skill_id=6a1e131b-5253-417d-9d13-442a00fb8dd1 name="Combat Tactics"
time=2026-01-06T19:45:21.591-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-06T19:45:21.591-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-06T19:45:21.594-03:00 level=INFO msg="skill added to class" class_id=37863bfe-4c4b-4758-999d-f30a0b6dce97 skill_id=2c2bddcb-2b7c-4322-921c-20c5d8703efe
time=2026-01-06T19:45:21.594-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=2
time=2026-01-06T19:45:21.594-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-06T19:45:21.596-03:00 level=INFO msg="skill added to class" class_id=37863bfe-4c4b-4758-999d-f30a0b6dce97 skill_id=f1992612-12ba-4500-a7b5-66ad0de887c2
time=2026-01-06T19:45:21.596-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=2
time=2026-01-06T19:45:21.603-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/AddSkillToRPGClass
time=2026-01-06T19:45:21.604-03:00 level=INFO msg="skill added to class" class_id=37863bfe-4c4b-4758-999d-f30a0b6dce97 skill_id=6a1e131b-5253-417d-9d13-442a00fb8dd1
time=2026-01-06T19:45:21.604-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/AddSkillToRPGClass duration_ms=0
time=2026-01-06T19:45:21.604-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-06T19:45:21.605-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
=== RUN   TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class
time=2026-01-06T19:45:21.605-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/CreateRPGClass
time=2026-01-06T19:45:21.606-03:00 level=INFO msg="RPG class created" class_id=948f07b9-44ac-48ea-a833-a2663058c14a name=Mage
time=2026-01-06T19:45:21.606-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/CreateRPGClass duration_ms=0
time=2026-01-06T19:45:21.606-03:00 level=INFO msg="gRPC request started" method=/rpg_class.RPGClassService/ListRPGClassSkills
time=2026-01-06T19:45:21.606-03:00 level=INFO msg="gRPC request completed" method=/rpg_class.RPGClassService/ListRPGClassSkills duration_ms=0
time=2026-01-06T19:45:21.606-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGClassHandler_ListRPGClassSkills (0.19s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/list_multiple_skills (0.02s)
    --- PASS: TestRPGClassHandler_ListRPGClassSkills/empty_list_for_new_class (0.00s)
=== RUN   TestRPGSystemHandler_CreateRPGSystem
time=2026-01-06T19:45:21.746-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:21.746-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/successful_creation
time=2026-01-06T19:45:21.747-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:21.749-03:00 level=INFO msg="tenant created" tenant_id=c538f7f8-f4bc-4131-be27-c354e864cc10 name="Test Tenant for RPG System"
time=2026-01-06T19:45:21.749-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:21.749-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:21.751-03:00 level=INFO msg="RPG system created" rpg_system_id=c21f566b-7434-446f-bcf1-0ec0831154c2 name="D&D 5e"
time=2026-01-06T19:45:21.751-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_name
time=2026-01-06T19:45:21.751-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:21.752-03:00 level=INFO msg="tenant created" tenant_id=f67eab03-8057-431b-b6ce-1894204b25bf name="Test Tenant 2"
time=2026-01-06T19:45:21.752-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:21.752-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:21.752-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema
time=2026-01-06T19:45:21.752-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:21.753-03:00 level=INFO msg="tenant created" tenant_id=38aa635e-85cb-4846-9221-9e4b3063346e name="Test Tenant 3"
time=2026-01-06T19:45:21.753-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:21.753-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:21.753-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0 error="rpc error: code = InvalidArgument desc = base_stats_schema is required"
time=2026-01-06T19:45:21.753-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_CreateRPGSystem (0.15s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_name (0.00s)
    --- PASS: TestRPGSystemHandler_CreateRPGSystem/empty_base_stats_schema (0.00s)
=== RUN   TestRPGSystemHandler_GetRPGSystem
time=2026-01-06T19:45:21.895-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:21.895-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_GetRPGSystem/existing_RPG_system
time=2026-01-06T19:45:21.896-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:21.899-03:00 level=INFO msg="tenant created" tenant_id=61a6148a-ee80-487b-881f-1ca91248fe25 name="Get Test Tenant"
time=2026-01-06T19:45:21.899-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:21.899-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:21.900-03:00 level=INFO msg="RPG system created" rpg_system_id=510c9bcc-307a-400c-bb93-888ff4d6bc9b name="Get Test System"
time=2026-01-06T19:45:21.900-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:21.900-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-06T19:45:21.901-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0
=== RUN   TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system
time=2026-01-06T19:45:21.901-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:21.902-03:00 level=INFO msg="tenant created" tenant_id=c8591300-52f5-4b01-b0fe-8258eb94c924 name="Non-existing Test Tenant"
time=2026-01-06T19:45:21.902-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:21.902-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-06T19:45:21.902-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 869b2c4a-0258-4ed1-8b77-072fadeb6989" rpg_system_id=869b2c4a-0258-4ed1-8b77-072fadeb6989
time=2026-01-06T19:45:21.902-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: 869b2c4a-0258-4ed1-8b77-072fadeb6989"
time=2026-01-06T19:45:21.902-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_GetRPGSystem (0.15s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/existing_RPG_system (0.01s)
    --- PASS: TestRPGSystemHandler_GetRPGSystem/non-existing_RPG_system (0.00s)
=== RUN   TestRPGSystemHandler_ListRPGSystems
time=2026-01-06T19:45:22.061-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:22.061-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_ListRPGSystems/list_RPG_systems
time=2026-01-06T19:45:22.062-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:22.064-03:00 level=INFO msg="tenant created" tenant_id=47e9c4ab-ea54-4d5f-a75c-e478054076c3 name="List Test Tenant"
time=2026-01-06T19:45:22.064-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:22.064-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:22.065-03:00 level=INFO msg="RPG system created" rpg_system_id=e009ef99-2866-4601-a87f-df1ef29291e0 name="System 1"
time=2026-01-06T19:45:22.065-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:22.065-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:22.066-03:00 level=INFO msg="RPG system created" rpg_system_id=567c6b04-52c3-4141-a6f1-e5000be8653c name="System 2"
time=2026-01-06T19:45:22.066-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:22.066-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/ListRPGSystems
time=2026-01-06T19:45:22.066-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/ListRPGSystems duration_ms=0
time=2026-01-06T19:45:22.066-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_ListRPGSystems (0.16s)
    --- PASS: TestRPGSystemHandler_ListRPGSystems/list_RPG_systems (0.01s)
=== RUN   TestRPGSystemHandler_UpdateRPGSystem
time=2026-01-06T19:45:22.219-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:22.219-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system
time=2026-01-06T19:45:22.221-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:22.223-03:00 level=INFO msg="tenant created" tenant_id=5d13a54c-9586-4bdf-98d6-cc6ad3a69ccf name="Update Test Tenant"
time=2026-01-06T19:45:22.223-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:22.223-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:22.224-03:00 level=INFO msg="RPG system created" rpg_system_id=a00bf353-5a64-44c3-90b9-5b90d072b773 name="Original System"
time=2026-01-06T19:45:22.224-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:22.225-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/UpdateRPGSystem
time=2026-01-06T19:45:22.225-03:00 level=INFO msg="RPG system updated" rpg_system_id=a00bf353-5a64-44c3-90b9-5b90d072b773
time=2026-01-06T19:45:22.225-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/UpdateRPGSystem duration_ms=0
time=2026-01-06T19:45:22.226-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_UpdateRPGSystem (0.16s)
    --- PASS: TestRPGSystemHandler_UpdateRPGSystem/update_RPG_system (0.01s)
=== RUN   TestRPGSystemHandler_DeleteRPGSystem
time=2026-01-06T19:45:22.391-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:22.391-03:00 level=INFO msg="RPGSystemService registered"
=== RUN   TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system
time=2026-01-06T19:45:22.392-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:22.394-03:00 level=INFO msg="tenant created" tenant_id=f08d1c30-c16f-4e6a-b970-9ae103ae8ec3 name="Delete Test Tenant"
time=2026-01-06T19:45:22.394-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:22.394-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:22.395-03:00 level=INFO msg="RPG system created" rpg_system_id=8e97c6b2-ed94-4869-bd34-aacdff295fe0 name="System to Delete"
time=2026-01-06T19:45:22.395-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:22.395-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/DeleteRPGSystem
time=2026-01-06T19:45:22.397-03:00 level=INFO msg="RPG system deleted" rpg_system_id=8e97c6b2-ed94-4869-bd34-aacdff295fe0
time=2026-01-06T19:45:22.397-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/DeleteRPGSystem duration_ms=1
time=2026-01-06T19:45:22.397-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/GetRPGSystem
time=2026-01-06T19:45:22.397-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 8e97c6b2-ed94-4869-bd34-aacdff295fe0" rpg_system_id=8e97c6b2-ed94-4869-bd34-aacdff295fe0
time=2026-01-06T19:45:22.397-03:00 level=ERROR msg="gRPC request failed" method=/rpg_system.RPGSystemService/GetRPGSystem duration_ms=0 error="rpc error: code = NotFound desc = rpg_system not found: 8e97c6b2-ed94-4869-bd34-aacdff295fe0"
time=2026-01-06T19:45:22.398-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestRPGSystemHandler_DeleteRPGSystem (0.17s)
    --- PASS: TestRPGSystemHandler_DeleteRPGSystem/delete_RPG_system (0.01s)
=== RUN   TestSceneHandler_CreateScene
time=2026-01-06T19:45:22.563-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:22.564-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:22.564-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:22.564-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:22.564-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:22.564-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:22.564-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:22.564-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:22.566-03:00 level=INFO msg="tenant created" tenant_id=ceefdff2-7343-4f1b-990e-07f011f5b1d5 name="Test Tenant for Scene"
time=2026-01-06T19:45:22.566-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:22.566-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:22.567-03:00 level=INFO msg="world created" world_id=d105108c-7abe-4e9c-b215-255068d95a81 name="World of Test Story" tenant_id=ceefdff2-7343-4f1b-990e-07f011f5b1d5
time=2026-01-06T19:45:22.567-03:00 level=INFO msg="created implicit world for story" world_id=d105108c-7abe-4e9c-b215-255068d95a81 story_title="Test Story"
time=2026-01-06T19:45:22.568-03:00 level=INFO msg="story created" story_id=248a2f6d-6bd6-436f-973e-28b7416c8e72 title="Test Story" tenant_id=ceefdff2-7343-4f1b-990e-07f011f5b1d5
time=2026-01-06T19:45:22.568-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:22.569-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:22.570-03:00 level=INFO msg="chapter created" chapter_id=2093fefb-351c-4d7d-a2f4-02cd218a828f story_id=248a2f6d-6bd6-436f-973e-28b7416c8e72 tenant_id=ceefdff2-7343-4f1b-990e-07f011f5b1d5
time=2026-01-06T19:45:22.570-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
=== RUN   TestSceneHandler_CreateScene/successful_creation_with_chapter
time=2026-01-06T19:45:22.570-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:22.571-03:00 level=INFO msg="scene created" scene_id=9ff5e91f-3177-4c7a-ada9-07758a22a80f story_id=248a2f6d-6bd6-436f-973e-28b7416c8e72 tenant_id=ceefdff2-7343-4f1b-990e-07f011f5b1d5
time=2026-01-06T19:45:22.571-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_CreateScene/successful_creation_without_chapter
time=2026-01-06T19:45:22.571-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:22.572-03:00 level=INFO msg="scene created" scene_id=b6a73869-7937-49fa-a2b1-78855c2d415d story_id=248a2f6d-6bd6-436f-973e-28b7416c8e72 tenant_id=ceefdff2-7343-4f1b-990e-07f011f5b1d5
time=2026-01-06T19:45:22.572-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
=== RUN   TestSceneHandler_CreateScene/invalid_story_id
time=2026-01-06T19:45:22.572-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:22.572-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = NotFound desc = story not found: a1fa1d2e-66ae-4ace-9a5e-5d01d27c197b"
=== RUN   TestSceneHandler_CreateScene/invalid_order_num
time=2026-01-06T19:45:22.572-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:22.572-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/CreateScene duration_ms=0 error="rpc error: code = InvalidArgument desc = validation error on order_num: must be greater than 0"
time=2026-01-06T19:45:22.572-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_CreateScene (0.17s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_with_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/successful_creation_without_chapter (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_story_id (0.00s)
    --- PASS: TestSceneHandler_CreateScene/invalid_order_num (0.00s)
=== RUN   TestSceneHandler_GetScene
time=2026-01-06T19:45:22.731-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:22.731-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:22.731-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:22.731-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:22.731-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:22.731-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:22.731-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:22.732-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:22.734-03:00 level=INFO msg="tenant created" tenant_id=1c1171cb-c506-461b-ae16-42f8d50d0593 name="Test Tenant for Get Scene"
time=2026-01-06T19:45:22.734-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:22.735-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:22.736-03:00 level=INFO msg="world created" world_id=4d89a239-59b1-4b34-a1e2-bca741fc1bd4 name="World of Test Story" tenant_id=1c1171cb-c506-461b-ae16-42f8d50d0593
time=2026-01-06T19:45:22.736-03:00 level=INFO msg="created implicit world for story" world_id=4d89a239-59b1-4b34-a1e2-bca741fc1bd4 story_title="Test Story"
time=2026-01-06T19:45:22.738-03:00 level=INFO msg="story created" story_id=c9d0da1c-b95a-4925-af70-bc445f95ce5f title="Test Story" tenant_id=1c1171cb-c506-461b-ae16-42f8d50d0593
time=2026-01-06T19:45:22.738-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_GetScene/existing_scene
time=2026-01-06T19:45:22.738-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:22.741-03:00 level=INFO msg="scene created" scene_id=2ad04695-3307-47a3-b242-7cf90a2862b8 story_id=c9d0da1c-b95a-4925-af70-bc445f95ce5f tenant_id=1c1171cb-c506-461b-ae16-42f8d50d0593
time=2026-01-06T19:45:22.741-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=2
time=2026-01-06T19:45:22.741-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-06T19:45:22.742-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetScene duration_ms=0
=== RUN   TestSceneHandler_GetScene/non-existing_scene
time=2026-01-06T19:45:22.742-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetScene
time=2026-01-06T19:45:22.742-03:00 level=ERROR msg="failed to get scene" error="scene not found: 9b867a83-6c74-4578-b568-35a049e00df0" scene_id=9b867a83-6c74-4578-b568-35a049e00df0 tenant_id=1c1171cb-c506-461b-ae16-42f8d50d0593
time=2026-01-06T19:45:22.742-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetScene duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 9b867a83-6c74-4578-b568-35a049e00df0"
time=2026-01-06T19:45:22.742-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetScene (0.17s)
    --- PASS: TestSceneHandler_GetScene/existing_scene (0.00s)
    --- PASS: TestSceneHandler_GetScene/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_UpdateScene
time=2026-01-06T19:45:22.901-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:22.901-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:22.901-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:22.901-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:22.901-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:22.901-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:22.901-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:22.906-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:22.909-03:00 level=INFO msg="tenant created" tenant_id=5dafd2b3-439a-4e9a-ad54-23c68c2d5e00 name="Test Tenant for Update Scene"
time=2026-01-06T19:45:22.909-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:22.909-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:22.910-03:00 level=INFO msg="world created" world_id=4516f640-f44c-4ada-82ab-2a21e596911f name="World of Test Story" tenant_id=5dafd2b3-439a-4e9a-ad54-23c68c2d5e00
time=2026-01-06T19:45:22.910-03:00 level=INFO msg="created implicit world for story" world_id=4516f640-f44c-4ada-82ab-2a21e596911f story_title="Test Story"
time=2026-01-06T19:45:22.911-03:00 level=INFO msg="story created" story_id=c9e7fc9c-a6a0-49f4-b15b-765d3e01f9bb title="Test Story" tenant_id=5dafd2b3-439a-4e9a-ad54-23c68c2d5e00
time=2026-01-06T19:45:22.911-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestSceneHandler_UpdateScene/successful_update
time=2026-01-06T19:45:22.913-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:22.918-03:00 level=INFO msg="scene created" scene_id=c6947e51-316e-442b-948b-a5401750dd5b story_id=c9e7fc9c-a6a0-49f4-b15b-765d3e01f9bb tenant_id=5dafd2b3-439a-4e9a-ad54-23c68c2d5e00
time=2026-01-06T19:45:22.919-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=5
time=2026-01-06T19:45:22.919-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/UpdateScene
time=2026-01-06T19:45:22.920-03:00 level=INFO msg="scene updated" scene_id=c6947e51-316e-442b-948b-a5401750dd5b tenant_id=5dafd2b3-439a-4e9a-ad54-23c68c2d5e00
time=2026-01-06T19:45:22.920-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/UpdateScene duration_ms=1
time=2026-01-06T19:45:22.921-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_UpdateScene (0.18s)
    --- PASS: TestSceneHandler_UpdateScene/successful_update (0.01s)
=== RUN   TestSceneHandler_MoveScene
time=2026-01-06T19:45:23.069-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:23.069-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:23.069-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:23.069-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:23.069-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:23.069-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:23.069-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:23.070-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:23.074-03:00 level=INFO msg="tenant created" tenant_id=108841c0-71f5-49d3-ae6d-a8eb9a250450 name="Test Tenant for Move Scene"
time=2026-01-06T19:45:23.074-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-06T19:45:23.075-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:23.077-03:00 level=INFO msg="world created" world_id=b0b13bbc-89d9-418f-9311-1c2860b1eab3 name="World of Test Story" tenant_id=108841c0-71f5-49d3-ae6d-a8eb9a250450
time=2026-01-06T19:45:23.077-03:00 level=INFO msg="created implicit world for story" world_id=b0b13bbc-89d9-418f-9311-1c2860b1eab3 story_title="Test Story"
time=2026-01-06T19:45:23.078-03:00 level=INFO msg="story created" story_id=7372a902-71dc-41c1-9a56-97478f990e15 title="Test Story" tenant_id=108841c0-71f5-49d3-ae6d-a8eb9a250450
time=2026-01-06T19:45:23.078-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:23.078-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:23.079-03:00 level=INFO msg="chapter created" chapter_id=67635286-8933-4517-aabe-2deac1ab9cf4 story_id=7372a902-71dc-41c1-9a56-97478f990e15 tenant_id=108841c0-71f5-49d3-ae6d-a8eb9a250450
time=2026-01-06T19:45:23.079-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=0
time=2026-01-06T19:45:23.079-03:00 level=INFO msg="gRPC request started" method=/chapter.ChapterService/CreateChapter
time=2026-01-06T19:45:23.081-03:00 level=INFO msg="chapter created" chapter_id=a806988a-ef8c-4868-a531-5de726ef601f story_id=7372a902-71dc-41c1-9a56-97478f990e15 tenant_id=108841c0-71f5-49d3-ae6d-a8eb9a250450
time=2026-01-06T19:45:23.081-03:00 level=INFO msg="gRPC request completed" method=/chapter.ChapterService/CreateChapter duration_ms=1
=== RUN   TestSceneHandler_MoveScene/move_to_different_chapter
time=2026-01-06T19:45:23.081-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:23.082-03:00 level=INFO msg="scene created" scene_id=df86c5d4-f3e1-4a33-aba3-11ab1433e58d story_id=7372a902-71dc-41c1-9a56-97478f990e15 tenant_id=108841c0-71f5-49d3-ae6d-a8eb9a250450
time=2026-01-06T19:45:23.082-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-06T19:45:23.082-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-06T19:45:23.083-03:00 level=INFO msg="scene moved" scene_id=df86c5d4-f3e1-4a33-aba3-11ab1433e58d new_chapter_id=a806988a-ef8c-4868-a531-5de726ef601f tenant_id=108841c0-71f5-49d3-ae6d-a8eb9a250450
time=2026-01-06T19:45:23.083-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
=== RUN   TestSceneHandler_MoveScene/move_to_no_chapter
time=2026-01-06T19:45:23.084-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:23.084-03:00 level=INFO msg="scene created" scene_id=b7136e95-02c7-4534-82d7-992d5cb82cc5 story_id=7372a902-71dc-41c1-9a56-97478f990e15 tenant_id=108841c0-71f5-49d3-ae6d-a8eb9a250450
time=2026-01-06T19:45:23.084-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-06T19:45:23.084-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/MoveScene
time=2026-01-06T19:45:23.085-03:00 level=INFO msg="scene moved" scene_id=b7136e95-02c7-4534-82d7-992d5cb82cc5 new_chapter_id=<nil> tenant_id=108841c0-71f5-49d3-ae6d-a8eb9a250450
time=2026-01-06T19:45:23.085-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/MoveScene duration_ms=0
time=2026-01-06T19:45:23.085-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_MoveScene (0.16s)
    --- PASS: TestSceneHandler_MoveScene/move_to_different_chapter (0.00s)
    --- PASS: TestSceneHandler_MoveScene/move_to_no_chapter (0.00s)
=== RUN   TestSceneHandler_ListScenesByStory
time=2026-01-06T19:45:23.228-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:23.228-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:23.228-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:23.228-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:23.228-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:23.228-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:23.228-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:23.231-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:23.233-03:00 level=INFO msg="tenant created" tenant_id=8631b197-ec97-4629-84ce-d5d3d65547a4 name="Test Tenant for List Scenes"
time=2026-01-06T19:45:23.233-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:23.233-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:23.234-03:00 level=INFO msg="world created" world_id=1cb115e7-4a47-4814-ac68-bb6c12ec9fc3 name="World of Test Story" tenant_id=8631b197-ec97-4629-84ce-d5d3d65547a4
time=2026-01-06T19:45:23.234-03:00 level=INFO msg="created implicit world for story" world_id=1cb115e7-4a47-4814-ac68-bb6c12ec9fc3 story_title="Test Story"
time=2026-01-06T19:45:23.235-03:00 level=INFO msg="story created" story_id=8d0bd54e-7aa3-4e3a-91d3-74d7150ff880 title="Test Story" tenant_id=8631b197-ec97-4629-84ce-d5d3d65547a4
time=2026-01-06T19:45:23.235-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
=== RUN   TestSceneHandler_ListScenesByStory/list_scenes_by_story
time=2026-01-06T19:45:23.235-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:23.236-03:00 level=INFO msg="scene created" scene_id=9cf61055-5dba-4ee8-b399-beb8669a1081 story_id=8d0bd54e-7aa3-4e3a-91d3-74d7150ff880 tenant_id=8631b197-ec97-4629-84ce-d5d3d65547a4
time=2026-01-06T19:45:23.236-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-06T19:45:23.236-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:23.236-03:00 level=INFO msg="scene created" scene_id=2def8720-e013-4ca1-9fe2-129bf67f470f story_id=8d0bd54e-7aa3-4e3a-91d3-74d7150ff880 tenant_id=8631b197-ec97-4629-84ce-d5d3d65547a4
time=2026-01-06T19:45:23.236-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-06T19:45:23.236-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:23.236-03:00 level=INFO msg="scene created" scene_id=cbc4390d-0db3-4336-a80d-7626dc45b28d story_id=8d0bd54e-7aa3-4e3a-91d3-74d7150ff880 tenant_id=8631b197-ec97-4629-84ce-d5d3d65547a4
time=2026-01-06T19:45:23.236-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=0
time=2026-01-06T19:45:23.237-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/ListScenesByStory
time=2026-01-06T19:45:23.237-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/ListScenesByStory duration_ms=0
time=2026-01-06T19:45:23.237-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_ListScenesByStory (0.15s)
    --- PASS: TestSceneHandler_ListScenesByStory/list_scenes_by_story (0.00s)
=== RUN   TestSceneHandler_DeleteScene
time=2026-01-06T19:45:23.477-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:23.477-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:23.477-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:23.477-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:23.477-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:23.477-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:23.477-03:00 level=INFO msg="ContentBlockReferenceService registered"
time=2026-01-06T19:45:23.478-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:23.482-03:00 level=INFO msg="tenant created" tenant_id=4d5fb09a-c0c9-4aed-81d2-599678e1edec name="Test Tenant for Delete Scene"
time=2026-01-06T19:45:23.482-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=4
time=2026-01-06T19:45:23.482-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:23.498-03:00 level=INFO msg="world created" world_id=89186f3b-f00e-4965-8011-12a4b2d409fc name="World of Test Story" tenant_id=4d5fb09a-c0c9-4aed-81d2-599678e1edec
time=2026-01-06T19:45:23.498-03:00 level=INFO msg="created implicit world for story" world_id=89186f3b-f00e-4965-8011-12a4b2d409fc story_title="Test Story"
time=2026-01-06T19:45:23.510-03:00 level=INFO msg="story created" story_id=e4d55efb-2c85-422c-a1ef-a4b5e687532e title="Test Story" tenant_id=4d5fb09a-c0c9-4aed-81d2-599678e1edec
time=2026-01-06T19:45:23.510-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=27
=== RUN   TestSceneHandler_DeleteScene/successful_delete
time=2026-01-06T19:45:23.511-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:23.527-03:00 level=INFO msg="scene created" scene_id=8978415a-8a27-4b78-ab68-9c1dbda1cfa3 story_id=e4d55efb-2c85-422c-a1ef-a4b5e687532e tenant_id=4d5fb09a-c0c9-4aed-81d2-599678e1edec
time=2026-01-06T19:45:23.527-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=16
time=2026-01-06T19:45:23.528-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/DeleteScene
time=2026-01-06T19:45:23.536-03:00 level=INFO msg="scene deleted" scene_id=8978415a-8a27-4b78-ab68-9c1dbda1cfa3 tenant_id=4d5fb09a-c0c9-4aed-81d2-599678e1edec
time=2026-01-06T19:45:23.536-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/DeleteScene duration_ms=7
time=2026-01-06T19:45:23.536-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_DeleteScene (0.34s)
    --- PASS: TestSceneHandler_DeleteScene/successful_delete (0.03s)
=== RUN   TestSceneHandler_AddSceneReference
time=2026-01-06T19:45:23.915-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:23.915-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:23.915-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:23.915-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:23.915-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:23.915-03:00 level=INFO msg="LocationService registered"
time=2026-01-06T19:45:23.915-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:23.915-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-06T19:45:23.916-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:23.918-03:00 level=INFO msg="tenant created" tenant_id=a9d11159-7440-43d9-8f2f-5c9265036a62 name="Test Tenant for Scene References"
time=2026-01-06T19:45:23.918-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:23.918-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:23.919-03:00 level=INFO msg="world created" world_id=53d9da0a-153e-4182-81d6-c6ea78d2462c name="Test World" tenant_id=a9d11159-7440-43d9-8f2f-5c9265036a62
time=2026-01-06T19:45:23.919-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:23.919-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:23.920-03:00 level=INFO msg="world created" world_id=376d94fc-7dba-4ff8-9440-80e013f93e16 name="World of Test Story" tenant_id=a9d11159-7440-43d9-8f2f-5c9265036a62
time=2026-01-06T19:45:23.920-03:00 level=INFO msg="created implicit world for story" world_id=376d94fc-7dba-4ff8-9440-80e013f93e16 story_title="Test Story"
time=2026-01-06T19:45:23.921-03:00 level=INFO msg="story created" story_id=cfa3f6dd-e6a4-4eb3-958d-6fc4c421c8f3 title="Test Story" tenant_id=a9d11159-7440-43d9-8f2f-5c9265036a62
time=2026-01-06T19:45:23.921-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:23.922-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:23.923-03:00 level=INFO msg="scene created" scene_id=dd888715-57f2-4618-ab80-ac0721357e31 story_id=cfa3f6dd-e6a4-4eb3-958d-6fc4c421c8f3 tenant_id=a9d11159-7440-43d9-8f2f-5c9265036a62
time=2026-01-06T19:45:23.923-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_character_reference
time=2026-01-06T19:45:23.923-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:23.925-03:00 level=INFO msg="character created" character_id=6c58573a-0242-473c-835e-1d6c07f8272c name="Test Character"
time=2026-01-06T19:45:23.925-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:23.925-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-06T19:45:23.926-03:00 level=INFO msg="scene reference added" scene_id=dd888715-57f2-4618-ab80-ac0721357e31 entity_type=character entity_id=6c58573a-0242-473c-835e-1d6c07f8272c story_id=cfa3f6dd-e6a4-4eb3-958d-6fc4c421c8f3
time=2026-01-06T19:45:23.927-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_location_reference
time=2026-01-06T19:45:23.927-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-06T19:45:23.928-03:00 level=INFO msg="location created" location_id=6bb1e73d-8d1d-429e-bd53-4ff5412c9a32 name="Test Location"
time=2026-01-06T19:45:23.928-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=0
time=2026-01-06T19:45:23.928-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-06T19:45:23.929-03:00 level=INFO msg="scene reference added" scene_id=dd888715-57f2-4618-ab80-ac0721357e31 entity_type=location entity_id=6bb1e73d-8d1d-429e-bd53-4ff5412c9a32 story_id=cfa3f6dd-e6a4-4eb3-958d-6fc4c421c8f3
time=2026-01-06T19:45:23.929-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/add_artifact_reference
time=2026-01-06T19:45:23.929-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:23.930-03:00 level=INFO msg="artifact created" artifact_id=c47ca249-2417-4cd9-a700-77a7a3e5a7a4 name="Test Artifact"
time=2026-01-06T19:45:23.930-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-06T19:45:23.931-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-06T19:45:23.932-03:00 level=INFO msg="scene reference added" scene_id=dd888715-57f2-4618-ab80-ac0721357e31 entity_type=artifact entity_id=c47ca249-2417-4cd9-a700-77a7a3e5a7a4 story_id=cfa3f6dd-e6a4-4eb3-958d-6fc4c421c8f3
time=2026-01-06T19:45:23.932-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
=== RUN   TestSceneHandler_AddSceneReference/invalid_entity_type
time=2026-01-06T19:45:23.932-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-06T19:45:23.932-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = InvalidArgument desc = entity_type must be 'character', 'location', or 'artifact'"
=== RUN   TestSceneHandler_AddSceneReference/invalid_scene_id
time=2026-01-06T19:45:23.932-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-06T19:45:23.932-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/AddSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene not found: 25520756-a6da-4887-9bb7-32a2e33bca1c"
time=2026-01-06T19:45:23.932-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_AddSceneReference (0.36s)
    --- PASS: TestSceneHandler_AddSceneReference/add_character_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_location_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/add_artifact_reference (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_entity_type (0.00s)
    --- PASS: TestSceneHandler_AddSceneReference/invalid_scene_id (0.00s)
=== RUN   TestSceneHandler_RemoveSceneReference
time=2026-01-06T19:45:24.106-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:24.106-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:24.106-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:24.106-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:24.106-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:24.106-03:00 level=INFO msg="LocationService registered"
time=2026-01-06T19:45:24.106-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:24.106-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-06T19:45:24.107-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:24.109-03:00 level=INFO msg="tenant created" tenant_id=94a8b7a1-6193-4b2f-85d2-a12bcae0ed22 name="Test Tenant for Remove Reference"
time=2026-01-06T19:45:24.109-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:24.109-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:24.110-03:00 level=INFO msg="world created" world_id=8f7b2dab-d5ff-4617-8154-ef86f123af04 name="Test World" tenant_id=94a8b7a1-6193-4b2f-85d2-a12bcae0ed22
time=2026-01-06T19:45:24.110-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:24.110-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:24.111-03:00 level=INFO msg="world created" world_id=a8182965-98c8-44dc-912e-dcd88e602585 name="World of Test Story" tenant_id=94a8b7a1-6193-4b2f-85d2-a12bcae0ed22
time=2026-01-06T19:45:24.111-03:00 level=INFO msg="created implicit world for story" world_id=a8182965-98c8-44dc-912e-dcd88e602585 story_title="Test Story"
time=2026-01-06T19:45:24.112-03:00 level=INFO msg="story created" story_id=7e5c28d0-05d4-4390-a926-527f0fcb81d4 title="Test Story" tenant_id=94a8b7a1-6193-4b2f-85d2-a12bcae0ed22
time=2026-01-06T19:45:24.112-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-06T19:45:24.112-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:24.114-03:00 level=INFO msg="scene created" scene_id=012c38b1-1df2-49ef-94d6-f5a5352d1214 story_id=7e5c28d0-05d4-4390-a926-527f0fcb81d4 tenant_id=94a8b7a1-6193-4b2f-85d2-a12bcae0ed22
time=2026-01-06T19:45:24.114-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-06T19:45:24.114-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:24.115-03:00 level=INFO msg="character created" character_id=86c20661-691f-4ac3-8c0b-61598f34f862 name="Test Character"
time=2026-01-06T19:45:24.115-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
=== RUN   TestSceneHandler_RemoveSceneReference/successful_remove
time=2026-01-06T19:45:24.116-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-06T19:45:24.118-03:00 level=INFO msg="scene reference added" scene_id=012c38b1-1df2-49ef-94d6-f5a5352d1214 entity_type=character entity_id=86c20661-691f-4ac3-8c0b-61598f34f862 story_id=7e5c28d0-05d4-4390-a926-527f0fcb81d4
time=2026-01-06T19:45:24.118-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-06T19:45:24.118-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-06T19:45:24.118-03:00 level=INFO msg="scene reference removed" scene_id=012c38b1-1df2-49ef-94d6-f5a5352d1214 entity_type=character entity_id=86c20661-691f-4ac3-8c0b-61598f34f862
time=2026-01-06T19:45:24.118-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/RemoveSceneReference duration_ms=0
time=2026-01-06T19:45:24.119-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-06T19:45:24.119-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_RemoveSceneReference/remove_non-existing_reference
time=2026-01-06T19:45:24.119-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/RemoveSceneReference
time=2026-01-06T19:45:24.119-03:00 level=ERROR msg="failed to remove scene reference" error="scene_reference not found: 012c38b1-1df2-49ef-94d6-f5a5352d1214/character/e7bf2c52-8412-4494-a4ef-56927ff5bc57" scene_id=012c38b1-1df2-49ef-94d6-f5a5352d1214
time=2026-01-06T19:45:24.119-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/RemoveSceneReference duration_ms=0 error="rpc error: code = NotFound desc = scene_reference not found: 012c38b1-1df2-49ef-94d6-f5a5352d1214/character/e7bf2c52-8412-4494-a4ef-56927ff5bc57"
time=2026-01-06T19:45:24.119-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_RemoveSceneReference (0.19s)
    --- PASS: TestSceneHandler_RemoveSceneReference/successful_remove (0.00s)
    --- PASS: TestSceneHandler_RemoveSceneReference/remove_non-existing_reference (0.00s)
=== RUN   TestSceneHandler_GetSceneReferences
time=2026-01-06T19:45:24.867-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:24.867-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:24.867-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:24.867-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:24.867-03:00 level=INFO msg="WorldService registered"
time=2026-01-06T19:45:24.867-03:00 level=INFO msg="LocationService registered"
time=2026-01-06T19:45:24.867-03:00 level=INFO msg="CharacterService registered"
time=2026-01-06T19:45:24.867-03:00 level=INFO msg="ArtifactService registered"
time=2026-01-06T19:45:24.868-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:24.871-03:00 level=INFO msg="tenant created" tenant_id=9b146514-bf8c-4207-9a55-1ad4d8852034 name="Test Tenant for Get References"
time=2026-01-06T19:45:24.871-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:24.871-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:24.873-03:00 level=INFO msg="world created" world_id=e922e15e-6429-4c49-9398-ef476b2e4f83 name="Test World" tenant_id=9b146514-bf8c-4207-9a55-1ad4d8852034
time=2026-01-06T19:45:24.873-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:24.873-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:24.874-03:00 level=INFO msg="world created" world_id=9daa50c0-028f-4b1d-b720-d682027d3d7e name="World of Test Story" tenant_id=9b146514-bf8c-4207-9a55-1ad4d8852034
time=2026-01-06T19:45:24.874-03:00 level=INFO msg="created implicit world for story" world_id=9daa50c0-028f-4b1d-b720-d682027d3d7e story_title="Test Story"
time=2026-01-06T19:45:24.875-03:00 level=INFO msg="story created" story_id=556fab95-9908-429d-a3b7-ccb33d5fb7d9 title="Test Story" tenant_id=9b146514-bf8c-4207-9a55-1ad4d8852034
time=2026-01-06T19:45:24.875-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:24.875-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:24.876-03:00 level=INFO msg="scene created" scene_id=4f1a845b-2e4a-4b22-9a4c-289a4602fae7 story_id=556fab95-9908-429d-a3b7-ccb33d5fb7d9 tenant_id=9b146514-bf8c-4207-9a55-1ad4d8852034
time=2026-01-06T19:45:24.876-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
=== RUN   TestSceneHandler_GetSceneReferences/get_multiple_references
time=2026-01-06T19:45:24.877-03:00 level=INFO msg="gRPC request started" method=/character.CharacterService/CreateCharacter
time=2026-01-06T19:45:24.878-03:00 level=INFO msg="character created" character_id=bd357019-7a09-4d79-9d82-dc8a64f26848 name="Test Character"
time=2026-01-06T19:45:24.878-03:00 level=INFO msg="gRPC request completed" method=/character.CharacterService/CreateCharacter duration_ms=1
time=2026-01-06T19:45:24.878-03:00 level=INFO msg="gRPC request started" method=/location.LocationService/CreateLocation
time=2026-01-06T19:45:24.879-03:00 level=INFO msg="location created" location_id=5e51bd57-879e-43e6-ae85-e7f96aab8e00 name="Test Location"
time=2026-01-06T19:45:24.879-03:00 level=INFO msg="gRPC request completed" method=/location.LocationService/CreateLocation duration_ms=1
time=2026-01-06T19:45:24.880-03:00 level=INFO msg="gRPC request started" method=/artifact.ArtifactService/CreateArtifact
time=2026-01-06T19:45:24.881-03:00 level=INFO msg="artifact created" artifact_id=869f0da1-adcb-4974-9244-42bd11471e55 name="Test Artifact"
time=2026-01-06T19:45:24.881-03:00 level=INFO msg="gRPC request completed" method=/artifact.ArtifactService/CreateArtifact duration_ms=1
time=2026-01-06T19:45:24.881-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-06T19:45:24.883-03:00 level=INFO msg="scene reference added" scene_id=4f1a845b-2e4a-4b22-9a4c-289a4602fae7 entity_type=character entity_id=bd357019-7a09-4d79-9d82-dc8a64f26848 story_id=556fab95-9908-429d-a3b7-ccb33d5fb7d9
time=2026-01-06T19:45:24.883-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=2
time=2026-01-06T19:45:24.884-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-06T19:45:24.885-03:00 level=INFO msg="scene reference added" scene_id=4f1a845b-2e4a-4b22-9a4c-289a4602fae7 entity_type=location entity_id=5e51bd57-879e-43e6-ae85-e7f96aab8e00 story_id=556fab95-9908-429d-a3b7-ccb33d5fb7d9
time=2026-01-06T19:45:24.885-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=1
time=2026-01-06T19:45:24.885-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/AddSceneReference
time=2026-01-06T19:45:24.899-03:00 level=INFO msg="scene reference added" scene_id=4f1a845b-2e4a-4b22-9a4c-289a4602fae7 entity_type=artifact entity_id=869f0da1-adcb-4974-9244-42bd11471e55 story_id=556fab95-9908-429d-a3b7-ccb33d5fb7d9
time=2026-01-06T19:45:24.900-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/AddSceneReference duration_ms=15
time=2026-01-06T19:45:24.901-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-06T19:45:24.901-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/get_empty_references
time=2026-01-06T19:45:24.901-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/CreateScene
time=2026-01-06T19:45:24.903-03:00 level=INFO msg="scene created" scene_id=88293b61-056d-40cd-9343-2930a579aa34 story_id=556fab95-9908-429d-a3b7-ccb33d5fb7d9 tenant_id=9b146514-bf8c-4207-9a55-1ad4d8852034
time=2026-01-06T19:45:24.903-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/CreateScene duration_ms=1
time=2026-01-06T19:45:24.903-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-06T19:45:24.903-03:00 level=INFO msg="gRPC request completed" method=/scene.SceneService/GetSceneReferences duration_ms=0
=== RUN   TestSceneHandler_GetSceneReferences/invalid_scene_id
time=2026-01-06T19:45:24.904-03:00 level=INFO msg="gRPC request started" method=/scene.SceneService/GetSceneReferences
time=2026-01-06T19:45:24.904-03:00 level=ERROR msg="gRPC request failed" method=/scene.SceneService/GetSceneReferences duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid scene_id: invalid UUID length: 10"
time=2026-01-06T19:45:24.904-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSceneHandler_GetSceneReferences (0.81s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_multiple_references (0.02s)
    --- PASS: TestSceneHandler_GetSceneReferences/get_empty_references (0.00s)
    --- PASS: TestSceneHandler_GetSceneReferences/invalid_scene_id (0.00s)
=== RUN   TestSkillHandler_CreateSkill
time=2026-01-06T19:45:25.166-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:25.166-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:25.166-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_CreateSkill/successful_creation
time=2026-01-06T19:45:25.167-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.169-03:00 level=INFO msg="tenant created" tenant_id=ec6c2b3f-4b95-4201-964f-76d14759db58 name="Test Tenant for Skill"
time=2026-01-06T19:45:25.169-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:25.169-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:25.170-03:00 level=INFO msg="RPG system created" rpg_system_id=d0f4d738-bfd4-4954-98dd-cfd6b1c8f8a5 name="Test System"
time=2026-01-06T19:45:25.170-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-06T19:45:25.171-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:25.172-03:00 level=INFO msg="skill created" skill_id=297beb99-fd0a-4a42-b183-632460a12dc3 name=Fireball
time=2026-01-06T19:45:25.172-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
=== RUN   TestSkillHandler_CreateSkill/empty_name
time=2026-01-06T19:45:25.172-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.173-03:00 level=INFO msg="tenant created" tenant_id=5eb8ee00-e0c8-4c19-983c-ea8593a55016 name="Test Tenant 2"
time=2026-01-06T19:45:25.173-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:25.173-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:25.174-03:00 level=INFO msg="RPG system created" rpg_system_id=200bcf2e-9f75-41de-a554-4303a62de151 name="Test System 2"
time=2026-01-06T19:45:25.174-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:25.174-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:25.174-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/CreateSkill duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-06T19:45:25.174-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_CreateSkill (0.25s)
    --- PASS: TestSkillHandler_CreateSkill/successful_creation (0.01s)
    --- PASS: TestSkillHandler_CreateSkill/empty_name (0.00s)
=== RUN   TestSkillHandler_GetSkill
time=2026-01-06T19:45:25.328-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:25.328-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:25.328-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_GetSkill/existing_skill
time=2026-01-06T19:45:25.328-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.331-03:00 level=INFO msg="tenant created" tenant_id=80ba1f25-1231-4c5e-97a6-fe70aa3cc293 name="Get Test Tenant"
time=2026-01-06T19:45:25.331-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:25.331-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:25.332-03:00 level=INFO msg="RPG system created" rpg_system_id=6ccaf294-7400-405a-9351-ce857326a454 name="Get Test System"
time=2026-01-06T19:45:25.332-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-06T19:45:25.332-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:25.334-03:00 level=INFO msg="skill created" skill_id=9ce3de76-ec56-43ac-afb1-14345182ca62 name="Get Test Skill"
time=2026-01-06T19:45:25.334-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-06T19:45:25.334-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-06T19:45:25.334-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/GetSkill duration_ms=0
=== RUN   TestSkillHandler_GetSkill/non-existing_skill
time=2026-01-06T19:45:25.334-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.335-03:00 level=INFO msg="tenant created" tenant_id=0961f913-f8ea-41ce-a019-f47888ba4ce1 name="Non-existing Test Tenant"
time=2026-01-06T19:45:25.335-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:25.335-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-06T19:45:25.335-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 311c5b67-ff6c-4910-89f6-0c96cc8ad28c" skill_id=311c5b67-ff6c-4910-89f6-0c96cc8ad28c
time=2026-01-06T19:45:25.335-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 311c5b67-ff6c-4910-89f6-0c96cc8ad28c"
time=2026-01-06T19:45:25.335-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_GetSkill (0.16s)
    --- PASS: TestSkillHandler_GetSkill/existing_skill (0.01s)
    --- PASS: TestSkillHandler_GetSkill/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_ListSkills
time=2026-01-06T19:45:25.483-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:25.483-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:25.483-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_ListSkills/list_skills
time=2026-01-06T19:45:25.484-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.486-03:00 level=INFO msg="tenant created" tenant_id=f2b575a8-bc84-4d9b-8ef1-07612b2446b6 name="List Test Tenant"
time=2026-01-06T19:45:25.486-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:25.486-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:25.487-03:00 level=INFO msg="RPG system created" rpg_system_id=d324fe96-5067-4056-bb2c-99c461904056 name="List Test System"
time=2026-01-06T19:45:25.487-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=1
time=2026-01-06T19:45:25.488-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:25.490-03:00 level=INFO msg="skill created" skill_id=e6305a79-f692-4d06-b998-0802b5329233 name="Skill 1"
time=2026-01-06T19:45:25.490-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=2
time=2026-01-06T19:45:25.490-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:25.490-03:00 level=INFO msg="skill created" skill_id=eb2ba862-041e-44cc-8676-6f1d42a27ceb name="Skill 2"
time=2026-01-06T19:45:25.490-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=0
time=2026-01-06T19:45:25.491-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/ListSkills
time=2026-01-06T19:45:25.491-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/ListSkills duration_ms=0
time=2026-01-06T19:45:25.491-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_ListSkills (0.16s)
    --- PASS: TestSkillHandler_ListSkills/list_skills (0.01s)
=== RUN   TestSkillHandler_UpdateSkill
time=2026-01-06T19:45:25.642-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:25.642-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:25.642-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_UpdateSkill/update_skill
time=2026-01-06T19:45:25.643-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.645-03:00 level=INFO msg="tenant created" tenant_id=aab474f2-fc34-4502-aff2-04d496878844 name="Update Test Tenant"
time=2026-01-06T19:45:25.645-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:25.645-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:25.646-03:00 level=INFO msg="RPG system created" rpg_system_id=7ca50ac2-4566-4852-a899-cd52fed9fdb7 name="Update Test System"
time=2026-01-06T19:45:25.646-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:25.646-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:25.648-03:00 level=INFO msg="skill created" skill_id=7bd4f416-9cb3-4ebd-9001-b84900ac84e5 name="Original Skill"
time=2026-01-06T19:45:25.648-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-06T19:45:25.648-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/UpdateSkill
time=2026-01-06T19:45:25.649-03:00 level=INFO msg="skill updated" skill_id=7bd4f416-9cb3-4ebd-9001-b84900ac84e5
time=2026-01-06T19:45:25.649-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/UpdateSkill duration_ms=0
time=2026-01-06T19:45:25.649-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_UpdateSkill (0.15s)
    --- PASS: TestSkillHandler_UpdateSkill/update_skill (0.01s)
=== RUN   TestSkillHandler_DeleteSkill
time=2026-01-06T19:45:25.805-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:25.805-03:00 level=INFO msg="RPGSystemService registered"
time=2026-01-06T19:45:25.805-03:00 level=INFO msg="SkillService registered"
=== RUN   TestSkillHandler_DeleteSkill/delete_skill
time=2026-01-06T19:45:25.805-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.808-03:00 level=INFO msg="tenant created" tenant_id=b1a97d01-8513-46a6-9625-ba116b85502d name="Delete Test Tenant"
time=2026-01-06T19:45:25.808-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:25.808-03:00 level=INFO msg="gRPC request started" method=/rpg_system.RPGSystemService/CreateRPGSystem
time=2026-01-06T19:45:25.809-03:00 level=INFO msg="RPG system created" rpg_system_id=2a9e5d9d-149c-4cb2-b88c-cefb3e5145da name="Delete Test System"
time=2026-01-06T19:45:25.809-03:00 level=INFO msg="gRPC request completed" method=/rpg_system.RPGSystemService/CreateRPGSystem duration_ms=0
time=2026-01-06T19:45:25.809-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/CreateSkill
time=2026-01-06T19:45:25.810-03:00 level=INFO msg="skill created" skill_id=516df672-6407-4b19-ba9e-664af1162296 name="Skill to Delete"
time=2026-01-06T19:45:25.810-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/CreateSkill duration_ms=1
time=2026-01-06T19:45:25.810-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/DeleteSkill
time=2026-01-06T19:45:25.811-03:00 level=INFO msg="skill deleted" skill_id=516df672-6407-4b19-ba9e-664af1162296
time=2026-01-06T19:45:25.811-03:00 level=INFO msg="gRPC request completed" method=/skill.SkillService/DeleteSkill duration_ms=0
time=2026-01-06T19:45:25.811-03:00 level=INFO msg="gRPC request started" method=/skill.SkillService/GetSkill
time=2026-01-06T19:45:25.812-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 516df672-6407-4b19-ba9e-664af1162296" skill_id=516df672-6407-4b19-ba9e-664af1162296
time=2026-01-06T19:45:25.812-03:00 level=ERROR msg="gRPC request failed" method=/skill.SkillService/GetSkill duration_ms=0 error="rpc error: code = NotFound desc = rpg_skill not found: 516df672-6407-4b19-ba9e-664af1162296"
time=2026-01-06T19:45:25.812-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestSkillHandler_DeleteSkill (0.16s)
    --- PASS: TestSkillHandler_DeleteSkill/delete_skill (0.01s)
=== RUN   TestStoryHandler_CreateStory
time=2026-01-06T19:45:25.963-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:25.963-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:25.963-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:25.963-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:25.963-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:25.963-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:25.963-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata
time=2026-01-06T19:45:25.964-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.967-03:00 level=INFO msg="tenant created" tenant_id=3c681872-c305-42c6-90cc-9433a7cfe4ee name="Test Tenant for Story"
time=2026-01-06T19:45:25.967-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:25.967-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:25.968-03:00 level=INFO msg="world created" world_id=d111adcb-002a-4c19-ab0a-1feac71015c9 name="World of Test Story" tenant_id=3c681872-c305-42c6-90cc-9433a7cfe4ee
time=2026-01-06T19:45:25.968-03:00 level=INFO msg="created implicit world for story" world_id=d111adcb-002a-4c19-ab0a-1feac71015c9 story_title="Test Story"
time=2026-01-06T19:45:25.969-03:00 level=INFO msg="story created" story_id=30173a77-07f5-42cc-8b95-67b9331f2f37 title="Test Story" tenant_id=3c681872-c305-42c6-90cc-9433a7cfe4ee
time=2026-01-06T19:45:25.969-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
=== RUN   TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request
time=2026-01-06T19:45:25.969-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.970-03:00 level=INFO msg="tenant created" tenant_id=8af05ad8-af8f-4b9c-be4b-6106090fecc8 name="Test Tenant for Story 2"
time=2026-01-06T19:45:25.970-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:25.970-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:25.971-03:00 level=INFO msg="world created" world_id=71b8791c-3c89-4584-a909-90fc5b5bcc50 name="World of Test Story 2" tenant_id=8af05ad8-af8f-4b9c-be4b-6106090fecc8
time=2026-01-06T19:45:25.971-03:00 level=INFO msg="created implicit world for story" world_id=71b8791c-3c89-4584-a909-90fc5b5bcc50 story_title="Test Story 2"
time=2026-01-06T19:45:25.972-03:00 level=INFO msg="story created" story_id=1e5966e9-4f80-42d6-9a86-16729eb538e1 title="Test Story 2" tenant_id=8af05ad8-af8f-4b9c-be4b-6106090fecc8
time=2026-01-06T19:45:25.972-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
=== RUN   TestStoryHandler_CreateStory/without_tenant_id
time=2026-01-06T19:45:25.972-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:25.972-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
=== RUN   TestStoryHandler_CreateStory/with_invalid_tenant
time=2026-01-06T19:45:25.973-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:25.974-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=1 error="rpc error: code = NotFound desc = tenant not found: 925b03f5-7a53-4872-8e49-8da4528f97fc"
=== RUN   TestStoryHandler_CreateStory/empty_title
time=2026-01-06T19:45:25.975-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:25.976-03:00 level=INFO msg="tenant created" tenant_id=c7137a4b-09e9-42cd-b550-7b4ef8d2f579 name="Test Tenant for Empty Title"
time=2026-01-06T19:45:25.976-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:25.976-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:25.976-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CreateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = title is required"
time=2026-01-06T19:45:25.976-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CreateStory (0.16s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_metadata (0.01s)
    --- PASS: TestStoryHandler_CreateStory/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestStoryHandler_CreateStory/without_tenant_id (0.00s)
    --- PASS: TestStoryHandler_CreateStory/with_invalid_tenant (0.00s)
    --- PASS: TestStoryHandler_CreateStory/empty_title (0.00s)
=== RUN   TestStoryHandler_GetStory
time=2026-01-06T19:45:26.132-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:26.133-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:26.133-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:26.133-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:26.133-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:26.133-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:26.133-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_GetStory/existing_story
time=2026-01-06T19:45:26.133-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:26.135-03:00 level=INFO msg="tenant created" tenant_id=f6f9a11d-51aa-4c99-822d-12dfd24ace56 name="Test Tenant for Get"
time=2026-01-06T19:45:26.135-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:26.135-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:26.137-03:00 level=INFO msg="world created" world_id=a413e781-be0f-4d54-9da0-7c22caa9c358 name="World of Get Test Story" tenant_id=f6f9a11d-51aa-4c99-822d-12dfd24ace56
time=2026-01-06T19:45:26.137-03:00 level=INFO msg="created implicit world for story" world_id=a413e781-be0f-4d54-9da0-7c22caa9c358 story_title="Get Test Story"
time=2026-01-06T19:45:26.138-03:00 level=INFO msg="story created" story_id=bb201379-9719-4f05-ba16-c1e6d1e89752 title="Get Test Story" tenant_id=f6f9a11d-51aa-4c99-822d-12dfd24ace56
time=2026-01-06T19:45:26.138-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
    story_handler_test.go:160: Created story ID: 'bb201379-9719-4f05-ba16-c1e6d1e89752' (length: 36)
time=2026-01-06T19:45:26.141-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-06T19:45:26.142-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/GetStory duration_ms=0
=== RUN   TestStoryHandler_GetStory/non-existing_story
time=2026-01-06T19:45:26.142-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:26.142-03:00 level=INFO msg="tenant created" tenant_id=65648174-634d-4614-847a-c89b05777d27 name="Test Tenant for Non-existing"
time=2026-01-06T19:45:26.142-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:26.143-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-06T19:45:26.143-03:00 level=ERROR msg="failed to get story" error="story not found: 549c52a1-2e58-4e30-835a-14f214308d42" story_id=549c52a1-2e58-4e30-835a-14f214308d42 tenant_id=65648174-634d-4614-847a-c89b05777d27
time=2026-01-06T19:45:26.143-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: 549c52a1-2e58-4e30-835a-14f214308d42"
=== RUN   TestStoryHandler_GetStory/invalid_story_ID
time=2026-01-06T19:45:26.143-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:26.143-03:00 level=INFO msg="tenant created" tenant_id=129cb5e9-3ec6-4040-aec5-e542276f7427 name="Test Tenant for Invalid ID"
time=2026-01-06T19:45:26.143-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:26.144-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/GetStory
time=2026-01-06T19:45:26.144-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/GetStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-06T19:45:26.144-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_GetStory (0.17s)
    --- PASS: TestStoryHandler_GetStory/existing_story (0.01s)
    --- PASS: TestStoryHandler_GetStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_GetStory/invalid_story_ID (0.00s)
=== RUN   TestStoryHandler_ListStories
time=2026-01-06T19:45:26.285-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:26.285-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:26.285-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:26.285-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:26.285-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:26.285-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:26.285-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStories/with_pagination
time=2026-01-06T19:45:26.287-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:26.294-03:00 level=INFO msg="tenant created" tenant_id=237cdc28-5e6e-4375-a324-4b2ef5375c99 name="Test Tenant for List"
time=2026-01-06T19:45:26.294-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=6
time=2026-01-06T19:45:26.294-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:26.295-03:00 level=INFO msg="world created" world_id=398f3f28-b9a7-46c3-a934-c1fa85d8c99e name="World of List Test Story 1" tenant_id=237cdc28-5e6e-4375-a324-4b2ef5375c99
time=2026-01-06T19:45:26.295-03:00 level=INFO msg="created implicit world for story" world_id=398f3f28-b9a7-46c3-a934-c1fa85d8c99e story_title="List Test Story 1"
time=2026-01-06T19:45:26.297-03:00 level=INFO msg="story created" story_id=24baa73d-27ea-470d-9dd4-6b89eb5d7cb7 title="List Test Story 1" tenant_id=237cdc28-5e6e-4375-a324-4b2ef5375c99
time=2026-01-06T19:45:26.297-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:26.297-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:26.298-03:00 level=INFO msg="world created" world_id=def9f10f-e0c9-4033-8fda-dbff851554da name="World of List Test Story 2" tenant_id=237cdc28-5e6e-4375-a324-4b2ef5375c99
time=2026-01-06T19:45:26.298-03:00 level=INFO msg="created implicit world for story" world_id=def9f10f-e0c9-4033-8fda-dbff851554da story_title="List Test Story 2"
time=2026-01-06T19:45:26.298-03:00 level=INFO msg="story created" story_id=1387f8c4-e81d-4735-9558-0516dd9f499b title="List Test Story 2" tenant_id=237cdc28-5e6e-4375-a324-4b2ef5375c99
time=2026-01-06T19:45:26.298-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-06T19:45:26.299-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:26.299-03:00 level=INFO msg="world created" world_id=30b6ad91-996d-42be-81ef-79ad66a033ca name="World of List Test Story 3" tenant_id=237cdc28-5e6e-4375-a324-4b2ef5375c99
time=2026-01-06T19:45:26.299-03:00 level=INFO msg="created implicit world for story" world_id=30b6ad91-996d-42be-81ef-79ad66a033ca story_title="List Test Story 3"
time=2026-01-06T19:45:26.300-03:00 level=INFO msg="story created" story_id=22a89233-ae3f-4121-aec3-8f4cb0b15b6e title="List Test Story 3" tenant_id=237cdc28-5e6e-4375-a324-4b2ef5375c99
time=2026-01-06T19:45:26.300-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-06T19:45:26.300-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-06T19:45:26.300-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStories duration_ms=0
=== RUN   TestStoryHandler_ListStories/without_tenant_id
time=2026-01-06T19:45:26.301-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStories
time=2026-01-06T19:45:26.301-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/ListStories duration_ms=0 error="rpc error: code = Unauthenticated desc = tenant_id is required in metadata"
time=2026-01-06T19:45:26.301-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStories (0.16s)
    --- PASS: TestStoryHandler_ListStories/with_pagination (0.01s)
    --- PASS: TestStoryHandler_ListStories/without_tenant_id (0.00s)
=== RUN   TestStoryHandler_CloneStory
time=2026-01-06T19:45:26.448-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:26.448-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:26.448-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:26.448-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:26.448-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:26.448-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:26.448-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_CloneStory/successful_clone
time=2026-01-06T19:45:26.449-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:26.452-03:00 level=INFO msg="tenant created" tenant_id=ab73b344-c3e2-4861-9ad1-ea4fb3fc038d name="Test Tenant for Clone"
time=2026-01-06T19:45:26.452-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:26.453-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:26.454-03:00 level=INFO msg="world created" world_id=517a7ee8-0ab5-445a-9bbc-342d28d2c386 name="World of Clone Test Story" tenant_id=ab73b344-c3e2-4861-9ad1-ea4fb3fc038d
time=2026-01-06T19:45:26.454-03:00 level=INFO msg="created implicit world for story" world_id=517a7ee8-0ab5-445a-9bbc-342d28d2c386 story_title="Clone Test Story"
time=2026-01-06T19:45:26.456-03:00 level=INFO msg="story created" story_id=fd0d5f9f-16e0-4595-9eb1-fe16313f97b8 title="Clone Test Story" tenant_id=ab73b344-c3e2-4861-9ad1-ea4fb3fc038d
time=2026-01-06T19:45:26.456-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-06T19:45:26.456-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-06T19:45:26.459-03:00 level=INFO msg="story cloned" source_story_id=fd0d5f9f-16e0-4595-9eb1-fe16313f97b8 new_story_id=db822d36-8449-4db1-8b21-9da8212f659c version_number=2
time=2026-01-06T19:45:26.459-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=3
=== RUN   TestStoryHandler_CloneStory/non-existing_source_story
time=2026-01-06T19:45:26.459-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:26.460-03:00 level=INFO msg="tenant created" tenant_id=5fa38ce5-6b13-4f42-9a2d-40d1a98b97fe name="Test Tenant for Non-existing Clone"
time=2026-01-06T19:45:26.460-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:26.460-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-06T19:45:26.460-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/CloneStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: eed3bc78-3ec6-466a-8de0-602de86afa28"
time=2026-01-06T19:45:26.461-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_CloneStory (0.17s)
    --- PASS: TestStoryHandler_CloneStory/successful_clone (0.01s)
    --- PASS: TestStoryHandler_CloneStory/non-existing_source_story (0.00s)
=== RUN   TestStoryHandler_ListStoryVersions
time=2026-01-06T19:45:26.862-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:26.862-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:26.862-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:26.862-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:26.862-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:26.862-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:26.862-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_ListStoryVersions/list_versions
time=2026-01-06T19:45:26.863-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:26.865-03:00 level=INFO msg="tenant created" tenant_id=83bbadd0-0d3c-4598-a4b5-2e7f6cb67188 name="Test Tenant for Versions"
time=2026-01-06T19:45:26.865-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:26.865-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:26.866-03:00 level=INFO msg="world created" world_id=cf08dec7-3111-42c7-8e1f-4bdbf8beb856 name="World of Version Test Story" tenant_id=83bbadd0-0d3c-4598-a4b5-2e7f6cb67188
time=2026-01-06T19:45:26.866-03:00 level=INFO msg="created implicit world for story" world_id=cf08dec7-3111-42c7-8e1f-4bdbf8beb856 story_title="Version Test Story"
time=2026-01-06T19:45:26.868-03:00 level=INFO msg="story created" story_id=7181d69c-f4b9-46b3-9354-f4775e2ce920 title="Version Test Story" tenant_id=83bbadd0-0d3c-4598-a4b5-2e7f6cb67188
time=2026-01-06T19:45:26.868-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=2
time=2026-01-06T19:45:26.868-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-06T19:45:26.870-03:00 level=INFO msg="story cloned" source_story_id=7181d69c-f4b9-46b3-9354-f4775e2ce920 new_story_id=9eabbf78-a53f-4d73-911f-0de1dfe57ca6 version_number=2
time=2026-01-06T19:45:26.870-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=2
time=2026-01-06T19:45:26.870-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CloneStory
time=2026-01-06T19:45:26.872-03:00 level=INFO msg="story cloned" source_story_id=9eabbf78-a53f-4d73-911f-0de1dfe57ca6 new_story_id=17a73173-6c1f-4a2d-bca3-373a149b0900 version_number=3
time=2026-01-06T19:45:26.872-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CloneStory duration_ms=1
time=2026-01-06T19:45:26.872-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-06T19:45:26.872-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
=== RUN   TestStoryHandler_ListStoryVersions/non-existing_root_story
time=2026-01-06T19:45:26.873-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:26.873-03:00 level=INFO msg="tenant created" tenant_id=e86684ad-df3f-48d5-83c4-4ec5d36d62d4 name="Test Tenant for Non-existing Root"
time=2026-01-06T19:45:26.873-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:26.873-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/ListStoryVersions
time=2026-01-06T19:45:26.874-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/ListStoryVersions duration_ms=0
time=2026-01-06T19:45:26.874-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_ListStoryVersions (0.40s)
    --- PASS: TestStoryHandler_ListStoryVersions/list_versions (0.01s)
    --- PASS: TestStoryHandler_ListStoryVersions/non-existing_root_story (0.00s)
=== RUN   TestStoryHandler_UpdateStory
time=2026-01-06T19:45:27.047-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:27.047-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:27.047-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:27.047-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:27.047-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:27.047-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:27.047-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestStoryHandler_UpdateStory/successful_update_title
time=2026-01-06T19:45:27.047-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.050-03:00 level=INFO msg="tenant created" tenant_id=52680b80-fce3-4b17-afad-90cb70a347f1 name="Test Tenant for Update Story"
time=2026-01-06T19:45:27.050-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:27.050-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:27.053-03:00 level=INFO msg="world created" world_id=36398c43-bed8-41a2-a4e4-ddd85c214791 name="World of Original Title" tenant_id=52680b80-fce3-4b17-afad-90cb70a347f1
time=2026-01-06T19:45:27.053-03:00 level=INFO msg="created implicit world for story" world_id=36398c43-bed8-41a2-a4e4-ddd85c214791 story_title="Original Title"
time=2026-01-06T19:45:27.054-03:00 level=INFO msg="story created" story_id=94c0bd6c-d19d-4da2-a0fb-8392ebb63d03 title="Original Title" tenant_id=52680b80-fce3-4b17-afad-90cb70a347f1
time=2026-01-06T19:45:27.054-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=3
time=2026-01-06T19:45:27.058-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-06T19:45:27.059-03:00 level=INFO msg="story updated" story_id=94c0bd6c-d19d-4da2-a0fb-8392ebb63d03 tenant_id=52680b80-fce3-4b17-afad-90cb70a347f1
time=2026-01-06T19:45:27.059-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=1
=== RUN   TestStoryHandler_UpdateStory/successful_update_status
time=2026-01-06T19:45:27.059-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.060-03:00 level=INFO msg="tenant created" tenant_id=d389c2eb-2a50-48f8-8ef4-f0a92ad8581b name="Test Tenant for Update Story Status"
time=2026-01-06T19:45:27.060-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:27.060-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/CreateStory
time=2026-01-06T19:45:27.061-03:00 level=INFO msg="world created" world_id=54144005-53a8-45bc-81d1-6f51f16cbfc0 name="World of Test Story" tenant_id=d389c2eb-2a50-48f8-8ef4-f0a92ad8581b
time=2026-01-06T19:45:27.061-03:00 level=INFO msg="created implicit world for story" world_id=54144005-53a8-45bc-81d1-6f51f16cbfc0 story_title="Test Story"
time=2026-01-06T19:45:27.061-03:00 level=INFO msg="story created" story_id=d87cb82f-36be-454d-9e26-1949556c7589 title="Test Story" tenant_id=d389c2eb-2a50-48f8-8ef4-f0a92ad8581b
time=2026-01-06T19:45:27.061-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/CreateStory duration_ms=1
time=2026-01-06T19:45:27.061-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-06T19:45:27.062-03:00 level=INFO msg="story updated" story_id=d87cb82f-36be-454d-9e26-1949556c7589 tenant_id=d389c2eb-2a50-48f8-8ef4-f0a92ad8581b
time=2026-01-06T19:45:27.062-03:00 level=INFO msg="gRPC request completed" method=/story.StoryService/UpdateStory duration_ms=0
=== RUN   TestStoryHandler_UpdateStory/non-existing_story
time=2026-01-06T19:45:27.062-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.063-03:00 level=INFO msg="tenant created" tenant_id=9e0c7dd6-e584-400d-ac91-fba56d15a73b name="Test Tenant for Non-existing Update"
time=2026-01-06T19:45:27.063-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:27.063-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-06T19:45:27.063-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = NotFound desc = story not found: f6ecb4f8-c21c-4b4e-babf-b7a5126cca9a"
=== RUN   TestStoryHandler_UpdateStory/invalid_story_ID
time=2026-01-06T19:45:27.064-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.064-03:00 level=INFO msg="tenant created" tenant_id=716afd70-a5be-4112-9496-7cfe0ae2ec18 name="Test Tenant for Invalid Update ID"
time=2026-01-06T19:45:27.064-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:27.065-03:00 level=INFO msg="gRPC request started" method=/story.StoryService/UpdateStory
time=2026-01-06T19:45:27.065-03:00 level=ERROR msg="gRPC request failed" method=/story.StoryService/UpdateStory duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid story id: invalid UUID length: 10"
time=2026-01-06T19:45:27.065-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestStoryHandler_UpdateStory (0.19s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_title (0.01s)
    --- PASS: TestStoryHandler_UpdateStory/successful_update_status (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/non-existing_story (0.00s)
    --- PASS: TestStoryHandler_UpdateStory/invalid_story_ID (0.00s)
=== RUN   TestTenantHandler_CreateTenant
time=2026-01-06T19:45:27.219-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:27.219-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:27.219-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:27.219-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:27.219-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:27.219-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:27.219-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_CreateTenant/successful_creation
time=2026-01-06T19:45:27.219-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.222-03:00 level=INFO msg="tenant created" tenant_id=8526635f-ed14-4fda-a1ca-4adf76eea9a0 name="Test Tenant"
time=2026-01-06T19:45:27.222-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
=== RUN   TestTenantHandler_CreateTenant/duplicate_name
time=2026-01-06T19:45:27.222-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.223-03:00 level=INFO msg="tenant created" tenant_id=a58e581a-4abd-491c-bd69-b5ce25561bf5 name="Duplicate Tenant"
time=2026-01-06T19:45:27.223-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:27.223-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.224-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = AlreadyExists desc = tenant already exists with name: Duplicate Tenant"
=== RUN   TestTenantHandler_CreateTenant/empty_name
time=2026-01-06T19:45:27.224-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.224-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/CreateTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-06T19:45:27.225-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_CreateTenant (0.17s)
    --- PASS: TestTenantHandler_CreateTenant/successful_creation (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_CreateTenant/empty_name (0.00s)
=== RUN   TestTenantHandler_GetTenant
time=2026-01-06T19:45:27.408-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:27.408-03:00 level=INFO msg="StoryService registered"
time=2026-01-06T19:45:27.408-03:00 level=INFO msg="ChapterService registered"
time=2026-01-06T19:45:27.408-03:00 level=INFO msg="SceneService registered"
time=2026-01-06T19:45:27.408-03:00 level=INFO msg="BeatService registered"
time=2026-01-06T19:45:27.408-03:00 level=INFO msg="ContentBlockService registered"
time=2026-01-06T19:45:27.408-03:00 level=INFO msg="ContentBlockReferenceService registered"
=== RUN   TestTenantHandler_GetTenant/existing_tenant
time=2026-01-06T19:45:27.409-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.411-03:00 level=INFO msg="tenant created" tenant_id=7d7a5f19-dddd-4ad0-b892-fcb2769099de name="Get Test Tenant"
time=2026-01-06T19:45:27.411-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:27.411-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-06T19:45:27.412-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/GetTenant duration_ms=0
=== RUN   TestTenantHandler_GetTenant/non-existing_tenant
time=2026-01-06T19:45:27.412-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-06T19:45:27.412-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = NotFound desc = tenant not found: 98ed50b3-64b3-44ee-a96a-45b3eb7cc371"
=== RUN   TestTenantHandler_GetTenant/invalid_tenant_ID
time=2026-01-06T19:45:27.412-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/GetTenant
time=2026-01-06T19:45:27.412-03:00 level=ERROR msg="gRPC request failed" method=/tenant.TenantService/GetTenant duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant id: invalid UUID length: 10"
time=2026-01-06T19:45:27.413-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTenantHandler_GetTenant (0.17s)
    --- PASS: TestTenantHandler_GetTenant/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/non-existing_tenant (0.00s)
    --- PASS: TestTenantHandler_GetTenant/invalid_tenant_ID (0.00s)
=== RUN   TestTraitHandler_CreateTrait
time=2026-01-06T19:45:27.569-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:27.569-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_CreateTrait/successful_creation
time=2026-01-06T19:45:27.570-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.573-03:00 level=INFO msg="tenant created" tenant_id=7b1ed50f-fc65-48dd-bdca-db6271dfd259 name="Test Tenant for Trait"
time=2026-01-06T19:45:27.573-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:27.573-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:27.575-03:00 level=INFO msg="trait created" trait_id=11f8d8cc-2ec2-40c0-86cb-77030a3b7384 name=Brave
time=2026-01-06T19:45:27.575-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
=== RUN   TestTraitHandler_CreateTrait/empty_name
time=2026-01-06T19:45:27.575-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.575-03:00 level=INFO msg="tenant created" tenant_id=0e1e9941-98c2-48dd-a7f1-4b99699ea682 name="Test Tenant 2"
time=2026-01-06T19:45:27.575-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:27.576-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:27.576-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/CreateTrait duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
time=2026-01-06T19:45:27.576-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_CreateTrait (0.17s)
    --- PASS: TestTraitHandler_CreateTrait/successful_creation (0.01s)
    --- PASS: TestTraitHandler_CreateTrait/empty_name (0.00s)
=== RUN   TestTraitHandler_GetTrait
time=2026-01-06T19:45:27.732-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:27.732-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_GetTrait/existing_trait
time=2026-01-06T19:45:27.732-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.734-03:00 level=INFO msg="tenant created" tenant_id=75b788a6-90f0-444a-9bbf-a9d20f634573 name="Get Test Tenant"
time=2026-01-06T19:45:27.734-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:27.735-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:27.736-03:00 level=INFO msg="trait created" trait_id=99ab06ce-5de5-4bbc-9210-abdb1a4dc2a0 name="Get Test Trait"
time=2026-01-06T19:45:27.736-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-06T19:45:27.736-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-06T19:45:27.736-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/GetTrait duration_ms=0
=== RUN   TestTraitHandler_GetTrait/non-existing_trait
time=2026-01-06T19:45:27.736-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.737-03:00 level=INFO msg="tenant created" tenant_id=0ec5cedf-fe1a-4ad9-9b7d-654c13262413 name="Non-existing Test Tenant"
time=2026-01-06T19:45:27.737-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:27.737-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-06T19:45:27.737-03:00 level=ERROR msg="failed to get trait" error="trait not found: 2ba997c6-ea98-4564-9886-7a0ceb4075f4" trait_id=2ba997c6-ea98-4564-9886-7a0ceb4075f4
time=2026-01-06T19:45:27.737-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: 2ba997c6-ea98-4564-9886-7a0ceb4075f4"
time=2026-01-06T19:45:27.737-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_GetTrait (0.16s)
    --- PASS: TestTraitHandler_GetTrait/existing_trait (0.00s)
    --- PASS: TestTraitHandler_GetTrait/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_ListTraits
time=2026-01-06T19:45:27.893-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:27.893-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_ListTraits/list_traits
time=2026-01-06T19:45:27.894-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:27.896-03:00 level=INFO msg="tenant created" tenant_id=a822b45a-ec8c-4601-80f5-19ddb196031e name="List Test Tenant"
time=2026-01-06T19:45:27.896-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=1
time=2026-01-06T19:45:27.896-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:27.897-03:00 level=INFO msg="trait created" trait_id=1b4fabb7-743d-4848-9eb2-af274b5402cb name="Trait 1"
time=2026-01-06T19:45:27.897-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-06T19:45:27.897-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:27.898-03:00 level=INFO msg="trait created" trait_id=d35639c2-28fc-46f4-af36-e72e9d5150dc name="Trait 2"
time=2026-01-06T19:45:27.898-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-06T19:45:27.898-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/ListTraits
time=2026-01-06T19:45:27.899-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/ListTraits duration_ms=0
time=2026-01-06T19:45:27.899-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_ListTraits (0.30s)
    --- PASS: TestTraitHandler_ListTraits/list_traits (0.01s)
=== RUN   TestTraitHandler_UpdateTrait
time=2026-01-06T19:45:28.163-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:28.163-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_UpdateTrait/update_trait
time=2026-01-06T19:45:28.164-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:28.166-03:00 level=INFO msg="tenant created" tenant_id=453c3306-1578-4514-b919-f093f6065942 name="Update Test Tenant"
time=2026-01-06T19:45:28.166-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:28.166-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:28.167-03:00 level=INFO msg="trait created" trait_id=0a43494a-9afb-47f5-a77f-8084881a9c54 name="Original Trait"
time=2026-01-06T19:45:28.167-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=0
time=2026-01-06T19:45:28.167-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/UpdateTrait
time=2026-01-06T19:45:28.168-03:00 level=INFO msg="trait updated" trait_id=0a43494a-9afb-47f5-a77f-8084881a9c54 name="Updated Trait"
time=2026-01-06T19:45:28.168-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/UpdateTrait duration_ms=0
time=2026-01-06T19:45:28.168-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_UpdateTrait (0.13s)
    --- PASS: TestTraitHandler_UpdateTrait/update_trait (0.00s)
=== RUN   TestTraitHandler_DeleteTrait
time=2026-01-06T19:45:28.358-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:28.358-03:00 level=INFO msg="TraitService registered"
=== RUN   TestTraitHandler_DeleteTrait/delete_trait
time=2026-01-06T19:45:28.360-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:28.362-03:00 level=INFO msg="tenant created" tenant_id=275afb7a-56d4-4b9c-b488-6027126dd02d name="Delete Test Tenant"
time=2026-01-06T19:45:28.362-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:28.363-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/CreateTrait
time=2026-01-06T19:45:28.364-03:00 level=INFO msg="trait created" trait_id=f2655397-ce17-4259-b0e5-b4307f38c63b name="Trait to Delete"
time=2026-01-06T19:45:28.364-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/CreateTrait duration_ms=1
time=2026-01-06T19:45:28.364-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/DeleteTrait
time=2026-01-06T19:45:28.366-03:00 level=INFO msg="trait deleted" trait_id=f2655397-ce17-4259-b0e5-b4307f38c63b name="Trait to Delete"
time=2026-01-06T19:45:28.366-03:00 level=INFO msg="gRPC request completed" method=/trait.TraitService/DeleteTrait duration_ms=1
time=2026-01-06T19:45:28.366-03:00 level=INFO msg="gRPC request started" method=/trait.TraitService/GetTrait
time=2026-01-06T19:45:28.366-03:00 level=ERROR msg="failed to get trait" error="trait not found: f2655397-ce17-4259-b0e5-b4307f38c63b" trait_id=f2655397-ce17-4259-b0e5-b4307f38c63b
time=2026-01-06T19:45:28.366-03:00 level=ERROR msg="gRPC request failed" method=/trait.TraitService/GetTrait duration_ms=0 error="rpc error: code = NotFound desc = trait not found: f2655397-ce17-4259-b0e5-b4307f38c63b"
time=2026-01-06T19:45:28.366-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestTraitHandler_DeleteTrait (0.19s)
    --- PASS: TestTraitHandler_DeleteTrait/delete_trait (0.01s)
=== RUN   TestWorldHandler_CreateWorld
time=2026-01-06T19:45:28.510-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:28.510-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata
time=2026-01-06T19:45:28.511-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:28.514-03:00 level=INFO msg="tenant created" tenant_id=946ebcd0-45d1-435e-96a5-86623f2b6aba name="Test Tenant for World"
time=2026-01-06T19:45:28.514-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:28.514-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:28.515-03:00 level=INFO msg="world created" world_id=ed2e54a4-1b72-45a2-b0e9-16bef89c15e5 name="Test World" tenant_id=946ebcd0-45d1-435e-96a5-86623f2b6aba
time=2026-01-06T19:45:28.515-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
=== RUN   TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request
time=2026-01-06T19:45:28.515-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:28.516-03:00 level=INFO msg="tenant created" tenant_id=e67234fa-67a1-4718-96a3-c4b206087273 name="Test Tenant 2"
time=2026-01-06T19:45:28.516-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:28.516-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:28.516-03:00 level=INFO msg="world created" world_id=1f711c61-4fae-410e-b796-584508fda6c5 name="Test World 2" tenant_id=e67234fa-67a1-4718-96a3-c4b206087273
time=2026-01-06T19:45:28.516-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
=== RUN   TestWorldHandler_CreateWorld/empty_name
time=2026-01-06T19:45:28.516-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:28.517-03:00 level=INFO msg="tenant created" tenant_id=8011a9dd-a37d-4aad-a634-2c816803710c name="Test Tenant 3"
time=2026-01-06T19:45:28.517-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:28.517-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:28.517-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = name is required"
=== RUN   TestWorldHandler_CreateWorld/invalid_tenant_id
time=2026-01-06T19:45:28.517-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:28.517-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/CreateWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid tenant_id: invalid UUID length: 10"
time=2026-01-06T19:45:28.517-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_CreateWorld (0.15s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_metadata (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/successful_creation_with_tenant_id_in_request (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/empty_name (0.00s)
    --- PASS: TestWorldHandler_CreateWorld/invalid_tenant_id (0.00s)
=== RUN   TestWorldHandler_GetWorld
time=2026-01-06T19:45:28.777-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:28.777-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_GetWorld/existing_world
time=2026-01-06T19:45:28.778-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:28.780-03:00 level=INFO msg="tenant created" tenant_id=051183de-c14a-4d97-b22f-482d55eadf93 name="Get Test Tenant"
time=2026-01-06T19:45:28.780-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:28.781-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:28.782-03:00 level=INFO msg="world created" world_id=753ea534-aa63-44d7-b2d2-1d51cb4cb2aa name="Get Test World" tenant_id=051183de-c14a-4d97-b22f-482d55eadf93
time=2026-01-06T19:45:28.782-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:28.782-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-06T19:45:28.782-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/GetWorld duration_ms=0
=== RUN   TestWorldHandler_GetWorld/non-existing_world
time=2026-01-06T19:45:28.782-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:28.783-03:00 level=INFO msg="tenant created" tenant_id=cf7990ea-88fa-492d-8d27-f810036aa53c name="Non-existing Test Tenant"
time=2026-01-06T19:45:28.783-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:28.783-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-06T19:45:28.783-03:00 level=ERROR msg="failed to get world" error="world not found: 097dd40a-3289-40f5-8faa-ff29e9b6a9d4" world_id=097dd40a-3289-40f5-8faa-ff29e9b6a9d4
time=2026-01-06T19:45:28.783-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 097dd40a-3289-40f5-8faa-ff29e9b6a9d4"
=== RUN   TestWorldHandler_GetWorld/invalid_world_ID
time=2026-01-06T19:45:28.783-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:28.784-03:00 level=INFO msg="tenant created" tenant_id=c4cd561d-2ad3-4e41-aa70-45ad0c4b79f4 name="Invalid ID Test Tenant"
time=2026-01-06T19:45:28.784-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:28.784-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-06T19:45:28.784-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = InvalidArgument desc = invalid world id: invalid UUID length: 10"
time=2026-01-06T19:45:28.784-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_GetWorld (0.27s)
    --- PASS: TestWorldHandler_GetWorld/existing_world (0.00s)
    --- PASS: TestWorldHandler_GetWorld/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_GetWorld/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_ListWorlds
time=2026-01-06T19:45:29.300-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:29.300-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_ListWorlds/list_worlds_for_tenant
time=2026-01-06T19:45:29.301-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:29.303-03:00 level=INFO msg="tenant created" tenant_id=82e8a42b-376b-4a48-959e-e9bc8f8b9160 name="List Test Tenant"
time=2026-01-06T19:45:29.303-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:29.303-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:29.305-03:00 level=INFO msg="world created" world_id=c534ff92-0fd7-470d-947f-d4dc697097b6 name="World 1" tenant_id=82e8a42b-376b-4a48-959e-e9bc8f8b9160
time=2026-01-06T19:45:29.305-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:29.305-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:29.306-03:00 level=INFO msg="world created" world_id=f9282069-a8ca-4fe4-9d7b-3ad191732f9b name="World 2" tenant_id=82e8a42b-376b-4a48-959e-e9bc8f8b9160
time=2026-01-06T19:45:29.306-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=0
time=2026-01-06T19:45:29.306-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/ListWorlds
time=2026-01-06T19:45:29.307-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/ListWorlds duration_ms=0
time=2026-01-06T19:45:29.307-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_ListWorlds (0.52s)
    --- PASS: TestWorldHandler_ListWorlds/list_worlds_for_tenant (0.01s)
=== RUN   TestWorldHandler_UpdateWorld
time=2026-01-06T19:45:29.468-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:29.468-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_UpdateWorld/update_world_name
time=2026-01-06T19:45:29.469-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:29.471-03:00 level=INFO msg="tenant created" tenant_id=eb005f40-d4df-4a54-89e7-aebf30040f07 name="Update Test Tenant"
time=2026-01-06T19:45:29.471-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=2
time=2026-01-06T19:45:29.472-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:29.473-03:00 level=INFO msg="world created" world_id=def72ed1-624e-47a2-a48a-43e5a09f9590 name="Original World" tenant_id=eb005f40-d4df-4a54-89e7-aebf30040f07
time=2026-01-06T19:45:29.473-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:29.473-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-06T19:45:29.474-03:00 level=INFO msg="world updated" world_id=def72ed1-624e-47a2-a48a-43e5a09f9590 name="Updated World"
time=2026-01-06T19:45:29.474-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/UpdateWorld duration_ms=1
=== RUN   TestWorldHandler_UpdateWorld/non-existing_world
time=2026-01-06T19:45:29.475-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:29.475-03:00 level=INFO msg="tenant created" tenant_id=7a41eea4-f719-43cf-808d-de8bf9b64874 name="Update Test Tenant 2"
time=2026-01-06T19:45:29.475-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:29.475-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/UpdateWorld
time=2026-01-06T19:45:29.475-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/UpdateWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 607f6196-8cb3-4038-90d1-97080b4baa45"
time=2026-01-06T19:45:29.475-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_UpdateWorld (0.17s)
    --- PASS: TestWorldHandler_UpdateWorld/update_world_name (0.01s)
    --- PASS: TestWorldHandler_UpdateWorld/non-existing_world (0.00s)
=== RUN   TestWorldHandler_DeleteWorld
time=2026-01-06T19:45:29.703-03:00 level=INFO msg="TenantService registered"
time=2026-01-06T19:45:29.703-03:00 level=INFO msg="WorldService registered"
=== RUN   TestWorldHandler_DeleteWorld/delete_existing_world
time=2026-01-06T19:45:29.704-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:29.707-03:00 level=INFO msg="tenant created" tenant_id=2b0183b8-b3a7-411f-a411-63cae0214e9c name="Delete Test Tenant"
time=2026-01-06T19:45:29.707-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=3
time=2026-01-06T19:45:29.708-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/CreateWorld
time=2026-01-06T19:45:29.709-03:00 level=INFO msg="world created" world_id=2ffa7c7a-721f-4ec4-961e-a35a3752afe2 name="World to Delete" tenant_id=2b0183b8-b3a7-411f-a411-63cae0214e9c
time=2026-01-06T19:45:29.709-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/CreateWorld duration_ms=1
time=2026-01-06T19:45:29.709-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-06T19:45:29.714-03:00 level=INFO msg="world deleted" world_id=2ffa7c7a-721f-4ec4-961e-a35a3752afe2 name="World to Delete"
time=2026-01-06T19:45:29.714-03:00 level=INFO msg="gRPC request completed" method=/world.WorldService/DeleteWorld duration_ms=4
time=2026-01-06T19:45:29.715-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/GetWorld
time=2026-01-06T19:45:29.715-03:00 level=ERROR msg="failed to get world" error="world not found: 2ffa7c7a-721f-4ec4-961e-a35a3752afe2" world_id=2ffa7c7a-721f-4ec4-961e-a35a3752afe2
time=2026-01-06T19:45:29.715-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/GetWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: 2ffa7c7a-721f-4ec4-961e-a35a3752afe2"
=== RUN   TestWorldHandler_DeleteWorld/delete_non-existing_world
time=2026-01-06T19:45:29.715-03:00 level=INFO msg="gRPC request started" method=/tenant.TenantService/CreateTenant
time=2026-01-06T19:45:29.716-03:00 level=INFO msg="tenant created" tenant_id=3802bd25-df7f-42b3-be5d-b6342568d653 name="Delete Test Tenant 2"
time=2026-01-06T19:45:29.716-03:00 level=INFO msg="gRPC request completed" method=/tenant.TenantService/CreateTenant duration_ms=0
time=2026-01-06T19:45:29.716-03:00 level=INFO msg="gRPC request started" method=/world.WorldService/DeleteWorld
time=2026-01-06T19:45:29.716-03:00 level=ERROR msg="gRPC request failed" method=/world.WorldService/DeleteWorld duration_ms=0 error="rpc error: code = NotFound desc = world not found: e2434a67-7396-4db5-b3cf-be5c4b595bb2"
time=2026-01-06T19:45:29.716-03:00 level=INFO msg="gRPC server stopping"
--- PASS: TestWorldHandler_DeleteWorld (0.28s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_existing_world (0.01s)
    --- PASS: TestWorldHandler_DeleteWorld/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/grpc/handlers	(cached)
?   	github.com/story-engine/main-service/internal/transport/grpc/interceptors	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/mappers	[no test files]
?   	github.com/story-engine/main-service/internal/transport/grpc/testing	[no test files]
=== RUN   TestArchetypeHandler_Create
time=2026-01-06T19:57:14.888-03:00 level=INFO msg="tenant created" tenant_id=03885699-8f6d-4b72-89a2-d812ba817df9 name="Test Tenant"
=== RUN   TestArchetypeHandler_Create/successful_creation
time=2026-01-06T19:57:14.892-03:00 level=INFO msg="archetype created" archetype_id=51dae6c4-ca30-4488-99a6-49e4896b94db name=Warrior
=== RUN   TestArchetypeHandler_Create/missing_tenant_id
=== RUN   TestArchetypeHandler_Create/empty_name
--- PASS: TestArchetypeHandler_Create (0.31s)
    --- PASS: TestArchetypeHandler_Create/successful_creation (0.00s)
    --- PASS: TestArchetypeHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArchetypeHandler_Create/empty_name (0.00s)
=== RUN   TestArchetypeHandler_Get
time=2026-01-06T19:57:15.076-03:00 level=INFO msg="tenant created" tenant_id=85982293-7129-46b9-93de-6fef9b8b9fb9 name="Test Tenant"
time=2026-01-06T19:57:15.077-03:00 level=INFO msg="archetype created" archetype_id=cdb2e7a5-b0ae-4997-8efb-89df5badf4dc name="Get Test Archetype"
=== RUN   TestArchetypeHandler_Get/existing_archetype
=== RUN   TestArchetypeHandler_Get/non-existing_archetype
time=2026-01-06T19:57:15.078-03:00 level=ERROR msg="failed to get archetype" error="archetype not found: 00000000-0000-0000-0000-000000000000" archetype_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArchetypeHandler_Get (0.17s)
    --- PASS: TestArchetypeHandler_Get/existing_archetype (0.00s)
    --- PASS: TestArchetypeHandler_Get/non-existing_archetype (0.00s)
=== RUN   TestArchetypeHandler_List
time=2026-01-06T19:57:15.242-03:00 level=INFO msg="tenant created" tenant_id=0d0a15ee-3330-48bf-8e00-168e828715fa name="Test Tenant"
time=2026-01-06T19:57:15.243-03:00 level=INFO msg="archetype created" archetype_id=25667996-c90b-4c1e-ac30-66397c0680d0 name="Archetype 1"
time=2026-01-06T19:57:15.244-03:00 level=INFO msg="archetype created" archetype_id=a4ed8680-de29-406c-a252-2b255a9ad05b name="Archetype 2"
time=2026-01-06T19:57:15.245-03:00 level=INFO msg="archetype created" archetype_id=5fee80af-9d62-4072-bbc1-9747df83490e name="Archetype 3"
=== RUN   TestArchetypeHandler_List/list_archetypes
--- PASS: TestArchetypeHandler_List (0.17s)
    --- PASS: TestArchetypeHandler_List/list_archetypes (0.00s)
=== RUN   TestArchetypeHandler_Update
time=2026-01-06T19:57:15.409-03:00 level=INFO msg="tenant created" tenant_id=7c7cd501-ab61-42c2-aaa1-98da84f33fde name="Test Tenant"
time=2026-01-06T19:57:15.411-03:00 level=INFO msg="archetype created" archetype_id=7c1a4f84-38cc-42ab-80b6-ee1b6e8f546e name="Original Archetype"
=== RUN   TestArchetypeHandler_Update/update_archetype
time=2026-01-06T19:57:15.412-03:00 level=INFO msg="archetype updated" archetype_id=7c1a4f84-38cc-42ab-80b6-ee1b6e8f546e name="Updated Archetype"
--- PASS: TestArchetypeHandler_Update (0.17s)
    --- PASS: TestArchetypeHandler_Update/update_archetype (0.00s)
=== RUN   TestArchetypeHandler_Delete
time=2026-01-06T19:57:15.573-03:00 level=INFO msg="tenant created" tenant_id=61ee936a-09d3-433b-a988-50acc48a403a name="Test Tenant"
time=2026-01-06T19:57:15.575-03:00 level=INFO msg="archetype created" archetype_id=d766770e-cf72-4efd-b704-7f5c5ec568ab name="Archetype to Delete"
=== RUN   TestArchetypeHandler_Delete/delete_archetype
time=2026-01-06T19:57:15.576-03:00 level=INFO msg="archetype deleted" archetype_id=d766770e-cf72-4efd-b704-7f5c5ec568ab name="Archetype to Delete"
--- PASS: TestArchetypeHandler_Delete (0.16s)
    --- PASS: TestArchetypeHandler_Delete/delete_archetype (0.00s)
=== RUN   TestArchetypeHandler_AddTrait
time=2026-01-06T19:57:15.742-03:00 level=INFO msg="tenant created" tenant_id=440125be-dede-4ea2-9358-5db7412e1da4 name="Test Tenant"
time=2026-01-06T19:57:15.744-03:00 level=INFO msg="archetype created" archetype_id=e6f45ee6-4ff2-400f-93de-de7558bb706c name=Warrior
time=2026-01-06T19:57:15.747-03:00 level=INFO msg="trait created" trait_id=e7377f8b-dfac-45e6-856d-8d674e04d901 name=Brave
=== RUN   TestArchetypeHandler_AddTrait/add_trait_to_archetype
time=2026-01-06T19:57:15.749-03:00 level=INFO msg="trait added to archetype" archetype_id=e6f45ee6-4ff2-400f-93de-de7558bb706c trait_id=e7377f8b-dfac-45e6-856d-8d674e04d901
--- PASS: TestArchetypeHandler_AddTrait (0.17s)
    --- PASS: TestArchetypeHandler_AddTrait/add_trait_to_archetype (0.00s)
=== RUN   TestArchetypeHandler_RemoveTrait
time=2026-01-06T19:57:15.911-03:00 level=INFO msg="tenant created" tenant_id=eb94d542-9d27-4d80-b02d-a70d9b2b9a53 name="Test Tenant"
time=2026-01-06T19:57:15.913-03:00 level=INFO msg="archetype created" archetype_id=b8f52002-8e39-4ecd-a3aa-437dcbb0bb69 name=Warrior
time=2026-01-06T19:57:15.915-03:00 level=INFO msg="trait created" trait_id=7fa60a09-cf73-4c71-b3b4-b727c379d1f5 name=Brave
time=2026-01-06T19:57:15.918-03:00 level=INFO msg="trait added to archetype" archetype_id=b8f52002-8e39-4ecd-a3aa-437dcbb0bb69 trait_id=7fa60a09-cf73-4c71-b3b4-b727c379d1f5
=== RUN   TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype
time=2026-01-06T19:57:15.918-03:00 level=INFO msg="trait removed from archetype" archetype_id=b8f52002-8e39-4ecd-a3aa-437dcbb0bb69 trait_id=7fa60a09-cf73-4c71-b3b4-b727c379d1f5
--- PASS: TestArchetypeHandler_RemoveTrait (0.17s)
    --- PASS: TestArchetypeHandler_RemoveTrait/remove_trait_from_archetype (0.00s)
=== RUN   TestArtifactHandler_Create
time=2026-01-06T19:57:16.081-03:00 level=INFO msg="tenant created" tenant_id=0c000b74-2d53-4620-833d-ad319d5701e3 name="Test Tenant"
time=2026-01-06T19:57:16.082-03:00 level=INFO msg="world created" world_id=351a57ff-520b-4cce-90d8-89228cb65810 name="Test World" tenant_id=0c000b74-2d53-4620-833d-ad319d5701e3
=== RUN   TestArtifactHandler_Create/successful_creation
time=2026-01-06T19:57:16.084-03:00 level=INFO msg="artifact created" artifact_id=398aa59d-a389-4e3d-aedc-7d6052c4ae04 name="Test Artifact"
=== RUN   TestArtifactHandler_Create/missing_tenant_id
=== RUN   TestArtifactHandler_Create/empty_name
--- PASS: TestArtifactHandler_Create (0.17s)
    --- PASS: TestArtifactHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestArtifactHandler_Create/empty_name (0.00s)
=== RUN   TestArtifactHandler_Get
time=2026-01-06T19:57:16.258-03:00 level=INFO msg="tenant created" tenant_id=49fb7de8-8069-4733-806c-b8577e3289a6 name="Test Tenant"
time=2026-01-06T19:57:16.260-03:00 level=INFO msg="world created" world_id=44ecdea9-0a90-4b24-b678-9978fcc7d41e name="Test World" tenant_id=49fb7de8-8069-4733-806c-b8577e3289a6
time=2026-01-06T19:57:16.261-03:00 level=INFO msg="artifact created" artifact_id=0cc8ac62-36c8-4364-bd80-f42371d55f97 name="Get Test Artifact"
=== RUN   TestArtifactHandler_Get/existing_artifact
=== RUN   TestArtifactHandler_Get/non-existing_artifact
time=2026-01-06T19:57:16.262-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: 00000000-0000-0000-0000-000000000000" artifact_id=00000000-0000-0000-0000-000000000000
--- PASS: TestArtifactHandler_Get (0.18s)
    --- PASS: TestArtifactHandler_Get/existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Get/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_List
time=2026-01-06T19:57:16.428-03:00 level=INFO msg="tenant created" tenant_id=f6b18430-47a6-4d2f-900d-05d3b82f78b6 name="Test Tenant"
time=2026-01-06T19:57:16.434-03:00 level=INFO msg="world created" world_id=72971bdc-4380-4955-99d9-7e79e16c4a55 name="Test World" tenant_id=f6b18430-47a6-4d2f-900d-05d3b82f78b6
time=2026-01-06T19:57:16.435-03:00 level=INFO msg="artifact created" artifact_id=1f410c5b-6d12-4f10-b216-cc12263d2bde name="Artifact 1"
time=2026-01-06T19:57:16.436-03:00 level=INFO msg="artifact created" artifact_id=1dc899be-5df9-42ec-adf7-9edad90ab190 name="Artifact 2"
time=2026-01-06T19:57:16.437-03:00 level=INFO msg="artifact created" artifact_id=415066b4-1b26-4138-8865-a7a95a04834b name="Artifact 3"
=== RUN   TestArtifactHandler_List/list_artifacts
--- PASS: TestArtifactHandler_List (0.17s)
    --- PASS: TestArtifactHandler_List/list_artifacts (0.00s)
=== RUN   TestArtifactHandler_Update
time=2026-01-06T19:57:16.608-03:00 level=INFO msg="tenant created" tenant_id=ed94c4b9-ddae-4c35-bce0-2f86123a6ab9 name="Test Tenant"
time=2026-01-06T19:57:16.610-03:00 level=INFO msg="world created" world_id=ffb16067-e859-4af6-a8ec-00e4d88c827f name="Test World" tenant_id=ed94c4b9-ddae-4c35-bce0-2f86123a6ab9
time=2026-01-06T19:57:16.611-03:00 level=INFO msg="artifact created" artifact_id=a84ea6b7-6ad4-4eae-a98a-638352dd3991 name="Original Artifact"
=== RUN   TestArtifactHandler_Update/update_artifact_name
time=2026-01-06T19:57:16.612-03:00 level=INFO msg="artifact updated" artifact_id=a84ea6b7-6ad4-4eae-a98a-638352dd3991 name="Updated Artifact"
=== RUN   TestArtifactHandler_Update/non-existing_artifact
--- PASS: TestArtifactHandler_Update (0.18s)
    --- PASS: TestArtifactHandler_Update/update_artifact_name (0.00s)
    --- PASS: TestArtifactHandler_Update/non-existing_artifact (0.00s)
=== RUN   TestArtifactHandler_Delete
time=2026-01-06T19:57:16.773-03:00 level=INFO msg="tenant created" tenant_id=0c45b765-3653-459b-8d4f-834b0e5aab62 name="Test Tenant"
time=2026-01-06T19:57:16.774-03:00 level=INFO msg="world created" world_id=085d9991-5f26-4f89-801b-3b923dddcacf name="Test World" tenant_id=0c45b765-3653-459b-8d4f-834b0e5aab62
time=2026-01-06T19:57:16.776-03:00 level=INFO msg="artifact created" artifact_id=b6e6fdbb-1fb2-4b5a-b2c3-d8425377fe44 name="Artifact to Delete"
=== RUN   TestArtifactHandler_Delete/delete_existing_artifact
time=2026-01-06T19:57:16.779-03:00 level=INFO msg="artifact deleted" artifact_id=b6e6fdbb-1fb2-4b5a-b2c3-d8425377fe44 name="Artifact to Delete"
time=2026-01-06T19:57:16.779-03:00 level=ERROR msg="failed to get artifact" error="artifact not found: b6e6fdbb-1fb2-4b5a-b2c3-d8425377fe44" artifact_id=b6e6fdbb-1fb2-4b5a-b2c3-d8425377fe44
=== RUN   TestArtifactHandler_Delete/delete_non-existing_artifact
--- PASS: TestArtifactHandler_Delete (0.17s)
    --- PASS: TestArtifactHandler_Delete/delete_existing_artifact (0.00s)
    --- PASS: TestArtifactHandler_Delete/delete_non-existing_artifact (0.00s)
=== RUN   TestArtifactRPGStatsHandler_Create
time=2026-01-06T19:57:16.946-03:00 level=INFO msg="tenant created" tenant_id=444e7765-d357-4560-9353-6f1d9772592d name="Test Tenant"
time=2026-01-06T19:57:16.947-03:00 level=INFO msg="world created" world_id=85d04696-63b2-410d-ae2e-711b56a9acdc name="Test World" tenant_id=444e7765-d357-4560-9353-6f1d9772592d
time=2026-01-06T19:57:16.949-03:00 level=INFO msg="artifact created" artifact_id=5904e982-2f91-425a-9bd9-9f167f668416 name="Test Artifact"
=== RUN   TestArtifactRPGStatsHandler_Create/successful_creation
time=2026-01-06T19:57:16.951-03:00 level=INFO msg="artifact RPG stats created" artifact_id=5904e982-2f91-425a-9bd9-9f167f668416 version=1
=== RUN   TestArtifactRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestArtifactRPGStatsHandler_Create (0.18s)
    --- PASS: TestArtifactRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestArtifactRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestArtifactRPGStatsHandler_GetActive
time=2026-01-06T19:57:17.118-03:00 level=INFO msg="tenant created" tenant_id=05a399a5-44fa-4d92-a157-177b5de97d89 name="Test Tenant"
time=2026-01-06T19:57:17.119-03:00 level=INFO msg="world created" world_id=9a6f02e9-f591-4149-99d1-7b422f2d413b name="Test World" tenant_id=05a399a5-44fa-4d92-a157-177b5de97d89
time=2026-01-06T19:57:17.120-03:00 level=INFO msg="artifact created" artifact_id=ca9130d0-a4b1-4704-a3ad-4e13ddf06034 name="Test Artifact"
time=2026-01-06T19:57:17.122-03:00 level=INFO msg="artifact RPG stats created" artifact_id=ca9130d0-a4b1-4704-a3ad-4e13ddf06034 version=1
=== RUN   TestArtifactRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestArtifactRPGStatsHandler_GetActive (0.16s)
    --- PASS: TestArtifactRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestBeatHandler_Create
time=2026-01-06T19:57:17.737-03:00 level=INFO msg="tenant created" tenant_id=785e3e55-2ce1-40f3-91e8-6a0f4c16720b name="Test Tenant"
time=2026-01-06T19:57:17.738-03:00 level=INFO msg="world created" world_id=ff03fdfd-f55b-40ed-8449-811d9a7b3437 name="World of Test Story" tenant_id=785e3e55-2ce1-40f3-91e8-6a0f4c16720b
time=2026-01-06T19:57:17.738-03:00 level=INFO msg="created implicit world for story" world_id=ff03fdfd-f55b-40ed-8449-811d9a7b3437 story_title="Test Story"
time=2026-01-06T19:57:17.739-03:00 level=INFO msg="story created" story_id=0860359b-a6d8-452b-8777-16d451468cbf title="Test Story" tenant_id=785e3e55-2ce1-40f3-91e8-6a0f4c16720b
time=2026-01-06T19:57:17.741-03:00 level=INFO msg="scene created" scene_id=31624c7c-d1ac-4a44-8fd8-ca598a6008ae story_id=0860359b-a6d8-452b-8777-16d451468cbf tenant_id=785e3e55-2ce1-40f3-91e8-6a0f4c16720b
=== RUN   TestBeatHandler_Create/successful_creation
time=2026-01-06T19:57:17.742-03:00 level=INFO msg="beat created" beat_id=7ff7085d-a3b8-41f9-a888-a6422f5fd67d scene_id=31624c7c-d1ac-4a44-8fd8-ca598a6008ae tenant_id=785e3e55-2ce1-40f3-91e8-6a0f4c16720b
=== RUN   TestBeatHandler_Create/missing_tenant_id
--- PASS: TestBeatHandler_Create (0.64s)
    --- PASS: TestBeatHandler_Create/successful_creation (0.00s)
    --- PASS: TestBeatHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestBeatHandler_Get
time=2026-01-06T19:57:17.938-03:00 level=INFO msg="tenant created" tenant_id=3231a7fb-f783-4df2-a2d5-2967a3f4aa7e name="Test Tenant"
time=2026-01-06T19:57:17.939-03:00 level=INFO msg="world created" world_id=639b0a36-cbbe-4e8a-9b34-4d8686479835 name="World of Test Story" tenant_id=3231a7fb-f783-4df2-a2d5-2967a3f4aa7e
time=2026-01-06T19:57:17.939-03:00 level=INFO msg="created implicit world for story" world_id=639b0a36-cbbe-4e8a-9b34-4d8686479835 story_title="Test Story"
time=2026-01-06T19:57:17.941-03:00 level=INFO msg="story created" story_id=a4570f2b-100d-4a49-b4de-fac502564562 title="Test Story" tenant_id=3231a7fb-f783-4df2-a2d5-2967a3f4aa7e
time=2026-01-06T19:57:17.941-03:00 level=INFO msg="scene created" scene_id=c6d664a6-fb6e-4bd3-ae20-ded055a88051 story_id=a4570f2b-100d-4a49-b4de-fac502564562 tenant_id=3231a7fb-f783-4df2-a2d5-2967a3f4aa7e
time=2026-01-06T19:57:17.943-03:00 level=INFO msg="beat created" beat_id=ae76a823-8385-43b3-9e13-cd9c6d00e300 scene_id=c6d664a6-fb6e-4bd3-ae20-ded055a88051 tenant_id=3231a7fb-f783-4df2-a2d5-2967a3f4aa7e
=== RUN   TestBeatHandler_Get/existing_beat
=== RUN   TestBeatHandler_Get/non-existing_beat
time=2026-01-06T19:57:17.944-03:00 level=ERROR msg="failed to get beat" error="beat not found: 00000000-0000-0000-0000-000000000000" beat_id=00000000-0000-0000-0000-000000000000 tenant_id=3231a7fb-f783-4df2-a2d5-2967a3f4aa7e
--- PASS: TestBeatHandler_Get (0.19s)
    --- PASS: TestBeatHandler_Get/existing_beat (0.00s)
    --- PASS: TestBeatHandler_Get/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_List
time=2026-01-06T19:57:18.084-03:00 level=INFO msg="tenant created" tenant_id=082e8937-6227-4f3f-8b69-626d91c993c4 name="Test Tenant"
time=2026-01-06T19:57:18.085-03:00 level=INFO msg="world created" world_id=01370a7e-7a83-4d15-8158-7a70bd384f23 name="World of Test Story" tenant_id=082e8937-6227-4f3f-8b69-626d91c993c4
time=2026-01-06T19:57:18.085-03:00 level=INFO msg="created implicit world for story" world_id=01370a7e-7a83-4d15-8158-7a70bd384f23 story_title="Test Story"
time=2026-01-06T19:57:18.086-03:00 level=INFO msg="story created" story_id=31138494-5b96-4637-a04b-1011fe2c2a0a title="Test Story" tenant_id=082e8937-6227-4f3f-8b69-626d91c993c4
time=2026-01-06T19:57:18.087-03:00 level=INFO msg="scene created" scene_id=fa6a2a33-d3fd-48d8-8a82-68a743726d66 story_id=31138494-5b96-4637-a04b-1011fe2c2a0a tenant_id=082e8937-6227-4f3f-8b69-626d91c993c4
time=2026-01-06T19:57:18.088-03:00 level=INFO msg="beat created" beat_id=b531102a-13fe-4d78-b388-9780bc0269f8 scene_id=fa6a2a33-d3fd-48d8-8a82-68a743726d66 tenant_id=082e8937-6227-4f3f-8b69-626d91c993c4
time=2026-01-06T19:57:18.089-03:00 level=INFO msg="beat created" beat_id=f6a06ac5-b60c-4342-8126-c5dc8e4df7f4 scene_id=fa6a2a33-d3fd-48d8-8a82-68a743726d66 tenant_id=082e8937-6227-4f3f-8b69-626d91c993c4
time=2026-01-06T19:57:18.089-03:00 level=INFO msg="beat created" beat_id=2a28feda-67de-41bb-8260-f8858110bdfc scene_id=fa6a2a33-d3fd-48d8-8a82-68a743726d66 tenant_id=082e8937-6227-4f3f-8b69-626d91c993c4
=== RUN   TestBeatHandler_List/list_beats
--- PASS: TestBeatHandler_List (0.14s)
    --- PASS: TestBeatHandler_List/list_beats (0.00s)
=== RUN   TestBeatHandler_Update
time=2026-01-06T19:57:18.232-03:00 level=INFO msg="tenant created" tenant_id=21cc090c-13d5-44f9-ba85-05d9572d7532 name="Test Tenant"
time=2026-01-06T19:57:18.233-03:00 level=INFO msg="world created" world_id=23eb6b65-bfb3-4824-bb4e-81f0084f875a name="World of Test Story" tenant_id=21cc090c-13d5-44f9-ba85-05d9572d7532
time=2026-01-06T19:57:18.233-03:00 level=INFO msg="created implicit world for story" world_id=23eb6b65-bfb3-4824-bb4e-81f0084f875a story_title="Test Story"
time=2026-01-06T19:57:18.235-03:00 level=INFO msg="story created" story_id=53fe3450-ac32-4212-9b55-ebd0a36e7b5a title="Test Story" tenant_id=21cc090c-13d5-44f9-ba85-05d9572d7532
time=2026-01-06T19:57:18.236-03:00 level=INFO msg="scene created" scene_id=94bc5bed-cfb0-4e15-a063-43e62a3cb00f story_id=53fe3450-ac32-4212-9b55-ebd0a36e7b5a tenant_id=21cc090c-13d5-44f9-ba85-05d9572d7532
time=2026-01-06T19:57:18.237-03:00 level=INFO msg="beat created" beat_id=d78f3b4c-59a2-4993-9e77-793f60fc6a78 scene_id=94bc5bed-cfb0-4e15-a063-43e62a3cb00f tenant_id=21cc090c-13d5-44f9-ba85-05d9572d7532
=== RUN   TestBeatHandler_Update/update_beat_intent
time=2026-01-06T19:57:18.239-03:00 level=INFO msg="beat updated" beat_id=d78f3b4c-59a2-4993-9e77-793f60fc6a78 tenant_id=21cc090c-13d5-44f9-ba85-05d9572d7532
=== RUN   TestBeatHandler_Update/non-existing_beat
--- PASS: TestBeatHandler_Update (0.16s)
    --- PASS: TestBeatHandler_Update/update_beat_intent (0.00s)
    --- PASS: TestBeatHandler_Update/non-existing_beat (0.00s)
=== RUN   TestBeatHandler_Delete
time=2026-01-06T19:57:18.387-03:00 level=INFO msg="tenant created" tenant_id=97e8d364-33c3-459d-9caf-ce103bec63e8 name="Test Tenant"
time=2026-01-06T19:57:18.389-03:00 level=INFO msg="world created" world_id=e7252238-b57d-4deb-9ff2-c746e94e60cd name="World of Test Story" tenant_id=97e8d364-33c3-459d-9caf-ce103bec63e8
time=2026-01-06T19:57:18.389-03:00 level=INFO msg="created implicit world for story" world_id=e7252238-b57d-4deb-9ff2-c746e94e60cd story_title="Test Story"
time=2026-01-06T19:57:18.390-03:00 level=INFO msg="story created" story_id=63a63911-32b8-4cd8-95be-e6f4e983757c title="Test Story" tenant_id=97e8d364-33c3-459d-9caf-ce103bec63e8
time=2026-01-06T19:57:18.391-03:00 level=INFO msg="scene created" scene_id=bcf11ec9-713f-4105-bb8a-3f758a84d55f story_id=63a63911-32b8-4cd8-95be-e6f4e983757c tenant_id=97e8d364-33c3-459d-9caf-ce103bec63e8
time=2026-01-06T19:57:18.392-03:00 level=INFO msg="beat created" beat_id=07ff2e0a-620f-4aee-8628-4701b5982200 scene_id=bcf11ec9-713f-4105-bb8a-3f758a84d55f tenant_id=97e8d364-33c3-459d-9caf-ce103bec63e8
=== RUN   TestBeatHandler_Delete/delete_existing_beat
time=2026-01-06T19:57:18.393-03:00 level=INFO msg="beat deleted" beat_id=07ff2e0a-620f-4aee-8628-4701b5982200 tenant_id=97e8d364-33c3-459d-9caf-ce103bec63e8
time=2026-01-06T19:57:18.393-03:00 level=ERROR msg="failed to get beat" error="beat not found: 07ff2e0a-620f-4aee-8628-4701b5982200" beat_id=07ff2e0a-620f-4aee-8628-4701b5982200 tenant_id=97e8d364-33c3-459d-9caf-ce103bec63e8
=== RUN   TestBeatHandler_Delete/delete_non-existing_beat
--- PASS: TestBeatHandler_Delete (0.15s)
    --- PASS: TestBeatHandler_Delete/delete_existing_beat (0.00s)
    --- PASS: TestBeatHandler_Delete/delete_non-existing_beat (0.00s)
=== RUN   TestChapterHandler_Create
time=2026-01-06T19:57:18.533-03:00 level=INFO msg="tenant created" tenant_id=996bdd77-a1d0-49d0-bdda-12f62b298ba4 name="Test Tenant"
time=2026-01-06T19:57:18.534-03:00 level=INFO msg="world created" world_id=46f76616-4edd-4e01-9297-d3100a41f181 name="World of Test Story" tenant_id=996bdd77-a1d0-49d0-bdda-12f62b298ba4
time=2026-01-06T19:57:18.534-03:00 level=INFO msg="created implicit world for story" world_id=46f76616-4edd-4e01-9297-d3100a41f181 story_title="Test Story"
time=2026-01-06T19:57:18.537-03:00 level=INFO msg="story created" story_id=705d9e23-20c5-4edf-b5c2-e82e04616d8a title="Test Story" tenant_id=996bdd77-a1d0-49d0-bdda-12f62b298ba4
=== RUN   TestChapterHandler_Create/successful_creation
time=2026-01-06T19:57:18.539-03:00 level=INFO msg="chapter created" chapter_id=92322490-f7a5-4625-84c9-beb5634f0cd7 story_id=705d9e23-20c5-4edf-b5c2-e82e04616d8a tenant_id=996bdd77-a1d0-49d0-bdda-12f62b298ba4
=== RUN   TestChapterHandler_Create/missing_tenant_id
--- PASS: TestChapterHandler_Create (0.14s)
    --- PASS: TestChapterHandler_Create/successful_creation (0.00s)
    --- PASS: TestChapterHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestChapterHandler_Get
time=2026-01-06T19:57:18.686-03:00 level=INFO msg="tenant created" tenant_id=b7ebda28-179b-440b-a22d-316104be6b11 name="Test Tenant"
time=2026-01-06T19:57:18.687-03:00 level=INFO msg="world created" world_id=779067fd-1998-4ef4-9230-ff5ce280abcd name="World of Test Story" tenant_id=b7ebda28-179b-440b-a22d-316104be6b11
time=2026-01-06T19:57:18.687-03:00 level=INFO msg="created implicit world for story" world_id=779067fd-1998-4ef4-9230-ff5ce280abcd story_title="Test Story"
time=2026-01-06T19:57:18.688-03:00 level=INFO msg="story created" story_id=2227254c-02e3-443e-b6e4-4c1c7258f137 title="Test Story" tenant_id=b7ebda28-179b-440b-a22d-316104be6b11
time=2026-01-06T19:57:18.689-03:00 level=INFO msg="chapter created" chapter_id=b6d07448-591b-4353-b28d-14ac03bb87cb story_id=2227254c-02e3-443e-b6e4-4c1c7258f137 tenant_id=b7ebda28-179b-440b-a22d-316104be6b11
=== RUN   TestChapterHandler_Get/existing_chapter
=== RUN   TestChapterHandler_Get/non-existing_chapter
time=2026-01-06T19:57:18.690-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 00000000-0000-0000-0000-000000000000" chapter_id=00000000-0000-0000-0000-000000000000 tenant_id=b7ebda28-179b-440b-a22d-316104be6b11
--- PASS: TestChapterHandler_Get (0.15s)
    --- PASS: TestChapterHandler_Get/existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Get/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_List
time=2026-01-06T19:57:18.909-03:00 level=INFO msg="tenant created" tenant_id=31feb9f1-00ec-4ad1-a04e-d3ed06513247 name="Test Tenant"
time=2026-01-06T19:57:18.910-03:00 level=INFO msg="world created" world_id=3fa3a8a4-48c4-42c4-92ae-253e971f6c49 name="World of Test Story" tenant_id=31feb9f1-00ec-4ad1-a04e-d3ed06513247
time=2026-01-06T19:57:18.910-03:00 level=INFO msg="created implicit world for story" world_id=3fa3a8a4-48c4-42c4-92ae-253e971f6c49 story_title="Test Story"
time=2026-01-06T19:57:18.911-03:00 level=INFO msg="story created" story_id=61e5f1b8-75a5-497b-a4b1-b8cb2c292b37 title="Test Story" tenant_id=31feb9f1-00ec-4ad1-a04e-d3ed06513247
time=2026-01-06T19:57:18.912-03:00 level=INFO msg="chapter created" chapter_id=193da19f-3e46-4650-a4b9-7fa0531e5a7f story_id=61e5f1b8-75a5-497b-a4b1-b8cb2c292b37 tenant_id=31feb9f1-00ec-4ad1-a04e-d3ed06513247
time=2026-01-06T19:57:18.913-03:00 level=INFO msg="chapter created" chapter_id=b620871f-a62f-4af6-82cf-c00f50979881 story_id=61e5f1b8-75a5-497b-a4b1-b8cb2c292b37 tenant_id=31feb9f1-00ec-4ad1-a04e-d3ed06513247
time=2026-01-06T19:57:18.913-03:00 level=INFO msg="chapter created" chapter_id=fbe86a66-9ba3-495b-b978-2759e79a9dac story_id=61e5f1b8-75a5-497b-a4b1-b8cb2c292b37 tenant_id=31feb9f1-00ec-4ad1-a04e-d3ed06513247
=== RUN   TestChapterHandler_List/list_chapters
--- PASS: TestChapterHandler_List (0.22s)
    --- PASS: TestChapterHandler_List/list_chapters (0.00s)
=== RUN   TestChapterHandler_Update
time=2026-01-06T19:57:19.068-03:00 level=INFO msg="tenant created" tenant_id=7e65e3da-a694-4bc2-b5f8-7e8257cbeeac name="Test Tenant"
time=2026-01-06T19:57:19.069-03:00 level=INFO msg="world created" world_id=5feaefae-1cc2-41e6-b733-022d926edbc5 name="World of Test Story" tenant_id=7e65e3da-a694-4bc2-b5f8-7e8257cbeeac
time=2026-01-06T19:57:19.069-03:00 level=INFO msg="created implicit world for story" world_id=5feaefae-1cc2-41e6-b733-022d926edbc5 story_title="Test Story"
time=2026-01-06T19:57:19.070-03:00 level=INFO msg="story created" story_id=c862b1b2-8123-4bbf-b123-1c95570e09f4 title="Test Story" tenant_id=7e65e3da-a694-4bc2-b5f8-7e8257cbeeac
time=2026-01-06T19:57:19.071-03:00 level=INFO msg="chapter created" chapter_id=9c39506c-dd31-4633-bf36-0ab6aabf5c4f story_id=c862b1b2-8123-4bbf-b123-1c95570e09f4 tenant_id=7e65e3da-a694-4bc2-b5f8-7e8257cbeeac
=== RUN   TestChapterHandler_Update/update_chapter_title
time=2026-01-06T19:57:19.074-03:00 level=INFO msg="chapter updated" chapter_id=9c39506c-dd31-4633-bf36-0ab6aabf5c4f tenant_id=7e65e3da-a694-4bc2-b5f8-7e8257cbeeac
=== RUN   TestChapterHandler_Update/non-existing_chapter
--- PASS: TestChapterHandler_Update (0.16s)
    --- PASS: TestChapterHandler_Update/update_chapter_title (0.00s)
    --- PASS: TestChapterHandler_Update/non-existing_chapter (0.00s)
=== RUN   TestChapterHandler_Delete
time=2026-01-06T19:57:19.234-03:00 level=INFO msg="tenant created" tenant_id=79f6b698-31ff-41d8-a856-a957b9b332e4 name="Test Tenant"
time=2026-01-06T19:57:19.236-03:00 level=INFO msg="world created" world_id=c5a37831-275f-4ab6-bea6-cefa9139ff09 name="World of Test Story" tenant_id=79f6b698-31ff-41d8-a856-a957b9b332e4
time=2026-01-06T19:57:19.236-03:00 level=INFO msg="created implicit world for story" world_id=c5a37831-275f-4ab6-bea6-cefa9139ff09 story_title="Test Story"
time=2026-01-06T19:57:19.237-03:00 level=INFO msg="story created" story_id=7e1665de-e63c-485b-8814-0ead6d0ab7ef title="Test Story" tenant_id=79f6b698-31ff-41d8-a856-a957b9b332e4
time=2026-01-06T19:57:19.238-03:00 level=INFO msg="chapter created" chapter_id=0ee8fc8e-222f-4d09-a2ea-9dee35e9fdd6 story_id=7e1665de-e63c-485b-8814-0ead6d0ab7ef tenant_id=79f6b698-31ff-41d8-a856-a957b9b332e4
=== RUN   TestChapterHandler_Delete/delete_existing_chapter
time=2026-01-06T19:57:19.240-03:00 level=INFO msg="chapter deleted" chapter_id=0ee8fc8e-222f-4d09-a2ea-9dee35e9fdd6 tenant_id=79f6b698-31ff-41d8-a856-a957b9b332e4
time=2026-01-06T19:57:19.240-03:00 level=ERROR msg="failed to get chapter" error="chapter not found: 0ee8fc8e-222f-4d09-a2ea-9dee35e9fdd6" chapter_id=0ee8fc8e-222f-4d09-a2ea-9dee35e9fdd6 tenant_id=79f6b698-31ff-41d8-a856-a957b9b332e4
=== RUN   TestChapterHandler_Delete/delete_non-existing_chapter
--- PASS: TestChapterHandler_Delete (0.17s)
    --- PASS: TestChapterHandler_Delete/delete_existing_chapter (0.00s)
    --- PASS: TestChapterHandler_Delete/delete_non-existing_chapter (0.00s)
=== RUN   TestCharacterHandler_Create
time=2026-01-06T19:57:19.425-03:00 level=INFO msg="tenant created" tenant_id=fcb616d1-837c-4b16-ab9e-84d5165912a6 name="Test Tenant"
time=2026-01-06T19:57:19.426-03:00 level=INFO msg="world created" world_id=a35904e6-c176-4b7d-adf4-bf59fa8dc7c2 name="Test World" tenant_id=fcb616d1-837c-4b16-ab9e-84d5165912a6
=== RUN   TestCharacterHandler_Create/successful_creation
time=2026-01-06T19:57:19.433-03:00 level=INFO msg="character created" character_id=71962b47-7056-4b6c-a481-920b7fa6a423 name="Test Character"
=== RUN   TestCharacterHandler_Create/missing_tenant_id
=== RUN   TestCharacterHandler_Create/empty_name
--- PASS: TestCharacterHandler_Create (0.19s)
    --- PASS: TestCharacterHandler_Create/successful_creation (0.01s)
    --- PASS: TestCharacterHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestCharacterHandler_Create/empty_name (0.00s)
=== RUN   TestCharacterHandler_Get
time=2026-01-06T19:57:19.592-03:00 level=INFO msg="tenant created" tenant_id=cfbe886f-45ff-45c9-a179-f909d61bf922 name="Test Tenant"
time=2026-01-06T19:57:19.594-03:00 level=INFO msg="world created" world_id=1a00d50f-487c-4f6a-a425-e616a369aa9e name="Test World" tenant_id=cfbe886f-45ff-45c9-a179-f909d61bf922
time=2026-01-06T19:57:19.601-03:00 level=INFO msg="character created" character_id=02a4fd79-5089-4308-979c-876d19bbc6e5 name="Get Test Character"
=== RUN   TestCharacterHandler_Get/existing_character
=== RUN   TestCharacterHandler_Get/non-existing_character
time=2026-01-06T19:57:19.603-03:00 level=ERROR msg="failed to get character" error="character not found: 00000000-0000-0000-0000-000000000000" character_id=00000000-0000-0000-0000-000000000000
=== RUN   TestCharacterHandler_Get/invalid_character_ID
--- PASS: TestCharacterHandler_Get (0.17s)
    --- PASS: TestCharacterHandler_Get/existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/non-existing_character (0.00s)
    --- PASS: TestCharacterHandler_Get/invalid_character_ID (0.00s)
=== RUN   TestCharacterHandler_List
time=2026-01-06T19:57:19.749-03:00 level=INFO msg="tenant created" tenant_id=bc53591a-f9ca-4f55-aeca-b9cdf91d00d7 name="Test Tenant"
time=2026-01-06T19:57:19.750-03:00 level=INFO msg="world created" world_id=c0b56ffc-8879-40a2-97bd-5db95c36a239 name="Test World" tenant_id=bc53591a-f9ca-4f55-aeca-b9cdf91d00d7
time=2026-01-06T19:57:19.752-03:00 level=INFO msg="character created" character_id=e53ac989-5472-4522-b72c-5c41276e8a1a name="Character 1"
time=2026-01-06T19:57:19.753-03:00 level=INFO msg="character created" character_id=2db0745d-6ff0-42e2-b25d-6b93922dde84 name="Character 2"
time=2026-01-06T19:57:19.753-03:00 level=INFO msg="character created" character_id=c717d6ac-2ae3-44b3-b3be-8aae7488fd8c name="Character 3"
=== RUN   TestCharacterHandler_List/list_characters
=== RUN   TestCharacterHandler_List/missing_tenant_id
--- PASS: TestCharacterHandler_List (0.15s)
    --- PASS: TestCharacterHandler_List/list_characters (0.00s)
    --- PASS: TestCharacterHandler_List/missing_tenant_id (0.00s)
=== RUN   TestCharacterHandler_Update
time=2026-01-06T19:57:19.926-03:00 level=INFO msg="tenant created" tenant_id=1d948097-8dcf-4241-9556-a6b7e4e36994 name="Test Tenant"
time=2026-01-06T19:57:19.928-03:00 level=INFO msg="world created" world_id=45cfec83-6c86-4377-8c35-1e9119240883 name="Test World" tenant_id=1d948097-8dcf-4241-9556-a6b7e4e36994
time=2026-01-06T19:57:19.929-03:00 level=INFO msg="character created" character_id=a8060ba6-3051-49ce-ac1f-51b2912dd57c name="Original Character"
=== RUN   TestCharacterHandler_Update/update_character_name
time=2026-01-06T19:57:19.930-03:00 level=INFO msg="character updated" character_id=a8060ba6-3051-49ce-ac1f-51b2912dd57c name="Updated Character"
=== RUN   TestCharacterHandler_Update/non-existing_character
--- PASS: TestCharacterHandler_Update (0.18s)
    --- PASS: TestCharacterHandler_Update/update_character_name (0.00s)
    --- PASS: TestCharacterHandler_Update/non-existing_character (0.00s)
=== RUN   TestCharacterHandler_Delete
time=2026-01-06T19:57:20.112-03:00 level=INFO msg="tenant created" tenant_id=8154b466-2fb6-4334-a3e9-2fa4b102f85a name="Test Tenant"
time=2026-01-06T19:57:20.114-03:00 level=INFO msg="world created" world_id=312c9526-3c71-46c3-a4a2-a3554ca4dcdb name="Test World" tenant_id=8154b466-2fb6-4334-a3e9-2fa4b102f85a
time=2026-01-06T19:57:20.115-03:00 level=INFO msg="character created" character_id=3e8fc1a9-2803-4ef5-a646-35d607918ec6 name="Character to Delete"
=== RUN   TestCharacterHandler_Delete/delete_existing_character
time=2026-01-06T19:57:20.118-03:00 level=INFO msg="character deleted" character_id=3e8fc1a9-2803-4ef5-a646-35d607918ec6 name="Character to Delete"
time=2026-01-06T19:57:20.118-03:00 level=ERROR msg="failed to get character" error="character not found: 3e8fc1a9-2803-4ef5-a646-35d607918ec6" character_id=3e8fc1a9-2803-4ef5-a646-35d607918ec6
=== RUN   TestCharacterHandler_Delete/delete_non-existing_character
--- PASS: TestCharacterHandler_Delete (0.19s)
    --- PASS: TestCharacterHandler_Delete/delete_existing_character (0.00s)
    --- PASS: TestCharacterHandler_Delete/delete_non-existing_character (0.00s)
=== RUN   TestCharacterRPGStatsHandler_Create
time=2026-01-06T19:57:20.309-03:00 level=INFO msg="tenant created" tenant_id=cb457327-3bc2-4bb7-909f-0a913a3817d6 name="Test Tenant"
time=2026-01-06T19:57:20.311-03:00 level=INFO msg="world created" world_id=59d2beac-c682-43a5-806a-f05d608e0f91 name="Test World" tenant_id=cb457327-3bc2-4bb7-909f-0a913a3817d6
time=2026-01-06T19:57:20.313-03:00 level=INFO msg="character created" character_id=2fed0d54-605a-4685-a66c-97d9e70cbc9c name="Test Character"
=== RUN   TestCharacterRPGStatsHandler_Create/successful_creation
time=2026-01-06T19:57:20.316-03:00 level=INFO msg="character RPG stats created" character_id=2fed0d54-605a-4685-a66c-97d9e70cbc9c version=1
=== RUN   TestCharacterRPGStatsHandler_Create/missing_tenant_id
--- PASS: TestCharacterRPGStatsHandler_Create (0.19s)
    --- PASS: TestCharacterRPGStatsHandler_Create/successful_creation (0.00s)
    --- PASS: TestCharacterRPGStatsHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestCharacterRPGStatsHandler_GetActive
time=2026-01-06T19:57:20.482-03:00 level=INFO msg="tenant created" tenant_id=4d602c35-b641-4eea-8433-12709f8dd52e name="Test Tenant"
time=2026-01-06T19:57:20.483-03:00 level=INFO msg="world created" world_id=83ce2589-f8d3-4085-8d47-b6f0abbd1f65 name="Test World" tenant_id=4d602c35-b641-4eea-8433-12709f8dd52e
time=2026-01-06T19:57:20.485-03:00 level=INFO msg="character created" character_id=a2fe1c18-18c9-499a-a898-b3b01cce1b9c name="Test Character"
time=2026-01-06T19:57:20.487-03:00 level=INFO msg="character RPG stats created" character_id=a2fe1c18-18c9-499a-a898-b3b01cce1b9c version=1
=== RUN   TestCharacterRPGStatsHandler_GetActive/get_active_stats
--- PASS: TestCharacterRPGStatsHandler_GetActive (0.17s)
    --- PASS: TestCharacterRPGStatsHandler_GetActive/get_active_stats (0.00s)
=== RUN   TestCharacterSkillHandler_Learn
time=2026-01-06T19:57:20.671-03:00 level=INFO msg="tenant created" tenant_id=a915984c-2022-4989-8e7f-9775fdfb6e6a name="Test Tenant"
time=2026-01-06T19:57:20.673-03:00 level=INFO msg="world created" world_id=a1538e4d-dd69-4062-a368-dc525024fb90 name="Test World" tenant_id=a915984c-2022-4989-8e7f-9775fdfb6e6a
time=2026-01-06T19:57:20.675-03:00 level=INFO msg="character created" character_id=3d58d62e-f329-4f6b-abaf-7085d20e93ed name="Test Character"
time=2026-01-06T19:57:20.676-03:00 level=INFO msg="RPG system created" rpg_system_id=36e9a843-8fdd-47e2-beda-955ca650d8e9 name="Test RPG System"
time=2026-01-06T19:57:20.677-03:00 level=INFO msg="skill created" skill_id=bc32f9ee-3e7b-46b3-ad65-22ad2ebeee38 name="Test Skill"
=== RUN   TestCharacterSkillHandler_Learn/successful_learning
time=2026-01-06T19:57:20.679-03:00 level=INFO msg="character learned skill" character_id=3d58d62e-f329-4f6b-abaf-7085d20e93ed skill_id=bc32f9ee-3e7b-46b3-ad65-22ad2ebeee38
=== RUN   TestCharacterSkillHandler_Learn/missing_tenant_id
--- PASS: TestCharacterSkillHandler_Learn (0.18s)
    --- PASS: TestCharacterSkillHandler_Learn/successful_learning (0.00s)
    --- PASS: TestCharacterSkillHandler_Learn/missing_tenant_id (0.00s)
=== RUN   TestCharacterSkillHandler_List
time=2026-01-06T19:57:20.838-03:00 level=INFO msg="tenant created" tenant_id=4ce4d2ca-4ffc-4661-bd5e-d7278fc10757 name="Test Tenant"
time=2026-01-06T19:57:20.839-03:00 level=INFO msg="world created" world_id=a76b65a4-f138-4425-9712-ccbcc8f5bfcf name="Test World" tenant_id=4ce4d2ca-4ffc-4661-bd5e-d7278fc10757
time=2026-01-06T19:57:20.841-03:00 level=INFO msg="character created" character_id=6adefa02-8ac0-450a-b0f6-86af8398d6c7 name="Test Character"
=== RUN   TestCharacterSkillHandler_List/list_skills
--- PASS: TestCharacterSkillHandler_List (0.16s)
    --- PASS: TestCharacterSkillHandler_List/list_skills (0.00s)
=== RUN   TestContentBlockHandler_Create
time=2026-01-06T19:57:21.001-03:00 level=INFO msg="tenant created" tenant_id=467f33c5-703c-4b97-bca4-818be0f538e1 name="Test Tenant"
time=2026-01-06T19:57:21.003-03:00 level=INFO msg="world created" world_id=bb91c9c0-97ed-4a3f-b735-4ece315a4545 name="World of Test Story" tenant_id=467f33c5-703c-4b97-bca4-818be0f538e1
time=2026-01-06T19:57:21.003-03:00 level=INFO msg="created implicit world for story" world_id=bb91c9c0-97ed-4a3f-b735-4ece315a4545 story_title="Test Story"
time=2026-01-06T19:57:21.004-03:00 level=INFO msg="story created" story_id=07312d49-f073-4e3a-9f38-a199c183c453 title="Test Story" tenant_id=467f33c5-703c-4b97-bca4-818be0f538e1
time=2026-01-06T19:57:21.005-03:00 level=INFO msg="chapter created" chapter_id=a8a9aadf-5aa7-425e-820b-8ccb2c0e2081 story_id=07312d49-f073-4e3a-9f38-a199c183c453 tenant_id=467f33c5-703c-4b97-bca4-818be0f538e1
=== RUN   TestContentBlockHandler_Create/successful_creation
time=2026-01-06T19:57:21.007-03:00 level=INFO msg="content block created" content_block_id=8d333aa8-2f2c-4fb2-bb36-7a6af71617b9 tenant_id=467f33c5-703c-4b97-bca4-818be0f538e1
=== RUN   TestContentBlockHandler_Create/missing_tenant_id
--- PASS: TestContentBlockHandler_Create (0.16s)
    --- PASS: TestContentBlockHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockHandler_Get
time=2026-01-06T19:57:21.201-03:00 level=INFO msg="tenant created" tenant_id=9478aa21-305e-4574-aded-f31f232bd190 name="Test Tenant"
time=2026-01-06T19:57:21.203-03:00 level=INFO msg="world created" world_id=ecb2af3c-b9c3-4cdc-b1d4-60647f5119c5 name="World of Test Story" tenant_id=9478aa21-305e-4574-aded-f31f232bd190
time=2026-01-06T19:57:21.203-03:00 level=INFO msg="created implicit world for story" world_id=ecb2af3c-b9c3-4cdc-b1d4-60647f5119c5 story_title="Test Story"
time=2026-01-06T19:57:21.226-03:00 level=INFO msg="story created" story_id=b2d68946-a428-40d2-8c0e-02cdaf1a602d title="Test Story" tenant_id=9478aa21-305e-4574-aded-f31f232bd190
time=2026-01-06T19:57:21.227-03:00 level=INFO msg="chapter created" chapter_id=cfb9d38d-dc21-4328-a873-431df7539fbd story_id=b2d68946-a428-40d2-8c0e-02cdaf1a602d tenant_id=9478aa21-305e-4574-aded-f31f232bd190
time=2026-01-06T19:57:21.228-03:00 level=INFO msg="content block created" content_block_id=b18beebf-a1f3-4b70-aac5-37d805ff4d45 tenant_id=9478aa21-305e-4574-aded-f31f232bd190
=== RUN   TestContentBlockHandler_Get/existing_content_block
=== RUN   TestContentBlockHandler_Get/non-existing_content_block
time=2026-01-06T19:57:21.229-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 00000000-0000-0000-0000-000000000000" content_block_id=00000000-0000-0000-0000-000000000000 tenant_id=9478aa21-305e-4574-aded-f31f232bd190
--- PASS: TestContentBlockHandler_Get (0.23s)
    --- PASS: TestContentBlockHandler_Get/existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Get/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_List
time=2026-01-06T19:57:21.697-03:00 level=INFO msg="tenant created" tenant_id=67953da5-1fb2-4c31-aa9a-f44da37b5997 name="Test Tenant"
time=2026-01-06T19:57:21.699-03:00 level=INFO msg="world created" world_id=3b9f5566-aff9-464d-bc0e-1f4c1e3016fa name="World of Test Story" tenant_id=67953da5-1fb2-4c31-aa9a-f44da37b5997
time=2026-01-06T19:57:21.699-03:00 level=INFO msg="created implicit world for story" world_id=3b9f5566-aff9-464d-bc0e-1f4c1e3016fa story_title="Test Story"
time=2026-01-06T19:57:21.700-03:00 level=INFO msg="story created" story_id=d254156a-8a27-48c8-baa7-fcd2fb4d1ac8 title="Test Story" tenant_id=67953da5-1fb2-4c31-aa9a-f44da37b5997
time=2026-01-06T19:57:21.701-03:00 level=INFO msg="chapter created" chapter_id=98411d44-436e-4b1c-8408-8be224086928 story_id=d254156a-8a27-48c8-baa7-fcd2fb4d1ac8 tenant_id=67953da5-1fb2-4c31-aa9a-f44da37b5997
time=2026-01-06T19:57:21.702-03:00 level=INFO msg="content block created" content_block_id=1fcf334f-ae3e-4450-92b5-fd493ce990b2 tenant_id=67953da5-1fb2-4c31-aa9a-f44da37b5997
time=2026-01-06T19:57:21.702-03:00 level=INFO msg="content block created" content_block_id=85f539b5-cb95-49e6-91df-07f2785cbc3e tenant_id=67953da5-1fb2-4c31-aa9a-f44da37b5997
time=2026-01-06T19:57:21.703-03:00 level=INFO msg="content block created" content_block_id=53372466-b9c5-460e-88a3-bca3dc850635 tenant_id=67953da5-1fb2-4c31-aa9a-f44da37b5997
=== RUN   TestContentBlockHandler_List/list_content_blocks
--- PASS: TestContentBlockHandler_List (0.47s)
    --- PASS: TestContentBlockHandler_List/list_content_blocks (0.00s)
=== RUN   TestContentBlockHandler_Update
time=2026-01-06T19:57:21.870-03:00 level=INFO msg="tenant created" tenant_id=123c9a2c-cae2-46df-bf49-b074d1eed49f name="Test Tenant"
time=2026-01-06T19:57:21.872-03:00 level=INFO msg="world created" world_id=8c5c36fb-0569-4c5e-b495-c1318337812a name="World of Test Story" tenant_id=123c9a2c-cae2-46df-bf49-b074d1eed49f
time=2026-01-06T19:57:21.872-03:00 level=INFO msg="created implicit world for story" world_id=8c5c36fb-0569-4c5e-b495-c1318337812a story_title="Test Story"
time=2026-01-06T19:57:21.873-03:00 level=INFO msg="story created" story_id=10c233c2-31a2-45ce-b3aa-1733f13820ad title="Test Story" tenant_id=123c9a2c-cae2-46df-bf49-b074d1eed49f
time=2026-01-06T19:57:21.874-03:00 level=INFO msg="chapter created" chapter_id=7d68a2a6-7a2f-483b-8e16-1a8ce075261b story_id=10c233c2-31a2-45ce-b3aa-1733f13820ad tenant_id=123c9a2c-cae2-46df-bf49-b074d1eed49f
time=2026-01-06T19:57:21.875-03:00 level=INFO msg="content block created" content_block_id=f1f8324e-0c23-4060-8afc-ec903c4e847a tenant_id=123c9a2c-cae2-46df-bf49-b074d1eed49f
=== RUN   TestContentBlockHandler_Update/update_content_block_content
time=2026-01-06T19:57:21.875-03:00 level=INFO msg="content block updated" content_block_id=f1f8324e-0c23-4060-8afc-ec903c4e847a tenant_id=123c9a2c-cae2-46df-bf49-b074d1eed49f
=== RUN   TestContentBlockHandler_Update/non-existing_content_block
--- PASS: TestContentBlockHandler_Update (0.17s)
    --- PASS: TestContentBlockHandler_Update/update_content_block_content (0.00s)
    --- PASS: TestContentBlockHandler_Update/non-existing_content_block (0.00s)
=== RUN   TestContentBlockHandler_Delete
time=2026-01-06T19:57:22.064-03:00 level=INFO msg="tenant created" tenant_id=30a2c27a-c963-4dc2-8665-5c135e00ef5c name="Test Tenant"
time=2026-01-06T19:57:22.066-03:00 level=INFO msg="world created" world_id=45d95e41-12ec-49ad-a279-e5521c397163 name="World of Test Story" tenant_id=30a2c27a-c963-4dc2-8665-5c135e00ef5c
time=2026-01-06T19:57:22.066-03:00 level=INFO msg="created implicit world for story" world_id=45d95e41-12ec-49ad-a279-e5521c397163 story_title="Test Story"
time=2026-01-06T19:57:22.067-03:00 level=INFO msg="story created" story_id=9d4e74ee-cab3-4d1a-946d-85d463d0d057 title="Test Story" tenant_id=30a2c27a-c963-4dc2-8665-5c135e00ef5c
time=2026-01-06T19:57:22.068-03:00 level=INFO msg="chapter created" chapter_id=b20847c9-560f-49f4-b05f-8669ae355836 story_id=9d4e74ee-cab3-4d1a-946d-85d463d0d057 tenant_id=30a2c27a-c963-4dc2-8665-5c135e00ef5c
time=2026-01-06T19:57:22.069-03:00 level=INFO msg="content block created" content_block_id=23ab7553-7048-4394-a544-381ded83a861 tenant_id=30a2c27a-c963-4dc2-8665-5c135e00ef5c
=== RUN   TestContentBlockHandler_Delete/delete_existing_content_block
time=2026-01-06T19:57:22.071-03:00 level=INFO msg="content block deleted" content_block_id=23ab7553-7048-4394-a544-381ded83a861 tenant_id=30a2c27a-c963-4dc2-8665-5c135e00ef5c
time=2026-01-06T19:57:22.071-03:00 level=ERROR msg="failed to get content block" error="content_block not found: 23ab7553-7048-4394-a544-381ded83a861" content_block_id=23ab7553-7048-4394-a544-381ded83a861 tenant_id=30a2c27a-c963-4dc2-8665-5c135e00ef5c
=== RUN   TestContentBlockHandler_Delete/delete_non-existing_content_block
--- PASS: TestContentBlockHandler_Delete (0.20s)
    --- PASS: TestContentBlockHandler_Delete/delete_existing_content_block (0.00s)
    --- PASS: TestContentBlockHandler_Delete/delete_non-existing_content_block (0.00s)
=== RUN   TestContentBlockReferenceHandler_Create
time=2026-01-06T19:57:22.247-03:00 level=INFO msg="tenant created" tenant_id=8b0aef5d-df0e-4ea7-9c55-597b2b6e7e6b name="Test Tenant"
time=2026-01-06T19:57:22.249-03:00 level=INFO msg="world created" world_id=cfa4de53-0ca2-4846-bf0f-a86db7855e36 name="World of Test Story" tenant_id=8b0aef5d-df0e-4ea7-9c55-597b2b6e7e6b
time=2026-01-06T19:57:22.249-03:00 level=INFO msg="created implicit world for story" world_id=cfa4de53-0ca2-4846-bf0f-a86db7855e36 story_title="Test Story"
time=2026-01-06T19:57:22.251-03:00 level=INFO msg="story created" story_id=380ff8a9-78d8-44fc-9e21-447a3a61f606 title="Test Story" tenant_id=8b0aef5d-df0e-4ea7-9c55-597b2b6e7e6b
time=2026-01-06T19:57:22.253-03:00 level=INFO msg="chapter created" chapter_id=dd9cec12-3445-4b72-983e-8b34e5815ebe story_id=380ff8a9-78d8-44fc-9e21-447a3a61f606 tenant_id=8b0aef5d-df0e-4ea7-9c55-597b2b6e7e6b
time=2026-01-06T19:57:22.254-03:00 level=INFO msg="content block created" content_block_id=a470d80e-5df9-4583-8e3c-c0f07e6c18b4 tenant_id=8b0aef5d-df0e-4ea7-9c55-597b2b6e7e6b
=== RUN   TestContentBlockReferenceHandler_Create/successful_creation
time=2026-01-06T19:57:22.255-03:00 level=INFO msg="world created" world_id=244f64f3-8c24-4ee7-adcb-fd18911fbea8 name="Test World" tenant_id=8b0aef5d-df0e-4ea7-9c55-597b2b6e7e6b
time=2026-01-06T19:57:22.257-03:00 level=INFO msg="character created" character_id=67f6e257-8ec1-4a77-bdeb-3a064cee4fb7 name="Test Character"
time=2026-01-06T19:57:22.258-03:00 level=INFO msg="content block reference created" reference_id=a0762efc-66b0-4280-96d5-a5f593612115 content_block_id=a470d80e-5df9-4583-8e3c-c0f07e6c18b4 tenant_id=8b0aef5d-df0e-4ea7-9c55-597b2b6e7e6b
=== RUN   TestContentBlockReferenceHandler_Create/missing_tenant_id
--- PASS: TestContentBlockReferenceHandler_Create (0.20s)
    --- PASS: TestContentBlockReferenceHandler_Create/successful_creation (0.00s)
    --- PASS: TestContentBlockReferenceHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestContentBlockReferenceHandler_ListByContentBlock
time=2026-01-06T19:57:22.458-03:00 level=INFO msg="tenant created" tenant_id=be0bfc95-c7c8-4be4-be4d-07ef346de086 name="Test Tenant"
time=2026-01-06T19:57:22.459-03:00 level=INFO msg="world created" world_id=e9816fea-2ad2-48b2-a45f-7a0e5e5bee24 name="World of Test Story" tenant_id=be0bfc95-c7c8-4be4-be4d-07ef346de086
time=2026-01-06T19:57:22.459-03:00 level=INFO msg="created implicit world for story" world_id=e9816fea-2ad2-48b2-a45f-7a0e5e5bee24 story_title="Test Story"
time=2026-01-06T19:57:22.460-03:00 level=INFO msg="story created" story_id=9c8a0c64-dc2e-4a68-9cb7-f474472e5813 title="Test Story" tenant_id=be0bfc95-c7c8-4be4-be4d-07ef346de086
time=2026-01-06T19:57:22.461-03:00 level=INFO msg="chapter created" chapter_id=0f675d7e-6eb5-41fe-af81-7e309189854d story_id=9c8a0c64-dc2e-4a68-9cb7-f474472e5813 tenant_id=be0bfc95-c7c8-4be4-be4d-07ef346de086
time=2026-01-06T19:57:22.462-03:00 level=INFO msg="content block created" content_block_id=b2488ce6-c744-4d98-9e03-db497f9ab6fc tenant_id=be0bfc95-c7c8-4be4-be4d-07ef346de086
=== RUN   TestContentBlockReferenceHandler_ListByContentBlock/list_references
--- PASS: TestContentBlockReferenceHandler_ListByContentBlock (0.20s)
    --- PASS: TestContentBlockReferenceHandler_ListByContentBlock/list_references (0.00s)
=== RUN   TestEventHandler_Create
time=2026-01-06T19:57:22.660-03:00 level=INFO msg="tenant created" tenant_id=ca9c1908-322f-45d3-badd-44dd784e5db0 name="Test Tenant"
time=2026-01-06T19:57:22.662-03:00 level=INFO msg="world created" world_id=99f9ea68-20fc-49c3-be77-56bd03857f3c name="Test World" tenant_id=ca9c1908-322f-45d3-badd-44dd784e5db0
time=2026-01-06T19:57:22.663-03:00 level=INFO msg="world created" world_id=5de19163-3926-45b9-9958-6893b63b35e5 name="World of Test Story" tenant_id=ca9c1908-322f-45d3-badd-44dd784e5db0
time=2026-01-06T19:57:22.663-03:00 level=INFO msg="created implicit world for story" world_id=5de19163-3926-45b9-9958-6893b63b35e5 story_title="Test Story"
time=2026-01-06T19:57:22.665-03:00 level=INFO msg="story created" story_id=40246e1a-b469-4e9e-8047-461c3462d739 title="Test Story" tenant_id=ca9c1908-322f-45d3-badd-44dd784e5db0
time=2026-01-06T19:57:22.666-03:00 level=INFO msg="chapter created" chapter_id=36ead220-41af-4588-b702-57bcb1b2c33a story_id=40246e1a-b469-4e9e-8047-461c3462d739 tenant_id=ca9c1908-322f-45d3-badd-44dd784e5db0
time=2026-01-06T19:57:22.667-03:00 level=INFO msg="scene created" scene_id=7bd7ee1c-52d9-4735-bd59-b6f57a462b4b story_id=40246e1a-b469-4e9e-8047-461c3462d739 tenant_id=ca9c1908-322f-45d3-badd-44dd784e5db0
=== RUN   TestEventHandler_Create/successful_creation
time=2026-01-06T19:57:22.670-03:00 level=INFO msg="event created" event_id=b5d7b441-351c-42cc-9fe5-37c6302444ae world_id=99f9ea68-20fc-49c3-be77-56bd03857f3c
=== RUN   TestEventHandler_Create/empty_name
=== RUN   TestEventHandler_Create/missing_tenant_id
--- PASS: TestEventHandler_Create (0.21s)
    --- PASS: TestEventHandler_Create/successful_creation (0.00s)
    --- PASS: TestEventHandler_Create/empty_name (0.00s)
    --- PASS: TestEventHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestEventHandler_Get
time=2026-01-06T19:57:22.858-03:00 level=INFO msg="tenant created" tenant_id=a8706713-9605-44c1-9174-cfb95ce72c05 name="Test Tenant"
time=2026-01-06T19:57:22.859-03:00 level=INFO msg="world created" world_id=befeb964-cedf-4492-b8fe-f57166af5755 name="Test World" tenant_id=a8706713-9605-44c1-9174-cfb95ce72c05
time=2026-01-06T19:57:22.860-03:00 level=INFO msg="world created" world_id=64039b9d-962e-4fa7-ac80-e624fe632e95 name="World of Test Story" tenant_id=a8706713-9605-44c1-9174-cfb95ce72c05
time=2026-01-06T19:57:22.860-03:00 level=INFO msg="created implicit world for story" world_id=64039b9d-962e-4fa7-ac80-e624fe632e95 story_title="Test Story"
time=2026-01-06T19:57:22.861-03:00 level=INFO msg="story created" story_id=2f48b61c-e087-42e4-bed7-235857bd1187 title="Test Story" tenant_id=a8706713-9605-44c1-9174-cfb95ce72c05
time=2026-01-06T19:57:22.862-03:00 level=INFO msg="chapter created" chapter_id=f2f39a68-67d0-45d7-a904-d5665ecb7206 story_id=2f48b61c-e087-42e4-bed7-235857bd1187 tenant_id=a8706713-9605-44c1-9174-cfb95ce72c05
time=2026-01-06T19:57:22.863-03:00 level=INFO msg="scene created" scene_id=a9ee18e0-e60e-473f-bdda-ef1d52396b33 story_id=2f48b61c-e087-42e4-bed7-235857bd1187 tenant_id=a8706713-9605-44c1-9174-cfb95ce72c05
time=2026-01-06T19:57:22.864-03:00 level=INFO msg="event created" event_id=db8169bc-830b-44ee-823e-08137a3fd8ae world_id=befeb964-cedf-4492-b8fe-f57166af5755
=== RUN   TestEventHandler_Get/get_existing_event
=== RUN   TestEventHandler_Get/get_non-existing_event
time=2026-01-06T19:57:22.865-03:00 level=ERROR msg="failed to get event" error="event not found: 00000000-0000-0000-0000-000000000000" event_id=00000000-0000-0000-0000-000000000000
--- PASS: TestEventHandler_Get (0.19s)
    --- PASS: TestEventHandler_Get/get_existing_event (0.00s)
    --- PASS: TestEventHandler_Get/get_non-existing_event (0.00s)
=== RUN   TestFactionHandler_Create
time=2026-01-06T19:57:23.029-03:00 level=INFO msg="tenant created" tenant_id=9ac9b0be-11fd-48b0-9ec1-42c07ba9ec46 name="Test Tenant"
time=2026-01-06T19:57:23.031-03:00 level=INFO msg="world created" world_id=190e465b-05af-4f32-a2eb-79745756bad9 name="Test World" tenant_id=9ac9b0be-11fd-48b0-9ec1-42c07ba9ec46
=== RUN   TestFactionHandler_Create/successful_creation
time=2026-01-06T19:57:23.033-03:00 level=INFO msg="faction created" faction_id=2f56c0d5-3e3a-4e4e-b107-dcdc8fde1192 name="Guild of Mages"
=== RUN   TestFactionHandler_Create/empty_name
--- PASS: TestFactionHandler_Create (0.17s)
    --- PASS: TestFactionHandler_Create/successful_creation (0.00s)
    --- PASS: TestFactionHandler_Create/empty_name (0.00s)
=== RUN   TestFactionHandler_AddReference
time=2026-01-06T19:57:23.210-03:00 level=INFO msg="tenant created" tenant_id=cfcc26be-a680-4767-9caf-0b5f41b236ee name="Test Tenant"
time=2026-01-06T19:57:23.211-03:00 level=INFO msg="world created" world_id=453911a6-876c-4d4c-9905-983ae0b8bebe name="Test World" tenant_id=cfcc26be-a680-4767-9caf-0b5f41b236ee
time=2026-01-06T19:57:23.212-03:00 level=INFO msg="faction created" faction_id=b3bf32ad-83bf-4230-a4a8-3e8a62b628c7 name="Guild of Mages"
time=2026-01-06T19:57:23.213-03:00 level=INFO msg="character created" character_id=1e2dc42a-c062-4bfa-a89c-49987a764a9b name="Test Character"
=== RUN   TestFactionHandler_AddReference/add_character_reference
time=2026-01-06T19:57:23.215-03:00 level=INFO msg="faction reference added" faction_id=b3bf32ad-83bf-4230-a4a8-3e8a62b628c7 entity_type=character entity_id=1e2dc42a-c062-4bfa-a89c-49987a764a9b
=== RUN   TestFactionHandler_AddReference/get_references
--- PASS: TestFactionHandler_AddReference (0.19s)
    --- PASS: TestFactionHandler_AddReference/add_character_reference (0.00s)
    --- PASS: TestFactionHandler_AddReference/get_references (0.00s)
=== RUN   TestInventoryHandler_AddItem
time=2026-01-06T19:57:23.386-03:00 level=INFO msg="tenant created" tenant_id=9259b83c-18cd-411d-889b-5add00b36d7d name="Test Tenant"
time=2026-01-06T19:57:23.388-03:00 level=INFO msg="world created" world_id=4b162c92-61b0-4b3e-9b0b-3a0d79de8efc name="Test World" tenant_id=9259b83c-18cd-411d-889b-5add00b36d7d
time=2026-01-06T19:57:23.390-03:00 level=INFO msg="character created" character_id=3fa6c036-f61a-49df-bb85-1ac79ff53656 name="Test Character"
time=2026-01-06T19:57:23.390-03:00 level=INFO msg="RPG system created" rpg_system_id=1f7643bd-5517-4be3-8a85-a7111876c78a name="Test RPG System"
time=2026-01-06T19:57:23.392-03:00 level=INFO msg="inventory item created" item_id=f016d005-5e41-44b9-87aa-9b7fd663a772 name="Test Item"
=== RUN   TestInventoryHandler_AddItem/successful_add_item
time=2026-01-06T19:57:23.395-03:00 level=INFO msg="item added to inventory" character_id=3fa6c036-f61a-49df-bb85-1ac79ff53656 item_id=f016d005-5e41-44b9-87aa-9b7fd663a772
=== RUN   TestInventoryHandler_AddItem/missing_tenant_id
--- PASS: TestInventoryHandler_AddItem (0.18s)
    --- PASS: TestInventoryHandler_AddItem/successful_add_item (0.00s)
    --- PASS: TestInventoryHandler_AddItem/missing_tenant_id (0.00s)
=== RUN   TestInventoryHandler_ListInventory
time=2026-01-06T19:57:23.566-03:00 level=INFO msg="tenant created" tenant_id=86a63a31-2bf3-413d-82e6-ad1610a3bbbb name="Test Tenant"
time=2026-01-06T19:57:23.567-03:00 level=INFO msg="world created" world_id=52c344a2-4006-45d1-b549-733da8a82af9 name="Test World" tenant_id=86a63a31-2bf3-413d-82e6-ad1610a3bbbb
time=2026-01-06T19:57:23.569-03:00 level=INFO msg="character created" character_id=708d95eb-35d2-40d3-a585-b38bd1df6e3e name="Test Character"
=== RUN   TestInventoryHandler_ListInventory/list_inventory
--- PASS: TestInventoryHandler_ListInventory (0.17s)
    --- PASS: TestInventoryHandler_ListInventory/list_inventory (0.00s)
=== RUN   TestInventoryHandler_DeleteInventory
time=2026-01-06T19:57:23.744-03:00 level=INFO msg="tenant created" tenant_id=03fbf09c-2672-4f18-bff3-9611bcb7b79d name="Test Tenant"
time=2026-01-06T19:57:23.745-03:00 level=INFO msg="world created" world_id=3412dc34-e883-4c06-b83f-e1061f03570c name="Test World" tenant_id=03fbf09c-2672-4f18-bff3-9611bcb7b79d
time=2026-01-06T19:57:23.748-03:00 level=INFO msg="character created" character_id=05a69758-3039-4afb-b011-8e519595ed1e name="Test Character"
time=2026-01-06T19:57:23.749-03:00 level=INFO msg="RPG system created" rpg_system_id=d3815458-2d6f-438b-af82-e687c1101f8f name="Test RPG System"
time=2026-01-06T19:57:23.751-03:00 level=INFO msg="inventory item created" item_id=a2c98d83-da71-4f8e-aead-63154881fc3f name="Test Item"
time=2026-01-06T19:57:23.753-03:00 level=INFO msg="item added to inventory" character_id=05a69758-3039-4afb-b011-8e519595ed1e item_id=a2c98d83-da71-4f8e-aead-63154881fc3f
=== RUN   TestInventoryHandler_DeleteInventory/delete_existing_inventory_item
time=2026-01-06T19:57:23.754-03:00 level=INFO msg="item removed from inventory" id=60638fe9-0712-4c10-9171-dec5a8a5c287
=== RUN   TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item
time=2026-01-06T19:57:23.754-03:00 level=ERROR msg="failed to delete character inventory" error="character_inventory not found: 00000000-0000-0000-0000-000000000000" id=00000000-0000-0000-0000-000000000000
--- PASS: TestInventoryHandler_DeleteInventory (0.19s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_existing_inventory_item (0.00s)
    --- PASS: TestInventoryHandler_DeleteInventory/delete_non-existing_inventory_item (0.00s)
=== RUN   TestLocationHandler_Create
time=2026-01-06T19:57:23.931-03:00 level=INFO msg="tenant created" tenant_id=666a3e42-2025-41b2-aeb6-87e9acb9fb43 name="Test Tenant"
time=2026-01-06T19:57:23.932-03:00 level=INFO msg="world created" world_id=943856df-971e-44b5-b613-27585a645a0f name="Test World" tenant_id=666a3e42-2025-41b2-aeb6-87e9acb9fb43
=== RUN   TestLocationHandler_Create/successful_creation
time=2026-01-06T19:57:23.935-03:00 level=INFO msg="location created" location_id=83d7b6dd-5719-4d4e-aae5-2ef5842b451b name="Test Location"
=== RUN   TestLocationHandler_Create/missing_tenant_id
=== RUN   TestLocationHandler_Create/empty_name
--- PASS: TestLocationHandler_Create (0.20s)
    --- PASS: TestLocationHandler_Create/successful_creation (0.00s)
    --- PASS: TestLocationHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestLocationHandler_Create/empty_name (0.00s)
=== RUN   TestLocationHandler_Get
time=2026-01-06T19:57:24.125-03:00 level=INFO msg="tenant created" tenant_id=0ff8a9b1-220f-437e-a914-9800113d431b name="Test Tenant"
time=2026-01-06T19:57:24.127-03:00 level=INFO msg="world created" world_id=79280c95-d6a7-4058-b9e5-f53e0cbe53d7 name="Test World" tenant_id=0ff8a9b1-220f-437e-a914-9800113d431b
time=2026-01-06T19:57:24.128-03:00 level=INFO msg="location created" location_id=8df4cb93-10d9-4d57-8349-829e768d39aa name="Get Test Location"
=== RUN   TestLocationHandler_Get/existing_location
=== RUN   TestLocationHandler_Get/non-existing_location
time=2026-01-06T19:57:24.129-03:00 level=ERROR msg="failed to get location" error="location not found: 00000000-0000-0000-0000-000000000000" location_id=00000000-0000-0000-0000-000000000000
=== RUN   TestLocationHandler_Get/invalid_location_ID
--- PASS: TestLocationHandler_Get (0.17s)
    --- PASS: TestLocationHandler_Get/existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/non-existing_location (0.00s)
    --- PASS: TestLocationHandler_Get/invalid_location_ID (0.00s)
=== RUN   TestLocationHandler_List
time=2026-01-06T19:57:24.295-03:00 level=INFO msg="tenant created" tenant_id=2445062e-5f89-4f10-98ea-89c9255b27d2 name="Test Tenant"
time=2026-01-06T19:57:24.296-03:00 level=INFO msg="world created" world_id=13d739e9-f0ad-439b-a5fc-d06bb9a8694a name="Test World" tenant_id=2445062e-5f89-4f10-98ea-89c9255b27d2
time=2026-01-06T19:57:24.297-03:00 level=INFO msg="location created" location_id=875a3074-9e55-4fb6-b84e-2c8dbf81be0a name="Location 1"
time=2026-01-06T19:57:24.298-03:00 level=INFO msg="location created" location_id=5eb74681-c0df-4054-a00e-a2a001133629 name="Location 2"
time=2026-01-06T19:57:24.298-03:00 level=INFO msg="location created" location_id=83fb716c-9bc4-42ca-be10-a6f46773e38e name="Location 3"
=== RUN   TestLocationHandler_List/list_locations
=== RUN   TestLocationHandler_List/missing_tenant_id
--- PASS: TestLocationHandler_List (0.17s)
    --- PASS: TestLocationHandler_List/list_locations (0.00s)
    --- PASS: TestLocationHandler_List/missing_tenant_id (0.00s)
=== RUN   TestLocationHandler_Update
time=2026-01-06T19:57:24.458-03:00 level=INFO msg="tenant created" tenant_id=1971ae5d-0703-4eac-8d02-473f10fe77c4 name="Test Tenant"
time=2026-01-06T19:57:24.460-03:00 level=INFO msg="world created" world_id=127a9bb8-8bbc-49e1-89d1-bead15c2290b name="Test World" tenant_id=1971ae5d-0703-4eac-8d02-473f10fe77c4
time=2026-01-06T19:57:24.462-03:00 level=INFO msg="location created" location_id=ca0ce616-8457-42f1-9e82-82d8c9f3e182 name="Original Location"
=== RUN   TestLocationHandler_Update/update_location_name
time=2026-01-06T19:57:24.463-03:00 level=INFO msg="location updated" location_id=ca0ce616-8457-42f1-9e82-82d8c9f3e182 name="Updated Location"
=== RUN   TestLocationHandler_Update/non-existing_location
--- PASS: TestLocationHandler_Update (0.16s)
    --- PASS: TestLocationHandler_Update/update_location_name (0.00s)
    --- PASS: TestLocationHandler_Update/non-existing_location (0.00s)
=== RUN   TestLocationHandler_Delete
time=2026-01-06T19:57:24.628-03:00 level=INFO msg="tenant created" tenant_id=143eaee2-9383-412d-9c39-c8b823b005b4 name="Test Tenant"
time=2026-01-06T19:57:24.629-03:00 level=INFO msg="world created" world_id=8158698c-aabe-4a1f-a3ba-147d135c78a8 name="Test World" tenant_id=143eaee2-9383-412d-9c39-c8b823b005b4
time=2026-01-06T19:57:24.631-03:00 level=INFO msg="location created" location_id=dc43968d-c26d-43d8-bef6-372d104f1a72 name="Location to Delete"
=== RUN   TestLocationHandler_Delete/delete_existing_location
time=2026-01-06T19:57:24.632-03:00 level=INFO msg="location deleted" location_id=dc43968d-c26d-43d8-bef6-372d104f1a72 name="Location to Delete"
time=2026-01-06T19:57:24.633-03:00 level=ERROR msg="failed to get location" error="location not found: dc43968d-c26d-43d8-bef6-372d104f1a72" location_id=dc43968d-c26d-43d8-bef6-372d104f1a72
=== RUN   TestLocationHandler_Delete/delete_non-existing_location
--- PASS: TestLocationHandler_Delete (0.17s)
    --- PASS: TestLocationHandler_Delete/delete_existing_location (0.00s)
    --- PASS: TestLocationHandler_Delete/delete_non-existing_location (0.00s)
=== RUN   TestLoreHandler_Create
time=2026-01-06T19:57:24.795-03:00 level=INFO msg="tenant created" tenant_id=f16a76ae-bd8a-41ad-bf71-04f6b1051282 name="Test Tenant"
time=2026-01-06T19:57:24.796-03:00 level=INFO msg="world created" world_id=ffb71c9e-decd-4791-b62e-a35633b8604e name="Test World" tenant_id=f16a76ae-bd8a-41ad-bf71-04f6b1051282
=== RUN   TestLoreHandler_Create/successful_creation
time=2026-01-06T19:57:24.797-03:00 level=INFO msg="lore created" lore_id=2d5a8fca-5b3d-4cd6-9f05-aadb4bf1d40d name="Fire Magic"
=== RUN   TestLoreHandler_Create/empty_name
--- PASS: TestLoreHandler_Create (0.21s)
    --- PASS: TestLoreHandler_Create/successful_creation (0.00s)
    --- PASS: TestLoreHandler_Create/empty_name (0.00s)
=== RUN   TestLoreHandler_AddReference
time=2026-01-06T19:57:25.252-03:00 level=INFO msg="tenant created" tenant_id=8010c91f-25da-44d3-951f-1d073478246e name="Test Tenant"
time=2026-01-06T19:57:25.256-03:00 level=INFO msg="world created" world_id=e4fef009-4e0f-4f28-9c69-14935ef5dfc5 name="Test World" tenant_id=8010c91f-25da-44d3-951f-1d073478246e
time=2026-01-06T19:57:25.257-03:00 level=INFO msg="lore created" lore_id=cdcc42cd-fa1e-4bca-82f5-c56ea7c836c8 name="Fire Magic"
time=2026-01-06T19:57:25.259-03:00 level=INFO msg="character created" character_id=f12c4de7-a6a9-409b-93d2-18733f411ff9 name="Test Character"
=== RUN   TestLoreHandler_AddReference/add_character_reference
time=2026-01-06T19:57:25.261-03:00 level=INFO msg="lore reference added" lore_id=cdcc42cd-fa1e-4bca-82f5-c56ea7c836c8 entity_type=character entity_id=f12c4de7-a6a9-409b-93d2-18733f411ff9
=== RUN   TestLoreHandler_AddReference/get_references
--- PASS: TestLoreHandler_AddReference (0.42s)
    --- PASS: TestLoreHandler_AddReference/add_character_reference (0.00s)
    --- PASS: TestLoreHandler_AddReference/get_references (0.00s)
=== RUN   TestRPGClassHandler_Create
time=2026-01-06T19:57:25.401-03:00 level=INFO msg="tenant created" tenant_id=ccded8d3-215c-46e1-b045-b5efa2ba2316 name="Test Tenant"
time=2026-01-06T19:57:25.402-03:00 level=INFO msg="RPG system created" rpg_system_id=af1ac733-011e-4b5f-bb00-2d2a142eb858 name="Test RPG System"
=== RUN   TestRPGClassHandler_Create/successful_creation
time=2026-01-06T19:57:25.403-03:00 level=INFO msg="RPG class created" class_id=545315be-3603-445a-9ab3-0429c60997d8 name="Test Class"
=== RUN   TestRPGClassHandler_Create/missing_tenant_id
--- PASS: TestRPGClassHandler_Create (0.14s)
    --- PASS: TestRPGClassHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGClassHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGClassHandler_Get
time=2026-01-06T19:57:25.555-03:00 level=INFO msg="tenant created" tenant_id=f2a4dced-2024-4cbf-8331-c1421e488f1a name="Test Tenant"
time=2026-01-06T19:57:25.556-03:00 level=INFO msg="RPG system created" rpg_system_id=9074302e-0fdf-4431-806a-127fb59cd977 name="Test RPG System"
time=2026-01-06T19:57:25.558-03:00 level=INFO msg="RPG class created" class_id=e5b246e5-587d-4912-b524-653e98578508 name="Get Test Class"
=== RUN   TestRPGClassHandler_Get/existing_rpg_class
=== RUN   TestRPGClassHandler_Get/non-existing_rpg_class
time=2026-01-06T19:57:25.558-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Get (0.15s)
    --- PASS: TestRPGClassHandler_Get/existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Get/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_List
time=2026-01-06T19:57:25.696-03:00 level=INFO msg="tenant created" tenant_id=5c7b580b-a512-475e-b922-22a7de1bd661 name="Test Tenant"
time=2026-01-06T19:57:25.699-03:00 level=INFO msg="RPG system created" rpg_system_id=79d7d17c-d4ee-4b8d-955b-54fc2202c7da name="Test RPG System"
time=2026-01-06T19:57:25.700-03:00 level=INFO msg="RPG class created" class_id=22c93273-2650-437b-b19b-d085bd34fa4d name="Class 1"
time=2026-01-06T19:57:25.701-03:00 level=INFO msg="RPG class created" class_id=d7fb1855-60a8-4653-83dd-81e14d3a5481 name="Class 2"
time=2026-01-06T19:57:25.702-03:00 level=INFO msg="RPG class created" class_id=88362eef-47a8-4541-8aa3-cfa6a1e2e2a2 name="Class 3"
=== RUN   TestRPGClassHandler_List/list_rpg_classes
--- PASS: TestRPGClassHandler_List (0.15s)
    --- PASS: TestRPGClassHandler_List/list_rpg_classes (0.00s)
=== RUN   TestRPGClassHandler_Update
time=2026-01-06T19:57:25.861-03:00 level=INFO msg="tenant created" tenant_id=f9568a6e-f4ef-40bb-9aea-c1846b76eebc name="Test Tenant"
time=2026-01-06T19:57:25.865-03:00 level=INFO msg="RPG system created" rpg_system_id=da5dc844-dafc-4eef-8abf-86026f153360 name="Test RPG System"
time=2026-01-06T19:57:25.868-03:00 level=INFO msg="RPG class created" class_id=df13bf65-fc8e-41ce-91a5-42fa32a4b488 name="Original Class"
=== RUN   TestRPGClassHandler_Update/update_rpg_class_name
time=2026-01-06T19:57:25.869-03:00 level=INFO msg="RPG class updated" class_id=df13bf65-fc8e-41ce-91a5-42fa32a4b488
=== RUN   TestRPGClassHandler_Update/non-existing_rpg_class
--- PASS: TestRPGClassHandler_Update (0.17s)
    --- PASS: TestRPGClassHandler_Update/update_rpg_class_name (0.00s)
    --- PASS: TestRPGClassHandler_Update/non-existing_rpg_class (0.00s)
=== RUN   TestRPGClassHandler_Delete
time=2026-01-06T19:57:26.275-03:00 level=INFO msg="tenant created" tenant_id=e750772d-4e90-423d-96f0-0f9cbf29f653 name="Test Tenant"
time=2026-01-06T19:57:26.276-03:00 level=INFO msg="RPG system created" rpg_system_id=d84005c3-05d2-4464-8098-56e09c4d4a6c name="Test RPG System"
time=2026-01-06T19:57:26.278-03:00 level=INFO msg="RPG class created" class_id=f28bb5b2-1a41-4f1b-80d7-238809ec8aca name="Class to Delete"
=== RUN   TestRPGClassHandler_Delete/delete_existing_rpg_class
time=2026-01-06T19:57:26.279-03:00 level=INFO msg="RPG class deleted" class_id=f28bb5b2-1a41-4f1b-80d7-238809ec8aca
time=2026-01-06T19:57:26.279-03:00 level=ERROR msg="failed to get RPG class" error="rpg_class not found: f28bb5b2-1a41-4f1b-80d7-238809ec8aca" class_id=f28bb5b2-1a41-4f1b-80d7-238809ec8aca
=== RUN   TestRPGClassHandler_Delete/delete_non-existing_rpg_class
time=2026-01-06T19:57:26.279-03:00 level=ERROR msg="failed to delete RPG class" error="rpg_class not found: 00000000-0000-0000-0000-000000000000" class_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGClassHandler_Delete (0.40s)
    --- PASS: TestRPGClassHandler_Delete/delete_existing_rpg_class (0.00s)
    --- PASS: TestRPGClassHandler_Delete/delete_non-existing_rpg_class (0.00s)
=== RUN   TestRPGSystemHandler_Create
time=2026-01-06T19:57:26.500-03:00 level=INFO msg="tenant created" tenant_id=0ca3d0f4-c7cb-4699-9223-70bb0d908f56 name="Test Tenant"
=== RUN   TestRPGSystemHandler_Create/successful_creation
time=2026-01-06T19:57:26.503-03:00 level=INFO msg="RPG system created" rpg_system_id=4d6a9a02-9022-4998-b63d-c15a234b2d89 name="Test RPG System"
=== RUN   TestRPGSystemHandler_Create/missing_tenant_id
--- PASS: TestRPGSystemHandler_Create (0.23s)
    --- PASS: TestRPGSystemHandler_Create/successful_creation (0.00s)
    --- PASS: TestRPGSystemHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestRPGSystemHandler_Get
time=2026-01-06T19:57:26.868-03:00 level=INFO msg="tenant created" tenant_id=8ee1725c-f8c1-4f60-adbe-dc65a83b6d96 name="Test Tenant"
time=2026-01-06T19:57:26.875-03:00 level=INFO msg="RPG system created" rpg_system_id=45378d33-7055-4d3c-9642-5d72e431635b name="Get Test RPG System"
=== RUN   TestRPGSystemHandler_Get/existing_rpg_system
=== RUN   TestRPGSystemHandler_Get/non-existing_rpg_system
time=2026-01-06T19:57:26.876-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: 00000000-0000-0000-0000-000000000000" rpg_system_id=00000000-0000-0000-0000-000000000000
--- PASS: TestRPGSystemHandler_Get (0.38s)
    --- PASS: TestRPGSystemHandler_Get/existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Get/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_List
time=2026-01-06T19:57:27.042-03:00 level=INFO msg="tenant created" tenant_id=1e4cccab-5be0-431e-af5a-e4c5874e317c name="Test Tenant"
time=2026-01-06T19:57:27.043-03:00 level=INFO msg="RPG system created" rpg_system_id=022c4ddf-2092-4e28-8c51-865a6b600238 name="RPG System 1"
time=2026-01-06T19:57:27.044-03:00 level=INFO msg="RPG system created" rpg_system_id=e642fc8f-82d9-4265-a161-190262af7f0c name="RPG System 2"
time=2026-01-06T19:57:27.044-03:00 level=INFO msg="RPG system created" rpg_system_id=204ad9a6-d457-4d2d-99ae-a44fa970c7f0 name="RPG System 3"
=== RUN   TestRPGSystemHandler_List/list_rpg_systems
--- PASS: TestRPGSystemHandler_List (0.16s)
    --- PASS: TestRPGSystemHandler_List/list_rpg_systems (0.00s)
=== RUN   TestRPGSystemHandler_Update
time=2026-01-06T19:57:27.189-03:00 level=INFO msg="tenant created" tenant_id=9a249110-2cb7-4261-97bd-ddb9c6640f1a name="Test Tenant"
time=2026-01-06T19:57:27.190-03:00 level=INFO msg="RPG system created" rpg_system_id=09937500-b159-4df7-bbaa-e7eea98d60b5 name="Original RPG System"
=== RUN   TestRPGSystemHandler_Update/update_rpg_system_name
time=2026-01-06T19:57:27.191-03:00 level=INFO msg="RPG system updated" rpg_system_id=09937500-b159-4df7-bbaa-e7eea98d60b5
=== RUN   TestRPGSystemHandler_Update/non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Update (0.15s)
    --- PASS: TestRPGSystemHandler_Update/update_rpg_system_name (0.00s)
    --- PASS: TestRPGSystemHandler_Update/non-existing_rpg_system (0.00s)
=== RUN   TestRPGSystemHandler_Delete
time=2026-01-06T19:57:27.346-03:00 level=INFO msg="tenant created" tenant_id=80a8afd8-f8e8-44fb-8709-286846730ca1 name="Test Tenant"
time=2026-01-06T19:57:27.347-03:00 level=INFO msg="RPG system created" rpg_system_id=dac53673-16a9-4124-86ef-ac7a1025cf19 name="RPG System to Delete"
=== RUN   TestRPGSystemHandler_Delete/delete_existing_rpg_system
time=2026-01-06T19:57:27.349-03:00 level=INFO msg="RPG system deleted" rpg_system_id=dac53673-16a9-4124-86ef-ac7a1025cf19
time=2026-01-06T19:57:27.349-03:00 level=ERROR msg="failed to get RPG system" error="rpg_system not found: dac53673-16a9-4124-86ef-ac7a1025cf19" rpg_system_id=dac53673-16a9-4124-86ef-ac7a1025cf19
=== RUN   TestRPGSystemHandler_Delete/delete_non-existing_rpg_system
--- PASS: TestRPGSystemHandler_Delete (0.16s)
    --- PASS: TestRPGSystemHandler_Delete/delete_existing_rpg_system (0.00s)
    --- PASS: TestRPGSystemHandler_Delete/delete_non-existing_rpg_system (0.00s)
=== RUN   TestSceneHandler_Create
time=2026-01-06T19:57:27.508-03:00 level=INFO msg="tenant created" tenant_id=25745ad0-902f-41b0-af3b-60cc392d0cbe name="Test Tenant"
time=2026-01-06T19:57:27.510-03:00 level=INFO msg="world created" world_id=02e40802-d5b0-4af2-b356-e3f1106b5b74 name="World of Test Story" tenant_id=25745ad0-902f-41b0-af3b-60cc392d0cbe
time=2026-01-06T19:57:27.510-03:00 level=INFO msg="created implicit world for story" world_id=02e40802-d5b0-4af2-b356-e3f1106b5b74 story_title="Test Story"
time=2026-01-06T19:57:27.511-03:00 level=INFO msg="story created" story_id=3951c18b-e7ad-45e8-8447-1aeec75931a0 title="Test Story" tenant_id=25745ad0-902f-41b0-af3b-60cc392d0cbe
=== RUN   TestSceneHandler_Create/successful_creation
time=2026-01-06T19:57:27.512-03:00 level=INFO msg="scene created" scene_id=bf9f39b8-feb6-4b3b-be91-d704574f3ea6 story_id=3951c18b-e7ad-45e8-8447-1aeec75931a0 tenant_id=25745ad0-902f-41b0-af3b-60cc392d0cbe
=== RUN   TestSceneHandler_Create/missing_tenant_id
--- PASS: TestSceneHandler_Create (0.16s)
    --- PASS: TestSceneHandler_Create/successful_creation (0.00s)
    --- PASS: TestSceneHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSceneHandler_Get
time=2026-01-06T19:57:27.675-03:00 level=INFO msg="tenant created" tenant_id=a46c057e-646a-4c49-a061-5d6a3c74c875 name="Test Tenant"
time=2026-01-06T19:57:27.678-03:00 level=INFO msg="world created" world_id=8cff3d23-c9c4-4204-8593-8ec3750b93af name="World of Test Story" tenant_id=a46c057e-646a-4c49-a061-5d6a3c74c875
time=2026-01-06T19:57:27.678-03:00 level=INFO msg="created implicit world for story" world_id=8cff3d23-c9c4-4204-8593-8ec3750b93af story_title="Test Story"
time=2026-01-06T19:57:27.679-03:00 level=INFO msg="story created" story_id=a8c8bd8b-6ed8-4bb7-aa3b-c1d71d149995 title="Test Story" tenant_id=a46c057e-646a-4c49-a061-5d6a3c74c875
time=2026-01-06T19:57:27.680-03:00 level=INFO msg="scene created" scene_id=7084a633-4976-4f66-a127-1d73f060d0d1 story_id=a8c8bd8b-6ed8-4bb7-aa3b-c1d71d149995 tenant_id=a46c057e-646a-4c49-a061-5d6a3c74c875
=== RUN   TestSceneHandler_Get/existing_scene
=== RUN   TestSceneHandler_Get/non-existing_scene
time=2026-01-06T19:57:27.681-03:00 level=ERROR msg="failed to get scene" error="scene not found: 00000000-0000-0000-0000-000000000000" scene_id=00000000-0000-0000-0000-000000000000 tenant_id=a46c057e-646a-4c49-a061-5d6a3c74c875
--- PASS: TestSceneHandler_Get (0.17s)
    --- PASS: TestSceneHandler_Get/existing_scene (0.00s)
    --- PASS: TestSceneHandler_Get/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_List
time=2026-01-06T19:57:27.844-03:00 level=INFO msg="tenant created" tenant_id=b6f98b1b-1b63-4b33-90a7-b50a8b84d3d7 name="Test Tenant"
time=2026-01-06T19:57:27.845-03:00 level=INFO msg="world created" world_id=6dc0fc67-a5ff-4dd7-91d0-c855956278f2 name="World of Test Story" tenant_id=b6f98b1b-1b63-4b33-90a7-b50a8b84d3d7
time=2026-01-06T19:57:27.845-03:00 level=INFO msg="created implicit world for story" world_id=6dc0fc67-a5ff-4dd7-91d0-c855956278f2 story_title="Test Story"
time=2026-01-06T19:57:27.846-03:00 level=INFO msg="story created" story_id=7504c6fe-0b3a-46d2-9d5d-d28a474b2607 title="Test Story" tenant_id=b6f98b1b-1b63-4b33-90a7-b50a8b84d3d7
time=2026-01-06T19:57:27.848-03:00 level=INFO msg="scene created" scene_id=73dfdfbf-6046-4374-8158-0e8c8052f9d3 story_id=7504c6fe-0b3a-46d2-9d5d-d28a474b2607 tenant_id=b6f98b1b-1b63-4b33-90a7-b50a8b84d3d7
time=2026-01-06T19:57:27.848-03:00 level=INFO msg="scene created" scene_id=b441e2b7-9e87-4667-8d66-01e64201bf4d story_id=7504c6fe-0b3a-46d2-9d5d-d28a474b2607 tenant_id=b6f98b1b-1b63-4b33-90a7-b50a8b84d3d7
time=2026-01-06T19:57:27.849-03:00 level=INFO msg="scene created" scene_id=a6f15435-e6e1-4d8d-b191-8b728bff8659 story_id=7504c6fe-0b3a-46d2-9d5d-d28a474b2607 tenant_id=b6f98b1b-1b63-4b33-90a7-b50a8b84d3d7
=== RUN   TestSceneHandler_List/list_scenes
--- PASS: TestSceneHandler_List (0.17s)
    --- PASS: TestSceneHandler_List/list_scenes (0.00s)
=== RUN   TestSceneHandler_Update
time=2026-01-06T19:57:28.015-03:00 level=INFO msg="tenant created" tenant_id=6fba5c65-4cc1-4c11-942e-884aa64093bd name="Test Tenant"
time=2026-01-06T19:57:28.018-03:00 level=INFO msg="world created" world_id=28d03d6f-99f9-45fe-8270-6dc8d33fdd2e name="World of Test Story" tenant_id=6fba5c65-4cc1-4c11-942e-884aa64093bd
time=2026-01-06T19:57:28.018-03:00 level=INFO msg="created implicit world for story" world_id=28d03d6f-99f9-45fe-8270-6dc8d33fdd2e story_title="Test Story"
time=2026-01-06T19:57:28.019-03:00 level=INFO msg="story created" story_id=7fdbfbfa-3790-40fa-8f53-445f823c4204 title="Test Story" tenant_id=6fba5c65-4cc1-4c11-942e-884aa64093bd
time=2026-01-06T19:57:28.020-03:00 level=INFO msg="scene created" scene_id=1a25ce42-0bf5-448e-bee0-47db8264cdb6 story_id=7fdbfbfa-3790-40fa-8f53-445f823c4204 tenant_id=6fba5c65-4cc1-4c11-942e-884aa64093bd
=== RUN   TestSceneHandler_Update/update_scene_goal
time=2026-01-06T19:57:28.021-03:00 level=INFO msg="scene updated" scene_id=1a25ce42-0bf5-448e-bee0-47db8264cdb6 tenant_id=6fba5c65-4cc1-4c11-942e-884aa64093bd
=== RUN   TestSceneHandler_Update/non-existing_scene
--- PASS: TestSceneHandler_Update (0.17s)
    --- PASS: TestSceneHandler_Update/update_scene_goal (0.00s)
    --- PASS: TestSceneHandler_Update/non-existing_scene (0.00s)
=== RUN   TestSceneHandler_Delete
time=2026-01-06T19:57:28.191-03:00 level=INFO msg="tenant created" tenant_id=1670c5c0-f8be-472f-991d-d8c513c99394 name="Test Tenant"
time=2026-01-06T19:57:28.193-03:00 level=INFO msg="world created" world_id=acae42db-e34f-4ecb-802f-65ebd653bed6 name="World of Test Story" tenant_id=1670c5c0-f8be-472f-991d-d8c513c99394
time=2026-01-06T19:57:28.193-03:00 level=INFO msg="created implicit world for story" world_id=acae42db-e34f-4ecb-802f-65ebd653bed6 story_title="Test Story"
time=2026-01-06T19:57:28.194-03:00 level=INFO msg="story created" story_id=f0324201-308d-4c1a-b611-cce31ff75dad title="Test Story" tenant_id=1670c5c0-f8be-472f-991d-d8c513c99394
time=2026-01-06T19:57:28.195-03:00 level=INFO msg="scene created" scene_id=1accbbf9-0c83-4a07-8d66-2de931ce288e story_id=f0324201-308d-4c1a-b611-cce31ff75dad tenant_id=1670c5c0-f8be-472f-991d-d8c513c99394
=== RUN   TestSceneHandler_Delete/delete_existing_scene
time=2026-01-06T19:57:28.196-03:00 level=INFO msg="scene deleted" scene_id=1accbbf9-0c83-4a07-8d66-2de931ce288e tenant_id=1670c5c0-f8be-472f-991d-d8c513c99394
time=2026-01-06T19:57:28.196-03:00 level=ERROR msg="failed to get scene" error="scene not found: 1accbbf9-0c83-4a07-8d66-2de931ce288e" scene_id=1accbbf9-0c83-4a07-8d66-2de931ce288e tenant_id=1670c5c0-f8be-472f-991d-d8c513c99394
=== RUN   TestSceneHandler_Delete/delete_non-existing_scene
--- PASS: TestSceneHandler_Delete (0.17s)
    --- PASS: TestSceneHandler_Delete/delete_existing_scene (0.00s)
    --- PASS: TestSceneHandler_Delete/delete_non-existing_scene (0.00s)
=== RUN   TestSkillHandler_Create
time=2026-01-06T19:57:28.389-03:00 level=INFO msg="tenant created" tenant_id=de166269-c026-4652-98a8-e09708039099 name="Test Tenant"
time=2026-01-06T19:57:28.391-03:00 level=INFO msg="RPG system created" rpg_system_id=6e81e8e5-b1ad-4ee1-8e8c-8b0d7fa5b054 name="Test RPG System"
=== RUN   TestSkillHandler_Create/successful_creation
time=2026-01-06T19:57:28.392-03:00 level=INFO msg="skill created" skill_id=4e80c474-fd31-4336-bfc2-08dc8e0f08cc name="Test Skill"
=== RUN   TestSkillHandler_Create/missing_tenant_id
--- PASS: TestSkillHandler_Create (0.20s)
    --- PASS: TestSkillHandler_Create/successful_creation (0.00s)
    --- PASS: TestSkillHandler_Create/missing_tenant_id (0.00s)
=== RUN   TestSkillHandler_Get
time=2026-01-06T19:57:28.568-03:00 level=INFO msg="tenant created" tenant_id=2cac0855-d31f-46e2-bb25-678730793f27 name="Test Tenant"
time=2026-01-06T19:57:28.569-03:00 level=INFO msg="RPG system created" rpg_system_id=811705cc-0287-4cbb-ac69-f2045a271418 name="Test RPG System"
time=2026-01-06T19:57:28.570-03:00 level=INFO msg="skill created" skill_id=8130e73e-5cbc-4ae5-9441-e969fde9effc name="Get Test Skill"
=== RUN   TestSkillHandler_Get/existing_skill
=== RUN   TestSkillHandler_Get/non-existing_skill
time=2026-01-06T19:57:28.571-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Get (0.18s)
    --- PASS: TestSkillHandler_Get/existing_skill (0.00s)
    --- PASS: TestSkillHandler_Get/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_List
time=2026-01-06T19:57:28.734-03:00 level=INFO msg="tenant created" tenant_id=8305590d-3bbf-4b9a-97f8-d4552c59360d name="Test Tenant"
time=2026-01-06T19:57:28.735-03:00 level=INFO msg="RPG system created" rpg_system_id=57c50f72-1607-4912-8996-7e287bd15c5f name="Test RPG System"
time=2026-01-06T19:57:28.736-03:00 level=INFO msg="skill created" skill_id=15c01462-c5e2-439d-82af-c355c76aa4ab name="Skill 1"
time=2026-01-06T19:57:28.737-03:00 level=INFO msg="skill created" skill_id=b3c3729a-9dbd-4e0c-aa43-bd445bb08d2b name="Skill 2"
time=2026-01-06T19:57:28.737-03:00 level=INFO msg="skill created" skill_id=4e4d7526-5675-4171-826e-2629a156f92d name="Skill 3"
=== RUN   TestSkillHandler_List/list_skills
--- PASS: TestSkillHandler_List (0.16s)
    --- PASS: TestSkillHandler_List/list_skills (0.00s)
=== RUN   TestSkillHandler_Update
time=2026-01-06T19:57:28.890-03:00 level=INFO msg="tenant created" tenant_id=c1ee5564-fa88-44ae-931e-f4a9c9ec9aaf name="Test Tenant"
time=2026-01-06T19:57:28.891-03:00 level=INFO msg="RPG system created" rpg_system_id=c981a72b-3247-4ab4-94ba-a614251dbd9f name="Test RPG System"
time=2026-01-06T19:57:28.892-03:00 level=INFO msg="skill created" skill_id=88e350f8-5af4-4b6a-a68b-55d0e2f06dfb name="Original Skill"
=== RUN   TestSkillHandler_Update/update_skill_name
time=2026-01-06T19:57:28.893-03:00 level=INFO msg="skill updated" skill_id=88e350f8-5af4-4b6a-a68b-55d0e2f06dfb
=== RUN   TestSkillHandler_Update/non-existing_skill
--- PASS: TestSkillHandler_Update (0.16s)
    --- PASS: TestSkillHandler_Update/update_skill_name (0.00s)
    --- PASS: TestSkillHandler_Update/non-existing_skill (0.00s)
=== RUN   TestSkillHandler_Delete
time=2026-01-06T19:57:29.250-03:00 level=INFO msg="tenant created" tenant_id=d02e6fe9-9355-4e05-9b55-b9505d686c86 name="Test Tenant"
time=2026-01-06T19:57:29.251-03:00 level=INFO msg="RPG system created" rpg_system_id=b3bad57d-a264-4b59-8c28-74441b673c09 name="Test RPG System"
time=2026-01-06T19:57:29.253-03:00 level=INFO msg="skill created" skill_id=fbf013b1-ad12-4d40-896d-f1f496450003 name="Skill to Delete"
=== RUN   TestSkillHandler_Delete/delete_existing_skill
time=2026-01-06T19:57:29.254-03:00 level=INFO msg="skill deleted" skill_id=fbf013b1-ad12-4d40-896d-f1f496450003
time=2026-01-06T19:57:29.255-03:00 level=ERROR msg="failed to get skill" error="rpg_skill not found: fbf013b1-ad12-4d40-896d-f1f496450003" skill_id=fbf013b1-ad12-4d40-896d-f1f496450003
=== RUN   TestSkillHandler_Delete/delete_non-existing_skill
time=2026-01-06T19:57:29.255-03:00 level=ERROR msg="failed to delete skill" error="skill not found: 00000000-0000-0000-0000-000000000000" skill_id=00000000-0000-0000-0000-000000000000
--- PASS: TestSkillHandler_Delete (0.39s)
    --- PASS: TestSkillHandler_Delete/delete_existing_skill (0.00s)
    --- PASS: TestSkillHandler_Delete/delete_non-existing_skill (0.00s)
=== RUN   TestStoryHandler_Create
time=2026-01-06T19:57:29.552-03:00 level=INFO msg="tenant created" tenant_id=5367fa59-a878-48ac-bc19-82b39a1799e2 name="Test Tenant"
=== RUN   TestStoryHandler_Create/successful_creation
time=2026-01-06T19:57:29.553-03:00 level=INFO msg="world created" world_id=9271b87a-1dc6-47d7-8768-078466c3d3dc name="World of Test Story" tenant_id=5367fa59-a878-48ac-bc19-82b39a1799e2
time=2026-01-06T19:57:29.553-03:00 level=INFO msg="created implicit world for story" world_id=9271b87a-1dc6-47d7-8768-078466c3d3dc story_title="Test Story"
time=2026-01-06T19:57:29.555-03:00 level=INFO msg="story created" story_id=db82d845-e63b-4bca-931e-c61ecd0c82b0 title="Test Story" tenant_id=5367fa59-a878-48ac-bc19-82b39a1799e2
=== RUN   TestStoryHandler_Create/missing_tenant_id
=== RUN   TestStoryHandler_Create/empty_title
--- PASS: TestStoryHandler_Create (0.27s)
    --- PASS: TestStoryHandler_Create/successful_creation (0.00s)
    --- PASS: TestStoryHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestStoryHandler_Create/empty_title (0.00s)
=== RUN   TestStoryHandler_Get
time=2026-01-06T19:57:29.796-03:00 level=INFO msg="tenant created" tenant_id=5d7bdfac-d03d-49fd-b221-070f4aaa680c name="Test Tenant"
time=2026-01-06T19:57:29.798-03:00 level=INFO msg="world created" world_id=bca11f56-20f6-435e-8a9c-45e2fb21fb85 name="World of Get Test Story" tenant_id=5d7bdfac-d03d-49fd-b221-070f4aaa680c
time=2026-01-06T19:57:29.798-03:00 level=INFO msg="created implicit world for story" world_id=bca11f56-20f6-435e-8a9c-45e2fb21fb85 story_title="Get Test Story"
time=2026-01-06T19:57:29.799-03:00 level=INFO msg="story created" story_id=f0b54ddc-372d-4fda-9674-3617112f5bb7 title="Get Test Story" tenant_id=5d7bdfac-d03d-49fd-b221-070f4aaa680c
=== RUN   TestStoryHandler_Get/existing_story
=== RUN   TestStoryHandler_Get/non-existing_story
time=2026-01-06T19:57:29.800-03:00 level=ERROR msg="failed to get story" error="story not found: 00000000-0000-0000-0000-000000000000" story_id=00000000-0000-0000-0000-000000000000 tenant_id=5d7bdfac-d03d-49fd-b221-070f4aaa680c
--- PASS: TestStoryHandler_Get (0.25s)
    --- PASS: TestStoryHandler_Get/existing_story (0.00s)
    --- PASS: TestStoryHandler_Get/non-existing_story (0.00s)
=== RUN   TestStoryHandler_List
time=2026-01-06T19:57:29.954-03:00 level=INFO msg="tenant created" tenant_id=345332a2-7b55-4114-93b3-44a23a9b57a9 name="Test Tenant"
time=2026-01-06T19:57:29.955-03:00 level=INFO msg="world created" world_id=1c905624-02e9-40ca-b4fa-42f5993fbc24 name="World of Story 1" tenant_id=345332a2-7b55-4114-93b3-44a23a9b57a9
time=2026-01-06T19:57:29.955-03:00 level=INFO msg="created implicit world for story" world_id=1c905624-02e9-40ca-b4fa-42f5993fbc24 story_title="Story 1"
time=2026-01-06T19:57:29.957-03:00 level=INFO msg="story created" story_id=fc98ddac-434c-43dd-9b9a-1141b7e46123 title="Story 1" tenant_id=345332a2-7b55-4114-93b3-44a23a9b57a9
time=2026-01-06T19:57:29.957-03:00 level=INFO msg="world created" world_id=2cb75722-788f-4ddb-9575-a490a93aab30 name="World of Story 2" tenant_id=345332a2-7b55-4114-93b3-44a23a9b57a9
time=2026-01-06T19:57:29.957-03:00 level=INFO msg="created implicit world for story" world_id=2cb75722-788f-4ddb-9575-a490a93aab30 story_title="Story 2"
time=2026-01-06T19:57:29.958-03:00 level=INFO msg="story created" story_id=452fd2fa-a95d-4581-b386-ba01685ccbdb title="Story 2" tenant_id=345332a2-7b55-4114-93b3-44a23a9b57a9
time=2026-01-06T19:57:29.959-03:00 level=INFO msg="world created" world_id=380aaa20-691f-4bc7-b88a-edcad925b31f name="World of Story 3" tenant_id=345332a2-7b55-4114-93b3-44a23a9b57a9
time=2026-01-06T19:57:29.959-03:00 level=INFO msg="created implicit world for story" world_id=380aaa20-691f-4bc7-b88a-edcad925b31f story_title="Story 3"
time=2026-01-06T19:57:29.959-03:00 level=INFO msg="story created" story_id=cb91a0c2-1d01-47ba-9937-62423b21d0a8 title="Story 3" tenant_id=345332a2-7b55-4114-93b3-44a23a9b57a9
=== RUN   TestStoryHandler_List/list_stories
=== RUN   TestStoryHandler_List/missing_tenant_id
--- PASS: TestStoryHandler_List (0.16s)
    --- PASS: TestStoryHandler_List/list_stories (0.00s)
    --- PASS: TestStoryHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTenantHandler_Create
=== RUN   TestTenantHandler_Create/successful_creation
time=2026-01-06T19:57:30.108-03:00 level=INFO msg="tenant created" tenant_id=fd83c398-2406-4e10-87a9-61751850e7e2 name="Test Tenant"
=== RUN   TestTenantHandler_Create/duplicate_name
time=2026-01-06T19:57:30.109-03:00 level=INFO msg="tenant created" tenant_id=99af645e-387e-443c-b258-5be668401214 name="Duplicate Tenant"
=== RUN   TestTenantHandler_Create/empty_name
=== RUN   TestTenantHandler_Create/invalid_JSON
--- PASS: TestTenantHandler_Create (0.15s)
    --- PASS: TestTenantHandler_Create/successful_creation (0.00s)
    --- PASS: TestTenantHandler_Create/duplicate_name (0.00s)
    --- PASS: TestTenantHandler_Create/empty_name (0.00s)
    --- PASS: TestTenantHandler_Create/invalid_JSON (0.00s)
=== RUN   TestTenantHandler_Get
time=2026-01-06T19:57:30.259-03:00 level=INFO msg="tenant created" tenant_id=d637d871-e01f-4fe4-8166-5697107b2dce name="Get Test Tenant"
=== RUN   TestTenantHandler_Get/existing_tenant
=== RUN   TestTenantHandler_Get/invalid_UUID
=== RUN   TestTenantHandler_Get/non-existing_tenant
--- PASS: TestTenantHandler_Get (0.15s)
    --- PASS: TestTenantHandler_Get/existing_tenant (0.00s)
    --- PASS: TestTenantHandler_Get/invalid_UUID (0.00s)
    --- PASS: TestTenantHandler_Get/non-existing_tenant (0.00s)
=== RUN   TestTraitHandler_Create
time=2026-01-06T19:57:30.417-03:00 level=INFO msg="tenant created" tenant_id=e672d95c-207c-4e64-9295-8cccfc74bc9c name="Test Tenant"
=== RUN   TestTraitHandler_Create/successful_creation
time=2026-01-06T19:57:30.418-03:00 level=INFO msg="trait created" trait_id=f27e0368-5808-4146-abba-e0347f76a678 name=Brave
=== RUN   TestTraitHandler_Create/missing_tenant_id
=== RUN   TestTraitHandler_Create/empty_name
--- PASS: TestTraitHandler_Create (0.16s)
    --- PASS: TestTraitHandler_Create/successful_creation (0.00s)
    --- PASS: TestTraitHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestTraitHandler_Create/empty_name (0.00s)
=== RUN   TestTraitHandler_Get
time=2026-01-06T19:57:30.562-03:00 level=INFO msg="tenant created" tenant_id=95619db3-79bb-4b03-b2ec-8f44eae3cbff name="Test Tenant"
time=2026-01-06T19:57:30.564-03:00 level=INFO msg="trait created" trait_id=b9777cb9-eda6-4ced-9438-ace0e6ad6c74 name="Get Test Trait"
=== RUN   TestTraitHandler_Get/existing_trait
=== RUN   TestTraitHandler_Get/non-existing_trait
time=2026-01-06T19:57:30.565-03:00 level=ERROR msg="failed to get trait" error="trait not found: 00000000-0000-0000-0000-000000000000" trait_id=00000000-0000-0000-0000-000000000000
=== RUN   TestTraitHandler_Get/invalid_trait_ID
--- PASS: TestTraitHandler_Get (0.15s)
    --- PASS: TestTraitHandler_Get/existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/non-existing_trait (0.00s)
    --- PASS: TestTraitHandler_Get/invalid_trait_ID (0.00s)
=== RUN   TestTraitHandler_List
time=2026-01-06T19:57:30.721-03:00 level=INFO msg="tenant created" tenant_id=30892856-d496-4091-9cae-0a025363bc57 name="Test Tenant"
time=2026-01-06T19:57:30.722-03:00 level=INFO msg="trait created" trait_id=f399eee6-f41e-4c75-9af8-d681924f47d3 name="Trait 1"
time=2026-01-06T19:57:30.723-03:00 level=INFO msg="trait created" trait_id=1af10b5b-43aa-4cf4-a0f1-f31bf58ad4a2 name="Trait 2"
time=2026-01-06T19:57:30.724-03:00 level=INFO msg="trait created" trait_id=4c97f5c7-d01c-4080-ad16-a0f135578368 name="Trait 3"
=== RUN   TestTraitHandler_List/list_traits
=== RUN   TestTraitHandler_List/missing_tenant_id
--- PASS: TestTraitHandler_List (0.16s)
    --- PASS: TestTraitHandler_List/list_traits (0.00s)
    --- PASS: TestTraitHandler_List/missing_tenant_id (0.00s)
=== RUN   TestTraitHandler_Update
time=2026-01-06T19:57:30.877-03:00 level=INFO msg="tenant created" tenant_id=b1f79787-d0cd-43f9-832e-b8126dea3f8a name="Test Tenant"
time=2026-01-06T19:57:30.878-03:00 level=INFO msg="trait created" trait_id=c555f844-37be-4154-b8d9-1bcade0d61c9 name="Original Trait"
=== RUN   TestTraitHandler_Update/update_trait_name
time=2026-01-06T19:57:30.879-03:00 level=INFO msg="trait updated" trait_id=c555f844-37be-4154-b8d9-1bcade0d61c9 name="Updated Trait"
=== RUN   TestTraitHandler_Update/non-existing_trait
--- PASS: TestTraitHandler_Update (0.24s)
    --- PASS: TestTraitHandler_Update/update_trait_name (0.00s)
    --- PASS: TestTraitHandler_Update/non-existing_trait (0.00s)
=== RUN   TestTraitHandler_Delete
time=2026-01-06T19:57:31.120-03:00 level=INFO msg="tenant created" tenant_id=4ff50d05-db78-454c-9ae1-3d2da2d66ed2 name="Test Tenant"
time=2026-01-06T19:57:31.121-03:00 level=INFO msg="trait created" trait_id=a08b66f7-d3be-4356-9b4c-d4276affb5ae name="Trait to Delete"
=== RUN   TestTraitHandler_Delete/delete_existing_trait
time=2026-01-06T19:57:31.122-03:00 level=INFO msg="trait deleted" trait_id=a08b66f7-d3be-4356-9b4c-d4276affb5ae name="Trait to Delete"
time=2026-01-06T19:57:31.122-03:00 level=ERROR msg="failed to get trait" error="trait not found: a08b66f7-d3be-4356-9b4c-d4276affb5ae" trait_id=a08b66f7-d3be-4356-9b4c-d4276affb5ae
=== RUN   TestTraitHandler_Delete/delete_non-existing_trait
--- PASS: TestTraitHandler_Delete (0.16s)
    --- PASS: TestTraitHandler_Delete/delete_existing_trait (0.00s)
    --- PASS: TestTraitHandler_Delete/delete_non-existing_trait (0.00s)
=== RUN   TestWorldHandler_Create
time=2026-01-06T19:57:31.273-03:00 level=INFO msg="tenant created" tenant_id=757fc7b5-bad9-4628-a772-692a5bf1d0e9 name="Test Tenant"
=== RUN   TestWorldHandler_Create/successful_creation
time=2026-01-06T19:57:31.274-03:00 level=INFO msg="world created" world_id=6bd2efd0-46d8-45d6-99d8-2d635ff792a8 name="Test World" tenant_id=757fc7b5-bad9-4628-a772-692a5bf1d0e9
=== RUN   TestWorldHandler_Create/missing_tenant_id
=== RUN   TestWorldHandler_Create/empty_name
--- PASS: TestWorldHandler_Create (0.15s)
    --- PASS: TestWorldHandler_Create/successful_creation (0.00s)
    --- PASS: TestWorldHandler_Create/missing_tenant_id (0.00s)
    --- PASS: TestWorldHandler_Create/empty_name (0.00s)
=== RUN   TestWorldHandler_Get
time=2026-01-06T19:57:31.437-03:00 level=INFO msg="tenant created" tenant_id=e75b3434-4119-4fcf-9478-4ea35c737b59 name="Test Tenant"
time=2026-01-06T19:57:31.438-03:00 level=INFO msg="world created" world_id=db7167a3-b47c-4e24-98c3-b038c1c4c505 name="Get Test World" tenant_id=e75b3434-4119-4fcf-9478-4ea35c737b59
=== RUN   TestWorldHandler_Get/existing_world
=== RUN   TestWorldHandler_Get/non-existing_world
time=2026-01-06T19:57:31.439-03:00 level=ERROR msg="failed to get world" error="world not found: 00000000-0000-0000-0000-000000000000" world_id=00000000-0000-0000-0000-000000000000
=== RUN   TestWorldHandler_Get/invalid_world_ID
--- PASS: TestWorldHandler_Get (0.17s)
    --- PASS: TestWorldHandler_Get/existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/non-existing_world (0.00s)
    --- PASS: TestWorldHandler_Get/invalid_world_ID (0.00s)
=== RUN   TestWorldHandler_List
time=2026-01-06T19:57:31.596-03:00 level=INFO msg="tenant created" tenant_id=257f537a-b8ae-4658-a934-8e51b190855e name="Test Tenant"
time=2026-01-06T19:57:31.597-03:00 level=INFO msg="world created" world_id=5ad20930-53ac-47b1-bb3c-60b9f5fdb10f name="World 1" tenant_id=257f537a-b8ae-4658-a934-8e51b190855e
time=2026-01-06T19:57:31.598-03:00 level=INFO msg="world created" world_id=027f0272-b505-4f93-abb0-ea8568648131 name="World 2" tenant_id=257f537a-b8ae-4658-a934-8e51b190855e
time=2026-01-06T19:57:31.599-03:00 level=INFO msg="world created" world_id=211a833d-f84c-46ef-be01-168491485409 name="World 3" tenant_id=257f537a-b8ae-4658-a934-8e51b190855e
=== RUN   TestWorldHandler_List/list_worlds
=== RUN   TestWorldHandler_List/missing_tenant_id
--- PASS: TestWorldHandler_List (0.16s)
    --- PASS: TestWorldHandler_List/list_worlds (0.00s)
    --- PASS: TestWorldHandler_List/missing_tenant_id (0.00s)
=== RUN   TestWorldHandler_Update
time=2026-01-06T19:57:31.788-03:00 level=INFO msg="tenant created" tenant_id=2ba0c665-e811-4343-9880-4ef0cffe2ace name="Test Tenant"
time=2026-01-06T19:57:31.789-03:00 level=INFO msg="world created" world_id=4e4de04b-53c9-42ad-a8df-73965e51edf7 name="Original World" tenant_id=2ba0c665-e811-4343-9880-4ef0cffe2ace
=== RUN   TestWorldHandler_Update/update_world_name
time=2026-01-06T19:57:31.791-03:00 level=INFO msg="world updated" world_id=4e4de04b-53c9-42ad-a8df-73965e51edf7 name="Updated World"
=== RUN   TestWorldHandler_Update/non-existing_world
--- PASS: TestWorldHandler_Update (0.19s)
    --- PASS: TestWorldHandler_Update/update_world_name (0.00s)
    --- PASS: TestWorldHandler_Update/non-existing_world (0.00s)
=== RUN   TestWorldHandler_Delete
time=2026-01-06T19:57:31.959-03:00 level=INFO msg="tenant created" tenant_id=40cb04a9-0ca9-4649-abbf-980dbeee175e name="Test Tenant"
time=2026-01-06T19:57:31.960-03:00 level=INFO msg="world created" world_id=99aba866-ceab-4889-8a83-7430d01a24c0 name="World to Delete" tenant_id=40cb04a9-0ca9-4649-abbf-980dbeee175e
=== RUN   TestWorldHandler_Delete/delete_existing_world
time=2026-01-06T19:57:31.963-03:00 level=INFO msg="world deleted" world_id=99aba866-ceab-4889-8a83-7430d01a24c0 name="World to Delete"
time=2026-01-06T19:57:31.964-03:00 level=ERROR msg="failed to get world" error="world not found: 99aba866-ceab-4889-8a83-7430d01a24c0" world_id=99aba866-ceab-4889-8a83-7430d01a24c0
=== RUN   TestWorldHandler_Delete/delete_non-existing_world
--- PASS: TestWorldHandler_Delete (0.17s)
    --- PASS: TestWorldHandler_Delete/delete_existing_world (0.00s)
    --- PASS: TestWorldHandler_Delete/delete_non-existing_world (0.00s)
PASS
ok  	github.com/story-engine/main-service/internal/transport/http/handlers	17.655s
?   	github.com/story-engine/main-service/internal/transport/http/middleware	[no test files]
?   	github.com/story-engine/main-service/proto/archetype	[no test files]
?   	github.com/story-engine/main-service/proto/artifact	[no test files]
?   	github.com/story-engine/main-service/proto/artifact_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/beat	[no test files]
?   	github.com/story-engine/main-service/proto/chapter	[no test files]
?   	github.com/story-engine/main-service/proto/character	[no test files]
?   	github.com/story-engine/main-service/proto/character_rpg_stats	[no test files]
?   	github.com/story-engine/main-service/proto/character_skill	[no test files]
?   	github.com/story-engine/main-service/proto/common	[no test files]
?   	github.com/story-engine/main-service/proto/content_block	[no test files]
?   	github.com/story-engine/main-service/proto/event	[no test files]
?   	github.com/story-engine/main-service/proto/faction	[no test files]
?   	github.com/story-engine/main-service/proto/inventory	[no test files]
?   	github.com/story-engine/main-service/proto/location	[no test files]
?   	github.com/story-engine/main-service/proto/lore	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_class	[no test files]
?   	github.com/story-engine/main-service/proto/rpg_system	[no test files]
?   	github.com/story-engine/main-service/proto/scene	[no test files]
?   	github.com/story-engine/main-service/proto/skill	[no test files]
?   	github.com/story-engine/main-service/proto/story	[no test files]
?   	github.com/story-engine/main-service/proto/tenant	[no test files]
?   	github.com/story-engine/main-service/proto/trait	[no test files]
?   	github.com/story-engine/main-service/proto/world	[no test files]
